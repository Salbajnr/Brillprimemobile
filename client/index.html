<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Brill Prime - Financial Solutions Platform</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    .animate-spin {
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script>
    const { useState, useEffect } = React;
    
    // Simple router hook
    function useLocation() {
      const [location, setLocation] = useState(window.location.pathname);
      
      useEffect(() => {
        const handlePopState = () => setLocation(window.location.pathname);
        window.addEventListener('popstate', handlePopState);
        return () => window.removeEventListener('popstate', handlePopState);
      }, []);
      
      const navigate = (path) => {
        window.history.pushState({}, '', path);
        setLocation(path);
      };
      
      return [location, navigate];
    }
    
    // Splash Page Component
    function SplashPage({ onNavigate }) {
      useEffect(() => {
        const timer = setTimeout(() => {
          onNavigate('/onboarding');
        }, 3000);
        return () => clearTimeout(timer);
      }, [onNavigate]);
      
      return React.createElement('div', {
        className: "min-h-screen bg-blue-600 flex items-center justify-center"
      }, 
        React.createElement('div', { className: "text-center text-white" },
          React.createElement('div', { 
            className: "w-24 h-24 mx-auto mb-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center"
          }, 
            React.createElement('span', { className: "text-4xl" }, '₦')
          ),
          React.createElement('h1', { className: "text-3xl font-bold mb-2" }, 'Brill Prime'),
          React.createElement('p', { className: "text-blue-100" }, 'Financial Solutions Platform'),
          React.createElement('div', { className: "mt-8" },
            React.createElement('div', { 
              className: "w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin mx-auto"
            })
          )
        )
      );
    }
    
    // Onboarding Page Component
    function OnboardingPage({ onNavigate }) {
      return React.createElement('div', {
        className: "min-h-screen bg-white flex flex-col justify-center items-center p-6"
      },
        React.createElement('div', { className: "max-w-md w-full text-center" },
          React.createElement('div', { 
            className: "w-32 h-32 mx-auto mb-8 bg-blue-100 rounded-full flex items-center justify-center"
          },
            React.createElement('span', { className: "text-6xl" }, '🚀')
          ),
          React.createElement('h1', { className: "text-3xl font-bold text-gray-900 mb-4" }, 
            'Welcome to Brill Prime'
          ),
          React.createElement('p', { className: "text-gray-600 mb-8 leading-relaxed" },
            'Your all-in-one financial solutions platform. Send money, pay bills, manage your business, and drive for earnings - all in one secure app.'
          ),
          React.createElement('div', { className: "space-y-3 mb-8" },
            React.createElement('div', { className: "flex items-center text-sm text-gray-700" },
              React.createElement('span', { 
                className: "w-5 h-5 bg-green-500 rounded-full flex items-center justify-center mr-3"
              },
                React.createElement('span', { className: "text-white text-xs" }, '✓')
              ),
              'Secure transactions with bank-level encryption'
            ),
            React.createElement('div', { className: "flex items-center text-sm text-gray-700" },
              React.createElement('span', { 
                className: "w-5 h-5 bg-green-500 rounded-full flex items-center justify-center mr-3"
              },
                React.createElement('span', { className: "text-white text-xs" }, '✓')
              ),
              'Real-time notifications and tracking'
            ),
            React.createElement('div', { className: "flex items-center text-sm text-gray-700" },
              React.createElement('span', { 
                className: "w-5 h-5 bg-green-500 rounded-full flex items-center justify-center mr-3"
              },
                React.createElement('span', { className: "text-white text-xs" }, '✓')
              ),
              '24/7 customer support'
            )
          ),
          React.createElement('button', {
            onClick: () => onNavigate('/role-selection'),
            className: "w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 transition-colors"
          }, 'Get Started')
        )
      );
    }
    
    // Role Selection Page Component
    function RoleSelectionPage({ onNavigate }) {
      const [selectedRole, setSelectedRole] = useState('');
      
      const roles = [
        {
          id: 'CONSUMER',
          title: 'Consumer', 
          description: 'Send money, pay bills, and manage your finances',
          icon: '👤',
          color: 'bg-blue-500'
        },
        {
          id: 'MERCHANT',
          title: 'Merchant',
          description: 'Accept payments, manage your business, and grow your revenue', 
          icon: '🏪',
          color: 'bg-green-500'
        },
        {
          id: 'DRIVER',
          title: 'Driver',
          description: 'Earn money by delivering goods and providing transport services',
          icon: '🚗', 
          color: 'bg-orange-500'
        }
      ];
      
      const handleContinue = () => {
        if (selectedRole) {
          localStorage.setItem('selectedRole', selectedRole);
          onNavigate('/dashboard');
        }
      };
      
      return React.createElement('div', {
        className: "min-h-screen bg-gray-50 flex flex-col justify-center items-center p-6"
      },
        React.createElement('div', { className: "max-w-md w-full" },
          React.createElement('div', { className: "text-center mb-8" },
            React.createElement('h1', { className: "text-3xl font-bold text-gray-900 mb-2" }, 'Choose Your Role'),
            React.createElement('p', { className: "text-gray-600" }, 'Select how you want to use Brill Prime')
          ),
          React.createElement('div', { className: "space-y-4 mb-8" },
            ...roles.map((role) => 
              React.createElement('button', {
                key: role.id,
                onClick: () => setSelectedRole(role.id),
                className: `w-full p-4 rounded-lg border-2 text-left transition-all ${
                  selectedRole === role.id 
                    ? 'border-blue-500 bg-blue-50' 
                    : 'border-gray-200 bg-white hover:border-gray-300'
                }`
              },
                React.createElement('div', { className: "flex items-center" },
                  React.createElement('div', { 
                    className: `w-12 h-12 ${role.color} rounded-full flex items-center justify-center mr-4`
                  },
                    React.createElement('span', { className: "text-2xl" }, role.icon)
                  ),
                  React.createElement('div', { className: "flex-1" },
                    React.createElement('h3', { className: "font-semibold text-gray-900 mb-1" }, role.title),
                    React.createElement('p', { className: "text-sm text-gray-600" }, role.description)
                  )
                )
              )
            )
          ),
          React.createElement('button', {
            onClick: handleContinue,
            disabled: !selectedRole,
            className: "w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
          }, `Continue as ${selectedRole ? roles.find(r => r.id === selectedRole)?.title : 'Selected Role'}`)
        )
      );
    }
    
    // Dashboard Page Component
    function DashboardPage({ onNavigate }) {
      const [role, setRole] = useState('');
      const [dashboardData, setDashboardData] = useState(null);
      const [loading, setLoading] = useState(true);
      
      useEffect(() => {
        const selectedRole = localStorage.getItem('selectedRole') || 'CONSUMER';
        setRole(selectedRole);
        
        const fetchDashboardData = async () => {
          try {
            const response = await fetch(`/api/dashboard?role=${selectedRole}`);
            const data = await response.json();
            setDashboardData(data);
          } catch (error) {
            console.error('Failed to fetch dashboard data:', error);
          } finally {
            setLoading(false);
          }
        };
        
        fetchDashboardData();
      }, []);
      
      if (loading) {
        return React.createElement('div', {
          className: "min-h-screen bg-gray-50 flex items-center justify-center"
        },
          React.createElement('div', { className: "text-center" },
            React.createElement('div', { 
              className: "w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"
            }),
            React.createElement('p', { className: "text-gray-600" }, 'Loading your dashboard...')
          )
        );
      }
      
      const getRoleIcon = () => {
        switch(role) {
          case 'CONSUMER': return '👤';
          case 'MERCHANT': return '🏪';
          case 'DRIVER': return '🚗';
          default: return '👤';
        }
      };
      
      const getRoleColor = () => {
        switch(role) {
          case 'CONSUMER': return 'bg-blue-500';
          case 'MERCHANT': return 'bg-green-500';
          case 'DRIVER': return 'bg-orange-500';
          default: return 'bg-blue-500';
        }
      };
      
      return React.createElement('div', { className: "min-h-screen bg-gray-50" },
        React.createElement('div', { className: "max-w-md mx-auto bg-white min-h-screen" },
          React.createElement('div', { className: `${getRoleColor()} text-white p-6` },
            React.createElement('div', { className: "flex items-center mb-4" },
              React.createElement('div', { 
                className: "w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center mr-4"
              },
                React.createElement('span', { className: "text-2xl" }, getRoleIcon())
              ),
              React.createElement('div', {},
                React.createElement('h1', { className: "text-2xl font-bold" }, `${role} Dashboard`),
                React.createElement('p', { className: "text-white text-opacity-90" }, 'Welcome to Brill Prime')
              )
            ),
            dashboardData && React.createElement('div', { className: "bg-white bg-opacity-10 rounded-lg p-4" },
              React.createElement('div', { className: "grid grid-cols-2 gap-4" },
                React.createElement('div', {},
                  React.createElement('p', { className: "text-white text-opacity-70 text-sm" },
                    role === 'CONSUMER' ? 'Balance' : role === 'MERCHANT' ? 'Revenue' : 'Earnings'
                  ),
                  React.createElement('p', { className: "text-2xl font-bold" },
                    dashboardData.balance || dashboardData.revenue || dashboardData.earnings
                  )
                ),
                React.createElement('div', {},
                  React.createElement('p', { className: "text-white text-opacity-70 text-sm" },
                    role === 'CONSUMER' ? 'Transactions' : role === 'MERCHANT' ? 'Orders' : 'Trips'
                  ),
                  React.createElement('p', { className: "text-2xl font-bold" },
                    dashboardData.transactions || dashboardData.orders || dashboardData.trips
                  )
                )
              )
            )
          ),
          React.createElement('div', { className: "p-6" },
            React.createElement('h2', { className: "text-lg font-semibold text-gray-900 mb-4" }, 'Quick Actions'),
            React.createElement('div', { className: "space-y-3" },
              dashboardData?.quickActions?.map((action, index) =>
                React.createElement('button', {
                  key: index,
                  className: "w-full p-4 bg-white border border-gray-200 rounded-lg text-left hover:bg-gray-50 transition-colors"
                },
                  React.createElement('span', { className: "font-medium text-gray-900" }, action)
                )
              )
            )
          ),
          React.createElement('div', { className: "p-6" },
            React.createElement('div', { className: "bg-green-50 border border-green-200 rounded-lg p-4" },
              React.createElement('div', { className: "flex items-center" },
                React.createElement('span', { className: "text-green-600 mr-2" }, '✓'),
                React.createElement('span', { className: "text-green-800 font-medium" }, 'All systems operational')
              )
            )
          )
        )
      );
    }
    
    // Main App Component
    function App() {
      const [location, navigate] = useLocation();
      
      const renderPage = () => {
        switch(location) {
          case '/':
            return React.createElement(SplashPage, { onNavigate: navigate });
          case '/onboarding':
            return React.createElement(OnboardingPage, { onNavigate: navigate });
          case '/role-selection':
            return React.createElement(RoleSelectionPage, { onNavigate: navigate });
          case '/dashboard':
            return React.createElement(DashboardPage, { onNavigate: navigate });
          default:
            return React.createElement(SplashPage, { onNavigate: navigate });
        }
      };
      
      return React.createElement('div', { className: "min-h-screen" }, renderPage());
    }
    
    // Mount the app
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(React.createElement(App));
    
    console.log('Brill Prime application loaded successfully');
  </script>
</body>
</html>
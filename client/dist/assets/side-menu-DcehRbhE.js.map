{"version":3,"file":"side-menu-DcehRbhE.js","sources":["../../src/pages/side-menu.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { X, User, Clock, Package, HelpCircle, Info, LogOut, RotateCcw, ChevronRight } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { useAuth } from \"@/hooks/use-auth\";\nimport logo from \"../assets/images/logo.png\";\n\ninterface MenuItem {\n  id: string;\n  title: string;\n  icon: React.ReactNode;\n  route: string;\n  badge?: string;\n}\n\nexport default function SideMenu() {\n  const [, setLocation] = useLocation();\n  const { user, logout } = useAuth();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const menuItems: MenuItem[] = [\n    {\n      id: \"account\",\n      title: \"Account Settings\",\n      icon: <User className=\"w-5 h-5\" />,\n      route: \"/account-settings\"\n    },\n    {\n      id: \"transactions\",\n      title: \"Transaction History\",\n      icon: <Clock className=\"w-5 h-5\" />,\n      route: \"/transactions\",\n      badge: \"3\"\n    },\n    {\n      id: \"orders\",\n      title: \"Order History\",\n      icon: <Package className=\"w-5 h-5\" />,\n      route: \"/order-history\",\n      badge: \"New\"\n    },\n    {\n      id: \"support\",\n      title: \"Support & Help\",\n      icon: <HelpCircle className=\"w-5 h-5\" />,\n      route: \"/support\"\n    },\n    {\n      id: \"about\",\n      title: \"About Brillprime\",\n      icon: <Info className=\"w-5 h-5\" />,\n      route: \"/about\"\n    }\n  ];\n\n  const handleMenuItemClick = (route: string) => {\n    setLocation(route);\n  };\n\n  const handleSwitchToVendor = async () => {\n    setIsLoading(true);\n    \n    // Simulate role switch process\n    await new Promise(resolve => setTimeout(resolve, 1500));\n    \n    // In real app, this would make API call to switch user role\n    console.log(\"Switching to vendor mode...\");\n    \n    setIsLoading(false);\n    setLocation(\"/vendor-dashboard\");\n  };\n\n  const handleSignOut = async () => {\n    setIsLoading(true);\n    \n    try {\n      await logout();\n      setLocation(\"/signin\");\n    } catch (error) {\n      console.error(\"Logout error:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const closeMenu = () => {\n    setLocation(\"/map-home\");\n  };\n\n  const getInitials = (name: string) => {\n    return name.split(\" \").map(n => n[0]).join(\"\").toUpperCase();\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm\">\n      {/* Overlay */}\n      <div className=\"absolute inset-0\" onClick={closeMenu}></div>\n      \n      {/* Sidebar */}\n      <div className=\"absolute left-0 top-0 bottom-0 w-80 bg-white shadow-2xl animate-in slide-in-from-left duration-300\">\n        <div className=\"flex flex-col h-full\">\n          {/* Header */}\n          <div className=\"bg-gradient-to-r from-[#4682b4] to-[#0b1a51] p-6 text-white\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div className=\"flex items-center space-x-2\">\n                <img src={logo} alt=\"Brillprime\" className=\"w-8 h-8\" />\n                <span className=\"font-semibold\">Brillprime</span>\n              </div>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={closeMenu}\n                className=\"text-white hover:bg-white/20\"\n              >\n                <X className=\"w-5 h-5\" />\n              </Button>\n            </div>\n            \n            {/* User Profile Section */}\n            <div className=\"flex items-center space-x-3\">\n              <Avatar className=\"w-12 h-12 border-2 border-white/20\">\n                <AvatarImage src={user?.profileImageUrl} alt={user?.fullName} />\n                <AvatarFallback className=\"bg-white/20 text-white font-semibold\">\n                  {user ? getInitials(user.fullName) : \"U\"}\n                </AvatarFallback>\n              </Avatar>\n              <div className=\"flex-1\">\n                <h3 className=\"font-semibold\">{user?.fullName || \"User\"}</h3>\n                <p className=\"text-white/80 text-sm\">{user?.email || \"user@example.com\"}</p>\n                <Badge className=\"bg-white/20 text-white border-white/30 text-xs mt-1\">\n                  {user?.role || \"CONSUMER\"}\n                </Badge>\n              </div>\n            </div>\n          </div>\n\n          {/* Menu Items */}\n          <div className=\"flex-1 overflow-y-auto\">\n            <div className=\"p-4 space-y-2\">\n              {menuItems.map((item) => (\n                <Card\n                  key={item.id}\n                  className=\"cursor-pointer transition-colors hover:bg-gray-50 border-0 shadow-none\"\n                  onClick={() => handleMenuItemClick(item.route)}\n                >\n                  <CardContent className=\"p-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-3\">\n                        <div className=\"text-[#4682b4]\">{item.icon}</div>\n                        <span className=\"font-medium text-[#131313]\">{item.title}</span>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        {item.badge && (\n                          <Badge \n                            className={`text-xs ${\n                              item.badge === \"New\" ? \"bg-green-100 text-green-800\" : \"bg-blue-100 text-blue-800\"\n                            }`}\n                          >\n                            {item.badge}\n                          </Badge>\n                        )}\n                        <ChevronRight className=\"w-4 h-4 text-gray-400\" />\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n\n            {/* Quick Actions */}\n            <div className=\"px-4 py-2\">\n              <h4 className=\"text-sm font-semibold text-gray-600 mb-3 uppercase tracking-wide\">\n                Quick Actions\n              </h4>\n              <div className=\"space-y-2\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => handleMenuItemClick(\"/consumer-home\")}\n                  className=\"w-full justify-start border-[#4682b4]/30 text-[#4682b4] hover:bg-[#4682b4]/10\"\n                >\n                  <User className=\"w-4 h-4 mr-3\" />\n                  Go to Dashboard\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  onClick={() => handleMenuItemClick(\"/profile\")}\n                  className=\"w-full justify-start border-[#4682b4]/30 text-[#4682b4] hover:bg-[#4682b4]/10\"\n                >\n                  <User className=\"w-4 h-4 mr-3\" />\n                  Edit Profile\n                </Button>\n              </div>\n            </div>\n          </div>\n\n          {/* Bottom Actions */}\n          <div className=\"border-t bg-gray-50 p-4 space-y-3\">\n            {/* Switch to Vendor */}\n            {user?.role === \"CONSUMER\" && (\n              <Button\n                variant=\"outline\"\n                onClick={handleSwitchToVendor}\n                disabled={isLoading}\n                className=\"w-full justify-start border-orange-300 text-orange-600 hover:bg-orange-50\"\n              >\n                <RotateCcw className=\"w-4 h-4 mr-3\" />\n                {isLoading ? \"Switching...\" : \"Switch to Vendor Mode\"}\n              </Button>\n            )}\n\n            {/* Sign Out */}\n            <Button\n              variant=\"outline\"\n              onClick={handleSignOut}\n              disabled={isLoading}\n              className=\"w-full justify-start border-red-300 text-red-600 hover:bg-red-50\"\n            >\n              <LogOut className=\"w-4 h-4 mr-3\" />\n              {isLoading ? \"Signing Out...\" : \"Sign Out\"}\n            </Button>\n\n            {/* App Version */}\n            <div className=\"text-center text-xs text-gray-500 pt-2\">\n              Brillprime v1.0.0\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":["SideMenu","setLocation","useLocation","user","logout","useAuth","isLoading","setIsLoading","useState","menuItems","jsx","User","Clock","Package","HelpCircle","Info","handleMenuItemClick","route","handleSwitchToVendor","resolve","handleSignOut","error","closeMenu","getInitials","name","n","jsxs","logo","Button","X","Avatar","AvatarImage","AvatarFallback","Badge","item","Card","CardContent","ChevronRight","RotateCcw","LogOut"],"mappings":"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"}
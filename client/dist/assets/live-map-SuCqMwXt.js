import{r as h,j as e,m as p,n as f,g as N,V as b,O as v,k as w,N as M}from"./index-CVqmz7v7.js";function k({driverLocation:s,customerLocation:t,merchantLocation:u,orderId:d,className:j=""}){const[l,g]=h.useState({latitude:(s==null?void 0:s.latitude)||6.5244,longitude:(s==null?void 0:s.longitude)||3.3792}),c=(a,n)=>{const i=(n.latitude-a.latitude)*Math.PI/180,m=(n.longitude-a.longitude)*Math.PI/180,r=Math.sin(i/2)*Math.sin(i/2)+Math.cos(a.latitude*Math.PI/180)*Math.cos(n.latitude*Math.PI/180)*Math.sin(m/2)*Math.sin(m/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},o=a=>{const x=a/30;return`${Math.round(x*60)} min`};return h.useEffect(()=>{s&&g({latitude:s.latitude,longitude:s.longitude})},[s]),e.jsx(p,{className:`overflow-hidden ${j}`,children:e.jsxs(f,{className:"p-0",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"Live Tracking"}),d&&e.jsxs("span",{className:"text-sm text-gray-600",children:["Order #",d.slice(-6)]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-blue-600",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx("span",{children:"Real-time"})]})]}),e.jsxs("div",{className:"relative h-64 bg-gradient-to-br from-blue-100 to-blue-200",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4 p-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx(v,{className:"h-8 w-8 text-white"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Driver Location"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[l.latitude.toFixed(4),", ",l.longitude.toFixed(4)]})]})]})}),s&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full shadow-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium",children:"Driver"})]})}),t&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full shadow-sm",children:[e.jsx(w,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Customer"})]})}),u&&e.jsx("div",{className:"absolute bottom-4 left-4",children:e.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full shadow-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium",children:"Merchant"})]})}),s&&t&&e.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"routeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:"0.8"}),e.jsx("stop",{offset:"100%",stopColor:"#10B981",stopOpacity:"0.8"})]})}),e.jsx("path",{d:"M 50 50 Q 150 100 200 150",stroke:"url(#routeGradient)",strokeWidth:"3",fill:"none",strokeDasharray:"5,5",className:"animate-pulse"})]})]}),e.jsx("div",{className:"p-3 bg-white border-t",children:e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4 text-blue-500"}),e.jsxs("span",{className:"font-medium",children:[l.latitude.toFixed(4),", ",l.longitude.toFixed(4)]})]}),s&&t&&e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium text-green-600",children:[o(c(s,t))," away"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[c(s,t).toFixed(1)," km"]})]})]})})]})})}export{k as L};
//# sourceMappingURL=live-map-SuCqMwXt.js.map

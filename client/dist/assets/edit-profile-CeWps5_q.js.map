{"version":3,"file":"edit-profile-CeWps5_q.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/save.js","../../src/pages/edit-profile.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Save = createLucideIcon(\"Save\", [\n  [\n    \"path\",\n    {\n      d: \"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\",\n      key: \"1c8476\"\n    }\n  ],\n  [\"path\", { d: \"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\", key: \"1ydtos\" }],\n  [\"path\", { d: \"M7 3v4a1 1 0 0 0 1 1h7\", key: \"t51u73\" }]\n]);\n\nexport { Save as default };\n//# sourceMappingURL=save.js.map\n","import { useState } from \"react\";\nimport { ArrowLeft, Save, MapPin, Phone, Mail, User } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { useAuth } from \"@/hooks/use-auth\";\nimport { useLocation } from \"wouter\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { NotificationModal } from \"@/components/ui/notification-modal\";\nimport { LoadingButton } from \"@/components/ui/loading-button\";\nimport { ImagePicker } from \"@/components/ui/image-picker\";\nimport accountCircleIcon from \"../assets/images/account_circle.svg\";\nimport cameraIcon from \"../assets/images/camera_icon.png\";\n\ninterface ProfileFormData {\n  fullName: string;\n  email: string;\n  phone: string;\n  address: string;\n  city: string;\n  state: string;\n  country: string;\n  bio: string;\n  profilePicture?: File | null;\n}\n\nconst nigerianStates = [\n  \"Abia\", \"Adamawa\", \"Akwa Ibom\", \"Anambra\", \"Bauchi\", \"Bayelsa\", \"Benue\", \"Borno\",\n  \"Cross River\", \"Delta\", \"Ebonyi\", \"Edo\", \"Ekiti\", \"Enugu\", \"FCT\", \"Gombe\", \"Imo\",\n  \"Jigawa\", \"Kaduna\", \"Kano\", \"Katsina\", \"Kebbi\", \"Kogi\", \"Kwara\", \"Lagos\", \"Nasarawa\",\n  \"Niger\", \"Ogun\", \"Ondo\", \"Osun\", \"Oyo\", \"Plateau\", \"Rivers\", \"Sokoto\", \"Taraba\",\n  \"Yobe\", \"Zamfara\"\n];\n\nexport default function EditProfilePage() {\n  const { user, updateUser } = useAuth();\n  const [, setLocation] = useLocation();\n  \n  const [formData, setFormData] = useState<ProfileFormData>({\n    fullName: user?.fullName || \"\",\n    email: user?.email || \"\",\n    phone: user?.phone || \"\",\n    address: user?.address || \"\",\n    city: user?.city || \"\",\n    state: user?.state || \"\",\n    country: user?.country || \"Nigeria\",\n    bio: user?.bio || \"\",\n    profilePicture: null,\n  });\n\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [showErrorModal, setShowErrorModal] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const updateProfileMutation = useMutation({\n    mutationFn: async (data: ProfileFormData) => {\n      // Simulate API call with profile picture handling\n      if (data.profilePicture) {\n        // In a real app, you would upload the image to a storage service\n        // For now, we'll create a data URL for preview\n        const reader = new FileReader();\n        return new Promise((resolve) => {\n          reader.onload = () => {\n            const imageUrl = reader.result as string;\n            setTimeout(() => resolve({ success: true, imageUrl }), 1500);\n          };\n          reader.readAsDataURL(data.profilePicture);\n        });\n      } else {\n        return new Promise((resolve) => {\n          setTimeout(() => resolve({ success: true }), 1500);\n        });\n      }\n    },\n    onSuccess: (result: any) => {\n      // Update user in auth context with new profile data\n      const updatedProfile: any = {\n        fullName: formData.fullName,\n        email: formData.email,\n        phone: formData.phone,\n        address: formData.address,\n        city: formData.city,\n        state: formData.state,\n        country: formData.country,\n        bio: formData.bio,\n      };\n\n      if (result.imageUrl) {\n        updatedProfile.profilePicture = result.imageUrl;\n      }\n\n      updateUser(updatedProfile);\n      setShowSuccessModal(true);\n    },\n    onError: (error: any) => {\n      setErrorMessage(error.message || \"Failed to update profile. Please try again.\");\n      setShowErrorModal(true);\n    },\n  });\n\n  const handleInputChange = (field: keyof ProfileFormData, value: string) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    updateProfileMutation.mutate(formData);\n  };\n\n\n\n  return (\n    <div className=\"w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl mx-auto min-h-screen bg-white px-2 sm:px-4\">{/*Responsive container*/}\n      {/* Header */}\n      <div className=\"flex items-center justify-between p-6 pt-12 border-b border-gray-100\">\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={() => setLocation(\"/profile\")}\n          className=\"p-2\"\n        >\n          <ArrowLeft className=\"h-5 w-5 text-[var(--brill-primary)]\" />\n        </Button>\n        <h1 className=\"text-lg font-bold text-[var(--brill-primary)]\">Edit Profile</h1>\n        <div className=\"w-9\"></div>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"px-6 py-8\">\n        {/* Profile Picture */}\n        <div className=\"text-center mb-8\">\n          <div className=\"relative inline-block\">\n            <div \n              className=\"w-24 h-24 rounded-full mx-auto mb-2 cursor-pointer transition-transform duration-200 hover:scale-105 overflow-hidden bg-gray-100 flex items-center justify-center\"\n              onClick={() => document.getElementById('profile-image-input')?.click()}\n            >\n              {user?.profilePicture ? (\n                <img \n                  src={user.profilePicture} \n                  alt=\"Profile\" \n                  className=\"w-full h-full object-cover\"\n                />\n              ) : (\n                <img \n                  src={accountCircleIcon} \n                  alt=\"Default Profile\" \n                  className=\"w-full h-full object-cover\"\n                />\n              )}\n              {/* Camera Icon */}\n              <div className=\"absolute bottom-0 right-0 w-7 h-7 bg-[var(--brill-secondary)] rounded-full flex items-center justify-center border-2 border-white shadow-md\">\n                <img src={cameraIcon} alt=\"Camera\" className=\"h-3 w-3\" />\n              </div>\n            </div>\n            <input\n              id=\"profile-image-input\"\n              type=\"file\"\n              accept=\"image/jpeg,image/jpg,image/png,image/webp\"\n              onChange={(e) => {\n                const file = e.target.files?.[0];\n                if (file) {\n                  setFormData(prev => ({ ...prev, profilePicture: file }));\n                }\n              }}\n              className=\"hidden\"\n            />\n          </div>\n        </div>\n\n        {/* Form Fields */}\n        <div className=\"space-y-6\">\n          <div className=\"mb-6\">\n            <div className=\"text-center mb-2\">\n              <Label htmlFor=\"fullName\" className=\"text-[var(--brill-text)] text-lg font-bold\">\n                Full Name\n              </Label>\n            </div>\n            <Input\n              id=\"fullName\"\n              value={formData.fullName}\n              onChange={(e) => handleInputChange(\"fullName\", e.target.value)}\n              placeholder=\"Enter your full name\"\n              className=\"w-full px-4 py-4 rounded-3xl border-gray-300 focus:ring-2 focus:ring-[var(--brill-primary)] focus:border-[var(--brill-primary)] text-base\"\n              required\n            />\n          </div>\n\n          <div className=\"mb-6\">\n            <div className=\"text-center mb-2\">\n              <Label htmlFor=\"email\" className=\"text-[var(--brill-text)] text-lg font-bold\">\n                Email\n              </Label>\n            </div>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              value={formData.email}\n              onChange={(e) => handleInputChange(\"email\", e.target.value)}\n              placeholder=\"Enter your email\"\n              className=\"w-full px-4 py-4 rounded-3xl border-gray-300 focus:ring-2 focus:ring-[var(--brill-primary)] focus:border-[var(--brill-primary)] text-base\"\n              required\n            />\n          </div>\n\n          <div className=\"mb-6\">\n            <div className=\"text-center mb-2\">\n              <Label htmlFor=\"phone\" className=\"text-[var(--brill-text)] text-lg font-bold\">\n                Number\n              </Label>\n            </div>\n            <Input\n              id=\"phone\"\n              type=\"tel\"\n              value={formData.phone}\n              onChange={(e) => handleInputChange(\"phone\", e.target.value)}\n              placeholder=\"+234 801 234 5678\"\n              className=\"w-full px-4 py-4 rounded-3xl border-gray-300 focus:ring-2 focus:ring-[var(--brill-primary)] focus:border-[var(--brill-primary)] text-base\"\n              required\n            />\n          </div>\n\n          <div className=\"mb-8\">\n            <div className=\"text-center mb-2\">\n              <Label htmlFor=\"address\" className=\"text-[var(--brill-text)] text-lg font-bold\">\n                Location\n              </Label>\n            </div>\n            <Input\n              id=\"address\"\n              value={`${formData.city}${formData.state ? ', ' + formData.state : ''}`}\n              onChange={(e) => {\n                const parts = e.target.value.split(',');\n                handleInputChange(\"city\", parts[0]?.trim() || '');\n                handleInputChange(\"state\", parts[1]?.trim() || '');\n              }}\n              placeholder=\"Jahi, Abuja\"\n              className=\"w-full px-4 py-4 rounded-3xl border-gray-300 focus:ring-2 focus:ring-[var(--brill-primary)] focus:border-[var(--brill-primary)] text-base\"\n              required\n            />\n          </div>\n\n\n        </div>\n\n        <div className=\"flex justify-center mb-8\">\n          <LoadingButton\n            type=\"submit\"\n            loading={updateProfileMutation.isPending}\n            className=\"w-48 bg-[var(--brill-secondary)] text-white py-4 px-4 rounded-3xl font-medium hover:bg-[var(--brill-active)] transition duration-200 text-lg flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            <Save className=\"w-4 h-4 mr-2\" />\n            Save\n          </LoadingButton>\n        </div>\n      </form>\n\n      {/* Success Modal */}\n      <NotificationModal\n        isOpen={showSuccessModal}\n        onClose={() => setShowSuccessModal(false)}\n        type=\"success\"\n        title=\"Profile Updated!\"\n        description=\"Your profile has been successfully updated.\"\n        actionText=\"Continue\"\n        onAction={() => setLocation(\"/profile\")}\n      />\n\n      {/* Error Modal */}\n      <NotificationModal\n        isOpen={showErrorModal}\n        onClose={() => setShowErrorModal(false)}\n        type=\"error\"\n        title=\"Update Failed\"\n        description={errorMessage}\n        actionText=\"Try Again\"\n        onAction={() => setShowErrorModal(false)}\n      />\n    </div>\n  );\n}"],"names":["Save","createLucideIcon","EditProfilePage","user","updateUser","useAuth","setLocation","useLocation","formData","setFormData","useState","showSuccessModal","setShowSuccessModal","showErrorModal","setShowErrorModal","errorMessage","setErrorMessage","updateProfileMutation","useMutation","data","reader","resolve","imageUrl","result","updatedProfile","error","handleInputChange","field","value","prev","handleSubmit","e","jsxs","jsx","Button","ArrowLeft","_a","accountCircleIcon","cameraIcon","file","Label","Input","parts","_b","LoadingButton","NotificationModal"],"mappings":"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","x_google_ignoreList":[0]}
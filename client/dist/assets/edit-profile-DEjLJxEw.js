import{c as w,a as P,u as S,r as c,f as C,j as e,B as E,A as M,I as n,R as F,K as h}from"./index-CVqmz7v7.js";import{L as d}from"./label-FpSljPAT.js";import{a as L}from"./account_circle-ChEtdL0c.js";import{c as A}from"./camera_icon-D5N9eZPD.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=w("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function q(){const{user:a,updateUser:b}=P(),[,u]=S(),[l,x]=c.useState({fullName:(a==null?void 0:a.fullName)||"",email:(a==null?void 0:a.email)||"",phone:(a==null?void 0:a.phone)||"",address:(a==null?void 0:a.address)||"",city:(a==null?void 0:a.city)||"",state:(a==null?void 0:a.state)||"",country:(a==null?void 0:a.country)||"Nigeria",bio:(a==null?void 0:a.bio)||"",profilePicture:null}),[g,f]=c.useState(!1),[y,m]=c.useState(!1),[v,j]=c.useState(""),p=C({mutationFn:async t=>{if(t.profilePicture){const r=new FileReader;return new Promise(s=>{r.onload=()=>{const i=r.result;setTimeout(()=>s({success:!0,imageUrl:i}),1500)},r.readAsDataURL(t.profilePicture)})}else return new Promise(r=>{setTimeout(()=>r({success:!0}),1500)})},onSuccess:t=>{const r={fullName:l.fullName,email:l.email,phone:l.phone,address:l.address,city:l.city,state:l.state,country:l.country,bio:l.bio};t.imageUrl&&(r.profilePicture=t.imageUrl),b(r),f(!0)},onError:t=>{j(t.message||"Failed to update profile. Please try again."),m(!0)}}),o=(t,r)=>{x(s=>({...s,[t]:r}))},N=t=>{t.preventDefault(),p.mutate(l)};return e.jsxs("div",{className:"w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl mx-auto min-h-screen bg-white px-2 sm:px-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pt-12 border-b border-gray-100",children:[e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>u("/profile"),className:"p-2",children:e.jsx(M,{className:"h-5 w-5 text-[var(--brill-primary)]"})}),e.jsx("h1",{className:"text-lg font-bold text-[var(--brill-primary)]",children:"Edit Profile"}),e.jsx("div",{className:"w-9"})]}),e.jsxs("form",{onSubmit:N,className:"px-6 py-8",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsxs("div",{className:"w-24 h-24 rounded-full mx-auto mb-2 cursor-pointer transition-transform duration-200 hover:scale-105 overflow-hidden bg-gray-100 flex items-center justify-center",onClick:()=>{var t;return(t=document.getElementById("profile-image-input"))==null?void 0:t.click()},children:[a!=null&&a.profilePicture?e.jsx("img",{src:a.profilePicture,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("img",{src:L,alt:"Default Profile",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-7 h-7 bg-[var(--brill-secondary)] rounded-full flex items-center justify-center border-2 border-white shadow-md",children:e.jsx("img",{src:A,alt:"Camera",className:"h-3 w-3"})})]}),e.jsx("input",{id:"profile-image-input",type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:t=>{var s;const r=(s=t.target.files)==null?void 0:s[0];r&&x(i=>({...i,profilePicture:r}))},className:"hidden"})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-center mb-2",children:e.jsx(d,{htmlFor:"fullName",className:"text-[var(--brill-text)] text-lg font-bold",children:"Full Name"})}),e.jsx(n,{id:"fullName",value:l.fullName,onChange:t=>o("fullName",t.target.value),placeholder:"Enter your full name",className:"w-full px-4 py-4 rounded-3xl border-gray-300 focus:ring-2 focus:ring-[var(--brill-primary)] focus:border-[var(--brill-primary)] text-base",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-center mb-2",children:e.jsx(d,{htmlFor:"email",className:"text-[var(--brill-text)] text-lg font-bold",children:"Email"})}),e.jsx(n,{id:"email",type:"email",value:l.email,onChange:t=>o("email",t.target.value),placeholder:"Enter your email",className:"w-full px-4 py-4 rounded-3xl border-gray-300 focus:ring-2 focus:ring-[var(--brill-primary)] focus:border-[var(--brill-primary)] text-base",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-center mb-2",children:e.jsx(d,{htmlFor:"phone",className:"text-[var(--brill-text)] text-lg font-bold",children:"Number"})}),e.jsx(n,{id:"phone",type:"tel",value:l.phone,onChange:t=>o("phone",t.target.value),placeholder:"+234 801 234 5678",className:"w-full px-4 py-4 rounded-3xl border-gray-300 focus:ring-2 focus:ring-[var(--brill-primary)] focus:border-[var(--brill-primary)] text-base",required:!0})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-center mb-2",children:e.jsx(d,{htmlFor:"address",className:"text-[var(--brill-text)] text-lg font-bold",children:"Location"})}),e.jsx(n,{id:"address",value:`${l.city}${l.state?", "+l.state:""}`,onChange:t=>{var s,i;const r=t.target.value.split(",");o("city",((s=r[0])==null?void 0:s.trim())||""),o("state",((i=r[1])==null?void 0:i.trim())||"")},placeholder:"Jahi, Abuja",className:"w-full px-4 py-4 rounded-3xl border-gray-300 focus:ring-2 focus:ring-[var(--brill-primary)] focus:border-[var(--brill-primary)] text-base",required:!0})]})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs(F,{type:"submit",loading:p.isPending,className:"w-48 bg-[var(--brill-secondary)] text-white py-4 px-4 rounded-3xl font-medium hover:bg-[var(--brill-active)] transition duration-200 text-lg flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Save"]})})]}),e.jsx(h,{isOpen:g,onClose:()=>f(!1),type:"success",title:"Profile Updated!",description:"Your profile has been successfully updated.",actionText:"Continue",onAction:()=>u("/profile")}),e.jsx(h,{isOpen:y,onClose:()=>m(!1),type:"error",title:"Update Failed",description:v,actionText:"Try Again",onAction:()=>m(!1)})]})}export{q as default};
//# sourceMappingURL=edit-profile-DEjLJxEw.js.map

var KI=Object.defineProperty;var Lb=t=>{throw TypeError(t)};var YI=(t,e,n)=>e in t?KI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var C=(t,e,n)=>YI(t,typeof e!="symbol"?e+"":e,n),kf=(t,e,n)=>e.has(t)||Lb("Cannot "+n);var R=(t,e,n)=>(kf(t,e,"read from private field"),n?n.call(t):e.get(t)),he=(t,e,n)=>e.has(t)?Lb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ae=(t,e,n,s)=>(kf(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),ke=(t,e,n)=>(kf(t,e,"access private method"),n);var Ul=(t,e,n,s)=>({set _(r){ae(t,e,r,n)},get _(){return R(t,e,s)}});function JI(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const XI=Object.freeze(Object.defineProperty({__proto__:null,get Client(){return eY},get Connection(){return tY},get DatabaseError(){return rY},get Pool(){return nI},get Query(){return sY},get Result(){return oY},get TypeOverrides(){return cY},get default(){return Ht},get defaults(){return lY},get escapeIdentifier(){return iY},get escapeLiteral(){return aY},get types(){return nY}},Symbol.toStringTag,{value:"Module"}));(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var XC={exports:{}},lp={},ZC={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=Symbol.for("react.element"),ZI=Symbol.for("react.portal"),ej=Symbol.for("react.fragment"),tj=Symbol.for("react.strict_mode"),nj=Symbol.for("react.profiler"),sj=Symbol.for("react.provider"),rj=Symbol.for("react.context"),ij=Symbol.for("react.forward_ref"),aj=Symbol.for("react.suspense"),oj=Symbol.for("react.memo"),cj=Symbol.for("react.lazy"),Bb=Symbol.iterator;function lj(t){return t===null||typeof t!="object"?null:(t=Bb&&t[Bb]||t["@@iterator"],typeof t=="function"?t:null)}var eA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tA=Object.assign,nA={};function _o(t,e,n){this.props=t,this.context=e,this.refs=nA,this.updater=n||eA}_o.prototype.isReactComponent={};_o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sA(){}sA.prototype=_o.prototype;function Kg(t,e,n){this.props=t,this.context=e,this.refs=nA,this.updater=n||eA}var Yg=Kg.prototype=new sA;Yg.constructor=Kg;tA(Yg,_o.prototype);Yg.isPureReactComponent=!0;var $b=Array.isArray,rA=Object.prototype.hasOwnProperty,Jg={current:null},iA={key:!0,ref:!0,__self:!0,__source:!0};function aA(t,e,n){var s,r={},i=null,a=null;if(e!=null)for(s in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)rA.call(e,s)&&!iA.hasOwnProperty(s)&&(r[s]=e[s]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+2];r.children=c}if(t&&t.defaultProps)for(s in o=t.defaultProps,o)r[s]===void 0&&(r[s]=o[s]);return{$$typeof:fl,type:t,key:i,ref:a,props:r,_owner:Jg.current}}function uj(t,e){return{$$typeof:fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xg(t){return typeof t=="object"&&t!==null&&t.$$typeof===fl}function dj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zb=/\/+/g;function Cf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dj(""+t.key):e.toString(36)}function Tu(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case fl:case ZI:a=!0}}if(a)return a=t,r=r(a),t=s===""?"."+Cf(a,0):s,$b(r)?(n="",t!=null&&(n=t.replace(zb,"$&/")+"/"),Tu(r,e,n,"",function(l){return l})):r!=null&&(Xg(r)&&(r=uj(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(zb,"$&/")+"/")+t)),e.push(r)),1;if(a=0,s=s===""?".":s+":",$b(t))for(var o=0;o<t.length;o++){i=t[o];var c=s+Cf(i,o);a+=Tu(i,e,n,c,r)}else if(c=lj(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=s+Cf(i,o++),a+=Tu(i,e,n,c,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ql(t,e,n){if(t==null)return t;var s=[],r=0;return Tu(t,s,"","",function(i){return e.call(n,i,r++)}),s}function pj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},Nu={transition:null},fj={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:Nu,ReactCurrentOwner:Jg};function oA(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:ql,forEach:function(t,e,n){ql(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ql(t,function(){e++}),e},toArray:function(t){return ql(t,function(e){return e})||[]},only:function(t){if(!Xg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=_o;Re.Fragment=ej;Re.Profiler=nj;Re.PureComponent=Kg;Re.StrictMode=tj;Re.Suspense=aj;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fj;Re.act=oA;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=tA({},t.props),r=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Jg.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)rA.call(e,c)&&!iA.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){o=Array(c);for(var l=0;l<c;l++)o[l]=arguments[l+2];s.children=o}return{$$typeof:fl,type:t.type,key:r,ref:i,props:s,_owner:a}};Re.createContext=function(t){return t={$$typeof:rj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sj,_context:t},t.Consumer=t};Re.createElement=aA;Re.createFactory=function(t){var e=aA.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:ij,render:t}};Re.isValidElement=Xg;Re.lazy=function(t){return{$$typeof:cj,_payload:{_status:-1,_result:t},_init:pj}};Re.memo=function(t,e){return{$$typeof:oj,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Nu.transition;Nu.transition={};try{t()}finally{Nu.transition=e}};Re.unstable_act=oA;Re.useCallback=function(t,e){return an.current.useCallback(t,e)};Re.useContext=function(t){return an.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return an.current.useDeferredValue(t)};Re.useEffect=function(t,e){return an.current.useEffect(t,e)};Re.useId=function(){return an.current.useId()};Re.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return an.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};Re.useRef=function(t){return an.current.useRef(t)};Re.useState=function(t){return an.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return an.current.useTransition()};Re.version="18.3.1";ZC.exports=Re;var Q=ZC.exports;const Ne=Wg(Q),hj=JI({__proto__:null,default:Ne},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mj=Q,gj=Symbol.for("react.element"),yj=Symbol.for("react.fragment"),vj=Object.prototype.hasOwnProperty,bj=mj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xj={key:!0,ref:!0,__self:!0,__source:!0};function cA(t,e,n){var s,r={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)vj.call(e,s)&&!xj.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:gj,type:t,key:i,ref:a,props:r,_owner:bj.current}}lp.Fragment=yj;lp.jsx=cA;lp.jsxs=cA;XC.exports=lp;var S=XC.exports,Gh={},lA={exports:{}},Pn={},uA={exports:{}},dA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,D){var H=j.length;j.push(D);e:for(;0<H;){var Z=H-1>>>1,ie=j[Z];if(0<r(ie,D))j[Z]=D,j[H]=ie,H=Z;else break e}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var D=j[0],H=j.pop();if(H!==D){j[0]=H;e:for(var Z=0,ie=j.length,Oe=ie>>>1;Z<Oe;){var He=2*(Z+1)-1,$e=j[He],Kt=He+1,mr=j[Kt];if(0>r($e,H))Kt<ie&&0>r(mr,$e)?(j[Z]=mr,j[Kt]=H,Z=Kt):(j[Z]=$e,j[He]=H,Z=He);else if(Kt<ie&&0>r(mr,H))j[Z]=mr,j[Kt]=H,Z=Kt;else break e}}return D}function r(j,D){var H=j.sortIndex-D.sortIndex;return H!==0?H:j.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],l=[],u=1,d=null,p=3,y=!1,m=!1,f=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var D=n(l);D!==null;){if(D.callback===null)s(l);else if(D.startTime<=j)s(l),D.sortIndex=D.expirationTime,e(c,D);else break;D=n(l)}}function x(j){if(f=!1,g(j),!m)if(n(c)!==null)m=!0,B(k);else{var D=n(l);D!==null&&O(x,D.startTime-j)}}function k(j,D){m=!1,f&&(f=!1,h(E),E=-1),y=!0;var H=p;try{for(g(D),d=n(c);d!==null&&(!(d.expirationTime>D)||j&&!L());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,p=d.priorityLevel;var ie=Z(d.expirationTime<=D);D=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===n(c)&&s(c),g(D)}else s(c);d=n(c)}if(d!==null)var Oe=!0;else{var He=n(l);He!==null&&O(x,He.startTime-D),Oe=!1}return Oe}finally{d=null,p=H,y=!1}}var _=!1,w=null,E=-1,T=5,I=-1;function L(){return!(t.unstable_now()-I<T)}function q(){if(w!==null){var j=t.unstable_now();I=j;var D=!0;try{D=w(!0,j)}finally{D?F():(_=!1,w=null)}}else _=!1}var F;if(typeof b=="function")F=function(){b(q)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,N=A.port2;A.port1.onmessage=q,F=function(){N.postMessage(null)}}else F=function(){v(q,0)};function B(j){w=j,_||(_=!0,F())}function O(j,D){E=v(function(){j(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){m||y||(m=!0,B(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var H=p;p=D;try{return j()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,D){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var H=p;p=j;try{return D()}finally{p=H}},t.unstable_scheduleCallback=function(j,D,H){var Z=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,j){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=H+ie,j={id:u++,callback:D,priorityLevel:j,startTime:H,expirationTime:ie,sortIndex:-1},H>Z?(j.sortIndex=H,e(l,j),n(c)===null&&j===n(l)&&(f?(h(E),E=-1):f=!0,O(x,H-Z))):(j.sortIndex=ie,e(c,j),m||y||(m=!0,B(k))),j},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(j){var D=p;return function(){var H=p;p=D;try{return j.apply(this,arguments)}finally{p=H}}}})(dA);uA.exports=dA;var wj=uA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sj=Q,Rn=wj;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pA=new Set,Ac={};function oa(t,e){ro(t,e),ro(t+"Capture",e)}function ro(t,e){for(Ac[t]=e,t=0;t<e.length;t++)pA.add(e[t])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wh=Object.prototype.hasOwnProperty,_j=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ub={},qb={};function Ej(t){return Wh.call(qb,t)?!0:Wh.call(Ub,t)?!1:_j.test(t)?qb[t]=!0:(Ub[t]=!0,!1)}function kj(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Cj(t,e,n,s){if(e===null||typeof e>"u"||kj(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,s,r,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zg=/[\-:]([a-z])/g;function ey(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zg,ey);Ft[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zg,ey);Ft[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zg,ey);Ft[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function ty(t,e,n,s){var r=Ft.hasOwnProperty(e)?Ft[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Cj(e,n,r,s)&&(n=null),s||r===null?Ej(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var dr=Sj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ql=Symbol.for("react.element"),wa=Symbol.for("react.portal"),Sa=Symbol.for("react.fragment"),ny=Symbol.for("react.strict_mode"),Kh=Symbol.for("react.profiler"),fA=Symbol.for("react.provider"),hA=Symbol.for("react.context"),sy=Symbol.for("react.forward_ref"),Yh=Symbol.for("react.suspense"),Jh=Symbol.for("react.suspense_list"),ry=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),mA=Symbol.for("react.offscreen"),Qb=Symbol.iterator;function $o(t){return t===null||typeof t!="object"?null:(t=Qb&&t[Qb]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,Af;function sc(t){if(Af===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Af=e&&e[1]||""}return`
`+Af+t}var Tf=!1;function Nf(t,e){if(!t||Tf)return"";Tf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var s=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){s=l}t.call(e.prototype)}else{try{throw Error()}catch(l){s=l}t()}}catch(l){if(l&&s&&typeof l.stack=="string"){for(var r=l.stack.split(`
`),i=s.stack.split(`
`),a=r.length-1,o=i.length-1;1<=a&&0<=o&&r[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==i[o]){var c=`
`+r[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{Tf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sc(t):""}function Aj(t){switch(t.tag){case 5:return sc(t.type);case 16:return sc("Lazy");case 13:return sc("Suspense");case 19:return sc("SuspenseList");case 0:case 2:case 15:return t=Nf(t.type,!1),t;case 11:return t=Nf(t.type.render,!1),t;case 1:return t=Nf(t.type,!0),t;default:return""}}function Xh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sa:return"Fragment";case wa:return"Portal";case Kh:return"Profiler";case ny:return"StrictMode";case Yh:return"Suspense";case Jh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hA:return(t.displayName||"Context")+".Consumer";case fA:return(t._context.displayName||"Context")+".Provider";case sy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ry:return e=t.displayName||null,e!==null?e:Xh(t.type)||"Memo";case Er:e=t._payload,t=t._init;try{return Xh(t(e))}catch{}}return null}function Tj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xh(e);case 8:return e===ny?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Nj(t){var e=gA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vl(t){t._valueTracker||(t._valueTracker=Nj(t))}function yA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=gA(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function nd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zh(t,e){var n=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vb(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=si(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vA(t,e){e=e.checked,e!=null&&ty(t,"checked",e,!1)}function em(t,e){vA(t,e);var n=si(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tm(t,e.type,n):e.hasOwnProperty("defaultValue")&&tm(t,e.type,si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tm(t,e,n){(e!=="number"||nd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rc=Array.isArray;function La(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+si(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function nm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(rc(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:si(n)}}function bA(t,e){var n=si(e.value),s=si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Wb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hl,wA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rj=["Webkit","ms","Moz","O"];Object.keys(fc).forEach(function(t){Rj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fc[e]=fc[t]})});function SA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fc.hasOwnProperty(t)&&fc[t]?(""+e).trim():e+"px"}function _A(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=SA(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var Oj=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rm(t,e){if(e){if(Oj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function im(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var am=null;function iy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var om=null,Ba=null,$a=null;function Kb(t){if(t=gl(t)){if(typeof om!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=hp(e),om(t.stateNode,t.type,e))}}function EA(t){Ba?$a?$a.push(t):$a=[t]:Ba=t}function kA(){if(Ba){var t=Ba,e=$a;if($a=Ba=null,Kb(t),e)for(t=0;t<e.length;t++)Kb(e[t])}}function CA(t,e){return t(e)}function AA(){}var Rf=!1;function TA(t,e,n){if(Rf)return t(e,n);Rf=!0;try{return CA(t,e,n)}finally{Rf=!1,(Ba!==null||$a!==null)&&(AA(),kA())}}function Nc(t,e){var n=t.stateNode;if(n===null)return null;var s=hp(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var cm=!1;if(ir)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){cm=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{cm=!1}function Pj(t,e,n,s,r,i,a,o,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var hc=!1,sd=null,rd=!1,lm=null,Ij={onError:function(t){hc=!0,sd=t}};function jj(t,e,n,s,r,i,a,o,c){hc=!1,sd=null,Pj.apply(Ij,arguments)}function Mj(t,e,n,s,r,i,a,o,c){if(jj.apply(this,arguments),hc){if(hc){var l=sd;hc=!1,sd=null}else throw Error(Y(198));rd||(rd=!0,lm=l)}}function ca(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function NA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yb(t){if(ca(t)!==t)throw Error(Y(188))}function Dj(t){var e=t.alternate;if(!e){if(e=ca(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Yb(r),t;if(i===s)return Yb(r),e;i=i.sibling}throw Error(Y(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,s=i;break}if(o===s){a=!0,s=r,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,s=r;break}if(o===s){a=!0,s=i,n=r;break}o=o.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==s)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function RA(t){return t=Dj(t),t!==null?OA(t):null}function OA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=OA(t);if(e!==null)return e;t=t.sibling}return null}var PA=Rn.unstable_scheduleCallback,Jb=Rn.unstable_cancelCallback,Fj=Rn.unstable_shouldYield,Lj=Rn.unstable_requestPaint,mt=Rn.unstable_now,Bj=Rn.unstable_getCurrentPriorityLevel,ay=Rn.unstable_ImmediatePriority,IA=Rn.unstable_UserBlockingPriority,id=Rn.unstable_NormalPriority,$j=Rn.unstable_LowPriority,jA=Rn.unstable_IdlePriority,up=null,Cs=null;function zj(t){if(Cs&&typeof Cs.onCommitFiberRoot=="function")try{Cs.onCommitFiberRoot(up,t,void 0,(t.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:Qj,Uj=Math.log,qj=Math.LN2;function Qj(t){return t>>>=0,t===0?32:31-(Uj(t)/qj|0)|0}var Gl=64,Wl=4194304;function ic(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ad(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~r;o!==0?s=ic(o):(i&=a,i!==0&&(s=ic(i)))}else a=n&~r,a!==0?s=ic(a):i!==0&&(s=ic(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-ls(e),r=1<<n,s|=t[n],e&=~r;return s}function Vj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hj(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-ls(i),o=1<<a,c=r[a];c===-1?(!(o&n)||o&s)&&(r[a]=Vj(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function um(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function MA(){var t=Gl;return Gl<<=1,!(Gl&4194240)&&(Gl=64),t}function Of(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ls(e),t[e]=n}function Gj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ls(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function oy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-ls(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var qe=0;function DA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FA,cy,LA,BA,$A,dm=!1,Kl=[],Vr=null,Hr=null,Gr=null,Rc=new Map,Oc=new Map,Cr=[],Wj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xb(t,e){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Rc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(e.pointerId)}}function Uo(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=gl(e),e!==null&&cy(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Kj(t,e,n,s,r){switch(e){case"focusin":return Vr=Uo(Vr,t,e,n,s,r),!0;case"dragenter":return Hr=Uo(Hr,t,e,n,s,r),!0;case"mouseover":return Gr=Uo(Gr,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Rc.set(i,Uo(Rc.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Oc.set(i,Uo(Oc.get(i)||null,t,e,n,s,r)),!0}return!1}function zA(t){var e=Si(t.target);if(e!==null){var n=ca(e);if(n!==null){if(e=n.tag,e===13){if(e=NA(n),e!==null){t.blockedOn=e,$A(t.priority,function(){LA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ru(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);am=s,n.target.dispatchEvent(s),am=null}else return e=gl(n),e!==null&&cy(e),t.blockedOn=n,!1;e.shift()}return!0}function Zb(t,e,n){Ru(t)&&n.delete(e)}function Yj(){dm=!1,Vr!==null&&Ru(Vr)&&(Vr=null),Hr!==null&&Ru(Hr)&&(Hr=null),Gr!==null&&Ru(Gr)&&(Gr=null),Rc.forEach(Zb),Oc.forEach(Zb)}function qo(t,e){t.blockedOn===e&&(t.blockedOn=null,dm||(dm=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,Yj)))}function Pc(t){function e(r){return qo(r,t)}if(0<Kl.length){qo(Kl[0],t);for(var n=1;n<Kl.length;n++){var s=Kl[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Vr!==null&&qo(Vr,t),Hr!==null&&qo(Hr,t),Gr!==null&&qo(Gr,t),Rc.forEach(e),Oc.forEach(e),n=0;n<Cr.length;n++)s=Cr[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Cr.length&&(n=Cr[0],n.blockedOn===null);)zA(n),n.blockedOn===null&&Cr.shift()}var za=dr.ReactCurrentBatchConfig,od=!0;function Jj(t,e,n,s){var r=qe,i=za.transition;za.transition=null;try{qe=1,ly(t,e,n,s)}finally{qe=r,za.transition=i}}function Xj(t,e,n,s){var r=qe,i=za.transition;za.transition=null;try{qe=4,ly(t,e,n,s)}finally{qe=r,za.transition=i}}function ly(t,e,n,s){if(od){var r=pm(t,e,n,s);if(r===null)zf(t,e,s,cd,n),Xb(t,s);else if(Kj(r,t,e,n,s))s.stopPropagation();else if(Xb(t,s),e&4&&-1<Wj.indexOf(t)){for(;r!==null;){var i=gl(r);if(i!==null&&FA(i),i=pm(t,e,n,s),i===null&&zf(t,e,s,cd,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else zf(t,e,s,null,n)}}var cd=null;function pm(t,e,n,s){if(cd=null,t=iy(s),t=Si(t),t!==null)if(e=ca(t),e===null)t=null;else if(n=e.tag,n===13){if(t=NA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cd=t,null}function UA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bj()){case ay:return 1;case IA:return 4;case id:case $j:return 16;case jA:return 536870912;default:return 16}default:return 16}}var Br=null,uy=null,Ou=null;function qA(){if(Ou)return Ou;var t,e=uy,n=e.length,s,r="value"in Br?Br.value:Br.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[i-s];s++);return Ou=r.slice(t,1<s?1-s:void 0)}function Pu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yl(){return!0}function e0(){return!1}function In(t){function e(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yl:e0,this.isPropagationStopped=e0,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),e}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dy=In(Eo),ml=ct({},Eo,{view:0,detail:0}),Zj=In(ml),Pf,If,Qo,dp=ct({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:py,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qo&&(Qo&&t.type==="mousemove"?(Pf=t.screenX-Qo.screenX,If=t.screenY-Qo.screenY):If=Pf=0,Qo=t),Pf)},movementY:function(t){return"movementY"in t?t.movementY:If}}),t0=In(dp),e3=ct({},dp,{dataTransfer:0}),t3=In(e3),n3=ct({},ml,{relatedTarget:0}),jf=In(n3),s3=ct({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),r3=In(s3),i3=ct({},Eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),a3=In(i3),o3=ct({},Eo,{data:0}),n0=In(o3),c3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=u3[t])?!!e[t]:!1}function py(){return d3}var p3=ct({},ml,{key:function(t){if(t.key){var e=c3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?l3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:py,charCode:function(t){return t.type==="keypress"?Pu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f3=In(p3),h3=ct({},dp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s0=In(h3),m3=ct({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:py}),g3=In(m3),y3=ct({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),v3=In(y3),b3=ct({},dp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x3=In(b3),w3=[9,13,27,32],fy=ir&&"CompositionEvent"in window,mc=null;ir&&"documentMode"in document&&(mc=document.documentMode);var S3=ir&&"TextEvent"in window&&!mc,QA=ir&&(!fy||mc&&8<mc&&11>=mc),r0=" ",i0=!1;function VA(t,e){switch(t){case"keyup":return w3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function _3(t,e){switch(t){case"compositionend":return HA(e);case"keypress":return e.which!==32?null:(i0=!0,r0);case"textInput":return t=e.data,t===r0&&i0?null:t;default:return null}}function E3(t,e){if(_a)return t==="compositionend"||!fy&&VA(t,e)?(t=qA(),Ou=uy=Br=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QA&&e.locale!=="ko"?null:e.data;default:return null}}var k3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k3[t.type]:e==="textarea"}function GA(t,e,n,s){EA(s),e=ld(e,"onChange"),0<e.length&&(n=new dy("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var gc=null,Ic=null;function C3(t){rT(t,0)}function pp(t){var e=Ca(t);if(yA(e))return t}function A3(t,e){if(t==="change")return e}var WA=!1;if(ir){var Mf;if(ir){var Df="oninput"in document;if(!Df){var o0=document.createElement("div");o0.setAttribute("oninput","return;"),Df=typeof o0.oninput=="function"}Mf=Df}else Mf=!1;WA=Mf&&(!document.documentMode||9<document.documentMode)}function c0(){gc&&(gc.detachEvent("onpropertychange",KA),Ic=gc=null)}function KA(t){if(t.propertyName==="value"&&pp(Ic)){var e=[];GA(e,Ic,t,iy(t)),TA(C3,e)}}function T3(t,e,n){t==="focusin"?(c0(),gc=e,Ic=n,gc.attachEvent("onpropertychange",KA)):t==="focusout"&&c0()}function N3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pp(Ic)}function R3(t,e){if(t==="click")return pp(e)}function O3(t,e){if(t==="input"||t==="change")return pp(e)}function P3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ps=typeof Object.is=="function"?Object.is:P3;function jc(t,e){if(ps(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Wh.call(e,r)||!ps(t[r],e[r]))return!1}return!0}function l0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function u0(t,e){var n=l0(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=l0(n)}}function YA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?YA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JA(){for(var t=window,e=nd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nd(t.document)}return e}function hy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function I3(t){var e=JA(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&YA(n.ownerDocument.documentElement,n)){if(s!==null&&hy(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=u0(n,i);var a=u0(n,s);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var j3=ir&&"documentMode"in document&&11>=document.documentMode,Ea=null,fm=null,yc=null,hm=!1;function d0(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hm||Ea==null||Ea!==nd(s)||(s=Ea,"selectionStart"in s&&hy(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),yc&&jc(yc,s)||(yc=s,s=ld(fm,"onSelect"),0<s.length&&(e=new dy("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Ea)))}function Jl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ka={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionend:Jl("Transition","TransitionEnd")},Ff={},XA={};ir&&(XA=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function fp(t){if(Ff[t])return Ff[t];if(!ka[t])return t;var e=ka[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XA)return Ff[t]=e[n];return t}var ZA=fp("animationend"),eT=fp("animationiteration"),tT=fp("animationstart"),nT=fp("transitionend"),sT=new Map,p0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(t,e){sT.set(t,e),oa(e,[t])}for(var Lf=0;Lf<p0.length;Lf++){var Bf=p0[Lf],M3=Bf.toLowerCase(),D3=Bf[0].toUpperCase()+Bf.slice(1);li(M3,"on"+D3)}li(ZA,"onAnimationEnd");li(eT,"onAnimationIteration");li(tT,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(nT,"onTransitionEnd");ro("onMouseEnter",["mouseout","mouseover"]);ro("onMouseLeave",["mouseout","mouseover"]);ro("onPointerEnter",["pointerout","pointerover"]);ro("onPointerLeave",["pointerout","pointerover"]);oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ac));function f0(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,Mj(s,e,void 0,t),t.currentTarget=null}function rT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==i&&r.isPropagationStopped())break e;f0(r,o,l),i=c}else for(a=0;a<s.length;a++){if(o=s[a],c=o.instance,l=o.currentTarget,o=o.listener,c!==i&&r.isPropagationStopped())break e;f0(r,o,l),i=c}}}if(rd)throw t=lm,rd=!1,lm=null,t}function Ye(t,e){var n=e[bm];n===void 0&&(n=e[bm]=new Set);var s=t+"__bubble";n.has(s)||(iT(e,t,2,!1),n.add(s))}function $f(t,e,n){var s=0;e&&(s|=4),iT(n,t,s,e)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Mc(t){if(!t[Xl]){t[Xl]=!0,pA.forEach(function(n){n!=="selectionchange"&&(F3.has(n)||$f(n,!1,t),$f(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xl]||(e[Xl]=!0,$f("selectionchange",!1,e))}}function iT(t,e,n,s){switch(UA(e)){case 1:var r=Jj;break;case 4:r=Xj;break;default:r=ly}n=r.bind(null,e,n,t),r=void 0,!cm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function zf(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;o!==null;){if(a=Si(o),a===null)return;if(c=a.tag,c===5||c===6){s=i=a;continue e}o=o.parentNode}}s=s.return}TA(function(){var l=i,u=iy(n),d=[];e:{var p=sT.get(t);if(p!==void 0){var y=dy,m=t;switch(t){case"keypress":if(Pu(n)===0)break e;case"keydown":case"keyup":y=f3;break;case"focusin":m="focus",y=jf;break;case"focusout":m="blur",y=jf;break;case"beforeblur":case"afterblur":y=jf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=t0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=t3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=g3;break;case ZA:case eT:case tT:y=r3;break;case nT:y=v3;break;case"scroll":y=Zj;break;case"wheel":y=x3;break;case"copy":case"cut":case"paste":y=a3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=s0}var f=(e&4)!==0,v=!f&&t==="scroll",h=f?p!==null?p+"Capture":null:p;f=[];for(var b=l,g;b!==null;){g=b;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,h!==null&&(x=Nc(b,h),x!=null&&f.push(Dc(b,x,g)))),v)break;b=b.return}0<f.length&&(p=new y(p,m,null,n,u),d.push({event:p,listeners:f}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==am&&(m=n.relatedTarget||n.fromElement)&&(Si(m)||m[ar]))break e;if((y||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,y?(m=n.relatedTarget||n.toElement,y=l,m=m?Si(m):null,m!==null&&(v=ca(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(y=null,m=l),y!==m)){if(f=t0,x="onMouseLeave",h="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(f=s0,x="onPointerLeave",h="onPointerEnter",b="pointer"),v=y==null?p:Ca(y),g=m==null?p:Ca(m),p=new f(x,b+"leave",y,n,u),p.target=v,p.relatedTarget=g,x=null,Si(u)===l&&(f=new f(h,b+"enter",m,n,u),f.target=g,f.relatedTarget=v,x=f),v=x,y&&m)t:{for(f=y,h=m,b=0,g=f;g;g=la(g))b++;for(g=0,x=h;x;x=la(x))g++;for(;0<b-g;)f=la(f),b--;for(;0<g-b;)h=la(h),g--;for(;b--;){if(f===h||h!==null&&f===h.alternate)break t;f=la(f),h=la(h)}f=null}else f=null;y!==null&&h0(d,p,y,f,!1),m!==null&&v!==null&&h0(d,v,m,f,!0)}}e:{if(p=l?Ca(l):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var k=A3;else if(a0(p))if(WA)k=O3;else{k=N3;var _=T3}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=R3);if(k&&(k=k(t,l))){GA(d,k,n,u);break e}_&&_(t,p,l),t==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&tm(p,"number",p.value)}switch(_=l?Ca(l):window,t){case"focusin":(a0(_)||_.contentEditable==="true")&&(Ea=_,fm=l,yc=null);break;case"focusout":yc=fm=Ea=null;break;case"mousedown":hm=!0;break;case"contextmenu":case"mouseup":case"dragend":hm=!1,d0(d,n,u);break;case"selectionchange":if(j3)break;case"keydown":case"keyup":d0(d,n,u)}var w;if(fy)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else _a?VA(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(QA&&n.locale!=="ko"&&(_a||E!=="onCompositionStart"?E==="onCompositionEnd"&&_a&&(w=qA()):(Br=u,uy="value"in Br?Br.value:Br.textContent,_a=!0)),_=ld(l,E),0<_.length&&(E=new n0(E,t,null,n,u),d.push({event:E,listeners:_}),w?E.data=w:(w=HA(n),w!==null&&(E.data=w)))),(w=S3?_3(t,n):E3(t,n))&&(l=ld(l,"onBeforeInput"),0<l.length&&(u=new n0("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=w))}rT(d,e)})}function Dc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ld(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Nc(t,n),i!=null&&s.unshift(Dc(t,i,r)),i=Nc(t,e),i!=null&&s.push(Dc(t,i,r))),t=t.return}return s}function la(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function h0(t,e,n,s,r){for(var i=e._reactName,a=[];n!==null&&n!==s;){var o=n,c=o.alternate,l=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&l!==null&&(o=l,r?(c=Nc(n,i),c!=null&&a.unshift(Dc(n,c,o))):r||(c=Nc(n,i),c!=null&&a.push(Dc(n,c,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var L3=/\r\n?/g,B3=/\u0000|\uFFFD/g;function m0(t){return(typeof t=="string"?t:""+t).replace(L3,`
`).replace(B3,"")}function Zl(t,e,n){if(e=m0(e),m0(t)!==e&&n)throw Error(Y(425))}function ud(){}var mm=null,gm=null;function ym(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vm=typeof setTimeout=="function"?setTimeout:void 0,$3=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,z3=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(t){return g0.resolve(null).then(t).catch(U3)}:vm;function U3(t){setTimeout(function(){throw t})}function Uf(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Pc(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Pc(e)}function Wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function y0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ko=Math.random().toString(36).slice(2),_s="__reactFiber$"+ko,Fc="__reactProps$"+ko,ar="__reactContainer$"+ko,bm="__reactEvents$"+ko,q3="__reactListeners$"+ko,Q3="__reactHandles$"+ko;function Si(t){var e=t[_s];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ar]||n[_s]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=y0(t);t!==null;){if(n=t[_s])return n;t=y0(t)}return e}t=n,n=t.parentNode}return null}function gl(t){return t=t[_s]||t[ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ca(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function hp(t){return t[Fc]||null}var xm=[],Aa=-1;function ui(t){return{current:t}}function Je(t){0>Aa||(t.current=xm[Aa],xm[Aa]=null,Aa--)}function We(t,e){Aa++,xm[Aa]=t.current,t.current=e}var ri={},Gt=ui(ri),gn=ui(!1),Ui=ri;function io(t,e){var n=t.type.contextTypes;if(!n)return ri;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function yn(t){return t=t.childContextTypes,t!=null}function dd(){Je(gn),Je(Gt)}function v0(t,e,n){if(Gt.current!==ri)throw Error(Y(168));We(Gt,e),We(gn,n)}function aT(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(Y(108,Tj(t)||"Unknown",r));return ct({},n,s)}function pd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ri,Ui=Gt.current,We(Gt,t),We(gn,gn.current),!0}function b0(t,e,n){var s=t.stateNode;if(!s)throw Error(Y(169));n?(t=aT(t,e,Ui),s.__reactInternalMemoizedMergedChildContext=t,Je(gn),Je(Gt),We(Gt,t)):Je(gn),We(gn,n)}var Vs=null,mp=!1,qf=!1;function oT(t){Vs===null?Vs=[t]:Vs.push(t)}function V3(t){mp=!0,oT(t)}function di(){if(!qf&&Vs!==null){qf=!0;var t=0,e=qe;try{var n=Vs;for(qe=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Vs=null,mp=!1}catch(r){throw Vs!==null&&(Vs=Vs.slice(t+1)),PA(ay,di),r}finally{qe=e,qf=!1}}return null}var Ta=[],Na=0,fd=null,hd=0,zn=[],Un=0,qi=null,Js=1,Xs="";function vi(t,e){Ta[Na++]=hd,Ta[Na++]=fd,fd=t,hd=e}function cT(t,e,n){zn[Un++]=Js,zn[Un++]=Xs,zn[Un++]=qi,qi=t;var s=Js;t=Xs;var r=32-ls(s)-1;s&=~(1<<r),n+=1;var i=32-ls(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Js=1<<32-ls(e)+r|n<<r|s,Xs=i+t}else Js=1<<i|n<<r|s,Xs=t}function my(t){t.return!==null&&(vi(t,1),cT(t,1,0))}function gy(t){for(;t===fd;)fd=Ta[--Na],Ta[Na]=null,hd=Ta[--Na],Ta[Na]=null;for(;t===qi;)qi=zn[--Un],zn[Un]=null,Xs=zn[--Un],zn[Un]=null,Js=zn[--Un],zn[Un]=null}var An=null,En=null,Ze=!1,ns=null;function lT(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function x0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,En=Wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qi!==null?{id:Js,overflow:Xs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,En=null,!0):!1;default:return!1}}function wm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sm(t){if(Ze){var e=En;if(e){var n=e;if(!x0(t,e)){if(wm(t))throw Error(Y(418));e=Wr(n.nextSibling);var s=An;e&&x0(t,e)?lT(s,n):(t.flags=t.flags&-4097|2,Ze=!1,An=t)}}else{if(wm(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Ze=!1,An=t}}}function w0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function eu(t){if(t!==An)return!1;if(!Ze)return w0(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ym(t.type,t.memoizedProps)),e&&(e=En)){if(wm(t))throw uT(),Error(Y(418));for(;e;)lT(t,e),e=Wr(e.nextSibling)}if(w0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=Wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=An?Wr(t.stateNode.nextSibling):null;return!0}function uT(){for(var t=En;t;)t=Wr(t.nextSibling)}function ao(){En=An=null,Ze=!1}function yy(t){ns===null?ns=[t]:ns.push(t)}var H3=dr.ReactCurrentBatchConfig;function Vo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var s=n.stateNode}if(!s)throw Error(Y(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=r.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function tu(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function S0(t){var e=t._init;return e(t._payload)}function dT(t){function e(h,b){if(t){var g=h.deletions;g===null?(h.deletions=[b],h.flags|=16):g.push(b)}}function n(h,b){if(!t)return null;for(;b!==null;)e(h,b),b=b.sibling;return null}function s(h,b){for(h=new Map;b!==null;)b.key!==null?h.set(b.key,b):h.set(b.index,b),b=b.sibling;return h}function r(h,b){return h=Xr(h,b),h.index=0,h.sibling=null,h}function i(h,b,g){return h.index=g,t?(g=h.alternate,g!==null?(g=g.index,g<b?(h.flags|=2,b):g):(h.flags|=2,b)):(h.flags|=1048576,b)}function a(h){return t&&h.alternate===null&&(h.flags|=2),h}function o(h,b,g,x){return b===null||b.tag!==6?(b=Yf(g,h.mode,x),b.return=h,b):(b=r(b,g),b.return=h,b)}function c(h,b,g,x){var k=g.type;return k===Sa?u(h,b,g.props.children,x,g.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Er&&S0(k)===b.type)?(x=r(b,g.props),x.ref=Vo(h,b,g),x.return=h,x):(x=Bu(g.type,g.key,g.props,null,h.mode,x),x.ref=Vo(h,b,g),x.return=h,x)}function l(h,b,g,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==g.containerInfo||b.stateNode.implementation!==g.implementation?(b=Jf(g,h.mode,x),b.return=h,b):(b=r(b,g.children||[]),b.return=h,b)}function u(h,b,g,x,k){return b===null||b.tag!==7?(b=Fi(g,h.mode,x,k),b.return=h,b):(b=r(b,g),b.return=h,b)}function d(h,b,g){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Yf(""+b,h.mode,g),b.return=h,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ql:return g=Bu(b.type,b.key,b.props,null,h.mode,g),g.ref=Vo(h,null,b),g.return=h,g;case wa:return b=Jf(b,h.mode,g),b.return=h,b;case Er:var x=b._init;return d(h,x(b._payload),g)}if(rc(b)||$o(b))return b=Fi(b,h.mode,g,null),b.return=h,b;tu(h,b)}return null}function p(h,b,g,x){var k=b!==null?b.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:o(h,b,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ql:return g.key===k?c(h,b,g,x):null;case wa:return g.key===k?l(h,b,g,x):null;case Er:return k=g._init,p(h,b,k(g._payload),x)}if(rc(g)||$o(g))return k!==null?null:u(h,b,g,x,null);tu(h,g)}return null}function y(h,b,g,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return h=h.get(g)||null,o(b,h,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ql:return h=h.get(x.key===null?g:x.key)||null,c(b,h,x,k);case wa:return h=h.get(x.key===null?g:x.key)||null,l(b,h,x,k);case Er:var _=x._init;return y(h,b,g,_(x._payload),k)}if(rc(x)||$o(x))return h=h.get(g)||null,u(b,h,x,k,null);tu(b,x)}return null}function m(h,b,g,x){for(var k=null,_=null,w=b,E=b=0,T=null;w!==null&&E<g.length;E++){w.index>E?(T=w,w=null):T=w.sibling;var I=p(h,w,g[E],x);if(I===null){w===null&&(w=T);break}t&&w&&I.alternate===null&&e(h,w),b=i(I,b,E),_===null?k=I:_.sibling=I,_=I,w=T}if(E===g.length)return n(h,w),Ze&&vi(h,E),k;if(w===null){for(;E<g.length;E++)w=d(h,g[E],x),w!==null&&(b=i(w,b,E),_===null?k=w:_.sibling=w,_=w);return Ze&&vi(h,E),k}for(w=s(h,w);E<g.length;E++)T=y(w,h,E,g[E],x),T!==null&&(t&&T.alternate!==null&&w.delete(T.key===null?E:T.key),b=i(T,b,E),_===null?k=T:_.sibling=T,_=T);return t&&w.forEach(function(L){return e(h,L)}),Ze&&vi(h,E),k}function f(h,b,g,x){var k=$o(g);if(typeof k!="function")throw Error(Y(150));if(g=k.call(g),g==null)throw Error(Y(151));for(var _=k=null,w=b,E=b=0,T=null,I=g.next();w!==null&&!I.done;E++,I=g.next()){w.index>E?(T=w,w=null):T=w.sibling;var L=p(h,w,I.value,x);if(L===null){w===null&&(w=T);break}t&&w&&L.alternate===null&&e(h,w),b=i(L,b,E),_===null?k=L:_.sibling=L,_=L,w=T}if(I.done)return n(h,w),Ze&&vi(h,E),k;if(w===null){for(;!I.done;E++,I=g.next())I=d(h,I.value,x),I!==null&&(b=i(I,b,E),_===null?k=I:_.sibling=I,_=I);return Ze&&vi(h,E),k}for(w=s(h,w);!I.done;E++,I=g.next())I=y(w,h,E,I.value,x),I!==null&&(t&&I.alternate!==null&&w.delete(I.key===null?E:I.key),b=i(I,b,E),_===null?k=I:_.sibling=I,_=I);return t&&w.forEach(function(q){return e(h,q)}),Ze&&vi(h,E),k}function v(h,b,g,x){if(typeof g=="object"&&g!==null&&g.type===Sa&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ql:e:{for(var k=g.key,_=b;_!==null;){if(_.key===k){if(k=g.type,k===Sa){if(_.tag===7){n(h,_.sibling),b=r(_,g.props.children),b.return=h,h=b;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Er&&S0(k)===_.type){n(h,_.sibling),b=r(_,g.props),b.ref=Vo(h,_,g),b.return=h,h=b;break e}n(h,_);break}else e(h,_);_=_.sibling}g.type===Sa?(b=Fi(g.props.children,h.mode,x,g.key),b.return=h,h=b):(x=Bu(g.type,g.key,g.props,null,h.mode,x),x.ref=Vo(h,b,g),x.return=h,h=x)}return a(h);case wa:e:{for(_=g.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===g.containerInfo&&b.stateNode.implementation===g.implementation){n(h,b.sibling),b=r(b,g.children||[]),b.return=h,h=b;break e}else{n(h,b);break}else e(h,b);b=b.sibling}b=Jf(g,h.mode,x),b.return=h,h=b}return a(h);case Er:return _=g._init,v(h,b,_(g._payload),x)}if(rc(g))return m(h,b,g,x);if($o(g))return f(h,b,g,x);tu(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,b!==null&&b.tag===6?(n(h,b.sibling),b=r(b,g),b.return=h,h=b):(n(h,b),b=Yf(g,h.mode,x),b.return=h,h=b),a(h)):n(h,b)}return v}var oo=dT(!0),pT=dT(!1),md=ui(null),gd=null,Ra=null,vy=null;function by(){vy=Ra=gd=null}function xy(t){var e=md.current;Je(md),t._currentValue=e}function _m(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Ua(t,e){gd=t,vy=Ra=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function Gn(t){var e=t._currentValue;if(vy!==t)if(t={context:t,memoizedValue:e,next:null},Ra===null){if(gd===null)throw Error(Y(308));Ra=t,gd.dependencies={lanes:0,firstContext:t}}else Ra=Ra.next=t;return e}var _i=null;function wy(t){_i===null?_i=[t]:_i.push(t)}function fT(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,wy(e)):(n.next=r.next,r.next=n),e.interleaved=n,or(t,s)}function or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var kr=!1;function Sy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kr(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,De&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,or(t,n)}return r=s.interleaved,r===null?(e.next=e,wy(s)):(e.next=r.next,r.next=e),s.interleaved=e,or(t,n)}function Iu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,oy(t,n)}}function _0(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yd(t,e,n,s){var r=t.updateQueue;kr=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,l=c.next;c.next=null,a===null?i=l:a.next=l,a=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=r.baseState;a=0,u=l=c=null,o=i;do{var p=o.lane,y=o.eventTime;if((s&p)===p){u!==null&&(u=u.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,f=o;switch(p=e,y=n,f.tag){case 1:if(m=f.payload,typeof m=="function"){d=m.call(y,d,p);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=f.payload,p=typeof m=="function"?m.call(y,d,p):m,p==null)break e;d=ct({},d,p);break e;case 2:kr=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[o]:p.push(o))}else y={eventTime:y,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(l=u=y,c=d):u=u.next=y,a|=p;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;p=o,o=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(u===null&&(c=d),r.baseState=c,r.firstBaseUpdate=l,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);Vi|=a,t.lanes=a,t.memoizedState=d}}function E0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(Y(191,r));r.call(s)}}}var yl={},As=ui(yl),Lc=ui(yl),Bc=ui(yl);function Ei(t){if(t===yl)throw Error(Y(174));return t}function _y(t,e){switch(We(Bc,e),We(Lc,t),We(As,yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sm(e,t)}Je(As),We(As,e)}function co(){Je(As),Je(Lc),Je(Bc)}function mT(t){Ei(Bc.current);var e=Ei(As.current),n=sm(e,t.type);e!==n&&(We(Lc,t),We(As,n))}function Ey(t){Lc.current===t&&(Je(As),Je(Lc))}var it=ui(0);function vd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qf=[];function ky(){for(var t=0;t<Qf.length;t++)Qf[t]._workInProgressVersionPrimary=null;Qf.length=0}var ju=dr.ReactCurrentDispatcher,Vf=dr.ReactCurrentBatchConfig,Qi=0,ot=null,kt=null,Ot=null,bd=!1,vc=!1,$c=0,G3=0;function Bt(){throw Error(Y(321))}function Cy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ps(t[n],e[n]))return!1;return!0}function Ay(t,e,n,s,r,i){if(Qi=i,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ju.current=t===null||t.memoizedState===null?J3:X3,t=n(s,r),vc){i=0;do{if(vc=!1,$c=0,25<=i)throw Error(Y(301));i+=1,Ot=kt=null,e.updateQueue=null,ju.current=Z3,t=n(s,r)}while(vc)}if(ju.current=xd,e=kt!==null&&kt.next!==null,Qi=0,Ot=kt=ot=null,bd=!1,e)throw Error(Y(300));return t}function Ty(){var t=$c!==0;return $c=0,t}function bs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ot.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Wn(){if(kt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=Ot===null?ot.memoizedState:Ot.next;if(e!==null)Ot=e,kt=t;else{if(t===null)throw Error(Y(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Ot===null?ot.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function zc(t,e){return typeof e=="function"?e(t):e}function Hf(t){var e=Wn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var s=kt,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var o=a=null,c=null,l=i;do{var u=l.lane;if((Qi&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),s=l.hasEagerState?l.eagerState:t(s,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(o=c=d,a=s):c=c.next=d,ot.lanes|=u,Vi|=u}l=l.next}while(l!==null&&l!==i);c===null?a=s:c.next=o,ps(s,e.memoizedState)||(mn=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,ot.lanes|=i,Vi|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gf(t){var e=Wn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=t(i,a.action),a=a.next;while(a!==r);ps(i,e.memoizedState)||(mn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function gT(){}function yT(t,e){var n=ot,s=Wn(),r=e(),i=!ps(s.memoizedState,r);if(i&&(s.memoizedState=r,mn=!0),s=s.queue,Ny(xT.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,Uc(9,bT.bind(null,n,s,r,e),void 0,null),It===null)throw Error(Y(349));Qi&30||vT(n,e,r)}return r}function vT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bT(t,e,n,s){e.value=n,e.getSnapshot=s,wT(e)&&ST(t)}function xT(t,e,n){return n(function(){wT(e)&&ST(t)})}function wT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ps(t,n)}catch{return!0}}function ST(t){var e=or(t,1);e!==null&&us(e,t,1,-1)}function k0(t){var e=bs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:t},e.queue=t,t=t.dispatch=Y3.bind(null,ot,t),[e.memoizedState,t]}function Uc(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function _T(){return Wn().memoizedState}function Mu(t,e,n,s){var r=bs();ot.flags|=t,r.memoizedState=Uc(1|e,n,void 0,s===void 0?null:s)}function gp(t,e,n,s){var r=Wn();s=s===void 0?null:s;var i=void 0;if(kt!==null){var a=kt.memoizedState;if(i=a.destroy,s!==null&&Cy(s,a.deps)){r.memoizedState=Uc(e,n,i,s);return}}ot.flags|=t,r.memoizedState=Uc(1|e,n,i,s)}function C0(t,e){return Mu(8390656,8,t,e)}function Ny(t,e){return gp(2048,8,t,e)}function ET(t,e){return gp(4,2,t,e)}function kT(t,e){return gp(4,4,t,e)}function CT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AT(t,e,n){return n=n!=null?n.concat([t]):null,gp(4,4,CT.bind(null,e,t),n)}function Ry(){}function TT(t,e){var n=Wn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Cy(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function NT(t,e){var n=Wn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Cy(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function RT(t,e,n){return Qi&21?(ps(n,e)||(n=MA(),ot.lanes|=n,Vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function W3(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var s=Vf.transition;Vf.transition={};try{t(!1),e()}finally{qe=n,Vf.transition=s}}function OT(){return Wn().memoizedState}function K3(t,e,n){var s=Jr(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},PT(t))IT(e,n);else if(n=fT(t,e,n,s),n!==null){var r=sn();us(n,t,s,r),jT(n,e,s)}}function Y3(t,e,n){var s=Jr(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(PT(t))IT(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(r.hasEagerState=!0,r.eagerState=o,ps(o,a)){var c=e.interleaved;c===null?(r.next=r,wy(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=fT(t,e,r,s),n!==null&&(r=sn(),us(n,t,s,r),jT(n,e,s))}}function PT(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function IT(t,e){vc=bd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jT(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,oy(t,n)}}var xd={readContext:Gn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},J3={readContext:Gn,useCallback:function(t,e){return bs().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:C0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mu(4194308,4,CT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mu(4,2,t,e)},useMemo:function(t,e){var n=bs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=bs();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=K3.bind(null,ot,t),[s.memoizedState,t]},useRef:function(t){var e=bs();return t={current:t},e.memoizedState=t},useState:k0,useDebugValue:Ry,useDeferredValue:function(t){return bs().memoizedState=t},useTransition:function(){var t=k0(!1),e=t[0];return t=W3.bind(null,t[1]),bs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ot,r=bs();if(Ze){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),It===null)throw Error(Y(349));Qi&30||vT(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,C0(xT.bind(null,s,i,t),[t]),s.flags|=2048,Uc(9,bT.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=bs(),e=It.identifierPrefix;if(Ze){var n=Xs,s=Js;n=(s&~(1<<32-ls(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=$c++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=G3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},X3={readContext:Gn,useCallback:TT,useContext:Gn,useEffect:Ny,useImperativeHandle:AT,useInsertionEffect:ET,useLayoutEffect:kT,useMemo:NT,useReducer:Hf,useRef:_T,useState:function(){return Hf(zc)},useDebugValue:Ry,useDeferredValue:function(t){var e=Wn();return RT(e,kt.memoizedState,t)},useTransition:function(){var t=Hf(zc)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:gT,useSyncExternalStore:yT,useId:OT,unstable_isNewReconciler:!1},Z3={readContext:Gn,useCallback:TT,useContext:Gn,useEffect:Ny,useImperativeHandle:AT,useInsertionEffect:ET,useLayoutEffect:kT,useMemo:NT,useReducer:Gf,useRef:_T,useState:function(){return Gf(zc)},useDebugValue:Ry,useDeferredValue:function(t){var e=Wn();return kt===null?e.memoizedState=t:RT(e,kt.memoizedState,t)},useTransition:function(){var t=Gf(zc)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:gT,useSyncExternalStore:yT,useId:OT,unstable_isNewReconciler:!1};function Jn(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Em(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yp={isMounted:function(t){return(t=t._reactInternals)?ca(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=sn(),r=Jr(t),i=tr(s,r);i.payload=e,n!=null&&(i.callback=n),e=Kr(t,i,r),e!==null&&(us(e,t,r,s),Iu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=sn(),r=Jr(t),i=tr(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Kr(t,i,r),e!==null&&(us(e,t,r,s),Iu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),s=Jr(t),r=tr(n,s);r.tag=2,e!=null&&(r.callback=e),e=Kr(t,r,s),e!==null&&(us(e,t,s,n),Iu(e,t,s))}};function A0(t,e,n,s,r,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!jc(n,s)||!jc(r,i):!0}function MT(t,e,n){var s=!1,r=ri,i=e.contextType;return typeof i=="object"&&i!==null?i=Gn(i):(r=yn(e)?Ui:Gt.current,s=e.contextTypes,i=(s=s!=null)?io(t,r):ri),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yp,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function T0(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&yp.enqueueReplaceState(e,e.state,null)}function km(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Sy(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Gn(i):(i=yn(e)?Ui:Gt.current,r.context=io(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Em(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&yp.enqueueReplaceState(r,r.state,null),yd(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function lo(t,e){try{var n="",s=e;do n+=Aj(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Wf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eM=typeof WeakMap=="function"?WeakMap:Map;function DT(t,e,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Sd||(Sd=!0,Dm=s),Cm(t,e)},n}function FT(t,e,n){n=tr(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){Cm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cm(t,e),typeof s!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function N0(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new eM;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=hM.bind(null,t,e,n),e.then(t,t))}function R0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function O0(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tr(-1,1),e.tag=2,Kr(n,e,1))),n.lanes|=1),t)}var tM=dr.ReactCurrentOwner,mn=!1;function Zt(t,e,n,s){e.child=t===null?pT(e,null,n,s):oo(e,t.child,n,s)}function P0(t,e,n,s,r){n=n.render;var i=e.ref;return Ua(e,r),s=Ay(t,e,n,s,i,r),n=Ty(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,cr(t,e,r)):(Ze&&n&&my(e),e.flags|=1,Zt(t,e,s,r),e.child)}function I0(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Ly(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,LT(t,e,i,s,r)):(t=Bu(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:jc,n(a,s)&&t.ref===e.ref)return cr(t,e,r)}return e.flags|=1,t=Xr(i,s),t.ref=e.ref,t.return=e,e.child=t}function LT(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(jc(i,s)&&t.ref===e.ref)if(mn=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,cr(t,e,r)}return Am(t,e,n,s,r)}function BT(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Pa,wn),wn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Pa,wn),wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,We(Pa,wn),wn|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,We(Pa,wn),wn|=s;return Zt(t,e,r,n),e.child}function $T(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Am(t,e,n,s,r){var i=yn(n)?Ui:Gt.current;return i=io(e,i),Ua(e,r),n=Ay(t,e,n,s,i,r),s=Ty(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,cr(t,e,r)):(Ze&&s&&my(e),e.flags|=1,Zt(t,e,n,r),e.child)}function j0(t,e,n,s,r){if(yn(n)){var i=!0;pd(e)}else i=!1;if(Ua(e,r),e.stateNode===null)Du(t,e),MT(e,n,s),km(e,n,s,r),s=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,l=n.contextType;typeof l=="object"&&l!==null?l=Gn(l):(l=yn(n)?Ui:Gt.current,l=io(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==s||c!==l)&&T0(e,a,s,l),kr=!1;var p=e.memoizedState;a.state=p,yd(e,s,a,r),c=e.memoizedState,o!==s||p!==c||gn.current||kr?(typeof u=="function"&&(Em(e,n,u,s),c=e.memoizedState),(o=kr||A0(e,n,o,s,p,c,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),a.props=s,a.state=c,a.context=l,s=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,hT(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:Jn(e.type,o),a.props=l,d=e.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Gn(c):(c=yn(n)?Ui:Gt.current,c=io(e,c));var y=n.getDerivedStateFromProps;(u=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||p!==c)&&T0(e,a,s,c),kr=!1,p=e.memoizedState,a.state=p,yd(e,s,a,r);var m=e.memoizedState;o!==d||p!==m||gn.current||kr?(typeof y=="function"&&(Em(e,n,y,s),m=e.memoizedState),(l=kr||A0(e,n,l,s,p,m,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),a.props=s,a.state=m,a.context=c,s=l):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return Tm(t,e,n,s,i,r)}function Tm(t,e,n,s,r,i){$T(t,e);var a=(e.flags&128)!==0;if(!s&&!a)return r&&b0(e,n,!1),cr(t,e,i);s=e.stateNode,tM.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&a?(e.child=oo(e,t.child,null,i),e.child=oo(e,null,o,i)):Zt(t,e,o,i),e.memoizedState=s.state,r&&b0(e,n,!0),e.child}function zT(t){var e=t.stateNode;e.pendingContext?v0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&v0(t,e.context,!1),_y(t,e.containerInfo)}function M0(t,e,n,s,r){return ao(),yy(r),e.flags|=256,Zt(t,e,n,s),e.child}var Nm={dehydrated:null,treeContext:null,retryLane:0};function Rm(t){return{baseLanes:t,cachePool:null,transitions:null}}function UT(t,e,n){var s=e.pendingProps,r=it.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),We(it,r&1),t===null)return Sm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=s.children,t=s.fallback,i?(s=e.mode,i=e.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=xp(a,s,0,null),t=Fi(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Rm(n),e.memoizedState=Nm,t):Oy(e,a));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return nM(t,e,a,s,o,r,n);if(i){i=s.fallback,a=e.mode,r=t.child,o=r.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=Xr(r,c),s.subtreeFlags=r.subtreeFlags&14680064),o!==null?i=Xr(o,i):(i=Fi(i,a,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,a=t.child.memoizedState,a=a===null?Rm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Nm,s}return i=t.child,t=i.sibling,s=Xr(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Oy(t,e){return e=xp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nu(t,e,n,s){return s!==null&&yy(s),oo(e,t.child,null,n),t=Oy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nM(t,e,n,s,r,i,a){if(n)return e.flags&256?(e.flags&=-257,s=Wf(Error(Y(422))),nu(t,e,a,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=xp({mode:"visible",children:s.children},r,0,null),i=Fi(i,r,a,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&oo(e,t.child,null,a),e.child.memoizedState=Rm(a),e.memoizedState=Nm,i);if(!(e.mode&1))return nu(t,e,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(Y(419)),s=Wf(i,s,void 0),nu(t,e,a,s)}if(o=(a&t.childLanes)!==0,mn||o){if(s=It,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,or(t,r),us(s,t,r,-1))}return Fy(),s=Wf(Error(Y(421))),nu(t,e,a,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=mM.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,En=Wr(r.nextSibling),An=e,Ze=!0,ns=null,t!==null&&(zn[Un++]=Js,zn[Un++]=Xs,zn[Un++]=qi,Js=t.id,Xs=t.overflow,qi=e),e=Oy(e,s.children),e.flags|=4096,e)}function D0(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),_m(t.return,e,n)}function Kf(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function qT(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Zt(t,e,s.children,n),s=it.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D0(t,n,e);else if(t.tag===19)D0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(We(it,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&vd(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Kf(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&vd(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Kf(e,!0,n,null,i);break;case"together":Kf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Du(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Xr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sM(t,e,n){switch(e.tag){case 3:zT(e),ao();break;case 5:mT(e);break;case 1:yn(e.type)&&pd(e);break;case 4:_y(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;We(md,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(We(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?UT(t,e,n):(We(it,it.current&1),t=cr(t,e,n),t!==null?t.sibling:null);We(it,it.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return qT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),We(it,it.current),s)break;return null;case 22:case 23:return e.lanes=0,BT(t,e,n)}return cr(t,e,n)}var QT,Om,VT,HT;QT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Om=function(){};VT=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Ei(As.current);var i=null;switch(n){case"input":r=Zh(t,r),s=Zh(t,s),i=[];break;case"select":r=ct({},r,{value:void 0}),s=ct({},s,{value:void 0}),i=[];break;case"textarea":r=nm(t,r),s=nm(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=ud)}rm(n,s);var a;n=null;for(l in r)if(!s.hasOwnProperty(l)&&r.hasOwnProperty(l)&&r[l]!=null)if(l==="style"){var o=r[l];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ac.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in s){var c=s[l];if(o=r!=null?r[l]:void 0,s.hasOwnProperty(l)&&c!==o&&(c!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ac.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Ye("scroll",t),i||o===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};HT=function(t,e,n,s){n!==s&&(e.flags|=4)};function Ho(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function rM(t,e,n){var s=e.pendingProps;switch(gy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return yn(e.type)&&dd(),$t(e),null;case 3:return s=e.stateNode,co(),Je(gn),Je(Gt),ky(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ns!==null&&(Bm(ns),ns=null))),Om(t,e),$t(e),null;case 5:Ey(e);var r=Ei(Bc.current);if(n=e.type,t!==null&&e.stateNode!=null)VT(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(Y(166));return $t(e),null}if(t=Ei(As.current),eu(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[_s]=e,s[Fc]=i,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(r=0;r<ac.length;r++)Ye(ac[r],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Vb(s,i),Ye("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Ye("invalid",s);break;case"textarea":Gb(s,i),Ye("invalid",s)}rm(n,i),r=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&Zl(s.textContent,o,t),r=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Zl(s.textContent,o,t),r=["children",""+o]):Ac.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ye("scroll",s)}switch(n){case"input":Vl(s),Hb(s,i,!0);break;case"textarea":Vl(s),Wb(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=ud)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=a.createElement(n,{is:s.is}):(t=a.createElement(n),n==="select"&&(a=t,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):t=a.createElementNS(t,n),t[_s]=e,t[Fc]=s,QT(t,e,!1,!1),e.stateNode=t;e:{switch(a=im(n,s),n){case"dialog":Ye("cancel",t),Ye("close",t),r=s;break;case"iframe":case"object":case"embed":Ye("load",t),r=s;break;case"video":case"audio":for(r=0;r<ac.length;r++)Ye(ac[r],t);r=s;break;case"source":Ye("error",t),r=s;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),r=s;break;case"details":Ye("toggle",t),r=s;break;case"input":Vb(t,s),r=Zh(t,s),Ye("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=ct({},s,{value:void 0}),Ye("invalid",t);break;case"textarea":Gb(t,s),r=nm(t,s),Ye("invalid",t);break;default:r=s}rm(n,r),o=r;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?_A(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wA(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Tc(t,c):typeof c=="number"&&Tc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ac.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ye("scroll",t):c!=null&&ty(t,i,c,a))}switch(n){case"input":Vl(t),Hb(t,s,!1);break;case"textarea":Vl(t),Wb(t);break;case"option":s.value!=null&&t.setAttribute("value",""+si(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?La(t,!!s.multiple,i,!1):s.defaultValue!=null&&La(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=ud)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)HT(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Ei(Bc.current),Ei(As.current),eu(e)){if(s=e.stateNode,n=e.memoizedProps,s[_s]=e,(i=s.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:Zl(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zl(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[_s]=e,e.stateNode=s}return $t(e),null;case 13:if(Je(it),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&En!==null&&e.mode&1&&!(e.flags&128))uT(),ao(),e.flags|=98560,i=!1;else if(i=eu(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[_s]=e}else ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),i=!1}else ns!==null&&(Bm(ns),ns=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Nt===0&&(Nt=3):Fy())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return co(),Om(t,e),t===null&&Mc(e.stateNode.containerInfo),$t(e),null;case 10:return xy(e.type._context),$t(e),null;case 17:return yn(e.type)&&dd(),$t(e),null;case 19:if(Je(it),i=e.memoizedState,i===null)return $t(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)Ho(i,!1);else{if(Nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=vd(t),a!==null){for(e.flags|=128,Ho(i,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(it,it.current&1|2),e.child}t=t.sibling}i.tail!==null&&mt()>uo&&(e.flags|=128,s=!0,Ho(i,!1),e.lanes=4194304)}else{if(!s)if(t=vd(a),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ho(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ze)return $t(e),null}else 2*mt()-i.renderingStartTime>uo&&n!==1073741824&&(e.flags|=128,s=!0,Ho(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=mt(),e.sibling=null,n=it.current,We(it,s?n&1|2:n&1),e):($t(e),null);case 22:case 23:return Dy(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?wn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function iM(t,e){switch(gy(e),e.tag){case 1:return yn(e.type)&&dd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return co(),Je(gn),Je(Gt),ky(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ey(e),null;case 13:if(Je(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(it),null;case 4:return co(),null;case 10:return xy(e.type._context),null;case 22:case 23:return Dy(),null;case 24:return null;default:return null}}var su=!1,Qt=!1,aM=typeof WeakSet=="function"?WeakSet:Set,le=null;function Oa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){dt(t,e,s)}else n.current=null}function Pm(t,e,n){try{n()}catch(s){dt(t,e,s)}}var F0=!1;function oM(t,e){if(mm=od,t=JA(),hy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,l=0,u=0,d=t,p=null;t:for(;;){for(var y;d!==n||r!==0&&d.nodeType!==3||(o=a+r),d!==i||s!==0&&d.nodeType!==3||(c=a+s),d.nodeType===3&&(a+=d.nodeValue.length),(y=d.firstChild)!==null;)p=d,d=y;for(;;){if(d===t)break t;if(p===n&&++l===r&&(o=a),p===i&&++u===s&&(c=a),(y=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=y}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gm={focusedElem:t,selectionRange:n},od=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var f=m.memoizedProps,v=m.memoizedState,h=e.stateNode,b=h.getSnapshotBeforeUpdate(e.elementType===e.type?f:Jn(e.type,f),v);h.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(x){dt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return m=F0,F0=!1,m}function bc(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Pm(e,n,i)}r=r.next}while(r!==s)}}function vp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function Im(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function GT(t){var e=t.alternate;e!==null&&(t.alternate=null,GT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_s],delete e[Fc],delete e[bm],delete e[q3],delete e[Q3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WT(t){return t.tag===5||t.tag===3||t.tag===4}function L0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ud));else if(s!==4&&(t=t.child,t!==null))for(jm(t,e,n),t=t.sibling;t!==null;)jm(t,e,n),t=t.sibling}function Mm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Mm(t,e,n),t=t.sibling;t!==null;)Mm(t,e,n),t=t.sibling}var Mt=null,es=!1;function yr(t,e,n){for(n=n.child;n!==null;)KT(t,e,n),n=n.sibling}function KT(t,e,n){if(Cs&&typeof Cs.onCommitFiberUnmount=="function")try{Cs.onCommitFiberUnmount(up,n)}catch{}switch(n.tag){case 5:Qt||Oa(n,e);case 6:var s=Mt,r=es;Mt=null,yr(t,e,n),Mt=s,es=r,Mt!==null&&(es?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(es?(t=Mt,n=n.stateNode,t.nodeType===8?Uf(t.parentNode,n):t.nodeType===1&&Uf(t,n),Pc(t)):Uf(Mt,n.stateNode));break;case 4:s=Mt,r=es,Mt=n.stateNode.containerInfo,es=!0,yr(t,e,n),Mt=s,es=r;break;case 0:case 11:case 14:case 15:if(!Qt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Pm(n,e,a),r=r.next}while(r!==s)}yr(t,e,n);break;case 1:if(!Qt&&(Oa(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){dt(n,e,o)}yr(t,e,n);break;case 21:yr(t,e,n);break;case 22:n.mode&1?(Qt=(s=Qt)||n.memoizedState!==null,yr(t,e,n),Qt=s):yr(t,e,n);break;default:yr(t,e,n)}}function B0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aM),e.forEach(function(s){var r=gM.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Mt=o.stateNode,es=!1;break e;case 3:Mt=o.stateNode.containerInfo,es=!0;break e;case 4:Mt=o.stateNode.containerInfo,es=!0;break e}o=o.return}if(Mt===null)throw Error(Y(160));KT(i,a,r),Mt=null,es=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(l){dt(r,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YT(e,t),e=e.sibling}function YT(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),gs(t),s&4){try{bc(3,t,t.return),vp(3,t)}catch(f){dt(t,t.return,f)}try{bc(5,t,t.return)}catch(f){dt(t,t.return,f)}}break;case 1:Kn(e,t),gs(t),s&512&&n!==null&&Oa(n,n.return);break;case 5:if(Kn(e,t),gs(t),s&512&&n!==null&&Oa(n,n.return),t.flags&32){var r=t.stateNode;try{Tc(r,"")}catch(f){dt(t,t.return,f)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&vA(r,i),im(o,a);var l=im(o,i);for(a=0;a<c.length;a+=2){var u=c[a],d=c[a+1];u==="style"?_A(r,d):u==="dangerouslySetInnerHTML"?wA(r,d):u==="children"?Tc(r,d):ty(r,u,d,l)}switch(o){case"input":em(r,i);break;case"textarea":bA(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?La(r,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?La(r,!!i.multiple,i.defaultValue,!0):La(r,!!i.multiple,i.multiple?[]:"",!1))}r[Fc]=i}catch(f){dt(t,t.return,f)}}break;case 6:if(Kn(e,t),gs(t),s&4){if(t.stateNode===null)throw Error(Y(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(f){dt(t,t.return,f)}}break;case 3:if(Kn(e,t),gs(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Pc(e.containerInfo)}catch(f){dt(t,t.return,f)}break;case 4:Kn(e,t),gs(t);break;case 13:Kn(e,t),gs(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(jy=mt())),s&4&&B0(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(l=Qt)||u,Kn(e,t),Qt=l):Kn(e,t),gs(t),s&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(le=t,u=t.child;u!==null;){for(d=le=u;le!==null;){switch(p=le,y=p.child,p.tag){case 0:case 11:case 14:case 15:bc(4,p,p.return);break;case 1:Oa(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){s=p,n=p.return;try{e=s,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(f){dt(s,n,f)}}break;case 5:Oa(p,p.return);break;case 22:if(p.memoizedState!==null){z0(d);continue}}y!==null?(y.return=p,le=y):z0(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,l?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=SA("display",a))}catch(f){dt(t,t.return,f)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(f){dt(t,t.return,f)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Kn(e,t),gs(t),s&4&&B0(t);break;case 21:break;default:Kn(e,t),gs(t)}}function gs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(WT(n)){var s=n;break e}n=n.return}throw Error(Y(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Tc(r,""),s.flags&=-33);var i=L0(t);Mm(t,i,r);break;case 3:case 4:var a=s.stateNode.containerInfo,o=L0(t);jm(t,o,a);break;default:throw Error(Y(161))}}catch(c){dt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cM(t,e,n){le=t,JT(t)}function JT(t,e,n){for(var s=(t.mode&1)!==0;le!==null;){var r=le,i=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||su;if(!a){var o=r.alternate,c=o!==null&&o.memoizedState!==null||Qt;o=su;var l=Qt;if(su=a,(Qt=c)&&!l)for(le=r;le!==null;)a=le,c=a.child,a.tag===22&&a.memoizedState!==null?U0(r):c!==null?(c.return=a,le=c):U0(r);for(;i!==null;)le=i,JT(i),i=i.sibling;le=r,su=o,Qt=l}$0(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,le=i):$0(t)}}function $0(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||vp(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Qt)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&E0(e,i,s);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}E0(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Pc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Qt||e.flags&512&&Im(e)}catch(p){dt(e,e.return,p)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function z0(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function U0(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vp(4,e)}catch(c){dt(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){dt(e,r,c)}}var i=e.return;try{Im(e)}catch(c){dt(e,i,c)}break;case 5:var a=e.return;try{Im(e)}catch(c){dt(e,a,c)}}}catch(c){dt(e,e.return,c)}if(e===t){le=null;break}var o=e.sibling;if(o!==null){o.return=e.return,le=o;break}le=e.return}}var lM=Math.ceil,wd=dr.ReactCurrentDispatcher,Py=dr.ReactCurrentOwner,Vn=dr.ReactCurrentBatchConfig,De=0,It=null,bt=null,Dt=0,wn=0,Pa=ui(0),Nt=0,qc=null,Vi=0,bp=0,Iy=0,xc=null,hn=null,jy=0,uo=1/0,Qs=null,Sd=!1,Dm=null,Yr=null,ru=!1,$r=null,_d=0,wc=0,Fm=null,Fu=-1,Lu=0;function sn(){return De&6?mt():Fu!==-1?Fu:Fu=mt()}function Jr(t){return t.mode&1?De&2&&Dt!==0?Dt&-Dt:H3.transition!==null?(Lu===0&&(Lu=MA()),Lu):(t=qe,t!==0||(t=window.event,t=t===void 0?16:UA(t.type)),t):1}function us(t,e,n,s){if(50<wc)throw wc=0,Fm=null,Error(Y(185));hl(t,n,s),(!(De&2)||t!==It)&&(t===It&&(!(De&2)&&(bp|=n),Nt===4&&Ar(t,Dt)),vn(t,s),n===1&&De===0&&!(e.mode&1)&&(uo=mt()+500,mp&&di()))}function vn(t,e){var n=t.callbackNode;Hj(t,e);var s=ad(t,t===It?Dt:0);if(s===0)n!==null&&Jb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Jb(n),e===1)t.tag===0?V3(q0.bind(null,t)):oT(q0.bind(null,t)),z3(function(){!(De&6)&&di()}),n=null;else{switch(DA(s)){case 1:n=ay;break;case 4:n=IA;break;case 16:n=id;break;case 536870912:n=jA;break;default:n=id}n=iN(n,XT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XT(t,e){if(Fu=-1,Lu=0,De&6)throw Error(Y(327));var n=t.callbackNode;if(qa()&&t.callbackNode!==n)return null;var s=ad(t,t===It?Dt:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Ed(t,s);else{e=s;var r=De;De|=2;var i=eN();(It!==t||Dt!==e)&&(Qs=null,uo=mt()+500,Di(t,e));do try{pM();break}catch(o){ZT(t,o)}while(!0);by(),wd.current=i,De=r,bt!==null?e=0:(It=null,Dt=0,e=Nt)}if(e!==0){if(e===2&&(r=um(t),r!==0&&(s=r,e=Lm(t,r))),e===1)throw n=qc,Di(t,0),Ar(t,s),vn(t,mt()),n;if(e===6)Ar(t,s);else{if(r=t.current.alternate,!(s&30)&&!uM(r)&&(e=Ed(t,s),e===2&&(i=um(t),i!==0&&(s=i,e=Lm(t,i))),e===1))throw n=qc,Di(t,0),Ar(t,s),vn(t,mt()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(Y(345));case 2:bi(t,hn,Qs);break;case 3:if(Ar(t,s),(s&130023424)===s&&(e=jy+500-mt(),10<e)){if(ad(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){sn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=vm(bi.bind(null,t,hn,Qs),e);break}bi(t,hn,Qs);break;case 4:if(Ar(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var a=31-ls(s);i=1<<a,a=e[a],a>r&&(r=a),s&=~i}if(s=r,s=mt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*lM(s/1960))-s,10<s){t.timeoutHandle=vm(bi.bind(null,t,hn,Qs),s);break}bi(t,hn,Qs);break;case 5:bi(t,hn,Qs);break;default:throw Error(Y(329))}}}return vn(t,mt()),t.callbackNode===n?XT.bind(null,t):null}function Lm(t,e){var n=xc;return t.current.memoizedState.isDehydrated&&(Di(t,e).flags|=256),t=Ed(t,e),t!==2&&(e=hn,hn=n,e!==null&&Bm(e)),t}function Bm(t){hn===null?hn=t:hn.push.apply(hn,t)}function uM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!ps(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ar(t,e){for(e&=~Iy,e&=~bp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ls(e),s=1<<n;t[n]=-1,e&=~s}}function q0(t){if(De&6)throw Error(Y(327));qa();var e=ad(t,0);if(!(e&1))return vn(t,mt()),null;var n=Ed(t,e);if(t.tag!==0&&n===2){var s=um(t);s!==0&&(e=s,n=Lm(t,s))}if(n===1)throw n=qc,Di(t,0),Ar(t,e),vn(t,mt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bi(t,hn,Qs),vn(t,mt()),null}function My(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(uo=mt()+500,mp&&di())}}function Hi(t){$r!==null&&$r.tag===0&&!(De&6)&&qa();var e=De;De|=1;var n=Vn.transition,s=qe;try{if(Vn.transition=null,qe=1,t)return t()}finally{qe=s,Vn.transition=n,De=e,!(De&6)&&di()}}function Dy(){wn=Pa.current,Je(Pa)}function Di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$3(n)),bt!==null)for(n=bt.return;n!==null;){var s=n;switch(gy(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&dd();break;case 3:co(),Je(gn),Je(Gt),ky();break;case 5:Ey(s);break;case 4:co();break;case 13:Je(it);break;case 19:Je(it);break;case 10:xy(s.type._context);break;case 22:case 23:Dy()}n=n.return}if(It=t,bt=t=Xr(t.current,null),Dt=wn=e,Nt=0,qc=null,Iy=bp=Vi=0,hn=xc=null,_i!==null){for(e=0;e<_i.length;e++)if(n=_i[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var a=i.next;i.next=r,s.next=a}n.pending=s}_i=null}return t}function ZT(t,e){do{var n=bt;try{if(by(),ju.current=xd,bd){for(var s=ot.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}bd=!1}if(Qi=0,Ot=kt=ot=null,vc=!1,$c=0,Py.current=null,n===null||n.return===null){Nt=1,qc=e,bt=null;break}e:{var i=t,a=n.return,o=n,c=e;if(e=Dt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=R0(a);if(y!==null){y.flags&=-257,O0(y,a,o,i,e),y.mode&1&&N0(i,l,e),e=y,c=l;var m=e.updateQueue;if(m===null){var f=new Set;f.add(c),e.updateQueue=f}else m.add(c);break e}else{if(!(e&1)){N0(i,l,e),Fy();break e}c=Error(Y(426))}}else if(Ze&&o.mode&1){var v=R0(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),O0(v,a,o,i,e),yy(lo(c,o));break e}}i=c=lo(c,o),Nt!==4&&(Nt=2),xc===null?xc=[i]:xc.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var h=DT(i,c,e);_0(i,h);break e;case 1:o=c;var b=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Yr===null||!Yr.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=FT(i,o,e);_0(i,x);break e}}i=i.return}while(i!==null)}nN(n)}catch(k){e=k,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function eN(){var t=wd.current;return wd.current=xd,t===null?xd:t}function Fy(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),It===null||!(Vi&268435455)&&!(bp&268435455)||Ar(It,Dt)}function Ed(t,e){var n=De;De|=2;var s=eN();(It!==t||Dt!==e)&&(Qs=null,Di(t,e));do try{dM();break}catch(r){ZT(t,r)}while(!0);if(by(),De=n,wd.current=s,bt!==null)throw Error(Y(261));return It=null,Dt=0,Nt}function dM(){for(;bt!==null;)tN(bt)}function pM(){for(;bt!==null&&!Fj();)tN(bt)}function tN(t){var e=rN(t.alternate,t,wn);t.memoizedProps=t.pendingProps,e===null?nN(t):bt=e,Py.current=null}function nN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iM(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nt=6,bt=null;return}}else if(n=rM(n,e,wn),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);Nt===0&&(Nt=5)}function bi(t,e,n){var s=qe,r=Vn.transition;try{Vn.transition=null,qe=1,fM(t,e,n,s)}finally{Vn.transition=r,qe=s}return null}function fM(t,e,n,s){do qa();while($r!==null);if(De&6)throw Error(Y(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Gj(t,i),t===It&&(bt=It=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ru||(ru=!0,iN(id,function(){return qa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vn.transition,Vn.transition=null;var a=qe;qe=1;var o=De;De|=4,Py.current=null,oM(t,n),YT(n,t),I3(gm),od=!!mm,gm=mm=null,t.current=n,cM(n),Lj(),De=o,qe=a,Vn.transition=i}else t.current=n;if(ru&&(ru=!1,$r=t,_d=r),i=t.pendingLanes,i===0&&(Yr=null),zj(n.stateNode),vn(t,mt()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Sd)throw Sd=!1,t=Dm,Dm=null,t;return _d&1&&t.tag!==0&&qa(),i=t.pendingLanes,i&1?t===Fm?wc++:(wc=0,Fm=t):wc=0,di(),null}function qa(){if($r!==null){var t=DA(_d),e=Vn.transition,n=qe;try{if(Vn.transition=null,qe=16>t?16:t,$r===null)var s=!1;else{if(t=$r,$r=null,_d=0,De&6)throw Error(Y(331));var r=De;for(De|=4,le=t.current;le!==null;){var i=le,a=i.child;if(le.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var l=o[c];for(le=l;le!==null;){var u=le;switch(u.tag){case 0:case 11:case 15:bc(8,u,i)}var d=u.child;if(d!==null)d.return=u,le=d;else for(;le!==null;){u=le;var p=u.sibling,y=u.return;if(GT(u),u===l){le=null;break}if(p!==null){p.return=y,le=p;break}le=y}}}var m=i.alternate;if(m!==null){var f=m.child;if(f!==null){m.child=null;do{var v=f.sibling;f.sibling=null,f=v}while(f!==null)}}le=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,le=a;else e:for(;le!==null;){if(i=le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bc(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,le=h;break e}le=i.return}}var b=t.current;for(le=b;le!==null;){a=le;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,le=g;else e:for(a=b;le!==null;){if(o=le,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:vp(9,o)}}catch(k){dt(o,o.return,k)}if(o===a){le=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,le=x;break e}le=o.return}}if(De=r,di(),Cs&&typeof Cs.onPostCommitFiberRoot=="function")try{Cs.onPostCommitFiberRoot(up,t)}catch{}s=!0}return s}finally{qe=n,Vn.transition=e}}return!1}function Q0(t,e,n){e=lo(n,e),e=DT(t,e,1),t=Kr(t,e,1),e=sn(),t!==null&&(hl(t,1,e),vn(t,e))}function dt(t,e,n){if(t.tag===3)Q0(t,t,n);else for(;e!==null;){if(e.tag===3){Q0(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Yr===null||!Yr.has(s))){t=lo(n,t),t=FT(e,t,1),e=Kr(e,t,1),t=sn(),e!==null&&(hl(e,1,t),vn(e,t));break}}e=e.return}}function hM(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Dt&n)===n&&(Nt===4||Nt===3&&(Dt&130023424)===Dt&&500>mt()-jy?Di(t,0):Iy|=n),vn(t,e)}function sN(t,e){e===0&&(t.mode&1?(e=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):e=1);var n=sn();t=or(t,e),t!==null&&(hl(t,e,n),vn(t,n))}function mM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sN(t,n)}function gM(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(Y(314))}s!==null&&s.delete(e),sN(t,n)}var rN;rN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,sM(t,e,n);mn=!!(t.flags&131072)}else mn=!1,Ze&&e.flags&1048576&&cT(e,hd,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Du(t,e),t=e.pendingProps;var r=io(e,Gt.current);Ua(e,n),r=Ay(null,e,s,t,r,n);var i=Ty();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(s)?(i=!0,pd(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Sy(e),r.updater=yp,e.stateNode=r,r._reactInternals=e,km(e,s,t,n),e=Tm(null,e,s,!0,i,n)):(e.tag=0,Ze&&i&&my(e),Zt(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Du(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=vM(s),t=Jn(s,t),r){case 0:e=Am(null,e,s,t,n);break e;case 1:e=j0(null,e,s,t,n);break e;case 11:e=P0(null,e,s,t,n);break e;case 14:e=I0(null,e,s,Jn(s.type,t),n);break e}throw Error(Y(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Jn(s,r),Am(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Jn(s,r),j0(t,e,s,r,n);case 3:e:{if(zT(e),t===null)throw Error(Y(387));s=e.pendingProps,i=e.memoizedState,r=i.element,hT(t,e),yd(e,s,null,n);var a=e.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=lo(Error(Y(423)),e),e=M0(t,e,s,n,r);break e}else if(s!==r){r=lo(Error(Y(424)),e),e=M0(t,e,s,n,r);break e}else for(En=Wr(e.stateNode.containerInfo.firstChild),An=e,Ze=!0,ns=null,n=pT(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ao(),s===r){e=cr(t,e,n);break e}Zt(t,e,s,n)}e=e.child}return e;case 5:return mT(e),t===null&&Sm(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,a=r.children,ym(s,r)?a=null:i!==null&&ym(s,i)&&(e.flags|=32),$T(t,e),Zt(t,e,a,n),e.child;case 6:return t===null&&Sm(e),null;case 13:return UT(t,e,n);case 4:return _y(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=oo(e,null,s,n):Zt(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Jn(s,r),P0(t,e,s,r,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,a=r.value,We(md,s._currentValue),s._currentValue=a,i!==null)if(ps(i.value,a)){if(i.children===r.children&&!gn.current){e=cr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=tr(-1,n&-n),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),_m(i.return,n,e),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Y(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),_m(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Zt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Ua(e,n),r=Gn(r),s=s(r),e.flags|=1,Zt(t,e,s,n),e.child;case 14:return s=e.type,r=Jn(s,e.pendingProps),r=Jn(s.type,r),I0(t,e,s,r,n);case 15:return LT(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Jn(s,r),Du(t,e),e.tag=1,yn(s)?(t=!0,pd(e)):t=!1,Ua(e,n),MT(e,s,r),km(e,s,r,n),Tm(null,e,s,!0,t,n);case 19:return qT(t,e,n);case 22:return BT(t,e,n)}throw Error(Y(156,e.tag))};function iN(t,e){return PA(t,e)}function yM(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,s){return new yM(t,e,n,s)}function Ly(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vM(t){if(typeof t=="function")return Ly(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sy)return 11;if(t===ry)return 14}return 2}function Xr(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bu(t,e,n,s,r,i){var a=2;if(s=t,typeof t=="function")Ly(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Sa:return Fi(n.children,r,i,e);case ny:a=8,r|=8;break;case Kh:return t=Qn(12,n,e,r|2),t.elementType=Kh,t.lanes=i,t;case Yh:return t=Qn(13,n,e,r),t.elementType=Yh,t.lanes=i,t;case Jh:return t=Qn(19,n,e,r),t.elementType=Jh,t.lanes=i,t;case mA:return xp(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fA:a=10;break e;case hA:a=9;break e;case sy:a=11;break e;case ry:a=14;break e;case Er:a=16,s=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Qn(a,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Fi(t,e,n,s){return t=Qn(7,t,s,e),t.lanes=n,t}function xp(t,e,n,s){return t=Qn(22,t,s,e),t.elementType=mA,t.lanes=n,t.stateNode={isHidden:!1},t}function Yf(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function Jf(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bM(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function By(t,e,n,s,r,i,a,o,c){return t=new bM(t,e,n,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Qn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sy(i),t}function xM(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function aN(t){if(!t)return ri;t=t._reactInternals;e:{if(ca(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(yn(n))return aT(t,n,e)}return e}function oN(t,e,n,s,r,i,a,o,c){return t=By(n,s,!0,t,r,i,a,o,c),t.context=aN(null),n=t.current,s=sn(),r=Jr(n),i=tr(s,r),i.callback=e??null,Kr(n,i,r),t.current.lanes=r,hl(t,r,s),vn(t,s),t}function wp(t,e,n,s){var r=e.current,i=sn(),a=Jr(r);return n=aN(n),e.context===null?e.context=n:e.pendingContext=n,e=tr(i,a),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Kr(r,e,a),t!==null&&(us(t,r,a,i),Iu(t,r,a)),a}function kd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $y(t,e){V0(t,e),(t=t.alternate)&&V0(t,e)}function wM(){return null}var cN=typeof reportError=="function"?reportError:function(t){console.error(t)};function zy(t){this._internalRoot=t}Sp.prototype.render=zy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));wp(t,e,null,null)};Sp.prototype.unmount=zy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hi(function(){wp(null,t,null,null)}),e[ar]=null}};function Sp(t){this._internalRoot=t}Sp.prototype.unstable_scheduleHydration=function(t){if(t){var e=BA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cr.length&&e!==0&&e<Cr[n].priority;n++);Cr.splice(n,0,t),n===0&&zA(t)}};function Uy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function H0(){}function SM(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var l=kd(a);i.call(l)}}var a=oN(e,s,t,0,null,!1,!1,"",H0);return t._reactRootContainer=a,t[ar]=a.current,Mc(t.nodeType===8?t.parentNode:t),Hi(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var o=s;s=function(){var l=kd(c);o.call(l)}}var c=By(t,0,!1,null,null,!1,!1,"",H0);return t._reactRootContainer=c,t[ar]=c.current,Mc(t.nodeType===8?t.parentNode:t),Hi(function(){wp(e,c,n,s)}),c}function Ep(t,e,n,s,r){var i=n._reactRootContainer;if(i){var a=i;if(typeof r=="function"){var o=r;r=function(){var c=kd(a);o.call(c)}}wp(e,a,t,r)}else a=SM(n,e,t,r,s);return kd(a)}FA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ic(e.pendingLanes);n!==0&&(oy(e,n|1),vn(e,mt()),!(De&6)&&(uo=mt()+500,di()))}break;case 13:Hi(function(){var s=or(t,1);if(s!==null){var r=sn();us(s,t,1,r)}}),$y(t,1)}};cy=function(t){if(t.tag===13){var e=or(t,134217728);if(e!==null){var n=sn();us(e,t,134217728,n)}$y(t,134217728)}};LA=function(t){if(t.tag===13){var e=Jr(t),n=or(t,e);if(n!==null){var s=sn();us(n,t,e,s)}$y(t,e)}};BA=function(){return qe};$A=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};om=function(t,e,n){switch(e){case"input":if(em(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=hp(s);if(!r)throw Error(Y(90));yA(s),em(s,r)}}}break;case"textarea":bA(t,n);break;case"select":e=n.value,e!=null&&La(t,!!n.multiple,e,!1)}};CA=My;AA=Hi;var _M={usingClientEntryPoint:!1,Events:[gl,Ca,hp,EA,kA,My]},Go={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EM={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=RA(t),t===null?null:t.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||wM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{up=iu.inject(EM),Cs=iu}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_M;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uy(e))throw Error(Y(200));return xM(t,e,null,n)};Pn.createRoot=function(t,e){if(!Uy(t))throw Error(Y(299));var n=!1,s="",r=cN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=By(t,1,!1,null,null,n,!1,s,r),t[ar]=e.current,Mc(t.nodeType===8?t.parentNode:t),new zy(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=RA(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return Hi(t)};Pn.hydrate=function(t,e,n){if(!_p(e))throw Error(Y(200));return Ep(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!Uy(t))throw Error(Y(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",a=cN;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=oN(e,null,t,1,n??null,r,!1,i,a),t[ar]=e.current,Mc(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Sp(e)};Pn.render=function(t,e,n){if(!_p(e))throw Error(Y(200));return Ep(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!_p(t))throw Error(Y(40));return t._reactRootContainer?(Hi(function(){Ep(null,null,t,!1,function(){t._reactRootContainer=null,t[ar]=null})}),!0):!1};Pn.unstable_batchedUpdates=My;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!_p(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return Ep(t,e,n,!1,s)};Pn.version="18.3.1-next-f1338f8080-20240426";function lN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lN)}catch(t){console.error(t)}}lN(),lA.exports=Pn;var kM=lA.exports,G0=kM;Gh.createRoot=G0.createRoot,Gh.hydrateRoot=G0.hydrateRoot;function CM(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,s,r,i,a=[],o="",c=t.split("/");for(c[0]||c.shift();r=c.shift();)n=r[0],n==="*"?(a.push(n),o+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=r.indexOf("?",1),i=r.indexOf(".",1),a.push(r.substring(1,~s?s:~i?i:r.length)),o+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~s?"?":"")+"\\"+r.substring(i))):o+="/"+r;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var uN={exports:{}},dN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=Q;function AM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var TM=typeof Object.is=="function"?Object.is:AM,NM=po.useState,RM=po.useEffect,OM=po.useLayoutEffect,PM=po.useDebugValue;function IM(t,e){var n=e(),s=NM({inst:{value:n,getSnapshot:e}}),r=s[0].inst,i=s[1];return OM(function(){r.value=n,r.getSnapshot=e,Xf(r)&&i({inst:r})},[t,n,e]),RM(function(){return Xf(r)&&i({inst:r}),t(function(){Xf(r)&&i({inst:r})})},[t]),PM(n),n}function Xf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!TM(t,n)}catch{return!0}}function jM(t,e){return e()}var MM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jM:IM;dN.useSyncExternalStore=po.useSyncExternalStore!==void 0?po.useSyncExternalStore:MM;uN.exports=dN;var DM=uN.exports;const FM=hj.useInsertionEffect,LM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BM=LM?Q.useLayoutEffect:Q.useEffect,$M=FM||BM,pN=t=>{const e=Q.useRef([t,(...n)=>e[0](...n)]).current;return $M(()=>{e[0]=t}),e[1]},zM="popstate",qy="pushState",Qy="replaceState",UM="hashchange",W0=[zM,qy,Qy,UM],qM=t=>{for(const e of W0)addEventListener(e,t);return()=>{for(const e of W0)removeEventListener(e,t)}},fN=(t,e)=>DM.useSyncExternalStore(qM,t,e),QM=()=>location.search,VM=({ssrSearch:t=""}={})=>fN(QM,()=>t),K0=()=>location.pathname,HM=({ssrPath:t}={})=>fN(K0,t?()=>t:K0),GM=(t,{replace:e=!1,state:n=null}={})=>history[e?Qy:qy](n,"",t),WM=(t={})=>[HM(t),GM],Y0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Y0]>"u"){for(const t of[qy,Qy]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),s=new Event(t);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,Y0,{value:!0})}const KM=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",hN=(t="")=>t==="/"?"":t,YM=(t,e)=>t[0]==="~"?t.slice(1):hN(e)+t,JM=(t="",e)=>KM(J0(hN(t)),J0(e)),J0=t=>{try{return decodeURI(t)}catch{return t}},mN={hook:WM,searchHook:VM,parser:CM,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},gN=Q.createContext(mN),vl=()=>Q.useContext(gN),yN={},vN=Q.createContext(yN),XM=()=>Q.useContext(vN),kp=t=>{const[e,n]=t.hook(t);return[JM(t.base,e),pN((s,r)=>n(YM(s,t.base),r))]},Gi=()=>kp(vl()),bN=(t,e,n,s)=>{const{pattern:r,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",s),a=r.exec(n)||[],[o,...c]=a;return o!==void 0?[!0,(()=>{const l=i!==!1?Object.fromEntries(i.map((d,p)=>[d,c[p]])):a.groups;let u={...c};return l&&Object.assign(u,l),u})(),...s?[o]:[]]:[!1,null]},xN=({children:t,...e})=>{var u,d;const n=vl(),s=e.hook?mN:n;let r=s;const[i,a]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];a&&(e.ssrSearch=a,e.ssrPath=i),e.hrefs=e.hrefs??((d=e.hook)==null?void 0:d.hrefs);let o=Q.useRef({}),c=o.current,l=c;for(let p in s){const y=p==="base"?s[p]+(e[p]||""):e[p]||s[p];c===l&&y!==l[p]&&(o.current=l={...l}),l[p]=y,(y!==s[p]||y!==r[p])&&(r=l)}return Q.createElement(gN.Provider,{value:r,children:t})},X0=({children:t,component:e},n)=>e?Q.createElement(e,{params:n}):typeof t=="function"?t(n):t,ZM=t=>{let e=Q.useRef(yN);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([s,r])=>r!==n[s])?t:n},Fs=({path:t,nest:e,match:n,...s})=>{const r=vl(),[i]=kp(r),[a,o,c]=n??bN(r.parser,t,i,e),l=ZM({...XM(),...o});if(!a)return null;const u=c?Q.createElement(xN,{base:c},X0(s,l)):X0(s,l);return Q.createElement(vN.Provider,{value:l,children:u})},eD=Q.forwardRef((t,e)=>{const n=vl(),[s,r]=kp(n),{to:i="",href:a=i,onClick:o,asChild:c,children:l,className:u,replace:d,state:p,...y}=t,m=pN(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(o==null||o(v),v.defaultPrevented||(v.preventDefault(),r(a,t)))}),f=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return c&&Q.isValidElement(l)?Q.cloneElement(l,{onClick:m,href:f}):Q.createElement("a",{...y,onClick:m,href:f,className:u!=null&&u.call?u(s===a):u,children:l,ref:e})}),wN=t=>Array.isArray(t)?t.flatMap(e=>wN(e&&e.type===Q.Fragment?e.props.children:e)):[t],tD=({children:t,location:e})=>{const n=vl(),[s]=kp(n);for(const r of wN(t)){let i=0;if(Q.isValidElement(r)&&(i=bN(n.parser,r.props.path,e||s,r.props.nest))[0])return Q.cloneElement(r,{match:i})}return null};var Co=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wi=typeof window>"u"||"Deno"in globalThis;function en(){}function nD(t,e){return typeof t=="function"?t(e):t}function $m(t){return typeof t=="number"&&t>=0&&t!==1/0}function SN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Zr(t,e){return typeof t=="function"?t(e):t}function $n(t,e){return typeof t=="function"?t(e):t}function Z0(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:a,stale:o}=t;if(a){if(s){if(e.queryHash!==Vy(a,e.options))return!1}else if(!Qc(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||r&&r!==e.state.fetchStatus||i&&!i(e))}function ex(t,e){const{exact:n,status:s,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ki(e.options.mutationKey)!==Ki(i))return!1}else if(!Qc(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function Vy(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ki)(t)}function Ki(t){return JSON.stringify(t,(e,n)=>zm(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Qc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Qc(t[n],e[n])):!1}function _N(t,e){if(t===e)return t;const n=tx(t)&&tx(e);if(n||zm(t)&&zm(e)){const s=n?t:Object.keys(t),r=s.length,i=n?e:Object.keys(e),a=i.length,o=n?[]:{},c=new Set(s);let l=0;for(let u=0;u<a;u++){const d=n?u:i[u];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,l++):(o[d]=_N(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&l++)}return r===a&&l===r?t:o}return e}function Cd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function tx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function zm(t){if(!nx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!nx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function nx(t){return Object.prototype.toString.call(t)==="[object Object]"}function sD(t){return new Promise(e=>{setTimeout(e,t)})}function Um(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?_N(t,e):e}function rD(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function iD(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var Hy=Symbol();function EN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Hy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function kN(t,e){return typeof t=="function"?t(...e):!!t}var Ai,Nr,Ha,VS,aD=(VS=class extends Co{constructor(){super();he(this,Ai);he(this,Nr);he(this,Ha);ae(this,Ha,e=>{if(!Wi&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){R(this,Nr)||this.setEventListener(R(this,Ha))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Nr))==null||e.call(this),ae(this,Nr,void 0))}setEventListener(e){var n;ae(this,Ha,e),(n=R(this,Nr))==null||n.call(this),ae(this,Nr,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){R(this,Ai)!==e&&(ae(this,Ai,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof R(this,Ai)=="boolean"?R(this,Ai):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ai=new WeakMap,Nr=new WeakMap,Ha=new WeakMap,VS),Gy=new aD,Ga,Rr,Wa,HS,oD=(HS=class extends Co{constructor(){super();he(this,Ga,!0);he(this,Rr);he(this,Wa);ae(this,Wa,e=>{if(!Wi&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){R(this,Rr)||this.setEventListener(R(this,Wa))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Rr))==null||e.call(this),ae(this,Rr,void 0))}setEventListener(e){var n;ae(this,Wa,e),(n=R(this,Rr))==null||n.call(this),ae(this,Rr,e(this.setOnline.bind(this)))}setOnline(e){R(this,Ga)!==e&&(ae(this,Ga,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return R(this,Ga)}},Ga=new WeakMap,Rr=new WeakMap,Wa=new WeakMap,HS),Ad=new oD;function qm(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}function cD(t){return Math.min(1e3*2**t,3e4)}function CN(t){return(t??"online")==="online"?Ad.isOnline():!0}var AN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Zf(t){return t instanceof AN}function TN(t){let e=!1,n=0,s=!1,r;const i=qm(),a=f=>{var v;s||(p(new AN(f)),(v=t.abort)==null||v.call(t))},o=()=>{e=!0},c=()=>{e=!1},l=()=>Gy.isFocused()&&(t.networkMode==="always"||Ad.isOnline())&&t.canRun(),u=()=>CN(t.networkMode)&&t.canRun(),d=f=>{var v;s||(s=!0,(v=t.onSuccess)==null||v.call(t,f),r==null||r(),i.resolve(f))},p=f=>{var v;s||(s=!0,(v=t.onError)==null||v.call(t,f),r==null||r(),i.reject(f))},y=()=>new Promise(f=>{var v;r=h=>{(s||l())&&f(h)},(v=t.onPause)==null||v.call(t)}).then(()=>{var f;r=void 0,s||(f=t.onContinue)==null||f.call(t)}),m=()=>{if(s)return;let f;const v=n===0?t.initialPromise:void 0;try{f=v??t.fn()}catch(h){f=Promise.reject(h)}Promise.resolve(f).then(d).catch(h=>{var _;if(s)return;const b=t.retry??(Wi?0:3),g=t.retryDelay??cD,x=typeof g=="function"?g(n,h):g,k=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,h);if(e||!k){p(h);return}n++,(_=t.onFail)==null||_.call(t,n,h),sD(x).then(()=>l()?void 0:y()).then(()=>{e?p(h):m()})})};return{promise:i,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?m():y().then(m),i)}}var lD=t=>setTimeout(t,0);function uD(){let t=[],e=0,n=o=>{o()},s=o=>{o()},r=lD;const i=o=>{e?t.push(o):r(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&r(()=>{s(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{s=o},setScheduler:o=>{r=o}}}var At=uD(),Ti,GS,NN=(GS=class{constructor(){he(this,Ti)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$m(this.gcTime)&&ae(this,Ti,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wi?1/0:5*60*1e3))}clearGcTimeout(){R(this,Ti)&&(clearTimeout(R(this,Ti)),ae(this,Ti,void 0))}},Ti=new WeakMap,GS),Ka,Ni,Bn,Ri,Ut,ll,Oi,Xn,zs,WS,dD=(WS=class extends NN{constructor(n){super();he(this,Xn);he(this,Ka);he(this,Ni);he(this,Bn);he(this,Ri);he(this,Ut);he(this,ll);he(this,Oi);ae(this,Oi,!1),ae(this,ll,n.defaultOptions),this.setOptions(n.options),this.observers=[],ae(this,Ri,n.client),ae(this,Bn,R(this,Ri).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ae(this,Ka,pD(this.options)),this.state=n.state??R(this,Ka),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=R(this,Ut))==null?void 0:n.promise}setOptions(n){this.options={...R(this,ll),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Bn).remove(this)}setData(n,s){const r=Um(this.state.data,n,this.options);return ke(this,Xn,zs).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(n,s){ke(this,Xn,zs).call(this,{type:"setState",state:n,setStateOptions:s})}cancel(n){var r,i;const s=(r=R(this,Ut))==null?void 0:r.promise;return(i=R(this,Ut))==null||i.cancel(n),s?s.then(en).catch(en):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Ka))}isActive(){return this.observers.some(n=>$n(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Zr(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!SN(this.state.dataUpdatedAt,n)}onFocus(){var s;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(s=R(this,Ut))==null||s.continue()}onOnline(){var s;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(s=R(this,Ut))==null||s.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),R(this,Bn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(s=>s!==n),this.observers.length||(R(this,Ut)&&(R(this,Oi)?R(this,Ut).cancel({revert:!0}):R(this,Ut).cancelRetry()),this.scheduleGc()),R(this,Bn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,Xn,zs).call(this,{type:"invalidate"})}fetch(n,s){var u,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(R(this,Ut))return R(this,Ut).continueRetry(),R(this,Ut).promise}if(n&&this.setOptions(n),!this.options.queryFn){const y=this.observers.find(m=>m.options.queryFn);y&&this.setOptions(y.options)}const r=new AbortController,i=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(ae(this,Oi,!0),r.signal)})},a=()=>{const y=EN(this.options,s),f=(()=>{const v={client:R(this,Ri),queryKey:this.queryKey,meta:this.meta};return i(v),v})();return ae(this,Oi,!1),this.options.persister?this.options.persister(y,f,this):y(f)},c=(()=>{const y={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:R(this,Ri),state:this.state,fetchFn:a};return i(y),y})();(u=this.options.behavior)==null||u.onFetch(c,this),ae(this,Ni,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=c.fetchOptions)==null?void 0:d.meta))&&ke(this,Xn,zs).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const l=y=>{var m,f,v,h;Zf(y)&&y.silent||ke(this,Xn,zs).call(this,{type:"error",error:y}),Zf(y)||((f=(m=R(this,Bn).config).onError)==null||f.call(m,y,this),(h=(v=R(this,Bn).config).onSettled)==null||h.call(v,this.state.data,y,this)),this.scheduleGc()};return ae(this,Ut,TN({initialPromise:s==null?void 0:s.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:y=>{var m,f,v,h;if(y===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(b){l(b);return}(f=(m=R(this,Bn).config).onSuccess)==null||f.call(m,y,this),(h=(v=R(this,Bn).config).onSettled)==null||h.call(v,y,this.state.error,this),this.scheduleGc()},onError:l,onFail:(y,m)=>{ke(this,Xn,zs).call(this,{type:"failed",failureCount:y,error:m})},onPause:()=>{ke(this,Xn,zs).call(this,{type:"pause"})},onContinue:()=>{ke(this,Xn,zs).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),R(this,Ut).start()}},Ka=new WeakMap,Ni=new WeakMap,Bn=new WeakMap,Ri=new WeakMap,Ut=new WeakMap,ll=new WeakMap,Oi=new WeakMap,Xn=new WeakSet,zs=function(n){const s=r=>{switch(n.type){case"failed":return{...r,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...RN(r.data,this.options),fetchMeta:n.meta??null};case"success":return ae(this,Ni,void 0),{...r,data:n.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Zf(i)&&i.revert&&R(this,Ni)?{...R(this,Ni),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...n.state}}};this.state=s(this.state),At.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),R(this,Bn).notify({query:this,type:"updated",action:n})})},WS);function RN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function pD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xs,KS,fD=(KS=class extends Co{constructor(e={}){super();he(this,xs);this.config=e,ae(this,xs,new Map)}build(e,n,s){const r=n.queryKey,i=n.queryHash??Vy(r,n);let a=this.get(i);return a||(a=new dD({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){R(this,xs).has(e.queryHash)||(R(this,xs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=R(this,xs).get(e.queryHash);n&&(e.destroy(),n===e&&R(this,xs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){At.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,xs).get(e)}getAll(){return[...R(this,xs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(s=>Z0(n,s))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(s=>Z0(e,s)):n}notify(e){At.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){At.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xs=new WeakMap,KS),ws,Jt,Pi,Ss,Sr,YS,hD=(YS=class extends NN{constructor(e){super();he(this,Ss);he(this,ws);he(this,Jt);he(this,Pi);this.mutationId=e.mutationId,ae(this,Jt,e.mutationCache),ae(this,ws,[]),this.state=e.state||ON(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,ws).includes(e)||(R(this,ws).push(e),this.clearGcTimeout(),R(this,Jt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ae(this,ws,R(this,ws).filter(n=>n!==e)),this.scheduleGc(),R(this,Jt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,ws).length||(this.state.status==="pending"?this.scheduleGc():R(this,Jt).remove(this))}continue(){var e;return((e=R(this,Pi))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,c,l,u,d,p,y,m,f,v,h,b,g,x,k,_,w,E;const n=()=>{ke(this,Ss,Sr).call(this,{type:"continue"})};ae(this,Pi,TN({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,I)=>{ke(this,Ss,Sr).call(this,{type:"failed",failureCount:T,error:I})},onPause:()=>{ke(this,Ss,Sr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Jt).canRun(this)}));const s=this.state.status==="pending",r=!R(this,Pi).canStart();try{if(s)n();else{ke(this,Ss,Sr).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=R(this,Jt).config).onMutate)==null?void 0:a.call(i,e,this));const I=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,e));I!==this.state.context&&ke(this,Ss,Sr).call(this,{type:"pending",context:I,variables:e,isPaused:r})}const T=await R(this,Pi).start();return await((u=(l=R(this,Jt).config).onSuccess)==null?void 0:u.call(l,T,e,this.state.context,this)),await((p=(d=this.options).onSuccess)==null?void 0:p.call(d,T,e,this.state.context)),await((m=(y=R(this,Jt).config).onSettled)==null?void 0:m.call(y,T,null,this.state.variables,this.state.context,this)),await((v=(f=this.options).onSettled)==null?void 0:v.call(f,T,null,e,this.state.context)),ke(this,Ss,Sr).call(this,{type:"success",data:T}),T}catch(T){try{throw await((b=(h=R(this,Jt).config).onError)==null?void 0:b.call(h,T,e,this.state.context,this)),await((x=(g=this.options).onError)==null?void 0:x.call(g,T,e,this.state.context)),await((_=(k=R(this,Jt).config).onSettled)==null?void 0:_.call(k,void 0,T,this.state.variables,this.state.context,this)),await((E=(w=this.options).onSettled)==null?void 0:E.call(w,void 0,T,e,this.state.context)),T}finally{ke(this,Ss,Sr).call(this,{type:"error",error:T})}}finally{R(this,Jt).runNext(this)}}},ws=new WeakMap,Jt=new WeakMap,Pi=new WeakMap,Ss=new WeakSet,Sr=function(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),At.batch(()=>{R(this,ws).forEach(s=>{s.onMutationUpdate(e)}),R(this,Jt).notify({mutation:this,type:"updated",action:e})})},YS);function ON(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ws,Zn,ul,JS,mD=(JS=class extends Co{constructor(e={}){super();he(this,Ws);he(this,Zn);he(this,ul);this.config=e,ae(this,Ws,new Set),ae(this,Zn,new Map),ae(this,ul,0)}build(e,n,s){const r=new hD({mutationCache:this,mutationId:++Ul(this,ul)._,options:e.defaultMutationOptions(n),state:s});return this.add(r),r}add(e){R(this,Ws).add(e);const n=au(e);if(typeof n=="string"){const s=R(this,Zn).get(n);s?s.push(e):R(this,Zn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Ws).delete(e)){const n=au(e);if(typeof n=="string"){const s=R(this,Zn).get(n);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&R(this,Zn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=au(e);if(typeof n=="string"){const s=R(this,Zn).get(n),r=s==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const n=au(e);if(typeof n=="string"){const r=(s=R(this,Zn).get(n))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){At.batch(()=>{R(this,Ws).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Ws).clear(),R(this,Zn).clear()})}getAll(){return Array.from(R(this,Ws))}find(e){const n={exact:!0,...e};return this.getAll().find(s=>ex(n,s))}findAll(e={}){return this.getAll().filter(n=>ex(e,n))}notify(e){At.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return At.batch(()=>Promise.all(e.map(n=>n.continue().catch(en))))}},Ws=new WeakMap,Zn=new WeakMap,ul=new WeakMap,JS);function au(t){var e;return(e=t.options.scope)==null?void 0:e.id}function sx(t){return{onFetch:(e,n)=>{var u,d,p,y,m;const s=e.options,r=(p=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:p.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const l=async()=>{let f=!1;const v=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},h=EN(e.options,e.fetchOptions),b=async(g,x,k)=>{if(f)return Promise.reject();if(x==null&&g.pages.length)return Promise.resolve(g);const w=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:x,direction:k?"backward":"forward",meta:e.options.meta};return v(L),L})(),E=await h(w),{maxPages:T}=e.options,I=k?iD:rD;return{pages:I(g.pages,E,T),pageParams:I(g.pageParams,x,T)}};if(r&&i.length){const g=r==="backward",x=g?gD:rx,k={pages:i,pageParams:a},_=x(s,k);o=await b(k,_,g)}else{const g=t??i.length;do{const x=c===0?a[0]??s.initialPageParam:rx(s,o);if(c>0&&x==null)break;o=await b(o,x),c++}while(c<g)}return o};e.options.persister?e.fetchFn=()=>{var f,v;return(v=(f=e.options).persister)==null?void 0:v.call(f,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function rx(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function gD(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var ut,Or,Pr,Ya,Ja,Ir,Xa,Za,XS,yD=(XS=class{constructor(t={}){he(this,ut);he(this,Or);he(this,Pr);he(this,Ya);he(this,Ja);he(this,Ir);he(this,Xa);he(this,Za);ae(this,ut,t.queryCache||new fD),ae(this,Or,t.mutationCache||new mD),ae(this,Pr,t.defaultOptions||{}),ae(this,Ya,new Map),ae(this,Ja,new Map),ae(this,Ir,0)}mount(){Ul(this,Ir)._++,R(this,Ir)===1&&(ae(this,Xa,Gy.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,ut).onFocus())})),ae(this,Za,Ad.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,ut).onOnline())})))}unmount(){var t,e;Ul(this,Ir)._--,R(this,Ir)===0&&((t=R(this,Xa))==null||t.call(this),ae(this,Xa,void 0),(e=R(this,Za))==null||e.call(this),ae(this,Za,void 0))}isFetching(t){return R(this,ut).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Or).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=R(this,ut).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=R(this,ut).build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Zr(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return R(this,ut).findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),r=R(this,ut).get(s.queryHash),i=r==null?void 0:r.state.data,a=nD(e,i);if(a!==void 0)return R(this,ut).build(this,s).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return At.batch(()=>R(this,ut).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=R(this,ut).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=R(this,ut);At.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=R(this,ut);return At.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=At.batch(()=>R(this,ut).findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(en).catch(en)}invalidateQueries(t,e={}){return At.batch(()=>(R(this,ut).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=At.batch(()=>R(this,ut).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(en)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(en)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=R(this,ut).build(this,e);return n.isStaleByTime(Zr(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(en).catch(en)}fetchInfiniteQuery(t){return t.behavior=sx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(en).catch(en)}ensureInfiniteQueryData(t){return t.behavior=sx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ad.isOnline()?R(this,Or).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,ut)}getMutationCache(){return R(this,Or)}getDefaultOptions(){return R(this,Pr)}setDefaultOptions(t){ae(this,Pr,t)}setQueryDefaults(t,e){R(this,Ya).set(Ki(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,Ya).values()],n={};return e.forEach(s=>{Qc(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){R(this,Ja).set(Ki(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,Ja).values()],n={};return e.forEach(s=>{Qc(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Pr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Vy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Hy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Pr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,ut).clear(),R(this,Or).clear()}},ut=new WeakMap,Or=new WeakMap,Pr=new WeakMap,Ya=new WeakMap,Ja=new WeakMap,Ir=new WeakMap,Xa=new WeakMap,Za=new WeakMap,XS),un,Pe,dl,Xt,Ii,eo,jr,Mr,pl,to,no,ji,Mi,Dr,so,Be,oc,Qm,Vm,Hm,Gm,Wm,Km,Ym,PN,ZS,vD=(ZS=class extends Co{constructor(e,n){super();he(this,Be);he(this,un);he(this,Pe);he(this,dl);he(this,Xt);he(this,Ii);he(this,eo);he(this,jr);he(this,Mr);he(this,pl);he(this,to);he(this,no);he(this,ji);he(this,Mi);he(this,Dr);he(this,so,new Set);this.options=n,ae(this,un,e),ae(this,Mr,null),ae(this,jr,qm()),this.options.experimental_prefetchInRender||R(this,jr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Pe).addObserver(this),ix(R(this,Pe),this.options)?ke(this,Be,oc).call(this):this.updateResult(),ke(this,Be,Gm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jm(R(this,Pe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jm(R(this,Pe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ke(this,Be,Wm).call(this),ke(this,Be,Km).call(this),R(this,Pe).removeObserver(this)}setOptions(e){const n=this.options,s=R(this,Pe);if(this.options=R(this,un).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $n(this.options.enabled,R(this,Pe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ke(this,Be,Ym).call(this),R(this,Pe).setOptions(this.options),n._defaulted&&!Cd(this.options,n)&&R(this,un).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Pe),observer:this});const r=this.hasListeners();r&&ax(R(this,Pe),s,this.options,n)&&ke(this,Be,oc).call(this),this.updateResult(),r&&(R(this,Pe)!==s||$n(this.options.enabled,R(this,Pe))!==$n(n.enabled,R(this,Pe))||Zr(this.options.staleTime,R(this,Pe))!==Zr(n.staleTime,R(this,Pe)))&&ke(this,Be,Qm).call(this);const i=ke(this,Be,Vm).call(this);r&&(R(this,Pe)!==s||$n(this.options.enabled,R(this,Pe))!==$n(n.enabled,R(this,Pe))||i!==R(this,Dr))&&ke(this,Be,Hm).call(this,i)}getOptimisticResult(e){const n=R(this,un).getQueryCache().build(R(this,un),e),s=this.createResult(n,e);return xD(this,s)&&(ae(this,Xt,s),ae(this,eo,this.options),ae(this,Ii,R(this,Pe).state)),s}getCurrentResult(){return R(this,Xt)}trackResult(e,n){return new Proxy(e,{get:(s,r)=>(this.trackProp(r),n==null||n(r),Reflect.get(s,r))})}trackProp(e){R(this,so).add(e)}getCurrentQuery(){return R(this,Pe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=R(this,un).defaultQueryOptions(e),s=R(this,un).getQueryCache().build(R(this,un),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(e){return ke(this,Be,oc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Xt)))}createResult(e,n){var T;const s=R(this,Pe),r=this.options,i=R(this,Xt),a=R(this,Ii),o=R(this,eo),l=e!==s?e.state:R(this,dl),{state:u}=e;let d={...u},p=!1,y;if(n._optimisticResults){const I=this.hasListeners(),L=!I&&ix(e,n),q=I&&ax(e,s,n,r);(L||q)&&(d={...d,...RN(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:f,status:v}=d;y=d.data;let h=!1;if(n.placeholderData!==void 0&&y===void 0&&v==="pending"){let I;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(I=i.data,h=!0):I=typeof n.placeholderData=="function"?n.placeholderData((T=R(this,no))==null?void 0:T.state.data,R(this,no)):n.placeholderData,I!==void 0&&(v="success",y=Um(i==null?void 0:i.data,I,n),p=!0)}if(n.select&&y!==void 0&&!h)if(i&&y===(a==null?void 0:a.data)&&n.select===R(this,pl))y=R(this,to);else try{ae(this,pl,n.select),y=n.select(y),y=Um(i==null?void 0:i.data,y,n),ae(this,to,y),ae(this,Mr,null)}catch(I){ae(this,Mr,I)}R(this,Mr)&&(m=R(this,Mr),y=R(this,to),f=Date.now(),v="error");const b=d.fetchStatus==="fetching",g=v==="pending",x=v==="error",k=g&&b,_=y!==void 0,E={status:v,fetchStatus:d.fetchStatus,isPending:g,isSuccess:v==="success",isError:x,isInitialLoading:k,isLoading:k,data:y,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:f,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!g,isLoadingError:x&&!_,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:x&&_,isStale:Wy(e,n),refetch:this.refetch,promise:R(this,jr),isEnabled:$n(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=F=>{E.status==="error"?F.reject(E.error):E.data!==void 0&&F.resolve(E.data)},L=()=>{const F=ae(this,jr,E.promise=qm());I(F)},q=R(this,jr);switch(q.status){case"pending":e.queryHash===s.queryHash&&I(q);break;case"fulfilled":(E.status==="error"||E.data!==q.value)&&L();break;case"rejected":(E.status!=="error"||E.error!==q.reason)&&L();break}}return E}updateResult(){const e=R(this,Xt),n=this.createResult(R(this,Pe),this.options);if(ae(this,Ii,R(this,Pe).state),ae(this,eo,this.options),R(this,Ii).data!==void 0&&ae(this,no,R(this,Pe)),Cd(n,e))return;ae(this,Xt,n);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!R(this,so).size)return!0;const a=new Set(i??R(this,so));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,Xt)).some(o=>{const c=o;return R(this,Xt)[c]!==e[c]&&a.has(c)})};ke(this,Be,PN).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ke(this,Be,Gm).call(this)}},un=new WeakMap,Pe=new WeakMap,dl=new WeakMap,Xt=new WeakMap,Ii=new WeakMap,eo=new WeakMap,jr=new WeakMap,Mr=new WeakMap,pl=new WeakMap,to=new WeakMap,no=new WeakMap,ji=new WeakMap,Mi=new WeakMap,Dr=new WeakMap,so=new WeakMap,Be=new WeakSet,oc=function(e){ke(this,Be,Ym).call(this);let n=R(this,Pe).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(en)),n},Qm=function(){ke(this,Be,Wm).call(this);const e=Zr(this.options.staleTime,R(this,Pe));if(Wi||R(this,Xt).isStale||!$m(e))return;const s=SN(R(this,Xt).dataUpdatedAt,e)+1;ae(this,ji,setTimeout(()=>{R(this,Xt).isStale||this.updateResult()},s))},Vm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Pe)):this.options.refetchInterval)??!1},Hm=function(e){ke(this,Be,Km).call(this),ae(this,Dr,e),!(Wi||$n(this.options.enabled,R(this,Pe))===!1||!$m(R(this,Dr))||R(this,Dr)===0)&&ae(this,Mi,setInterval(()=>{(this.options.refetchIntervalInBackground||Gy.isFocused())&&ke(this,Be,oc).call(this)},R(this,Dr)))},Gm=function(){ke(this,Be,Qm).call(this),ke(this,Be,Hm).call(this,ke(this,Be,Vm).call(this))},Wm=function(){R(this,ji)&&(clearTimeout(R(this,ji)),ae(this,ji,void 0))},Km=function(){R(this,Mi)&&(clearInterval(R(this,Mi)),ae(this,Mi,void 0))},Ym=function(){const e=R(this,un).getQueryCache().build(R(this,un),this.options);if(e===R(this,Pe))return;const n=R(this,Pe);ae(this,Pe,e),ae(this,dl,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},PN=function(e){At.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(R(this,Xt))}),R(this,un).getQueryCache().notify({query:R(this,Pe),type:"observerResultsUpdated"})})},ZS);function bD(t,e){return $n(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ix(t,e){return bD(t,e)||t.state.data!==void 0&&Jm(t,e,e.refetchOnMount)}function Jm(t,e,n){if($n(e.enabled,t)!==!1&&Zr(e.staleTime,t)!=="static"){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&Wy(t,e)}return!1}function ax(t,e,n,s){return(t!==e||$n(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Wy(t,n)}function Wy(t,e){return $n(e.enabled,t)!==!1&&t.isStaleByTime(Zr(e.staleTime,t))}function xD(t,e){return!Cd(t.getCurrentResult(),e)}var Fr,Lr,dn,Ks,rr,$u,Xm,e1,wD=(e1=class extends Co{constructor(n,s){super();he(this,rr);he(this,Fr);he(this,Lr);he(this,dn);he(this,Ks);ae(this,Fr,n),this.setOptions(s),this.bindMethods(),ke(this,rr,$u).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const s=this.options;this.options=R(this,Fr).defaultMutationOptions(n),Cd(this.options,s)||R(this,Fr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,dn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Ki(s.mutationKey)!==Ki(this.options.mutationKey)?this.reset():((r=R(this,dn))==null?void 0:r.state.status)==="pending"&&R(this,dn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=R(this,dn))==null||n.removeObserver(this)}onMutationUpdate(n){ke(this,rr,$u).call(this),ke(this,rr,Xm).call(this,n)}getCurrentResult(){return R(this,Lr)}reset(){var n;(n=R(this,dn))==null||n.removeObserver(this),ae(this,dn,void 0),ke(this,rr,$u).call(this),ke(this,rr,Xm).call(this)}mutate(n,s){var r;return ae(this,Ks,s),(r=R(this,dn))==null||r.removeObserver(this),ae(this,dn,R(this,Fr).getMutationCache().build(R(this,Fr),this.options)),R(this,dn).addObserver(this),R(this,dn).execute(n)}},Fr=new WeakMap,Lr=new WeakMap,dn=new WeakMap,Ks=new WeakMap,rr=new WeakSet,$u=function(){var s;const n=((s=R(this,dn))==null?void 0:s.state)??ON();ae(this,Lr,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Xm=function(n){At.batch(()=>{var s,r,i,a,o,c,l,u;if(R(this,Ks)&&this.hasListeners()){const d=R(this,Lr).variables,p=R(this,Lr).context;(n==null?void 0:n.type)==="success"?((r=(s=R(this,Ks)).onSuccess)==null||r.call(s,n.data,d,p),(a=(i=R(this,Ks)).onSettled)==null||a.call(i,n.data,null,d,p)):(n==null?void 0:n.type)==="error"&&((c=(o=R(this,Ks)).onError)==null||c.call(o,n.error,d,p),(u=(l=R(this,Ks)).onSettled)==null||u.call(l,void 0,n.error,d,p))}this.listeners.forEach(d=>{d(R(this,Lr))})})},e1),IN=Q.createContext(void 0),jN=t=>{const e=Q.useContext(IN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},SD=({client:t,children:e})=>(Q.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),S.jsx(IN.Provider,{value:t,children:e})),MN=Q.createContext(!1),_D=()=>Q.useContext(MN);MN.Provider;function ED(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var kD=Q.createContext(ED()),CD=()=>Q.useContext(kD),AD=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},TD=t=>{Q.useEffect(()=>{t.clearReset()},[t])},ND=({result:t,errorResetBoundary:e,throwOnError:n,query:s,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(r&&t.data===void 0||kN(n,[t.error,s])),RD=t=>{if(t.suspense){const e=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>e(n(...s)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},OD=(t,e)=>t.isLoading&&t.isFetching&&!e,PD=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ox=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function ID(t,e,n){var d,p,y,m,f;const s=_D(),r=CD(),i=jN(),a=i.defaultQueryOptions(t);(p=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||p.call(d,a),a._optimisticResults=s?"isRestoring":"optimistic",RD(a),AD(a,r),TD(r);const o=!i.getQueryCache().get(a.queryHash),[c]=Q.useState(()=>new e(i,a)),l=c.getOptimisticResult(a),u=!s&&t.subscribed!==!1;if(Q.useSyncExternalStore(Q.useCallback(v=>{const h=u?c.subscribe(At.batchCalls(v)):en;return c.updateResult(),h},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),Q.useEffect(()=>{c.setOptions(a)},[a,c]),PD(a,l))throw ox(a,c,r);if(ND({result:l,errorResetBoundary:r,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw l.error;if((m=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||m.call(y,a,l),a.experimental_prefetchInRender&&!Wi&&OD(l,s)){const v=o?ox(a,c,r):(f=i.getQueryCache().get(a.queryHash))==null?void 0:f.promise;v==null||v.catch(en).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?l:c.trackResult(l)}function cx(t,e){return ID(t,vD)}function jD(t,e){const n=jN(),[s]=Q.useState(()=>new wD(n,t));Q.useEffect(()=>{s.setOptions(t)},[s,t]);const r=Q.useSyncExternalStore(Q.useCallback(a=>s.subscribe(At.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=Q.useCallback((a,o)=>{s.mutate(a,o).catch(en)},[s]);if(r.error&&kN(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}const MD=1,DD=1e6;let eh=0;function FD(){return eh=(eh+1)%Number.MAX_SAFE_INTEGER,eh.toString()}const th=new Map,lx=t=>{if(th.has(t))return;const e=setTimeout(()=>{th.delete(t),Sc({type:"REMOVE_TOAST",toastId:t})},DD);th.set(t,e)},LD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,MD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?lx(n):t.toasts.forEach(s=>{lx(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},zu=[];let Uu={toasts:[]};function Sc(t){Uu=LD(Uu,t),zu.forEach(e=>{e(Uu)})}function BD({...t}){const e=FD(),n=r=>Sc({type:"UPDATE_TOAST",toast:{...r,id:e}}),s=()=>Sc({type:"DISMISS_TOAST",toastId:e});return Sc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:n}}function DN(){const[t,e]=Q.useState(Uu);return Q.useEffect(()=>(zu.push(e),()=>{const n=zu.indexOf(e);n>-1&&zu.splice(n,1)}),[t]),{...t,toast:BD,dismiss:n=>Sc({type:"DISMISS_TOAST",toastId:n})}}function $D(){const{toasts:t}=DN();return S.jsx("div",{className:"fixed bottom-0 right-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",children:t.map(({id:e,title:n,description:s,action:r,...i})=>S.jsxs("div",{className:"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",...i,children:[S.jsxs("div",{className:"grid gap-1",children:[n&&S.jsx("div",{className:"text-sm font-semibold",children:n}),s&&S.jsx("div",{className:"text-sm opacity-90",children:s})]}),r]},e))})}const FN=Q.createContext(null),ou=async(t,e={})=>{const n=await fetch(`/api${t}`,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e}),s=await n.json();return{success:n.ok,data:n.ok?s:null,error:n.ok?null:s.message||"Request failed",user:s.user}};function zD({children:t}){const[e,n]=Q.useState(null),[s,r]=Q.useState(!0),[i,a]=Q.useState(null),[o,c]=Q.useState(!1);Q.useEffect(()=>{const v=localStorage.getItem("user");if(v)try{n(JSON.parse(v))}catch(h){console.error("Error parsing stored user:",h),localStorage.removeItem("user")}r(!1)},[]);const l=async(v,h)=>{var b,g;c(!0),a(null);try{const x=await ou("/auth/signin",{method:"POST",body:JSON.stringify({email:v,password:h})});if(!x.success)throw new Error(x.error||"Login failed");const k=x;n(((b=k.data)==null?void 0:b.user)||k.user),localStorage.setItem("user",JSON.stringify(((g=k.data)==null?void 0:g.user)||k.user))}catch(x){a(x.message),console.error("Login error:",x)}finally{c(!1)}},u=async(v,h,b)=>{var g,x;c(!0),a(null);try{const k=await ou("/auth/signup",{method:"POST",body:JSON.stringify({email:v,password:h,role:b})});if(!k.success)throw new Error(k.error||"Signup failed");const _=k;n(((g=_.data)==null?void 0:g.user)||_.user),localStorage.setItem("user",JSON.stringify(((x=_.data)==null?void 0:x.user)||_.user))}catch(k){a(k.message),console.error("Signup error:",k)}finally{c(!1)}},d=()=>{n(null),localStorage.removeItem("user")},p=async()=>{var v;try{const h=await ou("/auth/me");h.success&&n(((v=h.data)==null?void 0:v.user)||h.user)}catch(h){console.error("Failed to refresh user:",h)}},y=async v=>{var h,b;if(e){c(!0),a(null);try{const g=await ou(`/users/${e.id}`,{method:"PUT",body:JSON.stringify(v)});if(!g.success)throw new Error(g.error||"Failed to update user");const x=g;n(((h=x.data)==null?void 0:h.user)||x.user),localStorage.setItem("user",JSON.stringify(((b=x.data)==null?void 0:b.user)||x.user))}catch(g){a(g.message),console.error("Update user error:",g)}finally{c(!1)}}},m=()=>{a(null)},f=()=>!!e;return S.jsx(FN.Provider,{value:{user:e,setUser:n,login:l,logout:d,signup:u,isLoading:s||o,refreshUser:p,updateUser:y,error:i,clearError:m,isAuthenticated:f},children:t})}function Ao(){const t=Q.useContext(FN);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const Ky="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAABlCAYAAACC2feqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAgiSURBVHgB7Z3PbxtFFMffjB23ElAZKiHBAdwD4pog7nGB0iAKpH9B0/+gPXJom7RCXJu/oOmBA6em0KqhKo3LARUJqam4gCoUA6IFRIrTNG3seGeYt/bau/b+mLHXu154H6m1dz0bV/n2vXnz3ttZBmPAoU+uTuYsmATCg2BWjQOr7bWaa8vzR2swBAzGgMPnrqxKCWUgwqgyzipSWpevn/pwGQxJXejy/KVigU/8A4QJtugsxxdWPn6vqnNB7ELPnPuyHDXG7YrePffFLEh+CYhBqCoBF786feR81MBYhZ6Zv1YS3FqH8C+sqn/YAef48NmrFyTIOSAGhjGosHzueJh1c4gRya3Z6EHysucQZPQ1RCgY34hda3Xm02uloDHxCs3gWNQYxqETSLTdfBGIOCiFiR2b0Oi2lXmGLpHQba+c+qDiHEvJI/9jEEaURNO6NKsC3N4PYhPa4qIcOUhFiu5D5bajryHMUMb2lE+c6T0dm9CcyWi3LcVF5z0mSdRLCYjYkQAnelc/sQiNblsj4VFzu23WFBSEjRAJzGPVsQit47bVAt+bzeHsIyBGBhqe26pjEVrLbQu45bzXCdyI4XFb9dBCYwpTJ0+9VzQ6Fq0VuBFDg7o4EfjQQk/wQuRci5kbd/VFxwMQ8bDd1mdooZWIkXMtk6wTbet6ACIeOIdp+xWGRpYih0zwSvdtgaLtBJGilasYWujrp45MyRybYlIuqtTXWu/n6LbdyXYdD0DESgn/ir9MiWtqLG4oQdFFqy846S6jvXv2CtaeKb+dIHwid2CkjQco+l7YqTmBGK7rhGSrQCSKCn4P5mEAsIaMTh9Tmu5sVy8r8976aKuIIYFIHmOL9mku0O5lUm4brysBkSho0cZCHzp7dY6BvBDwcQ1TnX6ik9tOj4Fctx01B3vfogrn59SPnlPW6xHdEjDLxqLn9P+J0a9+iI5NJytG0XYK5AWbMrLoQi5XHjCWIoFTpACNqlHChMkcJTuyh728NRKaOjazB2tnK7WFpo7NjCLkXXzRFpo6NrOJ016tLzR1bGYSvP0JX7WEbrvtEhCZwt3woSU0JjuAyBzuhg8toRmjjs1M4mr4iBSaGu2zCZNw2d3wESk0tygIyyKciyXPcdQFOndIEuMF3sx4rad6GCo0NdpnEwZsofdcaFEDG+1NyluP7j8Awp+drceRY/KFAuT3FDrHOXW857ln1bk9oIt9a/Lp95f6fnbYRdhoLzWrVRvVX+DHlRtAxA+K/8z+/erPC7D/wKuw7+WXAsf6WXPrfAA6+5G4ubf6Dfz10z0gRg9a+StvvgEvvv6a53zv/jBuAudo0/ujHiqLJpKhrqYBNKzvP/vcY1xsIncw6JpAoU0a7XFubtYbQCSLI/j6t7cBb6AI25UoeI6W+rXnP8llp8rvd3+An29/Nw3F2SLUln23kvS1aHuTNwMo2k6X3UYDpLAmmdxatcX2wVdok5ah7b83tJYOxGiQUkBzt+4coNi+rdi+QpvUnh89IGtOk/rTbe8JNeXyfW+d6B3XJ7Rp7Xlj/Vcg0mG3UQchRN95lfo4A8WZkvtcn9AmLUP1rS3YpPk5FYRlKaF3gj4uMrnrceH9Qhu47c37fwCRPDgvN+pPogaVofhO2Tn0CG3qth+uU5IkaVBknJf9XHYvXHSXyB6hTVuGNigbligmItvjQR5zllseoRln06AJiZwspiK3USI/tsvMHaFNa8/ktpNjQJFtHPfdSYFqbarugrJhyYDRdX1nW4k92N2NkrW2n+rmusPve/aAIlM2bPQ06jvdrNegyNb2YLbQdu1ZWmXda2l+Hi0tV/1EuWoLYqAIxXLJFtq0ZYjWz6MB3XNztxGWCBmUoi20ScsQZsOwkEHEiyPwoHNxOPli3nRvTrLm+HAsGOfh0QjcJd/am1P/S6gvbHgwkm42d8FqNkYusEOeGUTbTVXgpiKGOSimsJpg4R8lcFLiuskzKW+pL76rM/i3O3emVWmsDEQkGDlLleDAyDkNYb00a0bbT/F9b9PjBTOI5Puep81q/vvUsGFQW+h8q7ZJm9VkDcbMdiUSgp6DkUWYBMNdiRjdJ51FBIcKvuoJXTw0qSboEhAZxNJ33VzoFzyIMYKxCtQqVXyrJbSkzWoyCXM9lD1aaOwPljQ/ZxHBRWd7i0ihc9AoA5E9XG4biRRaSHLbWUQKedF9HJ4CLZaLTPBBdtwn0qUqH9307HwQatE5K1cGInNIDou950KFlvR4wSxSVRNu32OpIoSmaDtrqILoRXcQ5hA4R2MRwxKCnlOVLfrmZodAixZCUEkyY0gJC0GfBQotQf8+LCJ9lGtegq2bS0Gf+wtt3y0vaQ/Q7FBTWbCFsAG+QnPRILedIZTLPukXgLnx36yGihiZIcplO/QLTUWMLFFVLvukzsA+oamIkRmqkouDymXXdAb3CU1FjGygRD4aNS+76Xfd5LbHHhV8HVcir5lc4xGaWnrHH1tkjeCrF4/Q1NI73gwqMuIRmooYY0ttGJGR7h4m2NIrrBIQ40a1HXgZzcm9dCyaC4uyYeMGY2vtJdRQIiPd7acAl1Vp395JOCg9FmHz6xMQE616tMqGMdHQfiIOMVKUq+Zq+XSjAjFiu27Kho0Hyp8uKFc9FbfIiO26VTbsGLntFGGsIpl13CTTZfwV1NKbIrbAbGEUFtxLHlt6BSNrTpCa+m0vqmXOed2CRBzkqaU3AdQyCTcFEpwvJ2G9fqg5WjBg3UfEE4OjxKy2324K7K/mXK1/m2touWn7zH8Bvai15PL7l8AAAAAASUVORK5CYII=";function UD(){const[,t]=Gi(),{user:e,isAuthenticated:n}=Ao();return Q.useEffect(()=>{const s=setTimeout(()=>{if(console.log("Splash navigation - User:",e,"Role:",e==null?void 0:e.role,"Authenticated:",n()),n()&&e)e.role==="CONSUMER"?(console.log("Splash: Redirecting CONSUMER to /consumer-home"),t("/consumer-home")):e.role==="MERCHANT"?(console.log("Splash: Redirecting MERCHANT to /merchant-dashboard"),t("/merchant-dashboard")):e.role==="DRIVER"?(console.log("Splash: Redirecting DRIVER to /driver-dashboard"),t("/driver-dashboard")):t("/dashboard");else{const r=localStorage.getItem("hasSeenOnboarding");t(r?"/role-selection":"/onboarding")}},5e3);return()=>clearTimeout(s)},[t,e,n]),S.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white flex flex-col items-center justify-center relative overflow-hidden",children:S.jsxs("div",{className:"flex flex-col items-center justify-center",children:[S.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 lg:w-56 lg:h-56 bg-white rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:S.jsx("img",{src:Ky,alt:"Brillprime Logo",className:"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48 object-contain animate-bounce",style:{animationDuration:"2s"}})}),S.jsxs("div",{className:"mt-8 flex space-x-2",children:[S.jsx("div",{className:"w-3 h-3 bg-[var(--brill-primary)] rounded-full animate-bounce"}),S.jsx("div",{className:"w-3 h-3 bg-[var(--brill-primary)] rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),S.jsx("div",{className:"w-3 h-3 bg-[var(--brill-primary)] rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]})})}const qD="modulepreload",QD=function(t){return"/"+t},ux={},nh=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=QD(c),c in ux)return;ux[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":qD,l||(d.as="script"),d.crossOrigin="",d.href=c,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((p,y)=>{d.addEventListener("load",p),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};var bl=t=>t.type==="checkbox",ki=t=>t instanceof Date,tn=t=>t==null;const LN=t=>typeof t=="object";var yt=t=>!tn(t)&&!Array.isArray(t)&&LN(t)&&!ki(t),BN=t=>yt(t)&&t.target?bl(t.target)?t.target.checked:t.target.value:t,VD=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,$N=(t,e)=>t.has(VD(e)),HD=t=>{const e=t.constructor&&t.constructor.prototype;return yt(e)&&e.hasOwnProperty("isPrototypeOf")},Yy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Et(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Yy&&(t instanceof Blob||s))&&(n||yt(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!HD(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Et(t[r]));else return t;return e}var Cp=t=>/^\w*$/.test(t),ht=t=>t===void 0,Jy=t=>Array.isArray(t)?t.filter(Boolean):[],Xy=t=>Jy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),te=(t,e,n)=>{if(!e||!yt(t))return n;const s=(Cp(e)?[e]:Xy(e)).reduce((r,i)=>tn(r)?r:r[i],t);return ht(s)||s===t?ht(t[e])?n:t[e]:s},Sn=t=>typeof t=="boolean",Ue=(t,e,n)=>{let s=-1;const r=Cp(e)?[e]:Xy(e),i=r.length,a=i-1;for(;++s<i;){const o=r[s];let c=n;if(s!==a){const l=t[o];c=yt(l)||Array.isArray(l)?l:isNaN(+r[s+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const Td={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ss={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ls={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Zy=Ne.createContext(null);Zy.displayName="HookFormContext";const Ap=()=>Ne.useContext(Zy),GD=t=>{const{children:e,...n}=t;return Ne.createElement(Zy.Provider,{value:n},e)};var zN=(t,e,n,s=!0)=>{const r={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(r,i,{get:()=>{const a=i;return e._proxyFormState[a]!==ss.all&&(e._proxyFormState[a]=!s||ss.all),n&&(n[a]=!0),t[a]}});return r};const ev=typeof window<"u"?Ne.useLayoutEffect:Ne.useEffect;function WD(t){const e=Ap(),{control:n=e.control,disabled:s,name:r,exact:i}=t||{},[a,o]=Ne.useState(n._formState),c=Ne.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ev(()=>n._subscribe({name:r,formState:c.current,exact:i,callback:l=>{!s&&o({...n._formState,...l})}}),[r,s,i]),Ne.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Ne.useMemo(()=>zN(a,n,c.current,!1),[a,n])}var Es=t=>typeof t=="string",UN=(t,e,n,s,r)=>Es(t)?(s&&e.watch.add(t),te(n,t,r)):Array.isArray(t)?t.map(i=>(s&&e.watch.add(i),te(n,i))):(s&&(e.watchAll=!0),n),Zm=t=>tn(t)||!LN(t);function Ys(t,e,n=new WeakSet){if(Zm(t)||Zm(e))return t===e;if(ki(t)&&ki(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of s){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(ki(a)&&ki(o)||yt(a)&&yt(o)||Array.isArray(a)&&Array.isArray(o)?!Ys(a,o,n):a!==o)return!1}}return!0}function KD(t){const e=Ap(),{control:n=e.control,name:s,defaultValue:r,disabled:i,exact:a,compute:o}=t||{},c=Ne.useRef(r),l=Ne.useRef(o),u=Ne.useRef(void 0);l.current=o;const d=Ne.useMemo(()=>n._getWatch(s,c.current),[n,s]),[p,y]=Ne.useState(l.current?l.current(d):d);return ev(()=>n._subscribe({name:s,formState:{values:!0},exact:a,callback:m=>{if(!i){const f=UN(s,n._names,m.values||n._formValues,!1,c.current);if(l.current){const v=l.current(f);Ys(v,u.current)||(y(v),u.current=v)}else y(f)}}}),[n,i,s,a]),Ne.useEffect(()=>n._removeUnmounted()),p}function YD(t){const e=Ap(),{name:n,disabled:s,control:r=e.control,shouldUnregister:i,defaultValue:a}=t,o=$N(r._names.array,n),c=Ne.useMemo(()=>te(r._formValues,n,te(r._defaultValues,n,a)),[r,n,a]),l=KD({control:r,name:n,defaultValue:c,exact:!0}),u=WD({control:r,name:n,exact:!0}),d=Ne.useRef(t),p=Ne.useRef(r.register(n,{...t.rules,value:l,...Sn(t.disabled)?{disabled:t.disabled}:{}}));d.current=t;const y=Ne.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!te(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!te(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!te(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!te(u.validatingFields,n)},error:{enumerable:!0,get:()=>te(u.errors,n)}}),[u,n]),m=Ne.useCallback(b=>p.current.onChange({target:{value:BN(b),name:n},type:Td.CHANGE}),[n]),f=Ne.useCallback(()=>p.current.onBlur({target:{value:te(r._formValues,n),name:n},type:Td.BLUR}),[n,r._formValues]),v=Ne.useCallback(b=>{const g=te(r._fields,n);g&&b&&(g._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:x=>b.setCustomValidity(x),reportValidity:()=>b.reportValidity()})},[r._fields,n]),h=Ne.useMemo(()=>({name:n,value:l,...Sn(s)||u.disabled?{disabled:u.disabled||s}:{},onChange:m,onBlur:f,ref:v}),[n,s,u.disabled,m,f,v,l]);return Ne.useEffect(()=>{const b=r._options.shouldUnregister||i;r.register(n,{...d.current.rules,...Sn(d.current.disabled)?{disabled:d.current.disabled}:{}});const g=(x,k)=>{const _=te(r._fields,x);_&&_._f&&(_._f.mount=k)};if(g(n,!0),b){const x=Et(te(r._options.defaultValues,n));Ue(r._defaultValues,n,x),ht(te(r._formValues,n))&&Ue(r._formValues,n,x)}return!o&&r.register(n),()=>{(o?b&&!r._state.action:b)?r.unregister(n):g(n,!1)}},[n,r,o,i]),Ne.useEffect(()=>{r._setDisabledField({disabled:s,name:n})},[s,n,r]),Ne.useMemo(()=>({field:h,formState:u,fieldState:y}),[h,u,y])}const JD=t=>t.render(YD(t));var qN=(t,e,n,s,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:r||!0}}:{},_c=t=>Array.isArray(t)?t:[t],dx=()=>{let t=[];return{get observers(){return t},next:r=>{for(const i of t)i.next&&i.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(i=>i!==r)}}),unsubscribe:()=>{t=[]}}},pn=t=>yt(t)&&!Object.keys(t).length,tv=t=>t.type==="file",rs=t=>typeof t=="function",Nd=t=>{if(!Yy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},QN=t=>t.type==="select-multiple",nv=t=>t.type==="radio",XD=t=>nv(t)||bl(t),sh=t=>Nd(t)&&t.isConnected;function ZD(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=ht(t)?s++:t[e[s++]];return t}function eF(t){for(const e in t)if(t.hasOwnProperty(e)&&!ht(t[e]))return!1;return!0}function vt(t,e){const n=Array.isArray(e)?e:Cp(e)?[e]:Xy(e),s=n.length===1?t:ZD(t,n),r=n.length-1,i=n[r];return s&&delete s[i],r!==0&&(yt(s)&&pn(s)||Array.isArray(s)&&eF(s))&&vt(t,n.slice(0,-1)),t}var VN=t=>{for(const e in t)if(rs(t[e]))return!0;return!1};function Rd(t,e={}){const n=Array.isArray(t);if(yt(t)||n)for(const s in t)Array.isArray(t[s])||yt(t[s])&&!VN(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Rd(t[s],e[s])):tn(t[s])||(e[s]=!0);return e}function HN(t,e,n){const s=Array.isArray(t);if(yt(t)||s)for(const r in t)Array.isArray(t[r])||yt(t[r])&&!VN(t[r])?ht(e)||Zm(n[r])?n[r]=Array.isArray(t[r])?Rd(t[r],[]):{...Rd(t[r])}:HN(t[r],tn(e)?{}:e[r],n[r]):n[r]=!Ys(t[r],e[r]);return n}var Wo=(t,e)=>HN(t,e,Rd(e));const px={value:!1,isValid:!1},fx={value:!0,isValid:!0};var GN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ht(t[0].attributes.value)?ht(t[0].value)||t[0].value===""?fx:{value:t[0].value,isValid:!0}:fx:px}return px},WN=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>ht(t)?t:e?t===""?NaN:t&&+t:n&&Es(t)?new Date(t):s?s(t):t;const hx={isValid:!1,value:null};var KN=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,hx):hx;function mx(t){const e=t.ref;return tv(e)?e.files:nv(e)?KN(t.refs).value:QN(e)?[...e.selectedOptions].map(({value:n})=>n):bl(e)?GN(t.refs).value:WN(ht(e.value)?t.ref.value:e.value,t)}var tF=(t,e,n,s)=>{const r={};for(const i of t){const a=te(e,i);a&&Ue(r,i,a._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:s}},Od=t=>t instanceof RegExp,Ko=t=>ht(t)?t:Od(t)?t.source:yt(t)?Od(t.value)?t.value.source:t.value:t,gx=t=>({isOnSubmit:!t||t===ss.onSubmit,isOnBlur:t===ss.onBlur,isOnChange:t===ss.onChange,isOnAll:t===ss.all,isOnTouch:t===ss.onTouched});const yx="AsyncFunction";var nF=t=>!!t&&!!t.validate&&!!(rs(t.validate)&&t.validate.constructor.name===yx||yt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===yx)),sF=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),vx=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Ec=(t,e,n,s)=>{for(const r of n||Object.keys(t)){const i=te(t,r);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],r)&&!s)return!0;if(a.ref&&e(a.ref,a.name)&&!s)return!0;if(Ec(o,e))break}else if(yt(o)&&Ec(o,e))break}}};function bx(t,e,n){const s=te(t,n);if(s||Cp(n))return{error:s,name:n};const r=n.split(".");for(;r.length;){const i=r.join("."),a=te(e,i),o=te(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};r.pop()}return{name:n}}var rF=(t,e,n,s)=>{n(t);const{name:r,...i}=t;return pn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!s||ss.all))},iF=(t,e,n)=>!t||!e||t===e||_c(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),aF=(t,e,n,s,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?s.isOnBlur:r.isOnBlur)?!t:(n?s.isOnChange:r.isOnChange)?t:!0,oF=(t,e)=>!Jy(te(t,e)).length&&vt(t,e),cF=(t,e,n)=>{const s=_c(te(t,n));return Ue(s,"root",e[n]),Ue(t,n,s),t},qu=t=>Es(t);function xx(t,e,n="validate"){if(qu(t)||Array.isArray(t)&&t.every(qu)||Sn(t)&&!t)return{type:n,message:qu(t)?t:"",ref:e}}var ua=t=>yt(t)&&!Od(t)?t:{value:t,message:""},wx=async(t,e,n,s,r,i)=>{const{ref:a,refs:o,required:c,maxLength:l,minLength:u,min:d,max:p,pattern:y,validate:m,name:f,valueAsNumber:v,mount:h}=t._f,b=te(n,f);if(!h||e.has(f))return{};const g=o?o[0]:a,x=q=>{r&&g.reportValidity&&(g.setCustomValidity(Sn(q)?"":q||""),g.reportValidity())},k={},_=nv(a),w=bl(a),E=_||w,T=(v||tv(a))&&ht(a.value)&&ht(b)||Nd(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,I=qN.bind(null,f,s,k),L=(q,F,A,N=Ls.maxLength,B=Ls.minLength)=>{const O=q?F:A;k[f]={type:q?N:B,message:O,ref:a,...I(q?N:B,O)}};if(i?!Array.isArray(b)||!b.length:c&&(!E&&(T||tn(b))||Sn(b)&&!b||w&&!GN(o).isValid||_&&!KN(o).isValid)){const{value:q,message:F}=qu(c)?{value:!!c,message:c}:ua(c);if(q&&(k[f]={type:Ls.required,message:F,ref:g,...I(Ls.required,F)},!s))return x(F),k}if(!T&&(!tn(d)||!tn(p))){let q,F;const A=ua(p),N=ua(d);if(!tn(b)&&!isNaN(b)){const B=a.valueAsNumber||b&&+b;tn(A.value)||(q=B>A.value),tn(N.value)||(F=B<N.value)}else{const B=a.valueAsDate||new Date(b),O=H=>new Date(new Date().toDateString()+" "+H),j=a.type=="time",D=a.type=="week";Es(A.value)&&b&&(q=j?O(b)>O(A.value):D?b>A.value:B>new Date(A.value)),Es(N.value)&&b&&(F=j?O(b)<O(N.value):D?b<N.value:B<new Date(N.value))}if((q||F)&&(L(!!q,A.message,N.message,Ls.max,Ls.min),!s))return x(k[f].message),k}if((l||u)&&!T&&(Es(b)||i&&Array.isArray(b))){const q=ua(l),F=ua(u),A=!tn(q.value)&&b.length>+q.value,N=!tn(F.value)&&b.length<+F.value;if((A||N)&&(L(A,q.message,F.message),!s))return x(k[f].message),k}if(y&&!T&&Es(b)){const{value:q,message:F}=ua(y);if(Od(q)&&!b.match(q)&&(k[f]={type:Ls.pattern,message:F,ref:a,...I(Ls.pattern,F)},!s))return x(F),k}if(m){if(rs(m)){const q=await m(b,n),F=xx(q,g);if(F&&(k[f]={...F,...I(Ls.validate,F.message)},!s))return x(F.message),k}else if(yt(m)){let q={};for(const F in m){if(!pn(q)&&!s)break;const A=xx(await m[F](b,n),g,F);A&&(q={...A,...I(F,A.message)},x(A.message),s&&(k[f]=q))}if(!pn(q)&&(k[f]={ref:g,...q},!s))return k}}return x(!0),k};const lF={mode:ss.onSubmit,reValidateMode:ss.onChange,shouldFocusError:!0};function uF(t={}){let e={...lF,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:rs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},r=yt(e.defaultValues)||yt(e.values)?Et(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Et(r),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,l=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const p={array:dx(),state:dx()},y=e.criteriaMode===ss.all,m=P=>z=>{clearTimeout(l),l=setTimeout(P,z)},f=async P=>{if(!e.disabled&&(u.isValid||d.isValid||P)){const z=e.resolver?pn((await w()).errors):await T(s,!0);z!==n.isValid&&p.state.next({isValid:z})}},v=(P,z)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((P||Array.from(o.mount)).forEach(V=>{V&&(z?Ue(n.validatingFields,V,z):vt(n.validatingFields,V))}),p.state.next({validatingFields:n.validatingFields,isValidating:!pn(n.validatingFields)}))},h=(P,z=[],V,oe,ee=!0,X=!0)=>{if(oe&&V&&!e.disabled){if(a.action=!0,X&&Array.isArray(te(s,P))){const fe=V(te(s,P),oe.argA,oe.argB);ee&&Ue(s,P,fe)}if(X&&Array.isArray(te(n.errors,P))){const fe=V(te(n.errors,P),oe.argA,oe.argB);ee&&Ue(n.errors,P,fe),oF(n.errors,P)}if((u.touchedFields||d.touchedFields)&&X&&Array.isArray(te(n.touchedFields,P))){const fe=V(te(n.touchedFields,P),oe.argA,oe.argB);ee&&Ue(n.touchedFields,P,fe)}(u.dirtyFields||d.dirtyFields)&&(n.dirtyFields=Wo(r,i)),p.state.next({name:P,isDirty:L(P,z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ue(i,P,z)},b=(P,z)=>{Ue(n.errors,P,z),p.state.next({errors:n.errors})},g=P=>{n.errors=P,p.state.next({errors:n.errors,isValid:!1})},x=(P,z,V,oe)=>{const ee=te(s,P);if(ee){const X=te(i,P,ht(V)?te(r,P):V);ht(X)||oe&&oe.defaultChecked||z?Ue(i,P,z?X:mx(ee._f)):A(P,X),a.mount&&f()}},k=(P,z,V,oe,ee)=>{let X=!1,fe=!1;const ze={name:P};if(!e.disabled){if(!V||oe){(u.isDirty||d.isDirty)&&(fe=n.isDirty,n.isDirty=ze.isDirty=L(),X=fe!==ze.isDirty);const Ge=Ys(te(r,P),z);fe=!!te(n.dirtyFields,P),Ge?vt(n.dirtyFields,P):Ue(n.dirtyFields,P,!0),ze.dirtyFields=n.dirtyFields,X=X||(u.dirtyFields||d.dirtyFields)&&fe!==!Ge}if(V){const Ge=te(n.touchedFields,P);Ge||(Ue(n.touchedFields,P,V),ze.touchedFields=n.touchedFields,X=X||(u.touchedFields||d.touchedFields)&&Ge!==V)}X&&ee&&p.state.next(ze)}return X?ze:{}},_=(P,z,V,oe)=>{const ee=te(n.errors,P),X=(u.isValid||d.isValid)&&Sn(z)&&n.isValid!==z;if(e.delayError&&V?(c=m(()=>b(P,V)),c(e.delayError)):(clearTimeout(l),c=null,V?Ue(n.errors,P,V):vt(n.errors,P)),(V?!Ys(ee,V):ee)||!pn(oe)||X){const fe={...oe,...X&&Sn(z)?{isValid:z}:{},errors:n.errors,name:P};n={...n,...fe},p.state.next(fe)}},w=async P=>{v(P,!0);const z=await e.resolver(i,e.context,tF(P||o.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return v(P),z},E=async P=>{const{errors:z}=await w(P);if(P)for(const V of P){const oe=te(z,V);oe?Ue(n.errors,V,oe):vt(n.errors,V)}else n.errors=z;return z},T=async(P,z,V={valid:!0})=>{for(const oe in P){const ee=P[oe];if(ee){const{_f:X,...fe}=ee;if(X){const ze=o.array.has(X.name),Ge=ee._f&&nF(ee._f);Ge&&u.validatingFields&&v([oe],!0);const jn=await wx(ee,o.disabled,i,y,e.shouldUseNativeValidation&&!z,ze);if(Ge&&u.validatingFields&&v([oe]),jn[X.name]&&(V.valid=!1,z))break;!z&&(te(jn,X.name)?ze?cF(n.errors,jn,X.name):Ue(n.errors,X.name,jn[X.name]):vt(n.errors,X.name))}!pn(fe)&&await T(fe,z,V)}}return V.valid},I=()=>{for(const P of o.unMount){const z=te(s,P);z&&(z._f.refs?z._f.refs.every(V=>!sh(V)):!sh(z._f.ref))&&mr(P)}o.unMount=new Set},L=(P,z)=>!e.disabled&&(P&&z&&Ue(i,P,z),!Ys(H(),r)),q=(P,z,V)=>UN(P,o,{...a.mount?i:ht(z)?r:Es(P)?{[P]:z}:z},V,z),F=P=>Jy(te(a.mount?i:r,P,e.shouldUnregister?te(r,P,[]):[])),A=(P,z,V={})=>{const oe=te(s,P);let ee=z;if(oe){const X=oe._f;X&&(!X.disabled&&Ue(i,P,WN(z,X)),ee=Nd(X.ref)&&tn(z)?"":z,QN(X.ref)?[...X.ref.options].forEach(fe=>fe.selected=ee.includes(fe.value)):X.refs?bl(X.ref)?X.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(ee)?fe.checked=!!ee.find(ze=>ze===fe.value):fe.checked=ee===fe.value||!!ee)}):X.refs.forEach(fe=>fe.checked=fe.value===ee):tv(X.ref)?X.ref.value="":(X.ref.value=ee,X.ref.type||p.state.next({name:P,values:Et(i)})))}(V.shouldDirty||V.shouldTouch)&&k(P,ee,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&D(P)},N=(P,z,V)=>{for(const oe in z){if(!z.hasOwnProperty(oe))return;const ee=z[oe],X=P+"."+oe,fe=te(s,X);(o.array.has(P)||yt(ee)||fe&&!fe._f)&&!ki(ee)?N(X,ee,V):A(X,ee,V)}},B=(P,z,V={})=>{const oe=te(s,P),ee=o.array.has(P),X=Et(z);Ue(i,P,X),ee?(p.array.next({name:P,values:Et(i)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&V.shouldDirty&&p.state.next({name:P,dirtyFields:Wo(r,i),isDirty:L(P,X)})):oe&&!oe._f&&!tn(X)?N(P,X,V):A(P,X,V),vx(P,o)&&p.state.next({...n,name:P}),p.state.next({name:a.mount?P:void 0,values:Et(i)})},O=async P=>{a.mount=!0;const z=P.target;let V=z.name,oe=!0;const ee=te(s,V),X=Ge=>{oe=Number.isNaN(Ge)||ki(Ge)&&isNaN(Ge.getTime())||Ys(Ge,te(i,V,Ge))},fe=gx(e.mode),ze=gx(e.reValidateMode);if(ee){let Ge,jn;const zl=z.type?mx(ee._f):BN(P),gr=P.type===Td.BLUR||P.type===Td.FOCUS_OUT,HI=!sF(ee._f)&&!e.resolver&&!te(n.errors,V)&&!ee._f.deps||aF(gr,te(n.touchedFields,V),n.isSubmitted,ze,fe),_f=vx(V,o,gr);Ue(i,V,zl),gr?(!z||!z.readOnly)&&(ee._f.onBlur&&ee._f.onBlur(P),c&&c(0)):ee._f.onChange&&ee._f.onChange(P);const Ef=k(V,zl,gr),GI=!pn(Ef)||_f;if(!gr&&p.state.next({name:V,type:P.type,values:Et(i)}),HI)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?gr&&f():gr||f()),GI&&p.state.next({name:V,..._f?{}:Ef});if(!gr&&_f&&p.state.next({...n}),e.resolver){const{errors:Db}=await w([V]);if(X(zl),oe){const WI=bx(n.errors,s,V),Fb=bx(Db,s,WI.name||V);Ge=Fb.error,V=Fb.name,jn=pn(Db)}}else v([V],!0),Ge=(await wx(ee,o.disabled,i,y,e.shouldUseNativeValidation))[V],v([V]),X(zl),oe&&(Ge?jn=!1:(u.isValid||d.isValid)&&(jn=await T(s,!0)));oe&&(ee._f.deps&&D(ee._f.deps),_(V,jn,Ge,Ef))}},j=(P,z)=>{if(te(n.errors,z)&&P.focus)return P.focus(),1},D=async(P,z={})=>{let V,oe;const ee=_c(P);if(e.resolver){const X=await E(ht(P)?P:ee);V=pn(X),oe=P?!ee.some(fe=>te(X,fe)):V}else P?(oe=(await Promise.all(ee.map(async X=>{const fe=te(s,X);return await T(fe&&fe._f?{[X]:fe}:fe)}))).every(Boolean),!(!oe&&!n.isValid)&&f()):oe=V=await T(s);return p.state.next({...!Es(P)||(u.isValid||d.isValid)&&V!==n.isValid?{}:{name:P},...e.resolver||!P?{isValid:V}:{},errors:n.errors}),z.shouldFocus&&!oe&&Ec(s,j,P?ee:o.mount),oe},H=P=>{const z={...a.mount?i:r};return ht(P)?z:Es(P)?te(z,P):P.map(V=>te(z,V))},Z=(P,z)=>({invalid:!!te((z||n).errors,P),isDirty:!!te((z||n).dirtyFields,P),error:te((z||n).errors,P),isValidating:!!te(n.validatingFields,P),isTouched:!!te((z||n).touchedFields,P)}),ie=P=>{P&&_c(P).forEach(z=>vt(n.errors,z)),p.state.next({errors:P?n.errors:{}})},Oe=(P,z,V)=>{const oe=(te(s,P,{_f:{}})._f||{}).ref,ee=te(n.errors,P)||{},{ref:X,message:fe,type:ze,...Ge}=ee;Ue(n.errors,P,{...Ge,...z,ref:oe}),p.state.next({name:P,errors:n.errors,isValid:!1}),V&&V.shouldFocus&&oe&&oe.focus&&oe.focus()},He=(P,z)=>rs(P)?p.state.subscribe({next:V=>"values"in V&&P(q(void 0,z),V)}):q(P,z,!0),$e=P=>p.state.subscribe({next:z=>{iF(P.name,z.name,P.exact)&&rF(z,P.formState||u,VI,P.reRenderRoot)&&P.callback({values:{...i},...n,...z,defaultValues:r})}}).unsubscribe,Kt=P=>(a.mount=!0,d={...d,...P.formState},$e({...P,formState:d})),mr=(P,z={})=>{for(const V of P?_c(P):o.mount)o.mount.delete(V),o.array.delete(V),z.keepValue||(vt(s,V),vt(i,V)),!z.keepError&&vt(n.errors,V),!z.keepDirty&&vt(n.dirtyFields,V),!z.keepTouched&&vt(n.touchedFields,V),!z.keepIsValidating&&vt(n.validatingFields,V),!e.shouldUnregister&&!z.keepDefaultValue&&vt(r,V);p.state.next({values:Et(i)}),p.state.next({...n,...z.keepDirty?{isDirty:L()}:{}}),!z.keepIsValid&&f()},Ob=({disabled:P,name:z})=>{(Sn(P)&&a.mount||P||o.disabled.has(z))&&(P?o.disabled.add(z):o.disabled.delete(z))},wf=(P,z={})=>{let V=te(s,P);const oe=Sn(z.disabled)||Sn(e.disabled);return Ue(s,P,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:P}},name:P,mount:!0,...z}}),o.mount.add(P),V?Ob({disabled:Sn(z.disabled)?z.disabled:e.disabled,name:P}):x(P,!0,z.value),{...oe?{disabled:z.disabled||e.disabled}:{},...e.progressive?{required:!!z.required,min:Ko(z.min),max:Ko(z.max),minLength:Ko(z.minLength),maxLength:Ko(z.maxLength),pattern:Ko(z.pattern)}:{},name:P,onChange:O,onBlur:O,ref:ee=>{if(ee){wf(P,z),V=te(s,P);const X=ht(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,fe=XD(X),ze=V._f.refs||[];if(fe?ze.find(Ge=>Ge===X):X===V._f.ref)return;Ue(s,P,{_f:{...V._f,...fe?{refs:[...ze.filter(sh),X,...Array.isArray(te(r,P))?[{}]:[]],ref:{type:X.type,name:P}}:{ref:X}}}),x(P,!1,void 0,X)}else V=te(s,P,{}),V._f&&(V._f.mount=!1),(e.shouldUnregister||z.shouldUnregister)&&!($N(o.array,P)&&a.action)&&o.unMount.add(P)}}},Sf=()=>e.shouldFocusError&&Ec(s,j,o.mount),UI=P=>{Sn(P)&&(p.state.next({disabled:P}),Ec(s,(z,V)=>{const oe=te(s,V);oe&&(z.disabled=oe._f.disabled||P,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(ee=>{ee.disabled=oe._f.disabled||P}))},0,!1))},Pb=(P,z)=>async V=>{let oe;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let ee=Et(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:fe}=await w();n.errors=X,ee=Et(fe)}else await T(s);if(o.disabled.size)for(const X of o.disabled)vt(ee,X);if(vt(n.errors,"root"),pn(n.errors)){p.state.next({errors:{}});try{await P(ee,V)}catch(X){oe=X}}else z&&await z({...n.errors},V),Sf(),setTimeout(Sf);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pn(n.errors)&&!oe,submitCount:n.submitCount+1,errors:n.errors}),oe)throw oe},qI=(P,z={})=>{te(s,P)&&(ht(z.defaultValue)?B(P,Et(te(r,P))):(B(P,z.defaultValue),Ue(r,P,Et(z.defaultValue))),z.keepTouched||vt(n.touchedFields,P),z.keepDirty||(vt(n.dirtyFields,P),n.isDirty=z.defaultValue?L(P,Et(te(r,P))):L()),z.keepError||(vt(n.errors,P),u.isValid&&f()),p.state.next({...n}))},Ib=(P,z={})=>{const V=P?Et(P):r,oe=Et(V),ee=pn(P),X=ee?r:oe;if(z.keepDefaultValues||(r=V),!z.keepValues){if(z.keepDirtyValues){const fe=new Set([...o.mount,...Object.keys(Wo(r,i))]);for(const ze of Array.from(fe))te(n.dirtyFields,ze)?Ue(X,ze,te(i,ze)):B(ze,te(X,ze))}else{if(Yy&&ht(P))for(const fe of o.mount){const ze=te(s,fe);if(ze&&ze._f){const Ge=Array.isArray(ze._f.refs)?ze._f.refs[0]:ze._f.ref;if(Nd(Ge)){const jn=Ge.closest("form");if(jn){jn.reset();break}}}}if(z.keepFieldsRef)for(const fe of o.mount)B(fe,te(X,fe));else s={}}i=e.shouldUnregister?z.keepDefaultValues?Et(r):{}:Et(X),p.array.next({values:{...X}}),p.state.next({values:{...X}})}o={mount:z.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!z.keepIsValid||!!z.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:z.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:z.keepDirty?n.isDirty:!!(z.keepDefaultValues&&!Ys(P,r)),isSubmitted:z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:z.keepDirtyValues?z.keepDefaultValues&&i?Wo(r,i):n.dirtyFields:z.keepDefaultValues&&P?Wo(r,P):z.keepDirty?n.dirtyFields:{},touchedFields:z.keepTouched?n.touchedFields:{},errors:z.keepErrors?n.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},jb=(P,z)=>Ib(rs(P)?P(i):P,z),QI=(P,z={})=>{const V=te(s,P),oe=V&&V._f;if(oe){const ee=oe.refs?oe.refs[0]:oe.ref;ee.focus&&(ee.focus(),z.shouldSelect&&rs(ee.select)&&ee.select())}},VI=P=>{n={...n,...P}},Mb={control:{register:wf,unregister:mr,getFieldState:Z,handleSubmit:Pb,setError:Oe,_subscribe:$e,_runSchema:w,_focusError:Sf,_getWatch:q,_getDirty:L,_setValid:f,_setFieldArray:h,_setDisabledField:Ob,_setErrors:g,_getFieldArray:F,_reset:Ib,_resetDefaultValues:()=>rs(e.defaultValues)&&e.defaultValues().then(P=>{jb(P,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:UI,_subjects:p,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return a},set _state(P){a=P},get _defaultValues(){return r},get _names(){return o},set _names(P){o=P},get _formState(){return n},get _options(){return e},set _options(P){e={...e,...P}}},subscribe:Kt,trigger:D,register:wf,handleSubmit:Pb,watch:He,setValue:B,getValues:H,reset:jb,resetField:qI,clearErrors:ie,unregister:mr,setError:Oe,setFocus:QI,getFieldState:Z};return{...Mb,formControl:Mb}}function dF(t={}){const e=Ne.useRef(void 0),n=Ne.useRef(void 0),[s,r]=Ne.useState({isDirty:!1,isValidating:!1,isLoading:rs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:rs(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!rs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=uF(t);e.current={...o,formState:s}}const i=e.current.control;return i._options=t,ev(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>r({...i._formState}),reRenderRoot:!0});return r(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),Ne.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Ne.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Ne.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Ne.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Ne.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==s.isDirty&&i._subjects.state.next({isDirty:a})}},[i,s.isDirty]),Ne.useEffect(()=>{t.values&&!Ys(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,r(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),Ne.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=zN(s,i),e.current}const Sx=(t,e,n)=>{if(t&&"reportValidity"in t){const s=te(n,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},YN=(t,e)=>{for(const n in e.fields){const s=e.fields[n];s&&s.ref&&"reportValidity"in s.ref?Sx(s.ref,n,t):s.refs&&s.refs.forEach(r=>Sx(r,n,t))}},pF=(t,e)=>{e.shouldUseNativeValidation&&YN(t,e);const n={};for(const s in t){const r=te(e.fields,s),i=Object.assign(t[s]||{},{ref:r&&r.ref});if(fF(e.names||Object.keys(t),s)){const a=Object.assign({},te(n,s));Ue(a,"root",i),Ue(n,s,a)}else Ue(n,s,i)}return n},fF=(t,e)=>t.some(n=>n.startsWith(e+"."));var hF=function(t,e){for(var n={};t.length;){var s=t[0],r=s.code,i=s.message,a=s.path.join(".");if(!n[a])if("unionErrors"in s){var o=s.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:i,type:r};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var c=n[a].types,l=c&&c[s.code];n[a]=qN(a,e,n,r,l?[].concat(l,s.message):s.message)}t.shift()}return n},mF=function(t,e,n){return n===void 0&&(n={}),function(s,r,i){try{return Promise.resolve(function(a,o){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(l){return i.shouldUseNativeValidation&&YN({},i),{errors:{},values:n.raw?s:l}})}catch(l){return o(l)}return c&&c.then?c.then(void 0,o):c}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:pF(hF(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JN=(...t)=>t.filter((e,n,s)=>!!e&&s.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=Q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...o},c)=>Q.createElement("svg",{ref:c,...yF,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:JN("lucide",r),...o},[...a.map(([l,u])=>Q.createElement(l,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(t,e)=>{const n=Q.forwardRef(({className:s,...r},i)=>Q.createElement(vF,{ref:i,iconNode:e,className:JN(`lucide-${gF(t)}`,s),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=_t("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=_t("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=_t("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=_t("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=_t("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=_t("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=_t("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=_t("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=_t("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=_t("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=_t("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=_t("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=_t("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=_t("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=_t("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=_t("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=_t("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=_t("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=_t("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=_t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),MF="/assets/google_icon-C-x_XCIi.png",DF="/assets/apple_icon-tBQkhHS0.png",FF="/assets/facebook_logo-B-WWC0hT.png";function _x(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function LF(...t){return e=>{let n=!1;const s=t.map(r=>{const i=_x(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():_x(t[r],null)}}}}function BF(t){const e=zF(t),n=Q.forwardRef((s,r)=>{const{children:i,...a}=s,o=Q.Children.toArray(i),c=o.find(qF);if(c){const l=c.props.children,u=o.map(d=>d===c?Q.Children.count(l)>1?Q.Children.only(null):Q.isValidElement(l)?l.props.children:null:d);return S.jsx(e,{...a,ref:r,children:Q.isValidElement(l)?Q.cloneElement(l,void 0,u):null})}return S.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}var $F=BF("Slot");function zF(t){const e=Q.forwardRef((n,s)=>{const{children:r,...i}=n;if(Q.isValidElement(r)){const a=VF(r),o=QF(i,r.props);return r.type!==Q.Fragment&&(o.ref=s?LF(s,a):a),Q.cloneElement(r,o)}return Q.Children.count(r)>1?Q.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var UF=Symbol("radix.slottable");function qF(t){return Q.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===UF}function QF(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...o)=>{const c=i(...o);return r(...o),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function VF(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function eR(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=eR(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function HF(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=eR(t))&&(s&&(s+=" "),s+=e);return s}const sv="-",GF=t=>{const e=KF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{const o=a.split(sv);return o[0]===""&&o.length!==1&&o.shift(),tR(o,e)||WF(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&s[a]?[...c,...s[a]]:c}}},tR=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?tR(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(sv);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},Ex=/^\[(.+)\]$/,WF=t=>{if(Ex.test(t)){const e=Ex.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},KF=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return JF(Object.entries(t.classGroups),n).forEach(([i,a])=>{tg(a,s,i,e)}),s},tg=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:kx(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(YF(r)){tg(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,a])=>{tg(a,kx(e,i),n,s)})})},kx=(t,e)=>{let n=t;return e.split(sv).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},YF=t=>t.isThemeGetter,JF=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[n,r]}):t,XF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return r(i,a),a},set(i,a){n.has(i)?n.set(i,a):r(i,a)}}},nR="!",ZF=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,a=o=>{const c=[];let l=0,u=0,d;for(let v=0;v<o.length;v++){let h=o[v];if(l===0){if(h===r&&(s||o.slice(v,v+i)===e)){c.push(o.slice(u,v)),u=v+i;continue}if(h==="/"){d=v;continue}}h==="["?l++:h==="]"&&l--}const p=c.length===0?o:o.substring(u),y=p.startsWith(nR),m=y?p.substring(1):p,f=d&&d>u?d-u:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:m,maybePostfixModifierPosition:f}};return n?o=>n({className:o,parseClassName:a}):a},eL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},tL=t=>({cache:XF(t.cacheSize),parseClassName:ZF(t),...GF(t)}),nL=/\s+/,sL=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],a=t.trim().split(nL);let o="";for(let c=a.length-1;c>=0;c-=1){const l=a[c],{modifiers:u,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:y}=n(l);let m=!!y,f=s(m?p.substring(0,y):p);if(!f){if(!m){o=l+(o.length>0?" "+o:o);continue}if(f=s(p),!f){o=l+(o.length>0?" "+o:o);continue}m=!1}const v=eL(u).join(":"),h=d?v+nR:v,b=h+f;if(i.includes(b))continue;i.push(b);const g=r(f,m);for(let x=0;x<g.length;++x){const k=g[x];i.push(h+k)}o=l+(o.length>0?" "+o:o)}return o};function rL(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=sR(e))&&(s&&(s+=" "),s+=n);return s}const sR=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=sR(t[s]))&&(n&&(n+=" "),n+=e);return n};function iL(t,...e){let n,s,r,i=a;function a(c){const l=e.reduce((u,d)=>d(u),t());return n=tL(l),s=n.cache.get,r=n.cache.set,i=o,o(c)}function o(c){const l=s(c);if(l)return l;const u=sL(c,n);return r(c,u),u}return function(){return i(rL.apply(null,arguments))}}const Ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},rR=/^\[(?:([a-z-]+):)?(.+)\]$/i,aL=/^\d+\/\d+$/,oL=new Set(["px","full","screen"]),cL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bs=t=>Qa(t)||oL.has(t)||aL.test(t),vr=t=>To(t,"length",xL),Qa=t=>!!t&&!Number.isNaN(Number(t)),rh=t=>To(t,"number",Qa),Yo=t=>!!t&&Number.isInteger(Number(t)),fL=t=>t.endsWith("%")&&Qa(t.slice(0,-1)),Ee=t=>rR.test(t),br=t=>cL.test(t),hL=new Set(["length","size","percentage"]),mL=t=>To(t,hL,iR),gL=t=>To(t,"position",iR),yL=new Set(["image","url"]),vL=t=>To(t,yL,SL),bL=t=>To(t,"",wL),Jo=()=>!0,To=(t,e,n)=>{const s=rR.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},xL=t=>lL.test(t)&&!uL.test(t),iR=()=>!1,wL=t=>dL.test(t),SL=t=>pL.test(t),_L=()=>{const t=Ke("colors"),e=Ke("spacing"),n=Ke("blur"),s=Ke("brightness"),r=Ke("borderColor"),i=Ke("borderRadius"),a=Ke("borderSpacing"),o=Ke("borderWidth"),c=Ke("contrast"),l=Ke("grayscale"),u=Ke("hueRotate"),d=Ke("invert"),p=Ke("gap"),y=Ke("gradientColorStops"),m=Ke("gradientColorStopPositions"),f=Ke("inset"),v=Ke("margin"),h=Ke("opacity"),b=Ke("padding"),g=Ke("saturate"),x=Ke("scale"),k=Ke("sepia"),_=Ke("skew"),w=Ke("space"),E=Ke("translate"),T=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Ee,e],q=()=>[Ee,e],F=()=>["",Bs,vr],A=()=>["auto",Qa,Ee],N=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Ee],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Qa,Ee];return{cacheSize:500,separator:":",theme:{colors:[Jo],spacing:[Bs,vr],blur:["none","",br,Ee],brightness:Z(),borderColor:[t],borderRadius:["none","","full",br,Ee],borderSpacing:q(),borderWidth:F(),contrast:Z(),grayscale:D(),hueRotate:Z(),invert:D(),gap:q(),gradientColorStops:[t],gradientColorStopPositions:[fL,vr],inset:L(),margin:L(),opacity:Z(),padding:q(),saturate:Z(),scale:Z(),sepia:D(),skew:Z(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[br]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...N(),Ee]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yo,Ee]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Yo,Ee]}],"grid-cols":[{"grid-cols":[Jo]}],"col-start-end":[{col:["auto",{span:["full",Yo,Ee]},Ee]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[Jo]}],"row-start-end":[{row:["auto",{span:[Yo,Ee]},Ee]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[w]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[w]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,e]}],"min-w":[{"min-w":[Ee,e,"min","max","fit"]}],"max-w":[{"max-w":[Ee,e,"none","full","min","max","fit","prose",{screen:[br]},br]}],h:[{h:[Ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",br,vr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rh]}],"font-family":[{font:[Jo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",Qa,rh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bs,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[h]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[h]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bs,vr]}],"underline-offset":[{"underline-offset":["auto",Bs,Ee]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[h]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...N(),gL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[h]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[h]}],"divide-style":[{divide:B()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Bs,Ee]}],"outline-w":[{outline:[Bs,vr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[h]}],"ring-offset-w":[{"ring-offset":[Bs,vr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",br,bL]}],"shadow-color":[{shadow:[Jo]}],opacity:[{opacity:[h]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",br,Ee]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[g]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[h]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[Yo,Ee]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Bs,vr,rh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},EL=iL(_L);function xt(...t){return EL(HF(t))}const aR=Q.forwardRef(({className:t,...e},n)=>S.jsx("label",{ref:n,className:xt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));aR.displayName="Label";const kL=GD,oR=Q.createContext({}),ih=({...t})=>S.jsx(oR.Provider,{value:{name:t.name},children:S.jsx(JD,{...t})}),Tp=()=>{const t=Q.useContext(oR),e=Q.useContext(cR),{getFieldState:n,formState:s}=Ap(),r=n(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...r}},cR=Q.createContext({}),Qu=Q.forwardRef(({className:t,...e},n)=>{const s=Q.useId();return S.jsx(cR.Provider,{value:{id:s},children:S.jsx("div",{ref:n,className:xt("space-y-2",t),...e})})});Qu.displayName="FormItem";const CL=Q.forwardRef(({className:t,...e},n)=>{const{error:s,formItemId:r}=Tp();return S.jsx(aR,{ref:n,className:xt(s&&"text-destructive",t),htmlFor:r,...e})});CL.displayName="FormLabel";const Vu=Q.forwardRef(({...t},e)=>{const{error:n,formItemId:s,formDescriptionId:r,formMessageId:i}=Tp();return S.jsx($F,{ref:e,id:s,"aria-describedby":n?`${r} ${i}`:`${r}`,"aria-invalid":!!n,...t})});Vu.displayName="FormControl";const AL=Q.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:s}=Tp();return S.jsx("p",{ref:n,id:s,className:xt("text-sm text-muted-foreground",t),...e})});AL.displayName="FormDescription";const ng=Q.forwardRef(({className:t,children:e,...n},s)=>{const{error:r,formMessageId:i}=Tp(),a=r?String(r==null?void 0:r.message):e;return a?S.jsx("p",{ref:s,id:i,className:xt("text-sm font-medium text-destructive",t),...n,children:a}):null});ng.displayName="FormMessage";const Hu=Q.forwardRef(({className:t,type:e,...n},s)=>S.jsx("input",{type:e,className:xt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n}));Hu.displayName="Input";const Le=Q.forwardRef(({className:t,variant:e="default",size:n="default",...s},r)=>{const i={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},a={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return S.jsx("button",{className:xt("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",i[e],a[n],t),ref:r,...s})});Le.displayName="Button";function TL({loading:t=!1,loadingText:e,children:n,disabled:s,className:r,...i}){return S.jsxs(Le,{disabled:t||s,className:xt("relative",r),...i,children:[t&&S.jsx(_F,{className:"mr-2 h-4 w-4 animate-spin"}),t?e||"Loading...":n]})}class da{constructor(){C(this,"baseURL","/api/auth")}async signUp(e){const n=await fetch(`${this.baseURL}/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const s=await n.json();throw new Error(s.message||"Sign up failed")}return n.json()}async signIn(e){const n=await fetch(`${this.baseURL}/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Sign in failed")}const s=await n.json();return s.token&&localStorage.setItem("token",s.token),s}async verifyOTP(e){const n=await fetch(`${this.baseURL}/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const s=await n.json();throw new Error(s.message||"OTP verification failed")}return n.json()}async signOut(){localStorage.removeItem("token"),window.location.href="/signin"}getToken(){return localStorage.getItem("token")}isAuthenticated(){return!!this.getToken()}}const NL=async t=>{const e=await fetch("/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"OTP verification failed")}return e.json()},RL=async t=>{const e=await fetch("/api/auth/resend-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});if(!e.ok){const n=await e.json();throw new Error(n.message||"Failed to resend OTP")}return e.json()},OL=async(t,e)=>{const n=await fetch("/api/auth/social-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:t,profile:e})});if(!n.ok){const s=await n.json();throw new Error(s.message||"Social login failed")}return n.json()},PL={signUp:new da().signUp,signIn:new da().signIn,verifyOTP:new da().verifyOTP,signOut:new da().signOut,getToken:new da().getToken,isAuthenticated:new da().isAuthenticated,verifyOtp:NL,resendOtp:RL,socialLogin:OL},U=Symbol.for("drizzle:entityKind");function G(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,U))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(U in n&&n[U]===e[U])return!0;n=Object.getPrototypeOf(n)}return!1}var t1;t1=U;class gt{constructor(e,n){C(this,"name");C(this,"keyAsName");C(this,"primary");C(this,"notNull");C(this,"default");C(this,"defaultFn");C(this,"onUpdateFn");C(this,"hasDefault");C(this,"isUnique");C(this,"uniqueName");C(this,"uniqueType");C(this,"dataType");C(this,"columnType");C(this,"enumValues");C(this,"generated");C(this,"generatedIdentity");C(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}C(gt,t1,"Column");var n1;n1=U;class lR{constructor(e,n,s){C(this,"config");C(this,"$default",this.$defaultFn);C(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}C(lR,n1,"ColumnBuilder");const ei=Symbol.for("drizzle:Name");var s1;s1=U;class uR{constructor(e,n){C(this,"reference");C(this,"_onUpdate","no action");C(this,"_onDelete","no action");this.reference=()=>{const{name:s,columns:r,foreignColumns:i}=e();return{name:s,columns:r,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new dR(e,this)}}C(uR,s1,"PgForeignKeyBuilder");var r1;r1=U;class dR{constructor(e,n){C(this,"reference");C(this,"onUpdate");C(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:s}=this.reference(),r=n.map(o=>o.name),i=s.map(o=>o.name),a=[this.table[ei],...r,s[0].table[ei],...i];return e??`${a.join("_")}_fk`}}C(dR,r1,"PgForeignKey");function IL(t,...e){return t(...e)}function jL(t,e){return`${t[ei]}_${e.join("_")}_unique`}function Cx(t,e,n){for(let s=e;s<t.length;s++){const r=t[s];if(r==="\\"){s++;continue}if(r==='"')return[t.slice(e,s).replace(/\\/g,""),s+1];if(!n&&(r===","||r==="}"))return[t.slice(e,s).replace(/\\/g,""),s]}return[t.slice(e).replace(/\\/g,""),t.length]}function pR(t,e=0){const n=[];let s=e,r=!1;for(;s<t.length;){const i=t[s];if(i===","){(r||s===e)&&n.push(""),r=!0,s++;continue}if(r=!1,i==="\\"){s+=2;continue}if(i==='"'){const[c,l]=Cx(t,s+1,!0);n.push(c),s=l;continue}if(i==="}")return[n,s+1];if(i==="{"){const[c,l]=pR(t,s+1);n.push(c),s=l;continue}const[a,o]=Cx(t,s,!1);n.push(a),s=o}return[n,s]}function ML(t){const[e]=pR(t,1);return e}function fR(t){return`{${t.map(e=>Array.isArray(e)?fR(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var i1,a1;class je extends(a1=lR,i1=U,a1){constructor(){super(...arguments);C(this,"foreignKeyConfigs",[])}array(n){return new mR(this.config.name,this,n)}references(n,s={}){return this.foreignKeyConfigs.push({ref:n,actions:s}),this}unique(n,s){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=s==null?void 0:s.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,s){return this.foreignKeyConfigs.map(({ref:r,actions:i})=>IL((a,o)=>{const c=new uR(()=>{const l=a();return{columns:[n],foreignColumns:[l]}});return o.onUpdate&&c.onUpdate(o.onUpdate),o.onDelete&&c.onDelete(o.onDelete),c.build(s)},r,i))}buildExtraConfigColumn(n){return new hR(n,this.config)}}C(je,i1,"PgColumnBuilder");var o1,c1;class ve extends(c1=gt,o1=U,c1){constructor(e,n){n.uniqueName||(n.uniqueName=jL(e,[n.name])),super(e,n),this.table=e}}C(ve,o1,"PgColumn");var l1,u1;class hR extends(u1=ve,l1=U,u1){constructor(){super(...arguments);C(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});C(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}C(hR,l1,"ExtraConfigColumn");var d1,p1;class mR extends(p1=je,d1=U,p1){constructor(e,n,s){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=s}build(e){const n=this.config.baseBuilder.build(e);return new sg(e,this.config,n)}}C(mR,d1,"PgArrayBuilder");var f1,h1;const np=class np extends(h1=ve,f1=U,h1){constructor(n,s,r,i){super(n,s);C(this,"size");this.baseColumn=r,this.range=i,this.size=s.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=ML(n)),n.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(n,s=!1){const r=n.map(i=>i===null?null:G(this.baseColumn,np)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return s?r:fR(r)}};C(np,f1,"PgArray");let sg=np;const rg=Symbol.for("drizzle:isPgEnum");function DL(t){return!!t&&typeof t=="function"&&rg in t&&t[rg]===!0}var m1,g1;class gR extends(g1=je,m1=U,g1){constructor(e,n){super(e,"string","PgEnumColumn"),this.config.enum=n}build(e){return new yR(e,this.config)}}C(gR,m1,"PgEnumColumnBuilder");var y1,v1;class yR extends(v1=ve,y1=U,v1){constructor(n,s){super(n,s);C(this,"enum",this.config.enum);C(this,"enumValues",this.config.enum.enumValues);this.enum=s.enum}getSQLType(){return this.enum.enumName}}C(yR,y1,"PgEnumColumn");function pi(t,e){return FL(t,e,void 0)}function FL(t,e,n){const s=Object.assign(r=>new gR(r??"",s),{enumName:t,enumValues:e,schema:n,[rg]:!0});return s}var b1;b1=U;class Tn{constructor(e,n,s,r=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:s,isWith:r}}}C(Tn,b1,"Subquery");var x1,w1;class rv extends(w1=Tn,x1=U,w1){}C(rv,x1,"WithSubquery");const Tt={startActiveSpan(t,e){return e()}},wt=Symbol.for("drizzle:ViewBaseConfig"),Gu=Symbol.for("drizzle:Schema"),ig=Symbol.for("drizzle:Columns"),Ax=Symbol.for("drizzle:ExtraConfigColumns"),ah=Symbol.for("drizzle:OriginalName"),oh=Symbol.for("drizzle:BaseName"),Pd=Symbol.for("drizzle:IsAlias"),Tx=Symbol.for("drizzle:ExtraConfigBuilder"),vR=Symbol.for("drizzle:IsDrizzleTable");var S1,_1,E1,k1,C1,A1,T1,N1,R1,O1;O1=U,R1=ei,N1=ah,T1=Gu,A1=ig,C1=Ax,k1=oh,E1=Pd,_1=vR,S1=Tx;class ue{constructor(e,n,s){C(this,R1);C(this,N1);C(this,T1);C(this,A1);C(this,C1);C(this,k1);C(this,E1,!1);C(this,_1,!0);C(this,S1);this[ei]=this[ah]=e,this[Gu]=n,this[oh]=s}}C(ue,O1,"Table"),C(ue,"Symbol",{Name:ei,Schema:Gu,OriginalName:ah,Columns:ig,ExtraConfigColumns:Ax,BaseName:oh,IsAlias:Pd,ExtraConfigBuilder:Tx});function bR(t){return typeof t=="object"&&t!==null&&vR in t}function Zs(t){return t[ei]}function Vc(t){return`${t[Gu]??"public"}.${t[ei]}`}function xR(t){return t!=null&&typeof t.getSQL=="function"}function LL(t){var n;const e={sql:"",params:[]};for(const s of t)e.sql+=s.sql,e.params.push(...s.params),(n=s.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...s.typings));return e}var P1;P1=U;class Pt{constructor(e){C(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new pe([this])}}C(Pt,P1,"StringChunk");var I1;I1=U;const wi=class wi{constructor(e){C(this,"decoder",wR);C(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return Tt.startActiveSpan("drizzle.buildSQL",n=>{const s=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(e,n){const s=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:r,escapeName:i,escapeParam:a,prepareTyping:o,inlineParams:c,paramStartIndex:l}=s;return LL(e.map(u=>{var d;if(G(u,Pt))return{sql:u.value.join(""),params:[]};if(G(u,Id))return{sql:i(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const p=[new Pt("(")];for(const[y,m]of u.entries())p.push(m),y<u.length-1&&p.push(new Pt(", "));return p.push(new Pt(")")),this.buildQueryFromSourceParams(p,s)}if(G(u,wi))return this.buildQueryFromSourceParams(u.queryChunks,{...s,inlineParams:c||u.shouldInlineParams});if(G(u,ue)){const p=u[ue.Symbol.Schema],y=u[ue.Symbol.Name];return{sql:p===void 0||u[Pd]?i(y):i(p)+"."+i(y),params:[]}}if(G(u,gt)){const p=r.getColumnCasing(u);if(n.invokeSource==="indexes")return{sql:i(p),params:[]};const y=u.table[ue.Symbol.Schema];return{sql:u.table[Pd]||y===void 0?i(u.table[ue.Symbol.Name])+"."+i(p):i(y)+"."+i(u.table[ue.Symbol.Name])+"."+i(p),params:[]}}if(G(u,fi)){const p=u[wt].schema,y=u[wt].name;return{sql:p===void 0||u[wt].isAlias?i(y):i(p)+"."+i(y),params:[]}}if(G(u,lr)){if(G(u.value,Yi))return{sql:a(l.value++,u),params:[u],typings:["none"]};const p=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(G(p,wi))return this.buildQueryFromSourceParams([p],s);if(c)return{sql:this.mapInlineParam(p,s),params:[]};let y=["none"];return o&&(y=[o(u.encoder)]),{sql:a(l.value++,p),params:[p],typings:y}}return G(u,Yi)?{sql:a(l.value++,u),params:[u],typings:["none"]}:G(u,wi.Aliased)&&u.fieldAlias!==void 0?{sql:i(u.fieldAlias),params:[]}:G(u,Tn)?u._.isWith?{sql:i(u._.alias),params:[]}:this.buildQueryFromSourceParams([new Pt("("),u._.sql,new Pt(") "),new Id(u._.alias)],s):DL(u)?u.schema?{sql:i(u.schema)+"."+i(u.enumName),params:[]}:{sql:i(u.enumName),params:[]}:xR(u)?(d=u.shouldOmitSQLParens)!=null&&d.call(u)?this.buildQueryFromSourceParams([u.getSQL()],s):this.buildQueryFromSourceParams([new Pt("("),u.getSQL(),new Pt(")")],s):c?{sql:this.mapInlineParam(u,s),params:[]}:{sql:a(l.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const s=e.toString();return n(s==="[object Object]"?JSON.stringify(e):s)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new wi.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};C(wi,I1,"SQL");let pe=wi;var j1;j1=U;class Id{constructor(e){C(this,"brand");this.value=e}getSQL(){return new pe([this])}}C(Id,j1,"Name");function BL(t){return typeof t=="object"&&t!==null&&"mapToDriverValue"in t&&typeof t.mapToDriverValue=="function"}const wR={mapFromDriverValue:t=>t},SR={mapToDriverValue:t=>t};({...wR,...SR});var M1;M1=U;class lr{constructor(e,n=SR){C(this,"brand");this.value=e,this.encoder=n}getSQL(){return new pe([this])}}C(lr,M1,"Param");function M(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Pt(t[0]));for(const[s,r]of e.entries())n.push(r,new Pt(t[s+1]));return new pe(n)}(t=>{function e(){return new pe([])}t.empty=e;function n(c){return new pe(c)}t.fromList=n;function s(c){return new pe([new Pt(c)])}t.raw=s;function r(c,l){const u=[];for(const[d,p]of c.entries())d>0&&l!==void 0&&u.push(l),u.push(p);return new pe(u)}t.join=r;function i(c){return new Id(c)}t.identifier=i;function a(c){return new Yi(c)}t.placeholder=a;function o(c,l){return new lr(c,l)}t.param=o})(M||(M={}));(t=>{var n;n=U;const s=class s{constructor(i,a){C(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=a}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};C(s,n,"SQL.Aliased");let e=s;t.Aliased=e})(pe||(pe={}));var D1;D1=U;class Yi{constructor(e){this.name=e}getSQL(){return new pe([this])}}C(Yi,D1,"Placeholder");function Nx(t,e){return t.map(n=>{if(G(n,Yi)){if(!(n.name in e))throw new Error(`No value for placeholder "${n.name}" was provided`);return e[n.name]}if(G(n,lr)&&G(n.value,Yi)){if(!(n.value.name in e))throw new Error(`No value for placeholder "${n.value.name}" was provided`);return n.encoder.mapToDriverValue(e[n.value.name])}return n})}const _R=Symbol.for("drizzle:IsDrizzleView");var F1,L1,B1;B1=U,L1=wt,F1=_R;class fi{constructor({name:e,schema:n,selectedFields:s,query:r}){C(this,L1);C(this,F1,!0);this[wt]={name:e,originalName:e,schema:n,selectedFields:s,query:r,isExisting:!r,isAlias:!1}}getSQL(){return new pe([this])}}C(fi,B1,"View");function $L(t){return typeof t=="object"&&t!==null&&_R in t}gt.prototype.getSQL=function(){return new pe([this])};ue.prototype.getSQL=function(){return new pe([this])};Tn.prototype.getSQL=function(){return new pe([this])};var $1;$1=U;class Hc{constructor(e){this.table=e}get(e,n){return n==="table"?this.table:e[n]}}C(Hc,$1,"ColumnAliasProxyHandler");var z1;z1=U;class Np{constructor(e,n){this.alias=e,this.replaceOriginalName=n}get(e,n){if(n===ue.Symbol.IsAlias)return!0;if(n===ue.Symbol.Name)return this.alias;if(this.replaceOriginalName&&n===ue.Symbol.OriginalName)return this.alias;if(n===wt)return{...e[wt],name:this.alias,isAlias:!0};if(n===ue.Symbol.Columns){const r=e[ue.Symbol.Columns];if(!r)return r;const i={};return Object.keys(r).map(a=>{i[a]=new Proxy(r[a],new Hc(new Proxy(e,this)))}),i}const s=e[n];return G(s,gt)?new Proxy(s,new Hc(new Proxy(e,this))):s}}C(Np,z1,"TableAliasProxyHandler");function ch(t,e){return new Proxy(t,new Np(e,!1))}function Us(t,e){return new Proxy(t,new Hc(new Proxy(t.table,new Np(e,!1))))}function ER(t,e){return new pe.Aliased(jd(t.sql,e),t.fieldAlias)}function jd(t,e){return M.join(t.queryChunks.map(n=>G(n,gt)?Us(n,e):G(n,pe)?jd(n,e):G(n,pe.Aliased)?ER(n,e):n))}function zL(t,e,n){const s={},r=t.reduce((i,{path:a,field:o},c)=>{let l;G(o,gt)?l=o:G(o,pe)?l=o.decoder:l=o.sql.decoder;let u=i;for(const[d,p]of a.entries())if(d<a.length-1)p in u||(u[p]={}),u=u[p];else{const y=e[c],m=u[p]=y===null?null:l.mapFromDriverValue(y);if(n&&G(o,gt)&&a.length===2){const f=a[0];f in s?typeof s[f]=="string"&&s[f]!==Zs(o.table)&&(s[f]=!1):s[f]=m===null?Zs(o.table):!1}}return i},{});if(n&&Object.keys(s).length>0)for(const[i,a]of Object.entries(s))typeof a=="string"&&!n[a]&&(r[i]=null);return r}function Ji(t,e){return Object.entries(t).reduce((n,[s,r])=>{if(typeof s!="string")return n;const i=e?[...e,s]:[s];return G(r,gt)||G(r,pe)||G(r,pe.Aliased)?n.push({path:i,field:r}):G(r,ue)?n.push(...Ji(r[ue.Symbol.Columns],i)):n.push(...Ji(r,i)),n},[])}function iv(t,e){const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(const[r,i]of n.entries())if(i!==s[r])return!1;return!0}function kR(t,e){const n=Object.entries(e).filter(([,s])=>s!==void 0).map(([s,r])=>G(r,pe)||G(r,gt)?[s,r]:[s,new lr(r,t[ue.Symbol.Columns][s])]);if(n.length===0)throw new Error("No values to set");return Object.fromEntries(n)}function UL(t,e){for(const n of e)for(const s of Object.getOwnPropertyNames(n.prototype))s!=="constructor"&&Object.defineProperty(t.prototype,s,Object.getOwnPropertyDescriptor(n.prototype,s)||Object.create(null))}function CR(t){return t[ue.Symbol.Columns]}function qL(t){return t[wt].selectedFields}function xi(t){return G(t,Tn)?t._.alias:G(t,fi)?t[wt].name:G(t,pe)?void 0:t[ue.Symbol.IsAlias]?t[ue.Symbol.Name]:t[ue.Symbol.BaseName]}function jt(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}function QL(t){if(typeof t!="object"||t===null||t.constructor.name!=="Object")return!1;if("logger"in t){const e=typeof t.logger;return!(e!=="boolean"&&(e!=="object"||typeof t.logger.logQuery!="function")&&e!=="undefined")}if("schema"in t){const e=typeof t.logger;return!(e!=="object"&&e!=="undefined")}if("casing"in t){const e=typeof t.logger;return!(e!=="string"&&e!=="undefined")}if("mode"in t)return!(t.mode!=="default"||t.mode!=="planetscale"||t.mode!==void 0);if("connection"in t){const e=typeof t.connection;return!(e!=="string"&&e!=="object"&&e!=="undefined")}if("client"in t){const e=typeof t.client;return!(e!=="object"&&e!=="function"&&e!=="undefined")}return Object.keys(t).length===0}var U1,q1;class xl extends(q1=je,U1=U,q1){generatedAlwaysAsIdentity(e){if(e){const{name:n,...s}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...s}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}C(xl,U1,"PgIntColumnBaseBuilder");var Q1,V1;class AR extends(V1=xl,Q1=U,V1){constructor(e){super(e,"number","PgBigInt53")}build(e){return new TR(e,this.config)}}C(AR,Q1,"PgBigInt53Builder");var H1,G1;class TR extends(G1=ve,H1=U,G1){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}C(TR,H1,"PgBigInt53");var W1,K1;class NR extends(K1=xl,W1=U,K1){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new RR(e,this.config)}}C(NR,W1,"PgBigInt64Builder");var Y1,J1;class RR extends(J1=ve,Y1=U,J1){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}C(RR,Y1,"PgBigInt64");function VL(t,e){const{name:n,config:s}=jt(t,e);return s.mode==="number"?new AR(n):new NR(n)}var X1,Z1;class OR extends(Z1=je,X1=U,Z1){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new PR(e,this.config)}}C(OR,X1,"PgBigSerial53Builder");var e_,t_;class PR extends(t_=ve,e_=U,t_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}C(PR,e_,"PgBigSerial53");var n_,s_;class IR extends(s_=je,n_=U,s_){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new jR(e,this.config)}}C(IR,n_,"PgBigSerial64Builder");var r_,i_;class jR extends(i_=ve,r_=U,i_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}C(jR,r_,"PgBigSerial64");function HL(t,e){const{name:n,config:s}=jt(t,e);return s.mode==="number"?new OR(n):new IR(n)}var a_,o_;class MR extends(o_=je,a_=U,o_){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new DR(e,this.config)}}C(MR,a_,"PgBooleanBuilder");var c_,l_;class DR extends(l_=ve,c_=U,l_){getSQLType(){return"boolean"}}C(DR,c_,"PgBoolean");function Fe(t){return new MR(t??"")}var u_,d_;class FR extends(d_=je,u_=U,d_){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new LR(e,this.config)}}C(FR,u_,"PgCharBuilder");var p_,f_;class LR extends(f_=ve,p_=U,f_){constructor(){super(...arguments);C(this,"length",this.config.length);C(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}C(LR,p_,"PgChar");function GL(t,e={}){const{name:n,config:s}=jt(t,e);return new FR(n,s)}var h_,m_;class BR extends(m_=je,h_=U,m_){constructor(e){super(e,"string","PgCidr")}build(e){return new $R(e,this.config)}}C(BR,h_,"PgCidrBuilder");var g_,y_;class $R extends(y_=ve,g_=U,y_){getSQLType(){return"cidr"}}C($R,g_,"PgCidr");function WL(t){return new BR(t??"")}var v_,b_;class zR extends(b_=je,v_=U,b_){constructor(e,n,s){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=s}build(e){return new UR(e,this.config)}}C(zR,v_,"PgCustomColumnBuilder");var x_,w_;class UR extends(w_=ve,x_=U,w_){constructor(n,s){super(n,s);C(this,"sqlName");C(this,"mapTo");C(this,"mapFrom");this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}C(UR,x_,"PgCustomColumn");function KL(t){return(e,n)=>{const{name:s,config:r}=jt(e,n);return new zR(s,r,t)}}var S_,__;class No extends(__=je,S_=U,__){defaultNow(){return this.default(M`now()`)}}C(No,S_,"PgDateColumnBaseBuilder");var E_,k_;class qR extends(k_=No,E_=U,k_){constructor(e){super(e,"date","PgDate")}build(e){return new av(e,this.config)}}C(qR,E_,"PgDateBuilder");var C_,A_;class av extends(A_=ve,C_=U,A_){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}C(av,C_,"PgDate");var T_,N_;class QR extends(N_=No,T_=U,N_){constructor(e){super(e,"string","PgDateString")}build(e){return new ov(e,this.config)}}C(QR,T_,"PgDateStringBuilder");var R_,O_;class ov extends(O_=ve,R_=U,O_){getSQLType(){return"date"}}C(ov,R_,"PgDateString");function YL(t,e){const{name:n,config:s}=jt(t,e);return(s==null?void 0:s.mode)==="date"?new qR(n):new QR(n)}var P_,I_;class VR extends(I_=je,P_=U,I_){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new HR(e,this.config)}}C(VR,P_,"PgDoublePrecisionBuilder");var j_,M_;class HR extends(M_=ve,j_=U,M_){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}C(HR,j_,"PgDoublePrecision");function JL(t){return new VR(t??"")}var D_,F_;class GR extends(F_=je,D_=U,F_){constructor(e){super(e,"string","PgInet")}build(e){return new WR(e,this.config)}}C(GR,D_,"PgInetBuilder");var L_,B_;class WR extends(B_=ve,L_=U,B_){getSQLType(){return"inet"}}C(WR,L_,"PgInet");function XL(t){return new GR(t??"")}var $_,z_;class KR extends(z_=xl,$_=U,z_){constructor(e){super(e,"number","PgInteger")}build(e){return new YR(e,this.config)}}C(KR,$_,"PgIntegerBuilder");var U_,q_;class YR extends(q_=ve,U_=U,q_){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}C(YR,U_,"PgInteger");function J(t){return new KR(t??"")}var Q_,V_;class JR extends(V_=je,Q_=U,V_){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new XR(e,this.config)}}C(JR,Q_,"PgIntervalBuilder");var H_,G_;class XR extends(G_=ve,H_=U,G_){constructor(){super(...arguments);C(this,"fields",this.config.intervalConfig.fields);C(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${n}${s}`}}C(XR,H_,"PgInterval");function ZL(t,e={}){const{name:n,config:s}=jt(t,e);return new JR(n,s)}var W_,K_;class ZR extends(K_=je,W_=U,K_){constructor(e){super(e,"json","PgJson")}build(e){return new cv(e,this.config)}}C(ZR,W_,"PgJsonBuilder");var Y_,J_;class cv extends(J_=ve,Y_=U,J_){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}C(cv,Y_,"PgJson");function eB(t){return new ZR(t??"")}var X_,Z_;class eO extends(Z_=je,X_=U,Z_){constructor(e){super(e,"json","PgJsonb")}build(e){return new lv(e,this.config)}}C(eO,X_,"PgJsonbBuilder");var eE,tE;class lv extends(tE=ve,eE=U,tE){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}C(lv,eE,"PgJsonb");function Qe(t){return new eO(t??"")}var nE,sE;class tO extends(sE=je,nE=U,sE){constructor(e){super(e,"array","PgLine")}build(e){return new nO(e,this.config)}}C(tO,nE,"PgLineBuilder");var rE,iE;class nO extends(iE=ve,rE=U,iE){getSQLType(){return"line"}mapFromDriverValue(e){const[n,s,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s),Number.parseFloat(r)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}C(nO,rE,"PgLine");var aE,oE;class sO extends(oE=je,aE=U,oE){constructor(e){super(e,"json","PgLineABC")}build(e){return new rO(e,this.config)}}C(sO,aE,"PgLineABCBuilder");var cE,lE;class rO extends(lE=ve,cE=U,lE){getSQLType(){return"line"}mapFromDriverValue(e){const[n,s,r]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(s),c:Number.parseFloat(r)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}C(rO,cE,"PgLineABC");function tB(t,e){const{name:n,config:s}=jt(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new tO(n):new sO(n)}var uE,dE;class iO extends(dE=je,uE=U,dE){constructor(e){super(e,"string","PgMacaddr")}build(e){return new aO(e,this.config)}}C(iO,uE,"PgMacaddrBuilder");var pE,fE;class aO extends(fE=ve,pE=U,fE){getSQLType(){return"macaddr"}}C(aO,pE,"PgMacaddr");function nB(t){return new iO(t??"")}var hE,mE;class oO extends(mE=je,hE=U,mE){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new cO(e,this.config)}}C(oO,hE,"PgMacaddr8Builder");var gE,yE;class cO extends(yE=ve,gE=U,yE){getSQLType(){return"macaddr8"}}C(cO,gE,"PgMacaddr8");function sB(t){return new oO(t??"")}var vE,bE;class lO extends(bE=je,vE=U,bE){constructor(e,n,s){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=s}build(e){return new uv(e,this.config)}}C(lO,vE,"PgNumericBuilder");var xE,wE;class uv extends(wE=ve,xE=U,wE){constructor(n,s){super(n,s);C(this,"precision");C(this,"scale");this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}C(uv,xE,"PgNumeric");function uO(t,e){const{name:n,config:s}=jt(t,e);return new lO(n,s==null?void 0:s.precision,s==null?void 0:s.scale)}const Ae=uO;var SE,_E;class dO extends(_E=je,SE=U,_E){constructor(e){super(e,"array","PgPointTuple")}build(e){return new pO(e,this.config)}}C(dO,SE,"PgPointTupleBuilder");var EE,kE;class pO extends(kE=ve,EE=U,kE){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,s]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}C(pO,EE,"PgPointTuple");var CE,AE;class fO extends(AE=je,CE=U,AE){constructor(e){super(e,"json","PgPointObject")}build(e){return new hO(e,this.config)}}C(fO,CE,"PgPointObjectBuilder");var TE,NE;class hO extends(NE=ve,TE=U,NE){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,s]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(s)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}C(hO,TE,"PgPointObject");function rB(t,e){const{name:n,config:s}=jt(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new dO(n):new fO(n)}function iB(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function Rx(t,e){const n=new ArrayBuffer(8),s=new DataView(n);for(let r=0;r<8;r++)s.setUint8(r,t[e+r]);return s.getFloat64(0,!0)}function mO(t){const e=iB(t);let n=0;const s=e[n];n+=1;const r=new DataView(e.buffer),i=r.getUint32(n,s===1);if(n+=4,i&536870912&&(r.getUint32(n,s===1),n+=4),(i&65535)===1){const a=Rx(e,n);n+=8;const o=Rx(e,n);return n+=8,[a,o]}throw new Error("Unsupported geometry type")}var RE,OE;class gO extends(OE=je,RE=U,OE){constructor(e){super(e,"array","PgGeometry")}build(e){return new yO(e,this.config)}}C(gO,RE,"PgGeometryBuilder");var PE,IE;class yO extends(IE=ve,PE=U,IE){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return mO(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}C(yO,PE,"PgGeometry");var jE,ME;class vO extends(ME=je,jE=U,ME){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new bO(e,this.config)}}C(vO,jE,"PgGeometryObjectBuilder");var DE,FE;class bO extends(FE=ve,DE=U,FE){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=mO(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}C(bO,DE,"PgGeometryObject");function aB(t,e){const{name:n,config:s}=jt(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new gO(n):new vO(n)}var LE,BE;class xO extends(BE=je,LE=U,BE){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new wO(e,this.config)}}C(xO,LE,"PgRealBuilder");var $E,zE;class wO extends(zE=ve,$E=U,zE){constructor(n,s){super(n,s);C(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}C(wO,$E,"PgReal");function oB(t){return new xO(t??"")}var UE,qE;class SO extends(qE=je,UE=U,qE){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new _O(e,this.config)}}C(SO,UE,"PgSerialBuilder");var QE,VE;class _O extends(VE=ve,QE=U,VE){getSQLType(){return"serial"}}C(_O,QE,"PgSerial");function xe(t){return new SO(t??"")}var HE,GE;class EO extends(GE=xl,HE=U,GE){constructor(e){super(e,"number","PgSmallInt")}build(e){return new kO(e,this.config)}}C(EO,HE,"PgSmallIntBuilder");var WE,KE;class kO extends(KE=ve,WE=U,KE){constructor(){super(...arguments);C(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}C(kO,WE,"PgSmallInt");function cB(t){return new EO(t??"")}var YE,JE;class CO extends(JE=je,YE=U,JE){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new AO(e,this.config)}}C(CO,YE,"PgSmallSerialBuilder");var XE,ZE;class AO extends(ZE=ve,XE=U,ZE){getSQLType(){return"smallserial"}}C(AO,XE,"PgSmallSerial");function lB(t){return new CO(t??"")}var ek,tk;class TO extends(tk=je,ek=U,tk){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new NO(e,this.config)}}C(TO,ek,"PgTextBuilder");var nk,sk;class NO extends(sk=ve,nk=U,sk){constructor(){super(...arguments);C(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}C(NO,nk,"PgText");function $(t,e={}){const{name:n,config:s}=jt(t,e);return new TO(n,s)}var rk,ik;class RO extends(ik=No,rk=U,ik){constructor(e,n,s){super(e,"string","PgTime"),this.withTimezone=n,this.precision=s,this.config.withTimezone=n,this.config.precision=s}build(e){return new dv(e,this.config)}}C(RO,rk,"PgTimeBuilder");var ak,ok;class dv extends(ok=ve,ak=U,ok){constructor(n,s){super(n,s);C(this,"withTimezone");C(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}C(dv,ak,"PgTime");function uB(t,e={}){const{name:n,config:s}=jt(t,e);return new RO(n,s.withTimezone??!1,s.precision)}var ck,lk;class OO extends(lk=No,ck=U,lk){constructor(e,n,s){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=s}build(e){return new pv(e,this.config)}}C(OO,ck,"PgTimestampBuilder");var uk,dk;class pv extends(dk=ve,uk=U,dk){constructor(n,s){super(n,s);C(this,"withTimezone");C(this,"precision");C(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));C(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}C(pv,uk,"PgTimestamp");var pk,fk;class PO extends(fk=No,pk=U,fk){constructor(e,n,s){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=s}build(e){return new fv(e,this.config)}}C(PO,pk,"PgTimestampStringBuilder");var hk,mk;class fv extends(mk=ve,hk=U,mk){constructor(n,s){super(n,s);C(this,"withTimezone");C(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}C(fv,hk,"PgTimestampString");function W(t,e={}){const{name:n,config:s}=jt(t,e);return(s==null?void 0:s.mode)==="string"?new PO(n,s.withTimezone??!1,s.precision):new OO(n,(s==null?void 0:s.withTimezone)??!1,s==null?void 0:s.precision)}var gk,yk;class IO extends(yk=je,gk=U,yk){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(M`gen_random_uuid()`)}build(e){return new hv(e,this.config)}}C(IO,gk,"PgUUIDBuilder");var vk,bk;class hv extends(bk=ve,vk=U,bk){getSQLType(){return"uuid"}}C(hv,vk,"PgUUID");function dB(t){return new IO(t??"")}var xk,wk;class jO extends(wk=je,xk=U,wk){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new MO(e,this.config)}}C(jO,xk,"PgVarcharBuilder");var Sk,_k;class MO extends(_k=ve,Sk=U,_k){constructor(){super(...arguments);C(this,"length",this.config.length);C(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}C(MO,Sk,"PgVarchar");function we(t,e={}){const{name:n,config:s}=jt(t,e);return new jO(n,s)}var Ek,kk;class DO extends(kk=je,Ek=U,kk){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new FO(e,this.config)}}C(DO,Ek,"PgBinaryVectorBuilder");var Ck,Ak;class FO extends(Ak=ve,Ck=U,Ak){constructor(){super(...arguments);C(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}C(FO,Ck,"PgBinaryVector");function pB(t,e){const{name:n,config:s}=jt(t,e);return new DO(n,s)}var Tk,Nk;class LO extends(Nk=je,Tk=U,Nk){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new BO(e,this.config)}}C(LO,Tk,"PgHalfVectorBuilder");var Rk,Ok;class BO extends(Ok=ve,Rk=U,Ok){constructor(){super(...arguments);C(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}C(BO,Rk,"PgHalfVector");function fB(t,e){const{name:n,config:s}=jt(t,e);return new LO(n,s)}var Pk,Ik;class $O extends(Ik=je,Pk=U,Ik){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new zO(e,this.config)}}C($O,Pk,"PgSparseVectorBuilder");var jk,Mk;class zO extends(Mk=ve,jk=U,Mk){constructor(){super(...arguments);C(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}C(zO,jk,"PgSparseVector");function hB(t,e){const{name:n,config:s}=jt(t,e);return new $O(n,s)}var Dk,Fk;class UO extends(Fk=je,Dk=U,Fk){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new qO(e,this.config)}}C(UO,Dk,"PgVectorBuilder");var Lk,Bk;class qO extends(Bk=ve,Lk=U,Bk){constructor(){super(...arguments);C(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}C(qO,Lk,"PgVector");function mB(t,e){const{name:n,config:s}=jt(t,e);return new UO(n,s)}var $k,zk;zk=U,$k=Symbol.toStringTag;class hi{constructor(){C(this,$k,"QueryPromise")}catch(e){return this.then(void 0,e)}finally(e){return this.then(n=>(e==null||e(),n),n=>{throw e==null||e(),n})}then(e,n){return this.execute().then(e,n)}}C(hi,zk,"QueryPromise");var Uk;Uk=U;const sp=class sp{constructor(e){C(this,"config");this.config={...e}}get(e,n){if(n==="_")return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(n===wt)return{...e[wt],selectedFields:new Proxy(e[wt].selectedFields,this)};if(typeof n=="symbol")return e[n];const r=(G(e,Tn)?e._.selectedFields:G(e,fi)?e[wt].selectedFields:e)[n];if(G(r,pe.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!r.isSelectionField)return r.sql;const i=r.clone();return i.isSelectionField=!0,i}if(G(r,pe)){if(this.config.sqlBehavior==="sql")return r;throw new Error(`You tried to reference "${n}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return G(r,gt)?this.config.alias?new Proxy(r,new Hc(new Proxy(r.table,new Np(this.config.alias,this.config.replaceOriginalName??!1)))):r:typeof r!="object"||r===null?r:new Proxy(r,new sp(this.config))}};C(sp,Uk,"SelectionProxyHandler");let qt=sp;var qk,Qk;class ag extends(Qk=hi,qk=U,Qk){constructor(n,s,r,i){super();C(this,"config");C(this,"authToken");C(this,"execute",n=>Tt.startActiveSpan("drizzle.operation",()=>this._prepare().execute(n,this.authToken)));this.session=s,this.dialect=r,this.config={table:n,withList:i}}where(n){return this.config.where=n,this}returning(n=this.config.table[ue.Symbol.Columns]){return this.config.returningFields=n,this.config.returning=Ji(n),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){const{typings:n,...s}=this.dialect.sqlToQuery(this.getSQL());return s}_prepare(n){return Tt.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,n,!0))}prepare(n){return this._prepare(n)}setToken(n){return this.authToken=n,this}getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new qt({alias:Zs(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}C(ag,qk,"PgDelete");function gB(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(n=>n.toLowerCase()).join("_")}function yB(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((n,s,r)=>{const i=r===0?s.toLowerCase():`${s[0].toUpperCase()}${s.slice(1)}`;return n+i},"")}function vB(t){return t}var Vk;Vk=U;class QO{constructor(e){C(this,"cache",{});C(this,"cachedTables",{});C(this,"convert");this.convert=e==="snake_case"?gB:e==="camelCase"?yB:vB}getColumnCasing(e){if(!e.keyAsName)return e.name;const n=e.table[ue.Symbol.Schema]??"public",s=e.table[ue.Symbol.OriginalName],r=`${n}.${s}.${e.name}`;return this.cache[r]||this.cacheTable(e.table),this.cache[r]}cacheTable(e){const n=e[ue.Symbol.Schema]??"public",s=e[ue.Symbol.OriginalName],r=`${n}.${s}`;if(!this.cachedTables[r]){for(const i of Object.values(e[ue.Symbol.Columns])){const a=`${r}.${i.name}`;this.cache[a]=this.convert(i.name)}this.cachedTables[r]=!0}}clearCache(){this.cache={},this.cachedTables={}}}C(QO,Vk,"CasingCache");var Hk,Gk;class mv extends(Gk=Error,Hk=U,Gk){constructor({message:e,cause:n}){super(e),this.name="DrizzleError",this.cause=n}}C(mv,Hk,"DrizzleError");var Wk,Kk;class VO extends(Kk=mv,Wk=U,Kk){constructor(){super({message:"Rollback"})}}C(VO,Wk,"TransactionRollbackError");function bB(){return{bigint:VL,bigserial:HL,boolean:Fe,char:GL,cidr:WL,customType:KL,date:YL,doublePrecision:JL,inet:XL,integer:J,interval:ZL,json:eB,jsonb:Qe,line:tB,macaddr:nB,macaddr8:sB,numeric:uO,point:rB,geometry:aB,real:oB,serial:xe,smallint:cB,smallserial:lB,text:$,time:uB,timestamp:W,uuid:dB,varchar:we,bit:pB,halfvec:fB,sparsevec:hB,vector:mB}}const og=Symbol.for("drizzle:PgInlineForeignKeys"),Ox=Symbol.for("drizzle:EnableRLS");var Yk,Jk,Xk,Zk,eC;class fn extends(eC=ue,Zk=U,Xk=og,Jk=Ox,Yk=ue.Symbol.ExtraConfigBuilder,eC){constructor(){super(...arguments);C(this,Xk,[]);C(this,Jk,!1);C(this,Yk)}}C(fn,Zk,"PgTable"),C(fn,"Symbol",Object.assign({},ue.Symbol,{InlineForeignKeys:og,EnableRLS:Ox}));function xB(t,e,n,s,r=t){const i=new fn(t,s,r),a=typeof e=="function"?e(bB()):e,o=Object.fromEntries(Object.entries(a).map(([u,d])=>{const p=d;p.setName(u);const y=p.build(i);return i[og].push(...p.buildForeignKeys(y,i)),[u,y]})),c=Object.fromEntries(Object.entries(a).map(([u,d])=>{const p=d;p.setName(u);const y=p.buildExtraConfigColumn(i);return[u,y]})),l=Object.assign(i,o);return l[ue.Symbol.Columns]=o,l[ue.Symbol.ExtraConfigColumns]=c,Object.assign(l,{enableRLS:()=>(l[fn.Symbol.EnableRLS]=!0,l)})}const Se=(t,e,n)=>xB(t,e,n,void 0);var tC;tC=U;class HO{constructor(e,n){C(this,"columns");C(this,"name");this.columns=e,this.name=n}build(e){return new GO(e,this.columns,this.name)}}C(HO,tC,"PgPrimaryKeyBuilder");var nC;nC=U;class GO{constructor(e,n,s){C(this,"columns");C(this,"name");this.table=e,this.columns=n,this.name=s}getName(){return this.name??`${this.table[fn.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}C(GO,nC,"PgPrimaryKey");function bn(t,e){return BL(e)&&!xR(t)&&!G(t,lr)&&!G(t,Yi)&&!G(t,gt)&&!G(t,ue)&&!G(t,fi)?new lr(t,e):t}const WO=(t,e)=>M`${t} = ${bn(e,t)}`,wB=(t,e)=>M`${t} <> ${bn(e,t)}`;function cg(...t){const e=t.filter(n=>n!==void 0);if(e.length!==0)return e.length===1?new pe(e):new pe([new Pt("("),M.join(e,new Pt(" and ")),new Pt(")")])}function SB(...t){const e=t.filter(n=>n!==void 0);if(e.length!==0)return e.length===1?new pe(e):new pe([new Pt("("),M.join(e,new Pt(" or ")),new Pt(")")])}function _B(t){return M`not ${t}`}const EB=(t,e)=>M`${t} > ${bn(e,t)}`,kB=(t,e)=>M`${t} >= ${bn(e,t)}`,CB=(t,e)=>M`${t} < ${bn(e,t)}`,AB=(t,e)=>M`${t} <= ${bn(e,t)}`;function TB(t,e){return Array.isArray(e)?e.length===0?M`false`:M`${t} in ${e.map(n=>bn(n,t))}`:M`${t} in ${bn(e,t)}`}function NB(t,e){return Array.isArray(e)?e.length===0?M`true`:M`${t} not in ${e.map(n=>bn(n,t))}`:M`${t} not in ${bn(e,t)}`}function RB(t){return M`${t} is null`}function OB(t){return M`${t} is not null`}function PB(t){return M`exists ${t}`}function IB(t){return M`not exists ${t}`}function jB(t,e,n){return M`${t} between ${bn(e,t)} and ${bn(n,t)}`}function MB(t,e,n){return M`${t} not between ${bn(e,t)} and ${bn(n,t)}`}function DB(t,e){return M`${t} like ${e}`}function FB(t,e){return M`${t} not like ${e}`}function LB(t,e){return M`${t} ilike ${e}`}function BB(t,e){return M`${t} not ilike ${e}`}function $B(t){return M`${t} asc`}function zB(t){return M`${t} desc`}var sC;sC=U;class gv{constructor(e,n,s){C(this,"referencedTableName");C(this,"fieldName");this.sourceTable=e,this.referencedTable=n,this.relationName=s,this.referencedTableName=n[ue.Symbol.Name]}}C(gv,sC,"Relation");var rC;rC=U;class KO{constructor(e,n){this.table=e,this.config=n}}C(KO,rC,"Relations");var iC,aC;const rp=class rp extends(aC=gv,iC=U,aC){constructor(e,n,s,r){super(e,n,s==null?void 0:s.relationName),this.config=s,this.isNullable=r}withFieldName(e){const n=new rp(this.sourceTable,this.referencedTable,this.config,this.isNullable);return n.fieldName=e,n}};C(rp,iC,"One");let Xi=rp;var oC,cC;const ip=class ip extends(cC=gv,oC=U,cC){constructor(e,n,s){super(e,n,s==null?void 0:s.relationName),this.config=s}withFieldName(e){const n=new ip(this.sourceTable,this.referencedTable,this.config);return n.fieldName=e,n}};C(ip,oC,"Many");let Md=ip;function UB(){return{and:cg,between:jB,eq:WO,exists:PB,gt:EB,gte:kB,ilike:LB,inArray:TB,isNull:RB,isNotNull:OB,like:DB,lt:CB,lte:AB,ne:wB,not:_B,notBetween:MB,notExists:IB,notLike:FB,notIlike:BB,notInArray:NB,or:SB,sql:M}}function qB(){return{sql:M,asc:$B,desc:zB}}function QB(t,e){var i;Object.keys(t).length===1&&"default"in t&&!G(t.default,ue)&&(t=t.default);const n={},s={},r={};for(const[a,o]of Object.entries(t))if(G(o,ue)){const c=Vc(o),l=s[c];n[c]=a,r[a]={tsName:a,dbName:o[ue.Symbol.Name],schema:o[ue.Symbol.Schema],columns:o[ue.Symbol.Columns],relations:(l==null?void 0:l.relations)??{},primaryKey:(l==null?void 0:l.primaryKey)??[]};for(const d of Object.values(o[ue.Symbol.Columns]))d.primary&&r[a].primaryKey.push(d);const u=(i=o[ue.Symbol.ExtraConfigBuilder])==null?void 0:i.call(o,o[ue.Symbol.ExtraConfigColumns]);if(u)for(const d of Object.values(u))G(d,HO)&&r[a].primaryKey.push(...d.columns)}else if(G(o,KO)){const c=Vc(o.table),l=n[c],u=o.config(e(o.table));let d;for(const[p,y]of Object.entries(u))if(l){const m=r[l];m.relations[p]=y}else c in s||(s[c]={relations:{},primaryKey:d}),s[c].relations[p]=y}return{tables:r,tableNamesMap:n}}function VB(t){return function(n,s){return new Xi(t,n,s,(s==null?void 0:s.fields.reduce((r,i)=>r&&i.notNull,!0))??!1)}}function HB(t){return function(n,s){return new Md(t,n,s)}}function GB(t,e,n){if(G(n,Xi)&&n.config)return{fields:n.config.fields,references:n.config.references};const s=e[Vc(n.referencedTable)];if(!s)throw new Error(`Table "${n.referencedTable[ue.Symbol.Name]}" not found in schema`);const r=t[s];if(!r)throw new Error(`Table "${s}" not found in schema`);const i=n.sourceTable,a=e[Vc(i)];if(!a)throw new Error(`Table "${i[ue.Symbol.Name]}" not found in schema`);const o=[];for(const c of Object.values(r.relations))(n.relationName&&n!==c&&c.relationName===n.relationName||!n.relationName&&c.referencedTable===n.sourceTable)&&o.push(c);if(o.length>1)throw n.relationName?new Error(`There are multiple relations with name "${n.relationName}" in table "${s}"`):new Error(`There are multiple relations between "${s}" and "${n.sourceTable[ue.Symbol.Name]}". Please specify relation name`);if(o[0]&&G(o[0],Xi)&&o[0].config)return{fields:o[0].config.references,references:o[0].config.fields};throw new Error(`There is not enough information to infer relation "${a}.${n.fieldName}"`)}function WB(t){return{one:VB(t),many:HB(t)}}function lg(t,e,n,s,r=i=>i){const i={};for(const[a,o]of s.entries())if(o.isJson){const c=e.relations[o.tsKey],l=n[a],u=typeof l=="string"?JSON.parse(l):l;i[o.tsKey]=G(c,Xi)?u&&lg(t,t[o.relationTableTsKey],u,o.selection,r):u.map(d=>lg(t,t[o.relationTableTsKey],d,o.selection,r))}else{const c=r(n[a]),l=o.field;let u;G(l,gt)?u=l:G(l,pe)?u=l.decoder:u=l.sql.decoder,i[o.tsKey]=c===null?null:u.mapFromDriverValue(c)}return i}var lC,uC;class yv extends(uC=fi,lC=U,uC){}C(yv,lC,"PgViewBase");var dC;dC=U;class kc{constructor(e){C(this,"casing");this.casing=new QO(e==null?void 0:e.casing)}async migrate(e,n,s){const r=typeof s=="string"?"__drizzle_migrations":s.migrationsTable??"__drizzle_migrations",i=typeof s=="string"?"drizzle":s.migrationsSchema??"drizzle",a=M`
			CREATE TABLE IF NOT EXISTS ${M.identifier(i)}.${M.identifier(r)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await n.execute(M`CREATE SCHEMA IF NOT EXISTS ${M.identifier(i)}`),await n.execute(a);const c=(await n.all(M`select id, hash, created_at from ${M.identifier(i)}.${M.identifier(r)} order by created_at desc limit 1`))[0];await n.transaction(async l=>{for await(const u of e)if(!c||Number(c.created_at)<u.folderMillis){for(const d of u.sql)await l.execute(M.raw(d));await l.execute(M`insert into ${M.identifier(i)}.${M.identifier(r)} ("hash", "created_at") values(${u.hash}, ${u.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!(e!=null&&e.length))return;const n=[M`with `];for(const[s,r]of e.entries())n.push(M`${M.identifier(r._.alias)} as (${r._.sql})`),s<e.length-1&&n.push(M`, `);return n.push(M` `),M.join(n)}buildDeleteQuery({table:e,where:n,returning:s,withList:r}){const i=this.buildWithCTE(r),a=s?M` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,o=n?M` where ${n}`:void 0;return M`${i}delete from ${e}${o}${a}`}buildUpdateSet(e,n){const s=e[ue.Symbol.Columns],r=Object.keys(s).filter(a=>{var o;return n[a]!==void 0||((o=s[a])==null?void 0:o.onUpdateFn)!==void 0}),i=r.length;return M.join(r.flatMap((a,o)=>{const c=s[a],l=n[a]??M.param(c.onUpdateFn(),c),u=M`${M.identifier(this.casing.getColumnCasing(c))} = ${l}`;return o<i-1?[u,M.raw(", ")]:[u]}))}buildUpdateQuery({table:e,set:n,where:s,returning:r,withList:i,from:a,joins:o}){const c=this.buildWithCTE(i),l=e[fn.Symbol.Name],u=e[fn.Symbol.Schema],d=e[fn.Symbol.OriginalName],p=l===d?void 0:l,y=M`${u?M`${M.identifier(u)}.`:void 0}${M.identifier(d)}${p&&M` ${M.identifier(p)}`}`,m=this.buildUpdateSet(e,n),f=a&&M.join([M.raw(" from "),this.buildFromTable(a)]),v=this.buildJoins(o),h=r?M` returning ${this.buildSelection(r,{isSingleTable:!a})}`:void 0,b=s?M` where ${s}`:void 0;return M`${c}update ${y} set ${m}${f}${v}${b}${h}`}buildSelection(e,{isSingleTable:n=!1}={}){const s=e.length,r=e.flatMap(({field:i},a)=>{const o=[];if(G(i,pe.Aliased)&&i.isSelectionField)o.push(M.identifier(i.fieldAlias));else if(G(i,pe.Aliased)||G(i,pe)){const c=G(i,pe.Aliased)?i.sql:i;n?o.push(new pe(c.queryChunks.map(l=>G(l,ve)?M.identifier(this.casing.getColumnCasing(l)):l))):o.push(c),G(i,pe.Aliased)&&o.push(M` as ${M.identifier(i.fieldAlias)}`)}else G(i,gt)&&(n?o.push(M.identifier(this.casing.getColumnCasing(i))):o.push(i));return a<s-1&&o.push(M`, `),o});return M.join(r)}buildJoins(e){if(!e||e.length===0)return;const n=[];for(const[s,r]of e.entries()){s===0&&n.push(M` `);const i=r.table,a=r.lateral?M` lateral`:void 0;if(G(i,fn)){const o=i[fn.Symbol.Name],c=i[fn.Symbol.Schema],l=i[fn.Symbol.OriginalName],u=o===l?void 0:r.alias;n.push(M`${M.raw(r.joinType)} join${a} ${c?M`${M.identifier(c)}.`:void 0}${M.identifier(l)}${u&&M` ${M.identifier(u)}`} on ${r.on}`)}else if(G(i,fi)){const o=i[wt].name,c=i[wt].schema,l=i[wt].originalName,u=o===l?void 0:r.alias;n.push(M`${M.raw(r.joinType)} join${a} ${c?M`${M.identifier(c)}.`:void 0}${M.identifier(l)}${u&&M` ${M.identifier(u)}`} on ${r.on}`)}else n.push(M`${M.raw(r.joinType)} join${a} ${i} on ${r.on}`);s<e.length-1&&n.push(M` `)}return M.join(n)}buildFromTable(e){if(G(e,ue)&&e[ue.Symbol.OriginalName]!==e[ue.Symbol.Name]){let n=M`${M.identifier(e[ue.Symbol.OriginalName])}`;return e[ue.Symbol.Schema]&&(n=M`${M.identifier(e[ue.Symbol.Schema])}.${n}`),M`${n} ${M.identifier(e[ue.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:n,fieldsFlat:s,where:r,having:i,table:a,joins:o,orderBy:c,groupBy:l,limit:u,offset:d,lockingClause:p,distinct:y,setOperators:m}){const f=s??Ji(n);for(const A of f)if(G(A.field,gt)&&Zs(A.field.table)!==(G(a,Tn)?a._.alias:G(a,yv)?a[wt].name:G(a,pe)?void 0:Zs(a))&&!(N=>o==null?void 0:o.some(({alias:B})=>B===(N[ue.Symbol.IsAlias]?Zs(N):N[ue.Symbol.BaseName])))(A.field.table)){const N=Zs(A.field.table);throw new Error(`Your "${A.path.join("->")}" field references a column "${N}"."${A.field.name}", but the table "${N}" is not part of the query! Did you forget to join it?`)}const v=!o||o.length===0,h=this.buildWithCTE(e);let b;y&&(b=y===!0?M` distinct`:M` distinct on (${M.join(y.on,M`, `)})`);const g=this.buildSelection(f,{isSingleTable:v}),x=this.buildFromTable(a),k=this.buildJoins(o),_=r?M` where ${r}`:void 0,w=i?M` having ${i}`:void 0;let E;c&&c.length>0&&(E=M` order by ${M.join(c,M`, `)}`);let T;l&&l.length>0&&(T=M` group by ${M.join(l,M`, `)}`);const I=typeof u=="object"||typeof u=="number"&&u>=0?M` limit ${u}`:void 0,L=d?M` offset ${d}`:void 0,q=M.empty();if(p){const A=M` for ${M.raw(p.strength)}`;p.config.of&&A.append(M` of ${M.join(Array.isArray(p.config.of)?p.config.of:[p.config.of],M`, `)}`),p.config.noWait?A.append(M` no wait`):p.config.skipLocked&&A.append(M` skip locked`),q.append(A)}const F=M`${h}select${b} ${g} from ${x}${k}${_}${T}${w}${E}${I}${L}${q}`;return m.length>0?this.buildSetOperations(F,m):F}buildSetOperations(e,n){const[s,...r]=n;if(!s)throw new Error("Cannot pass undefined values to any set operator");return r.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:s}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:s}),r)}buildSetOperationQuery({leftSelect:e,setOperator:{type:n,isAll:s,rightSelect:r,limit:i,orderBy:a,offset:o}}){const c=M`(${e.getSQL()}) `,l=M`(${r.getSQL()})`;let u;if(a&&a.length>0){const m=[];for(const f of a)if(G(f,ve))m.push(M.identifier(f.name));else if(G(f,pe)){for(let v=0;v<f.queryChunks.length;v++){const h=f.queryChunks[v];G(h,ve)&&(f.queryChunks[v]=M.identifier(h.name))}m.push(M`${f}`)}else m.push(M`${f}`);u=M` order by ${M.join(m,M`, `)} `}const d=typeof i=="object"||typeof i=="number"&&i>=0?M` limit ${i}`:void 0,p=M.raw(`${n} ${s?"all ":""}`),y=o?M` offset ${o}`:void 0;return M`${c}${p}${l}${u}${d}${y}`}buildInsertQuery({table:e,values:n,onConflict:s,returning:r,withList:i,select:a,overridingSystemValue_:o}){const c=[],l=e[ue.Symbol.Columns],u=Object.entries(l).filter(([h,b])=>!b.shouldDisableInsert()),d=u.map(([,h])=>M.identifier(this.casing.getColumnCasing(h)));if(a){const h=n;G(h,pe)?c.push(h):c.push(h.getSQL())}else{const h=n;c.push(M.raw("values "));for(const[b,g]of h.entries()){const x=[];for(const[k,_]of u){const w=g[k];if(w===void 0||G(w,lr)&&w.value===void 0)if(_.defaultFn!==void 0){const E=_.defaultFn(),T=G(E,pe)?E:M.param(E,_);x.push(T)}else if(!_.default&&_.onUpdateFn!==void 0){const E=_.onUpdateFn(),T=G(E,pe)?E:M.param(E,_);x.push(T)}else x.push(M`default`);else x.push(w)}c.push(x),b<h.length-1&&c.push(M`, `)}}const p=this.buildWithCTE(i),y=M.join(c),m=r?M` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,f=s?M` on conflict ${s}`:void 0,v=o===!0?M`overriding system value `:void 0;return M`${p}insert into ${e} ${d} ${v}${y}${f}${m}`}buildRefreshMaterializedViewQuery({view:e,concurrently:n,withNoData:s}){const r=n?M` concurrently`:void 0,i=s?M` with no data`:void 0;return M`refresh materialized view${r} ${e}${i}`}prepareTyping(e){return G(e,lv)||G(e,cv)?"json":G(e,uv)?"decimal":G(e,dv)?"time":G(e,pv)||G(e,fv)?"timestamp":G(e,av)||G(e,ov)?"date":G(e,hv)?"uuid":"none"}sqlToQuery(e,n){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:n})}buildRelationalQueryWithoutPK({fullSchema:e,schema:n,tableNamesMap:s,table:r,tableConfig:i,queryConfig:a,tableAlias:o,nestedQueryRelation:c,joinOn:l}){let u=[],d,p,y=[],m;const f=[];if(a===!0)u=Object.entries(i.columns).map(([b,g])=>({dbKey:g.name,tsKey:b,field:Us(g,o),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{const h=Object.fromEntries(Object.entries(i.columns).map(([w,E])=>[w,Us(E,o)]));if(a.where){const w=typeof a.where=="function"?a.where(h,UB()):a.where;m=w&&jd(w,o)}const b=[];let g=[];if(a.columns){let w=!1;for(const[E,T]of Object.entries(a.columns))T!==void 0&&E in i.columns&&(!w&&T===!0&&(w=!0),g.push(E));g.length>0&&(g=w?g.filter(E=>{var T;return((T=a.columns)==null?void 0:T[E])===!0}):Object.keys(i.columns).filter(E=>!g.includes(E)))}else g=Object.keys(i.columns);for(const w of g){const E=i.columns[w];b.push({tsKey:w,value:E})}let x=[];a.with&&(x=Object.entries(a.with).filter(w=>!!w[1]).map(([w,E])=>({tsKey:w,queryConfig:E,relation:i.relations[w]})));let k;if(a.extras){k=typeof a.extras=="function"?a.extras(h,{sql:M}):a.extras;for(const[w,E]of Object.entries(k))b.push({tsKey:w,value:ER(E,o)})}for(const{tsKey:w,value:E}of b)u.push({dbKey:G(E,pe.Aliased)?E.fieldAlias:i.columns[w].name,tsKey:w,field:G(E,gt)?Us(E,o):E,relationTableTsKey:void 0,isJson:!1,selection:[]});let _=typeof a.orderBy=="function"?a.orderBy(h,qB()):a.orderBy??[];Array.isArray(_)||(_=[_]),y=_.map(w=>G(w,gt)?Us(w,o):jd(w,o)),d=a.limit,p=a.offset;for(const{tsKey:w,queryConfig:E,relation:T}of x){const I=GB(n,s,T),L=Vc(T.referencedTable),q=s[L],F=`${o}_${w}`,A=cg(...I.fields.map((O,j)=>WO(Us(I.references[j],F),Us(O,o)))),N=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:n,tableNamesMap:s,table:e[q],tableConfig:n[q],queryConfig:G(T,Xi)?E===!0?{limit:1}:{...E,limit:1}:E,tableAlias:F,joinOn:A,nestedQueryRelation:T}),B=M`${M.identifier(F)}.${M.identifier("data")}`.as(w);f.push({on:M`true`,table:new Tn(N.sql,{},F),alias:F,joinType:"left",lateral:!0}),u.push({dbKey:w,tsKey:w,field:B,relationTableTsKey:q,isJson:!0,selection:N.selection})}}if(u.length===0)throw new mv({message:`No fields selected for table "${i.tsName}" ("${o}")`});let v;if(m=cg(l,m),c){let h=M`json_build_array(${M.join(u.map(({field:x,tsKey:k,isJson:_})=>_?M`${M.identifier(`${o}_${k}`)}.${M.identifier("data")}`:G(x,pe.Aliased)?x.sql:x),M`, `)})`;G(c,Md)&&(h=M`coalesce(json_agg(${h}${y.length>0?M` order by ${M.join(y,M`, `)}`:void 0}), '[]'::json)`);const b=[{dbKey:"data",tsKey:"data",field:h.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:u}];d!==void 0||p!==void 0||y.length>0?(v=this.buildSelectQuery({table:ch(r,o),fields:{},fieldsFlat:[{path:[],field:M.raw("*")}],where:m,limit:d,offset:p,orderBy:y,setOperators:[]}),m=void 0,d=void 0,p=void 0,y=[]):v=ch(r,o),v=this.buildSelectQuery({table:G(v,fn)?v:new Tn(v,{},o),fields:{},fieldsFlat:b.map(({field:x})=>({path:[],field:G(x,gt)?Us(x,o):x})),joins:f,where:m,limit:d,offset:p,orderBy:y,setOperators:[]})}else v=this.buildSelectQuery({table:ch(r,o),fields:{},fieldsFlat:u.map(({field:h})=>({path:[],field:G(h,gt)?Us(h,o):h})),joins:f,where:m,limit:d,offset:p,orderBy:y,setOperators:[]});return{tableTsKey:i.tsName,sql:v,selection:u}}}C(kc,dC,"PgDialect");var pC;pC=U;class YO{getSelectedFields(){return this._.selectedFields}}C(YO,pC,"TypedQueryBuilder");var fC;fC=U;class _n{constructor(e){C(this,"fields");C(this,"session");C(this,"dialect");C(this,"withList",[]);C(this,"distinct");C(this,"authToken");this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}setToken(e){return this.authToken=e,this}from(e){const n=!!this.fields,s=e;let r;return this.fields?r=this.fields:G(s,Tn)?r=Object.fromEntries(Object.keys(s._.selectedFields).map(i=>[i,s[i]])):G(s,yv)?r=s[wt].selectedFields:G(s,pe)?r={}:r=CR(s),new vv({table:s,fields:r,isPartialSelect:n,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}}C(_n,fC,"PgSelectBuilder");var hC,mC;class JO extends(mC=YO,hC=U,mC){constructor({table:n,fields:s,isPartialSelect:r,session:i,dialect:a,withList:o,distinct:c}){super();C(this,"_");C(this,"config");C(this,"joinsNotNullableMap");C(this,"tableName");C(this,"isPartialSelect");C(this,"session");C(this,"dialect");C(this,"leftJoin",this.createJoin("left"));C(this,"rightJoin",this.createJoin("right"));C(this,"innerJoin",this.createJoin("inner"));C(this,"fullJoin",this.createJoin("full"));C(this,"union",this.createSetOperator("union",!1));C(this,"unionAll",this.createSetOperator("union",!0));C(this,"intersect",this.createSetOperator("intersect",!1));C(this,"intersectAll",this.createSetOperator("intersect",!0));C(this,"except",this.createSetOperator("except",!1));C(this,"exceptAll",this.createSetOperator("except",!0));this.config={withList:o,table:n,fields:{...s},distinct:c,setOperators:[]},this.isPartialSelect=r,this.session=i,this.dialect=a,this._={selectedFields:s},this.tableName=xi(n),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}createJoin(n){return(s,r)=>{var o;const i=this.tableName,a=xi(s);if(typeof a=="string"&&((o=this.config.joins)!=null&&o.some(c=>c.alias===a)))throw new Error(`Alias "${a}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof i=="string"&&(this.config.fields={[i]:this.config.fields}),typeof a=="string"&&!G(s,pe))){const c=G(s,Tn)?s._.selectedFields:G(s,fi)?s[wt].selectedFields:s[ue.Symbol.Columns];this.config.fields[a]=c}if(typeof r=="function"&&(r=r(new Proxy(this.config.fields,new qt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:r,table:s,joinType:n,alias:a}),typeof a=="string")switch(n){case"left":{this.joinsNotNullableMap[a]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([c])=>[c,!1])),this.joinsNotNullableMap[a]=!0;break}case"inner":{this.joinsNotNullableMap[a]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([c])=>[c,!1])),this.joinsNotNullableMap[a]=!1;break}}return this}}createSetOperator(n,s){return r=>{const i=typeof r=="function"?r(KB()):r;if(!iv(this.getSelectedFields(),i.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:n,isAll:s,rightSelect:i}),this}}addSetOperators(n){return this.config.setOperators.push(...n),this}where(n){return typeof n=="function"&&(n=n(new Proxy(this.config.fields,new qt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=n,this}having(n){return typeof n=="function"&&(n=n(new Proxy(this.config.fields,new qt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=n,this}groupBy(...n){if(typeof n[0]=="function"){const s=n[0](new Proxy(this.config.fields,new qt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(s)?s:[s]}else this.config.groupBy=n;return this}orderBy(...n){if(typeof n[0]=="function"){const s=n[0](new Proxy(this.config.fields,new qt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(s)?s:[s];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}else{const s=n;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=s:this.config.orderBy=s}return this}limit(n){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=n:this.config.limit=n,this}offset(n){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=n:this.config.offset=n,this}for(n,s={}){return this.config.lockingClause={strength:n,config:s},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){const{typings:n,...s}=this.dialect.sqlToQuery(this.getSQL());return s}as(n){return new Proxy(new Tn(this.getSQL(),this.config.fields,n),new qt({alias:n,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new qt({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}C(JO,hC,"PgSelectQueryBuilder");var gC,yC;class vv extends(yC=JO,gC=U,yC){constructor(){super(...arguments);C(this,"authToken");C(this,"execute",n=>Tt.startActiveSpan("drizzle.operation",()=>this._prepare().execute(n,this.authToken)))}_prepare(n){const{session:s,config:r,dialect:i,joinsNotNullableMap:a,authToken:o}=this;if(!s)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");return Tt.startActiveSpan("drizzle.prepareQuery",()=>{const c=Ji(r.fields),l=s.prepareQuery(i.sqlToQuery(this.getSQL()),c,n,!0);return l.joinsNotNullableMap=a,l.setToken(o)})}prepare(n){return this._prepare(n)}setToken(n){return this.authToken=n,this}}C(vv,gC,"PgSelect");UL(vv,[hi]);function Ro(t,e){return(n,s,...r)=>{const i=[s,...r].map(a=>({type:t,isAll:e,rightSelect:a}));for(const a of i)if(!iv(n.getSelectedFields(),a.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return n.addSetOperators(i)}}const KB=()=>({union:YB,unionAll:JB,intersect:XB,intersectAll:ZB,except:e4,exceptAll:t4}),YB=Ro("union",!1),JB=Ro("union",!0),XB=Ro("intersect",!1),ZB=Ro("intersect",!0),e4=Ro("except",!1),t4=Ro("except",!0);var vC;vC=U;class bv{constructor(e){C(this,"dialect");C(this,"dialectConfig");C(this,"$with",(e,n)=>{const s=this;return{as:i=>(typeof i=="function"&&(i=i(s)),new Proxy(new rv(i.getSQL(),n??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new qt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});this.dialect=G(e,kc)?e:void 0,this.dialectConfig=G(e,kc)?void 0:e}with(...e){const n=this;function s(a){return new _n({fields:a??void 0,session:void 0,dialect:n.getDialect(),withList:e})}function r(a){return new _n({fields:a??void 0,session:void 0,dialect:n.getDialect(),distinct:!0})}function i(a,o){return new _n({fields:o??void 0,session:void 0,dialect:n.getDialect(),distinct:{on:a}})}return{select:s,selectDistinct:r,selectDistinctOn:i}}select(e){return new _n({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new _n({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,n){return new _n({fields:n??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new kc(this.dialectConfig)),this.dialect}}C(bv,vC,"PgQueryBuilder");var bC;bC=U;class ug{constructor(e,n,s,r,i){C(this,"authToken");this.table=e,this.session=n,this.dialect=s,this.withList=r,this.overridingSystemValue_=i}setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");const n=e.map(s=>{const r={},i=this.table[ue.Symbol.Columns];for(const a of Object.keys(s)){const o=s[a];r[a]=G(o,pe)?o:new lr(o,i[a])}return r});return new dg(this.table,n,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){const n=typeof e=="function"?e(new bv):e;if(!G(n,pe)&&!iv(this.table[ig],n._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new dg(this.table,n,this.session,this.dialect,this.withList,!0)}}C(ug,bC,"PgInsertBuilder");var xC,wC;class dg extends(wC=hi,xC=U,wC){constructor(n,s,r,i,a,o,c){super();C(this,"config");C(this,"authToken");C(this,"execute",n=>Tt.startActiveSpan("drizzle.operation",()=>this._prepare().execute(n,this.authToken)));this.session=r,this.dialect=i,this.config={table:n,values:s,withList:a,select:o,overridingSystemValue_:c}}returning(n=this.config.table[ue.Symbol.Columns]){return this.config.returningFields=n,this.config.returning=Ji(n),this}onConflictDoNothing(n={}){if(n.target===void 0)this.config.onConflict=M`do nothing`;else{let s="";s=Array.isArray(n.target)?n.target.map(i=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(i))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(n.target));const r=n.where?M` where ${n.where}`:void 0;this.config.onConflict=M`(${M.raw(s)})${r} do nothing`}return this}onConflictDoUpdate(n){if(n.where&&(n.targetWhere||n.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');const s=n.where?M` where ${n.where}`:void 0,r=n.targetWhere?M` where ${n.targetWhere}`:void 0,i=n.setWhere?M` where ${n.setWhere}`:void 0,a=this.dialect.buildUpdateSet(this.config.table,kR(this.config.table,n.set));let o="";return o=Array.isArray(n.target)?n.target.map(c=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(c))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(n.target)),this.config.onConflict=M`(${M.raw(o)})${r} do update set ${a}${s}${i}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){const{typings:n,...s}=this.dialect.sqlToQuery(this.getSQL());return s}_prepare(n){return Tt.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,n,!0))}prepare(n){return this._prepare(n)}setToken(n){return this.authToken=n,this}getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new qt({alias:Zs(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}C(dg,xC,"PgInsert");var SC,_C;class XO extends(_C=hi,SC=U,_C){constructor(n,s,r){super();C(this,"config");C(this,"authToken");C(this,"execute",n=>Tt.startActiveSpan("drizzle.operation",()=>this._prepare().execute(n,this.authToken)));this.session=s,this.dialect=r,this.config={view:n}}concurrently(){if(this.config.withNoData!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(this.config.concurrently!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){const{typings:n,...s}=this.dialect.sqlToQuery(this.getSQL());return s}_prepare(n){return Tt.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,n,!0))}prepare(n){return this._prepare(n)}setToken(n){return this.authToken=n,this}}C(XO,SC,"PgRefreshMaterializedView");var EC;EC=U;class pg{constructor(e,n,s,r){C(this,"authToken");this.table=e,this.session=n,this.dialect=s,this.withList=r}setToken(e){return this.authToken=e,this}set(e){return new ZO(this.table,kR(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}}C(pg,EC,"PgUpdateBuilder");var kC,CC;class ZO extends(CC=hi,kC=U,CC){constructor(n,s,r,i,a){super();C(this,"config");C(this,"tableName");C(this,"joinsNotNullableMap");C(this,"leftJoin",this.createJoin("left"));C(this,"rightJoin",this.createJoin("right"));C(this,"innerJoin",this.createJoin("inner"));C(this,"fullJoin",this.createJoin("full"));C(this,"authToken");C(this,"execute",n=>this._prepare().execute(n,this.authToken));this.session=r,this.dialect=i,this.config={set:s,table:n,withList:a,joins:[]},this.tableName=xi(n),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}from(n){const s=n,r=xi(s);return typeof r=="string"&&(this.joinsNotNullableMap[r]=!0),this.config.from=s,this}getTableLikeFields(n){return G(n,fn)?n[ue.Symbol.Columns]:G(n,Tn)?n._.selectedFields:n[wt].selectedFields}createJoin(n){return(s,r)=>{const i=xi(s);if(typeof i=="string"&&this.config.joins.some(a=>a.alias===i))throw new Error(`Alias "${i}" is already used in this query`);if(typeof r=="function"){const a=this.config.from&&!G(this.config.from,pe)?this.getTableLikeFields(this.config.from):void 0;r=r(new Proxy(this.config.table[ue.Symbol.Columns],new qt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),a&&new Proxy(a,new qt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:r,table:s,joinType:n,alias:i}),typeof i=="string")switch(n){case"left":{this.joinsNotNullableMap[i]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[i]=!0;break}case"inner":{this.joinsNotNullableMap[i]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[i]=!1;break}}return this}}where(n){return this.config.where=n,this}returning(n){if(!n&&(n=Object.assign({},this.config.table[ue.Symbol.Columns]),this.config.from)){const s=xi(this.config.from);if(typeof s=="string"&&this.config.from&&!G(this.config.from,pe)){const r=this.getTableLikeFields(this.config.from);n[s]=r}for(const r of this.config.joins){const i=xi(r.table);if(typeof i=="string"&&!G(r.table,pe)){const a=this.getTableLikeFields(r.table);n[i]=a}}}return this.config.returningFields=n,this.config.returning=Ji(n),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){const{typings:n,...s}=this.dialect.sqlToQuery(this.getSQL());return s}_prepare(n){const s=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,n,!0);return s.joinsNotNullableMap=this.joinsNotNullableMap,s}prepare(n){return this._prepare(n)}setToken(n){return this.authToken=n,this}getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new qt({alias:Zs(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}C(ZO,kC,"PgUpdate");var AC,TC,NC;const Cc=class Cc extends(NC=pe,TC=U,AC=Symbol.toStringTag,NC){constructor(n){super(Cc.buildEmbeddedCount(n.source,n.filters).queryChunks);C(this,"sql");C(this,"token");C(this,AC,"PgCountBuilder");C(this,"session");this.params=n,this.mapWith(Number),this.session=n.session,this.sql=Cc.buildCount(n.source,n.filters)}static buildEmbeddedCount(n,s){return M`(select count(*) from ${n}${M.raw(" where ").if(s)}${s})`}static buildCount(n,s){return M`select count(*) as count from ${n}${M.raw(" where ").if(s)}${s};`}setToken(n){return this.token=n,this}then(n,s){return Promise.resolve(this.session.count(this.sql,this.token)).then(n,s)}catch(n){return this.then(void 0,n)}finally(n){return this.then(s=>(n==null||n(),s),s=>{throw n==null||n(),s})}};C(Cc,TC,"PgCountBuilder");let fg=Cc;var RC;RC=U;class eP{constructor(e,n,s,r,i,a,o){this.fullSchema=e,this.schema=n,this.tableNamesMap=s,this.table=r,this.tableConfig=i,this.dialect=a,this.session=o}findMany(e){return new hg(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new hg(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}C(eP,RC,"PgRelationalQueryBuilder");var OC,PC;class hg extends(PC=hi,OC=U,PC){constructor(n,s,r,i,a,o,c,l,u){super();C(this,"authToken");this.fullSchema=n,this.schema=s,this.tableNamesMap=r,this.table=i,this.tableConfig=a,this.dialect=o,this.session=c,this.config=l,this.mode=u}_prepare(n){return Tt.startActiveSpan("drizzle.prepareQuery",()=>{const{query:s,builtQuery:r}=this._toSQL();return this.session.prepareQuery(r,void 0,n,!0,(i,a)=>{const o=i.map(c=>lg(this.schema,this.tableConfig,c,s.selection,a));return this.mode==="first"?o[0]:o})})}prepare(n){return this._prepare(n)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){const n=this._getQuery(),s=this.dialect.sqlToQuery(n.sql);return{query:n,builtQuery:s}}toSQL(){return this._toSQL().builtQuery}setToken(n){return this.authToken=n,this}execute(){return Tt.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}C(hg,OC,"PgRelationalQuery");var IC,jC;class tP extends(jC=hi,IC=U,jC){constructor(e,n,s,r){super(),this.execute=e,this.sql=n,this.query=s,this.mapBatchResult=r}getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,n){return n?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}C(tP,IC,"PgRaw");var MC;MC=U;class xv{constructor(e,n,s){C(this,"query");C(this,"$with",(e,n)=>{const s=this;return{as:i=>(typeof i=="function"&&(i=i(new bv(s.dialect))),new Proxy(new rv(i.getSQL(),n??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new qt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});C(this,"authToken");if(this.dialect=e,this.session=n,this._=s?{schema:s.schema,fullSchema:s.fullSchema,tableNamesMap:s.tableNamesMap,session:n}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:n},this.query={},this._.schema)for(const[r,i]of Object.entries(this._.schema))this.query[r]=new eP(s.fullSchema,this._.schema,this._.tableNamesMap,s.fullSchema[r],i,e,n)}$count(e,n){return new fg({source:e,filters:n,session:this.session})}with(...e){const n=this;function s(l){return new _n({fields:l??void 0,session:n.session,dialect:n.dialect,withList:e})}function r(l){return new _n({fields:l??void 0,session:n.session,dialect:n.dialect,withList:e,distinct:!0})}function i(l,u){return new _n({fields:u??void 0,session:n.session,dialect:n.dialect,withList:e,distinct:{on:l}})}function a(l){return new pg(l,n.session,n.dialect,e)}function o(l){return new ug(l,n.session,n.dialect,e)}function c(l){return new ag(l,n.session,n.dialect,e)}return{select:s,selectDistinct:r,selectDistinctOn:i,update:a,insert:o,delete:c}}select(e){return new _n({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new _n({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,n){return new _n({fields:n??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new pg(e,this.session,this.dialect)}insert(e){return new ug(e,this.session,this.dialect)}delete(e){return new ag(e,this.session,this.dialect)}refreshMaterializedView(e){return new XO(e,this.session,this.dialect)}execute(e){const n=typeof e=="string"?M.raw(e):e.getSQL(),s=this.dialect.sqlToQuery(n),r=this.session.prepareQuery(s,void 0,void 0,!1);return new tP(()=>r.execute(void 0,this.authToken),n,s,i=>r.mapResult(i,!0))}transaction(e,n){return this.session.transaction(e,n)}}C(xv,MC,"PgDatabase");var DC;DC=U;class nP{constructor(e){C(this,"authToken");C(this,"joinsNotNullableMap");this.query=e}getQuery(){return this.query}mapResult(e,n){return e}setToken(e){return this.authToken=e,this}}C(nP,DC,"PgPreparedQuery");var FC;FC=U;class sP{constructor(e){this.dialect=e}execute(e,n){return Tt.startActiveSpan("drizzle.operation",()=>Tt.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(n).execute(void 0,n))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,n){const s=await this.execute(e,n);return Number(s[0].count)}}C(sP,FC,"PgSession");var LC,BC;class rP extends(BC=xv,LC=U,BC){constructor(e,n,s,r=0){super(e,n,s),this.schema=s,this.nestedIndex=r}rollback(){throw new VO}getTransactionConfigSQL(e){const n=[];return e.isolationLevel&&n.push(`isolation level ${e.isolationLevel}`),e.accessMode&&n.push(e.accessMode),typeof e.deferrable=="boolean"&&n.push(e.deferrable?"deferrable":"not deferrable"),M.raw(n.join(" "))}setTransaction(e){return this.session.execute(M`set transaction ${this.getTransactionConfigSQL(e)}`)}}C(rP,LC,"PgTransaction");var Me;(function(t){t.assertEqual=r=>{};function e(r){}t.assertIs=e;function n(r){throw new Error}t.assertNever=n,t.arrayToEnum=r=>{const i={};for(const a of r)i[a]=a;return i},t.getValidEnumValues=r=>{const i=t.objectKeys(r).filter(o=>typeof r[r[o]]!="number"),a={};for(const o of i)a[o]=r[o];return t.objectValues(a)},t.objectValues=r=>t.objectKeys(r).map(function(i){return r[i]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&i.push(a);return i},t.find=(r,i)=>{for(const a of r)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function s(r,i=" | "){return r.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(Me||(Me={}));var mg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(mg||(mg={}));const ce=Me.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hs=t=>{switch(typeof t){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return Number.isNaN(t)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(t)?ce.array:t===null?ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ce.promise:typeof Map<"u"&&t instanceof Map?ce.map:typeof Set<"u"&&t instanceof Set?ce.set:typeof Date<"u"&&t instanceof Date?ce.date:ce.object;default:return ce.unknown}},K=Me.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),n4=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Nn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},s={_errors:[]},r=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(r);else if(a.code==="invalid_return_type")r(a.returnTypeError);else if(a.code==="invalid_arguments")r(a.argumentsError);else if(a.path.length===0)s._errors.push(n(a));else{let o=s,c=0;for(;c<a.path.length;){const l=a.path[c];c===a.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(n(a))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return r(this),s}static assert(e){if(!(e instanceof Nn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Me.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},s=[];for(const r of this.issues)if(r.path.length>0){const i=r.path[0];n[i]=n[i]||[],n[i].push(e(r))}else s.push(e(r));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Nn.create=t=>new Nn(t);const fo=(t,e)=>{let n;switch(t.code){case K.invalid_type:t.received===ce.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case K.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Me.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:n=`Unrecognized key(s) in object: ${Me.joinValues(t.keys,", ")}`;break;case K.invalid_union:n="Invalid input";break;case K.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Me.joinValues(t.options)}`;break;case K.invalid_enum_value:n=`Invalid enum value. Expected ${Me.joinValues(t.options)}, received '${t.received}'`;break;case K.invalid_arguments:n="Invalid function arguments";break;case K.invalid_return_type:n="Invalid function return type";break;case K.invalid_date:n="Invalid date";break;case K.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Me.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case K.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case K.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case K.custom:n="Invalid input";break;case K.invalid_intersection_types:n="Intersection results could not be merged";break;case K.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case K.not_finite:n="Number must be finite";break;default:n=e.defaultError,Me.assertNever(t)}return{message:n}};let iP=fo;function s4(t){iP=t}function Dd(){return iP}const Fd=t=>{const{data:e,path:n,errorMaps:s,issueData:r}=t,i=[...n,...r.path||[]],a={...r,path:i};if(r.message!==void 0)return{...r,path:i,message:r.message};let o="";const c=s.filter(l=>!!l).slice().reverse();for(const l of c)o=l(a,{data:e,defaultError:o}).message;return{...r,path:i,message:o}},r4=[];function ne(t,e){const n=Dd(),s=Fd({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===fo?void 0:fo].filter(r=>!!r)});t.common.issues.push(s)}class Wt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const s=[];for(const r of n){if(r.status==="aborted")return me;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,n){const s=[];for(const r of n){const i=await r.key,a=await r.value;s.push({key:i,value:a})}return Wt.mergeObjectSync(e,s)}static mergeObjectSync(e,n){const s={};for(const r of n){const{key:i,value:a}=r;if(i.status==="aborted"||a.status==="aborted")return me;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||r.alwaysSet)&&(s[i.value]=a.value)}return{status:e.value,value:s}}}const me=Object.freeze({status:"aborted"}),Ia=t=>({status:"dirty",value:t}),rn=t=>({status:"valid",value:t}),gg=t=>t.status==="aborted",yg=t=>t.status==="dirty",Zi=t=>t.status==="valid",Gc=t=>typeof Promise<"u"&&t instanceof Promise;var de;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(de||(de={}));class Ps{constructor(e,n,s,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=s,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Px=(t,e)=>{if(Zi(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Nn(t.common.issues);return this._error=n,this._error}}};function _e(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:s,description:r}=t;if(e&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(a,o)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??s??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:c??n??o.defaultError}},description:r}}class Te{get description(){return this._def.description}_getType(e){return Hs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Hs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Wt,ctx:{common:e.parent.common,data:e.data,parsedType:Hs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Gc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const s=this.safeParse(e,n);if(s.success)return s.data;throw s.error}safeParse(e,n){const s={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hs(e)},r=this._parseSync({data:e,path:s.path,parent:s});return Px(s,r)}"~validate"(e){var s,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hs(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Zi(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(r=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Zi(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const s=await this.safeParseAsync(e,n);if(s.success)return s.data;throw s.error}async safeParseAsync(e,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hs(e)},r=this._parse({data:e,path:s.path,parent:s}),i=await(Gc(r)?r:Promise.resolve(r));return Px(s,i)}refine(e,n){const s=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,i)=>{const a=e(r),o=()=>i.addIssue({code:K.custom,...s(r)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof n=="function"?n(s,r):n),!1))}_refinement(e){return new fs({schema:this,typeName:ge.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ts.create(this,this._def)}nullable(){return ci.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ds.create(this)}promise(){return mo.create(this,this._def)}or(e){return Jc.create([this,e],this._def)}and(e){return Xc.create(this,e,this._def)}transform(e){return new fs({..._e(this._def),schema:this,typeName:ge.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new sl({..._e(this._def),innerType:this,defaultValue:n,typeName:ge.ZodDefault})}brand(){return new wv({typeName:ge.ZodBranded,type:this,..._e(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new rl({..._e(this._def),innerType:this,catchValue:n,typeName:ge.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return wl.create(this,e)}readonly(){return il.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const i4=/^c[^\s-]{8,}$/i,a4=/^[0-9a-z]+$/,o4=/^[0-9A-HJKMNP-TV-Z]{26}$/i,c4=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,l4=/^[a-z0-9_-]{21}$/i,u4=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,d4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,p4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,f4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let lh;const h4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,m4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,g4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,y4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,v4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,b4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",x4=new RegExp(`^${aP}$`);function oP(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function w4(t){return new RegExp(`^${oP(t)}$`)}function cP(t){let e=`${aP}T${oP(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function S4(t,e){return!!((e==="v4"||!e)&&h4.test(t)||(e==="v6"||!e)&&g4.test(t))}function _4(t,e){if(!u4.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(s));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function E4(t,e){return!!((e==="v4"||!e)&&m4.test(t)||(e==="v6"||!e)&&y4.test(t))}class os extends Te{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ce.string){const i=this._getOrReturnCtx(e);return ne(i,{code:K.invalid_type,expected:ce.string,received:i.parsedType}),me}const s=new Wt;let r;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),ne(r,{code:K.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),ne(r,{code:K.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(r=this._getOrReturnCtx(e,r),a?ne(r,{code:K.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&ne(r,{code:K.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")p4.test(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{validation:"email",code:K.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")lh||(lh=new RegExp(f4,"u")),lh.test(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{validation:"emoji",code:K.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")c4.test(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{validation:"uuid",code:K.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")l4.test(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{validation:"nanoid",code:K.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")i4.test(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{validation:"cuid",code:K.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")a4.test(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{validation:"cuid2",code:K.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")o4.test(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{validation:"ulid",code:K.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),ne(r,{validation:"url",code:K.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{validation:"regex",code:K.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),ne(r,{code:K.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),ne(r,{code:K.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),ne(r,{code:K.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?cP(i).test(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:K.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?x4.test(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:K.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?w4(i).test(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:K.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?d4.test(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{validation:"duration",code:K.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?S4(e.data,i.version)||(r=this._getOrReturnCtx(e,r),ne(r,{validation:"ip",code:K.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?_4(e.data,i.alg)||(r=this._getOrReturnCtx(e,r),ne(r,{validation:"jwt",code:K.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?E4(e.data,i.version)||(r=this._getOrReturnCtx(e,r),ne(r,{validation:"cidr",code:K.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?v4.test(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{validation:"base64",code:K.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?b4.test(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{validation:"base64url",code:K.invalid_string,message:i.message}),s.dirty()):Me.assertNever(i);return{status:s.value,value:e.data}}_regex(e,n,s){return this.refinement(r=>e.test(r),{validation:n,code:K.invalid_string,...de.errToObj(s)})}_addCheck(e){return new os({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...de.errToObj(e)})}url(e){return this._addCheck({kind:"url",...de.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...de.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...de.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...de.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...de.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...de.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...de.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...de.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...de.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...de.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...de.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...de.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...de.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...de.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...de.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...de.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...de.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...de.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...de.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...de.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...de.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...de.errToObj(n)})}nonempty(e){return this.min(1,de.errToObj(e))}trim(){return new os({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new os({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new os({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}os.create=t=>new os({checks:[],typeName:ge.ZodString,coerce:(t==null?void 0:t.coerce)??!1,..._e(t)});function k4(t,e){const n=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=n>s?n:s,i=Number.parseInt(t.toFixed(r).replace(".","")),a=Number.parseInt(e.toFixed(r).replace(".",""));return i%a/10**r}class ii extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ce.number){const i=this._getOrReturnCtx(e);return ne(i,{code:K.invalid_type,expected:ce.number,received:i.parsedType}),me}let s;const r=new Wt;for(const i of this._def.checks)i.kind==="int"?Me.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:K.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),ne(s,{code:K.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),ne(s,{code:K.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?k4(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),ne(s,{code:K.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:K.not_finite,message:i.message}),r.dirty()):Me.assertNever(i);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,s,r){return new ii({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:de.toString(r)}]})}_addCheck(e){return new ii({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Me.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ii.create=t=>new ii({checks:[],typeName:ge.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class ai extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ce.bigint)return this._getInvalidInput(e);let s;const r=new Wt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),ne(s,{code:K.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),ne(s,{code:K.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),ne(s,{code:K.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):Me.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ne(n,{code:K.invalid_type,expected:ce.bigint,received:n.parsedType}),me}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,s,r){return new ai({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:de.toString(r)}]})}_addCheck(e){return new ai({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ai.create=t=>new ai({checks:[],typeName:ge.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,..._e(t)});class Wc extends Te{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ce.boolean){const s=this._getOrReturnCtx(e);return ne(s,{code:K.invalid_type,expected:ce.boolean,received:s.parsedType}),me}return rn(e.data)}}Wc.create=t=>new Wc({typeName:ge.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class ea extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ce.date){const i=this._getOrReturnCtx(e);return ne(i,{code:K.invalid_type,expected:ce.date,received:i.parsedType}),me}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ne(i,{code:K.invalid_date}),me}const s=new Wt;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),ne(r,{code:K.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),ne(r,{code:K.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Me.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ea({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ea.create=t=>new ea({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ge.ZodDate,..._e(t)});class Ld extends Te{_parse(e){if(this._getType(e)!==ce.symbol){const s=this._getOrReturnCtx(e);return ne(s,{code:K.invalid_type,expected:ce.symbol,received:s.parsedType}),me}return rn(e.data)}}Ld.create=t=>new Ld({typeName:ge.ZodSymbol,..._e(t)});class Kc extends Te{_parse(e){if(this._getType(e)!==ce.undefined){const s=this._getOrReturnCtx(e);return ne(s,{code:K.invalid_type,expected:ce.undefined,received:s.parsedType}),me}return rn(e.data)}}Kc.create=t=>new Kc({typeName:ge.ZodUndefined,..._e(t)});class Yc extends Te{_parse(e){if(this._getType(e)!==ce.null){const s=this._getOrReturnCtx(e);return ne(s,{code:K.invalid_type,expected:ce.null,received:s.parsedType}),me}return rn(e.data)}}Yc.create=t=>new Yc({typeName:ge.ZodNull,..._e(t)});class ho extends Te{constructor(){super(...arguments),this._any=!0}_parse(e){return rn(e.data)}}ho.create=t=>new ho({typeName:ge.ZodAny,..._e(t)});class Li extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return rn(e.data)}}Li.create=t=>new Li({typeName:ge.ZodUnknown,..._e(t)});class ur extends Te{_parse(e){const n=this._getOrReturnCtx(e);return ne(n,{code:K.invalid_type,expected:ce.never,received:n.parsedType}),me}}ur.create=t=>new ur({typeName:ge.ZodNever,..._e(t)});class Bd extends Te{_parse(e){if(this._getType(e)!==ce.undefined){const s=this._getOrReturnCtx(e);return ne(s,{code:K.invalid_type,expected:ce.void,received:s.parsedType}),me}return rn(e.data)}}Bd.create=t=>new Bd({typeName:ge.ZodVoid,..._e(t)});class ds extends Te{_parse(e){const{ctx:n,status:s}=this._processInputParams(e),r=this._def;if(n.parsedType!==ce.array)return ne(n,{code:K.invalid_type,expected:ce.array,received:n.parsedType}),me;if(r.exactLength!==null){const a=n.data.length>r.exactLength.value,o=n.data.length<r.exactLength.value;(a||o)&&(ne(n,{code:a?K.too_big:K.too_small,minimum:o?r.exactLength.value:void 0,maximum:a?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(ne(n,{code:K.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(ne(n,{code:K.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>r.type._parseAsync(new Ps(n,a,n.path,o)))).then(a=>Wt.mergeArray(s,a));const i=[...n.data].map((a,o)=>r.type._parseSync(new Ps(n,a,n.path,o)));return Wt.mergeArray(s,i)}get element(){return this._def.type}min(e,n){return new ds({...this._def,minLength:{value:e,message:de.toString(n)}})}max(e,n){return new ds({...this._def,maxLength:{value:e,message:de.toString(n)}})}length(e,n){return new ds({...this._def,exactLength:{value:e,message:de.toString(n)}})}nonempty(e){return this.min(1,e)}}ds.create=(t,e)=>new ds({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ge.ZodArray,..._e(e)});function ya(t){if(t instanceof st){const e={};for(const n in t.shape){const s=t.shape[n];e[n]=Ts.create(ya(s))}return new st({...t._def,shape:()=>e})}else return t instanceof ds?new ds({...t._def,type:ya(t.element)}):t instanceof Ts?Ts.create(ya(t.unwrap())):t instanceof ci?ci.create(ya(t.unwrap())):t instanceof Is?Is.create(t.items.map(e=>ya(e))):t}class st extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Me.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ce.object){const l=this._getOrReturnCtx(e);return ne(l,{code:K.invalid_type,expected:ce.object,received:l.parsedType}),me}const{status:s,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof ur&&this._def.unknownKeys==="strip"))for(const l in r.data)a.includes(l)||o.push(l);const c=[];for(const l of a){const u=i[l],d=r.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Ps(r,d,r.path,l)),alwaysSet:l in r.data})}if(this._def.catchall instanceof ur){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(l==="strict")o.length>0&&(ne(r,{code:K.unrecognized_keys,keys:o}),s.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of o){const d=r.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Ps(r,d,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key,p=await u.value;l.push({key:d,value:p,alwaysSet:u.alwaysSet})}return l}).then(l=>Wt.mergeObjectSync(s,l)):Wt.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new st({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,s)=>{var i,a;const r=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,s).message)??s.defaultError;return n.code==="unrecognized_keys"?{message:de.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new st({...this._def,unknownKeys:"strip"})}passthrough(){return new st({...this._def,unknownKeys:"passthrough"})}extend(e){return new st({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new st({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ge.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new st({...this._def,catchall:e})}pick(e){const n={};for(const s of Me.objectKeys(e))e[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new st({...this._def,shape:()=>n})}omit(e){const n={};for(const s of Me.objectKeys(this.shape))e[s]||(n[s]=this.shape[s]);return new st({...this._def,shape:()=>n})}deepPartial(){return ya(this)}partial(e){const n={};for(const s of Me.objectKeys(this.shape)){const r=this.shape[s];e&&!e[s]?n[s]=r:n[s]=r.optional()}return new st({...this._def,shape:()=>n})}required(e){const n={};for(const s of Me.objectKeys(this.shape))if(e&&!e[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Ts;)i=i._def.innerType;n[s]=i}return new st({...this._def,shape:()=>n})}keyof(){return lP(Me.objectKeys(this.shape))}}st.create=(t,e)=>new st({shape:()=>t,unknownKeys:"strip",catchall:ur.create(),typeName:ge.ZodObject,..._e(e)});st.strictCreate=(t,e)=>new st({shape:()=>t,unknownKeys:"strict",catchall:ur.create(),typeName:ge.ZodObject,..._e(e)});st.lazycreate=(t,e)=>new st({shape:t,unknownKeys:"strip",catchall:ur.create(),typeName:ge.ZodObject,..._e(e)});class Jc extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),s=this._def.options;function r(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new Nn(o.ctx.common.issues));return ne(n,{code:K.invalid_union,unionErrors:a}),me}if(n.common.async)return Promise.all(s.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(r);{let i;const a=[];for(const c of s){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(c=>new Nn(c));return ne(n,{code:K.invalid_union,unionErrors:o}),me}}get options(){return this._def.options}}Jc.create=(t,e)=>new Jc({options:t,typeName:ge.ZodUnion,..._e(e)});const qs=t=>t instanceof el?qs(t.schema):t instanceof fs?qs(t.innerType()):t instanceof tl?[t.value]:t instanceof oi?t.options:t instanceof nl?Me.objectValues(t.enum):t instanceof sl?qs(t._def.innerType):t instanceof Kc?[void 0]:t instanceof Yc?[null]:t instanceof Ts?[void 0,...qs(t.unwrap())]:t instanceof ci?[null,...qs(t.unwrap())]:t instanceof wv||t instanceof il?qs(t.unwrap()):t instanceof rl?qs(t._def.innerType):[];class Rp extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.object)return ne(n,{code:K.invalid_type,expected:ce.object,received:n.parsedType}),me;const s=this.discriminator,r=n.data[s],i=this.optionsMap.get(r);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ne(n,{code:K.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,s){const r=new Map;for(const i of n){const a=qs(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,i)}}return new Rp({typeName:ge.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:r,..._e(s)})}}function vg(t,e){const n=Hs(t),s=Hs(e);if(t===e)return{valid:!0,data:t};if(n===ce.object&&s===ce.object){const r=Me.objectKeys(e),i=Me.objectKeys(t).filter(o=>r.indexOf(o)!==-1),a={...t,...e};for(const o of i){const c=vg(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===ce.array&&s===ce.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],c=vg(a,o);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return n===ce.date&&s===ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Xc extends Te{_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=(i,a)=>{if(gg(i)||gg(a))return me;const o=vg(i.value,a.value);return o.valid?((yg(i)||yg(a))&&n.dirty(),{status:n.value,value:o.data}):(ne(s,{code:K.invalid_intersection_types}),me)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,a])=>r(i,a)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Xc.create=(t,e,n)=>new Xc({left:t,right:e,typeName:ge.ZodIntersection,..._e(n)});class Is extends Te{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ce.array)return ne(s,{code:K.invalid_type,expected:ce.array,received:s.parsedType}),me;if(s.data.length<this._def.items.length)return ne(s,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&s.data.length>this._def.items.length&&(ne(s,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Ps(s,a,s.path,o)):null}).filter(a=>!!a);return s.common.async?Promise.all(i).then(a=>Wt.mergeArray(n,a)):Wt.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Is({...this._def,rest:e})}}Is.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Is({items:t,typeName:ge.ZodTuple,rest:null,..._e(e)})};class Zc extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ce.object)return ne(s,{code:K.invalid_type,expected:ce.object,received:s.parsedType}),me;const r=[],i=this._def.keyType,a=this._def.valueType;for(const o in s.data)r.push({key:i._parse(new Ps(s,o,s.path,o)),value:a._parse(new Ps(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?Wt.mergeObjectAsync(n,r):Wt.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(e,n,s){return n instanceof Te?new Zc({keyType:e,valueType:n,typeName:ge.ZodRecord,..._e(s)}):new Zc({keyType:os.create(),valueType:e,typeName:ge.ZodRecord,..._e(n)})}}class $d extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ce.map)return ne(s,{code:K.invalid_type,expected:ce.map,received:s.parsedType}),me;const r=this._def.keyType,i=this._def.valueType,a=[...s.data.entries()].map(([o,c],l)=>({key:r._parse(new Ps(s,o,s.path,[l,"key"])),value:i._parse(new Ps(s,c,s.path,[l,"value"]))}));if(s.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return me;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(l.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of a){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return me;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(l.value,u.value)}return{status:n.value,value:o}}}}$d.create=(t,e,n)=>new $d({valueType:e,keyType:t,typeName:ge.ZodMap,..._e(n)});class ta extends Te{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ce.set)return ne(s,{code:K.invalid_type,expected:ce.set,received:s.parsedType}),me;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(ne(s,{code:K.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(ne(s,{code:K.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const l=new Set;for(const u of c){if(u.status==="aborted")return me;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const o=[...s.data.values()].map((c,l)=>i._parse(new Ps(s,c,s.path,l)));return s.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,n){return new ta({...this._def,minSize:{value:e,message:de.toString(n)}})}max(e,n){return new ta({...this._def,maxSize:{value:e,message:de.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ta.create=(t,e)=>new ta({valueType:t,minSize:null,maxSize:null,typeName:ge.ZodSet,..._e(e)});class Va extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.function)return ne(n,{code:K.invalid_type,expected:ce.function,received:n.parsedType}),me;function s(o,c){return Fd({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Dd(),fo].filter(l=>!!l),issueData:{code:K.invalid_arguments,argumentsError:c}})}function r(o,c){return Fd({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Dd(),fo].filter(l=>!!l),issueData:{code:K.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof mo){const o=this;return rn(async function(...c){const l=new Nn([]),u=await o._def.args.parseAsync(c,i).catch(y=>{throw l.addIssue(s(c,y)),l}),d=await Reflect.apply(a,this,u);return await o._def.returns._def.type.parseAsync(d,i).catch(y=>{throw l.addIssue(r(d,y)),l})})}else{const o=this;return rn(function(...c){const l=o._def.args.safeParse(c,i);if(!l.success)throw new Nn([s(c,l.error)]);const u=Reflect.apply(a,this,l.data),d=o._def.returns.safeParse(u,i);if(!d.success)throw new Nn([r(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Va({...this._def,args:Is.create(e).rest(Li.create())})}returns(e){return new Va({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,s){return new Va({args:e||Is.create([]).rest(Li.create()),returns:n||Li.create(),typeName:ge.ZodFunction,..._e(s)})}}class el extends Te{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}el.create=(t,e)=>new el({getter:t,typeName:ge.ZodLazy,..._e(e)});class tl extends Te{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ne(n,{received:n.data,code:K.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}tl.create=(t,e)=>new tl({value:t,typeName:ge.ZodLiteral,..._e(e)});function lP(t,e){return new oi({values:t,typeName:ge.ZodEnum,..._e(e)})}class oi extends Te{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),s=this._def.values;return ne(n,{expected:Me.joinValues(s),received:n.parsedType,code:K.invalid_type}),me}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),s=this._def.values;return ne(n,{received:n.data,code:K.invalid_enum_value,options:s}),me}return rn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return oi.create(e,{...this._def,...n})}exclude(e,n=this._def){return oi.create(this.options.filter(s=>!e.includes(s)),{...this._def,...n})}}oi.create=lP;class nl extends Te{_parse(e){const n=Me.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==ce.string&&s.parsedType!==ce.number){const r=Me.objectValues(n);return ne(s,{expected:Me.joinValues(r),received:s.parsedType,code:K.invalid_type}),me}if(this._cache||(this._cache=new Set(Me.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=Me.objectValues(n);return ne(s,{received:s.data,code:K.invalid_enum_value,options:r}),me}return rn(e.data)}get enum(){return this._def.values}}nl.create=(t,e)=>new nl({values:t,typeName:ge.ZodNativeEnum,..._e(e)});class mo extends Te{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.promise&&n.common.async===!1)return ne(n,{code:K.invalid_type,expected:ce.promise,received:n.parsedType}),me;const s=n.parsedType===ce.promise?n.data:Promise.resolve(n.data);return rn(s.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}mo.create=(t,e)=>new mo({type:t,typeName:ge.ZodPromise,..._e(e)});class fs extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:a=>{ne(s,a),a.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const a=r.transform(s.data,i);if(s.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return me;const c=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return c.status==="aborted"?me:c.status==="dirty"||n.value==="dirty"?Ia(c.value):c});{if(n.value==="aborted")return me;const o=this._def.schema._parseSync({data:a,path:s.path,parent:s});return o.status==="aborted"?me:o.status==="dirty"||n.value==="dirty"?Ia(o.value):o}}if(r.type==="refinement"){const a=o=>{const c=r.refinement(o,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?me:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?me:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(r.type==="transform")if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Zi(a))return me;const o=r.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>Zi(a)?Promise.resolve(r.transform(a.value,i)).then(o=>({status:n.value,value:o})):me);Me.assertNever(r)}}fs.create=(t,e,n)=>new fs({schema:t,typeName:ge.ZodEffects,effect:e,..._e(n)});fs.createWithPreprocess=(t,e,n)=>new fs({schema:e,effect:{type:"preprocess",transform:t},typeName:ge.ZodEffects,..._e(n)});class Ts extends Te{_parse(e){return this._getType(e)===ce.undefined?rn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ts.create=(t,e)=>new Ts({innerType:t,typeName:ge.ZodOptional,..._e(e)});class ci extends Te{_parse(e){return this._getType(e)===ce.null?rn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ci.create=(t,e)=>new ci({innerType:t,typeName:ge.ZodNullable,..._e(e)});class sl extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);let s=n.data;return n.parsedType===ce.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}sl.create=(t,e)=>new sl({innerType:t,typeName:ge.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._e(e)});class rl extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),s={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Gc(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Nn(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Nn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}rl.create=(t,e)=>new rl({innerType:t,typeName:ge.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._e(e)});class zd extends Te{_parse(e){if(this._getType(e)!==ce.nan){const s=this._getOrReturnCtx(e);return ne(s,{code:K.invalid_type,expected:ce.nan,received:s.parsedType}),me}return{status:"valid",value:e.data}}}zd.create=t=>new zd({typeName:ge.ZodNaN,..._e(t)});const C4=Symbol("zod_brand");class wv extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class wl extends Te{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?me:i.status==="dirty"?(n.dirty(),Ia(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?me:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,n){return new wl({in:e,out:n,typeName:ge.ZodPipeline})}}class il extends Te{_parse(e){const n=this._def.innerType._parse(e),s=r=>(Zi(r)&&(r.value=Object.freeze(r.value)),r);return Gc(n)?n.then(r=>s(r)):s(n)}unwrap(){return this._def.innerType}}il.create=(t,e)=>new il({innerType:t,typeName:ge.ZodReadonly,..._e(e)});function Ix(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function Sv(t,e={},n){return t?ho.create().superRefine((s,r)=>{const i=t(s);if(i instanceof Promise)return i.then(a=>{if(!a){const o=Ix(e,s),c=o.fatal??n??!0;r.addIssue({code:"custom",...o,fatal:c})}});if(!i){const a=Ix(e,s),o=a.fatal??n??!0;r.addIssue({code:"custom",...a,fatal:o})}}):ho.create()}const A4={object:st.lazycreate};var ge;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ge||(ge={}));const T4=(t,e={message:`Input not instance of ${t.name}`})=>Sv(n=>n instanceof t,e),al=os.create,_v=ii.create,N4=zd.create,R4=ai.create,Ev=Wc.create,O4=ea.create,P4=Ld.create,I4=Kc.create,uP=Yc.create,Ud=ho.create,j4=Li.create,M4=ur.create,D4=Bd.create,dP=ds.create,kv=st.create,F4=st.strictCreate,Cv=Jc.create,L4=Rp.create,B4=Xc.create,$4=Is.create,pP=Zc.create,z4=$d.create,U4=ta.create,q4=Va.create,Q4=el.create,V4=tl.create,H4=oi.create,G4=nl.create,W4=mo.create,jx=fs.create,K4=Ts.create,Y4=ci.create,J4=fs.createWithPreprocess,X4=wl.create,Z4=()=>al().optional(),e6=()=>_v().optional(),t6=()=>Ev().optional(),n6={string:t=>os.create({...t,coerce:!0}),number:t=>ii.create({...t,coerce:!0}),boolean:t=>Wc.create({...t,coerce:!0}),bigint:t=>ai.create({...t,coerce:!0}),date:t=>ea.create({...t,coerce:!0})},s6=me,r6=Object.freeze(Object.defineProperty({__proto__:null,BRAND:C4,DIRTY:Ia,EMPTY_PATH:r4,INVALID:me,NEVER:s6,OK:rn,ParseStatus:Wt,Schema:Te,ZodAny:ho,ZodArray:ds,ZodBigInt:ai,ZodBoolean:Wc,ZodBranded:wv,ZodCatch:rl,ZodDate:ea,ZodDefault:sl,ZodDiscriminatedUnion:Rp,ZodEffects:fs,ZodEnum:oi,ZodError:Nn,get ZodFirstPartyTypeKind(){return ge},ZodFunction:Va,ZodIntersection:Xc,ZodIssueCode:K,ZodLazy:el,ZodLiteral:tl,ZodMap:$d,ZodNaN:zd,ZodNativeEnum:nl,ZodNever:ur,ZodNull:Yc,ZodNullable:ci,ZodNumber:ii,ZodObject:st,ZodOptional:Ts,ZodParsedType:ce,ZodPipeline:wl,ZodPromise:mo,ZodReadonly:il,ZodRecord:Zc,ZodSchema:Te,ZodSet:ta,ZodString:os,ZodSymbol:Ld,ZodTransformer:fs,ZodTuple:Is,ZodType:Te,ZodUndefined:Kc,ZodUnion:Jc,ZodUnknown:Li,ZodVoid:Bd,addIssueToContext:ne,any:Ud,array:dP,bigint:R4,boolean:Ev,coerce:n6,custom:Sv,date:O4,datetimeRegex:cP,defaultErrorMap:fo,discriminatedUnion:L4,effect:jx,enum:H4,function:q4,getErrorMap:Dd,getParsedType:Hs,instanceof:T4,intersection:B4,isAborted:gg,isAsync:Gc,isDirty:yg,isValid:Zi,late:A4,lazy:Q4,literal:V4,makeIssue:Fd,map:z4,nan:N4,nativeEnum:G4,never:M4,null:uP,nullable:Y4,number:_v,object:kv,get objectUtil(){return mg},oboolean:t6,onumber:e6,optional:K4,ostring:Z4,pipeline:X4,preprocess:J4,promise:W4,quotelessJson:n4,record:pP,set:U4,setErrorMap:s4,strictObject:F4,string:al,symbol:P4,transformer:jx,tuple:$4,undefined:I4,union:Cv,unknown:j4,get util(){return Me},void:D4},Symbol.toStringTag,{value:"Module"}));var $C;$C=U;class fP{write(e){console.log(e)}}C(fP,$C,"ConsoleLogWriter");var zC;zC=U;class hP{constructor(e){C(this,"writer");this.writer=(e==null?void 0:e.writer)??new fP}logQuery(e,n){const s=n.map(i=>{try{return JSON.stringify(i)}catch{return String(i)}}),r=s.length?` -- params: [${s.join(", ")}]`:"";this.writer.write(`Query: ${e}${r}`)}}C(hP,zC,"DefaultLogger");var UC;UC=U;class mP{logQuery(){}}C(mP,UC,"NoopLogger");const nt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function ft(t,e){return e.includes(t.columnType)}function i6(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const a6=Cv([al(),_v(),Ev(),uP()]),o6=Cv([a6,pP(Ud()),dP(Ud())]),c6=Sv(t=>t instanceof Buffer);function gP(t,e){const n=(e==null?void 0:e.zodInstance)??r6,s=(e==null?void 0:e.coerce)??{};let r;return i6(t)&&(r=t.enumValues.length?n.enum(t.enumValues):n.string()),r||(ft(t,["PgGeometry","PgPointTuple"])?r=n.tuple([n.number(),n.number()]):ft(t,["PgGeometryObject","PgPointObject"])?r=n.object({x:n.number(),y:n.number()}):ft(t,["PgHalfVector","PgVector"])?(r=n.array(n.number()),r=t.dimensions?r.length(t.dimensions):r):ft(t,["PgLine"])?r=n.tuple([n.number(),n.number(),n.number()]):ft(t,["PgLineABC"])?r=n.object({a:n.number(),b:n.number(),c:n.number()}):ft(t,["PgArray"])?(r=n.array(gP(t.baseColumn,n)),r=t.size?r.length(t.size):r):t.dataType==="array"?r=n.array(n.any()):t.dataType==="number"?r=l6(t,n,s):t.dataType==="bigint"?r=u6(t,n,s):t.dataType==="boolean"?r=s===!0||s.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?r=s===!0||s.date?n.coerce.date():n.date():t.dataType==="string"?r=d6(t,n,s):t.dataType==="json"?r=o6:t.dataType==="custom"?r=n.any():t.dataType==="buffer"&&(r=c6)),r||(r=n.any()),r}function l6(t,e,n){let s=t.getSQLType().includes("unsigned"),r,i,a=!1;ft(t,["MySqlTinyInt","SingleStoreTinyInt"])?(r=s?0:nt.INT8_MIN,i=s?nt.INT8_UNSIGNED_MAX:nt.INT8_MAX,a=!0):ft(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(r=s?0:nt.INT16_MIN,i=s?nt.INT16_UNSIGNED_MAX:nt.INT16_MAX,a=!0):ft(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(r=s?0:nt.INT24_MIN,i=s?nt.INT24_UNSIGNED_MAX:nt.INT24_MAX,a=ft(t,["MySqlMediumInt","SingleStoreMediumInt"])):ft(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(r=s?0:nt.INT32_MIN,i=s?nt.INT32_UNSIGNED_MAX:nt.INT32_MAX,a=!0):ft(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(r=s?0:nt.INT48_MIN,i=s?nt.INT48_UNSIGNED_MAX:nt.INT48_MAX):ft(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||ft(t,["MySqlSerial","SingleStoreSerial"]),r=s?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,a=!0):ft(t,["MySqlYear","SingleStoreYear"])?(r=1901,i=2155,a=!0):(r=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let o=n===!0||n!=null&&n.number?e.coerce.number():e.number();return o=o.min(r).max(i),a?o.int():o}function u6(t,e,n){const s=t.getSQLType().includes("unsigned"),r=s?0n:nt.INT64_MIN,i=s?nt.INT64_UNSIGNED_MAX:nt.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(r).max(i)}function d6(t,e,n){if(ft(t,["PgUUID"]))return e.string().uuid();let s,r,i=!1;ft(t,["PgVarchar","SQLiteText"])?s=t.length:ft(t,["MySqlVarChar","SingleStoreVarChar"])?s=t.length??nt.INT16_UNSIGNED_MAX:ft(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?s=nt.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?s=nt.INT24_UNSIGNED_MAX:t.textType==="text"?s=nt.INT16_UNSIGNED_MAX:s=nt.INT8_UNSIGNED_MAX),ft(t,["PgChar","MySqlChar","SingleStoreChar"])&&(s=t.length,i=!0),ft(t,["PgBinaryVector"])&&(r=/^[01]+$/,s=t.dimensions);let a=n===!0||n!=null&&n.string?e.coerce.string():e.string();return a=r?a.regex(r):a,s&&i?a.length(s):s?a.max(s):a}function yP(t){return bR(t)?CR(t):qL(t)}function vP(t,e,n,s){const r={};for(const[i,a]of Object.entries(t)){if(!G(a,gt)&&!G(a,pe)&&!G(a,pe.Aliased)&&typeof a=="object"){const d=bR(a)||$L(a)?yP(a):a;r[i]=vP(d,e[i]??{},n,s);continue}const o=e[i];if(o!==void 0&&typeof o!="function"){r[i]=o;continue}const c=G(a,gt)?a:void 0,l=c?gP(c,s):Ud(),u=typeof o=="function"?o(l):l;n.never(c)||(r[i]=u,c&&(n.nullable(c)&&(r[i]=r[i].nullable()),n.optional(c)&&(r[i]=r[i].optional())))}return kv(r)}const p6={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Sl=(t,e)=>{const n=yP(t);return vP(n,{},p6)},f6=pi("role",["CONSUMER","MERCHANT","DRIVER","ADMIN"]),Op=pi("verification_status",["PENDING","APPROVED","REJECTED"]),bP=pi("order_status",["PENDING","CONFIRMED","IN_PROGRESS","DELIVERED","CANCELLED"]),h6=pi("payment_status",["PENDING","COMPLETED","FAILED","REFUNDED"]),be=Se("users",{id:xe("id").primaryKey(),email:we("email",{length:255}).unique().notNull(),fullName:we("full_name",{length:255}).notNull(),phone:we("phone",{length:20}),password:$("password"),role:f6("role").default("CONSUMER"),isVerified:Fe("is_verified").default(!1),isActive:Fe("is_active").default(!0),profilePicture:$("profile_picture"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow(),emailVerified:Fe("email_verified").default(!1),phoneVerified:Fe("phone_verified").default(!1),dateOfBirth:W("date_of_birth"),address:$("address"),city:we("city",{length:100}),state:we("state",{length:100}),country:we("country",{length:100}).default("Nigeria"),referralCode:we("referral_code",{length:20}).unique(),referredBy:J("referred_by").references(()=>be.id),mfaEnabled:Fe("mfa_enabled").default(!1),mfaMethod:we("mfa_method",{length:10}),mfaSecret:$("mfa_secret"),mfaBackupCodes:Qe("mfa_backup_codes"),biometricHash:$("biometric_hash"),biometricType:we("biometric_type",{length:20}),lastLoginAt:W("last_login_at"),loginAttempts:J("login_attempts").default(0),accountLockedUntil:W("account_locked_until")});Se("mfa_tokens",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id).notNull(),token:$("token").notNull(),method:we("method",{length:10}).notNull(),expiresAt:W("expires_at").notNull(),isUsed:Fe("is_used").default(!1),usedAt:W("used_at"),createdAt:W("created_at").defaultNow()});Se("verification_documents",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id).notNull(),documentType:we("document_type",{length:30}).notNull(),documentNumber:we("document_number",{length:50}),fileName:$("file_name").notNull(),fileSize:J("file_size"),mimeType:we("mime_type",{length:100}),expiryDate:W("expiry_date"),status:Op("status").default("PENDING"),validationScore:Ae("validation_score",{precision:3,scale:2}),extractedData:Qe("extracted_data"),rejectionReason:$("rejection_reason"),reviewedBy:J("reviewed_by").references(()=>be.id),reviewedAt:W("reviewed_at"),uploadedAt:W("uploaded_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se("security_logs",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id),action:we("action",{length:50}).notNull(),details:Qe("details"),ipAddress:we("ip_address",{length:45}),userAgent:$("user_agent"),severity:we("severity",{length:20}).default("INFO"),timestamp:W("timestamp").defaultNow()});Se("trusted_devices",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id).notNull(),deviceToken:$("device_token").unique().notNull(),deviceName:we("device_name",{length:100}),deviceType:we("device_type",{length:50}),browserInfo:$("browser_info"),lastUsedAt:W("last_used_at"),expiresAt:W("expires_at").notNull(),isActive:Fe("is_active").default(!0),createdAt:W("created_at").defaultNow()});const m6=Se("products",{id:xe("id").primaryKey(),name:$("name").notNull(),description:$("description"),price:Ae("price",{precision:10,scale:2}).notNull(),unit:$("unit").notNull(),categoryName:$("category_name").notNull(),sellerId:J("seller_id").references(()=>be.id).notNull(),images:Qe("images").default([]),rating:Ae("rating",{precision:3,scale:2}).default("0"),reviewCount:J("review_count").default(0),inStock:Fe("in_stock").default(!0),stockLevel:J("stock_level").default(0),lowStockThreshold:J("low_stock_threshold").default(10),isActive:Fe("is_active").default(!0),totalSold:J("total_sold").default(0),totalViews:J("total_views").default(0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se("categories",{id:xe("id").primaryKey(),name:$("name").unique().notNull(),description:$("description"),icon:$("icon"),isActive:Fe("is_active").default(!0),createdAt:W("created_at").defaultNow()});const _l=Se("orders",{id:xe("id").primaryKey(),orderNumber:$("order_number").unique().notNull(),customerId:J("customer_id").references(()=>be.id).notNull(),merchantId:J("merchant_id").references(()=>be.id),driverId:J("driver_id").references(()=>be.id),orderType:$("order_type").notNull(),status:bP("status").default("PENDING"),totalAmount:Ae("total_amount",{precision:10,scale:2}).notNull(),deliveryAddress:$("delivery_address"),deliveryLatitude:Ae("delivery_latitude",{precision:10,scale:8}),deliveryLongitude:Ae("delivery_longitude",{precision:11,scale:8}),orderData:Qe("order_data"),pickupAddress:$("pickup_address"),deliveryFee:Ae("delivery_fee",{precision:10,scale:2}),urgentOrder:Fe("urgent_order").default(!1),estimatedPreparationTime:J("estimated_preparation_time"),notes:$("notes"),paymentStatus:$("payment_status").default("PENDING"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),xP=Se("transactions",{id:xe("id").primaryKey(),orderId:J("order_id").references(()=>_l.id),userId:J("user_id").references(()=>be.id).notNull(),amount:Ae("amount",{precision:10,scale:2}).notNull(),currency:$("currency").default("NGN"),paymentMethod:$("payment_method").notNull(),paymentStatus:h6("payment_status").default("PENDING"),transactionRef:$("transaction_ref").unique(),paymentGatewayRef:$("payment_gateway_ref"),metadata:Qe("metadata"),createdAt:W("created_at").defaultNow()}),g6=Se("fuel_orders",{id:xe("id").primaryKey(),customerId:J("customer_id").references(()=>be.id).notNull(),driverId:J("driver_id").references(()=>be.id),stationId:$("station_id").notNull(),fuelType:$("fuel_type").notNull(),quantity:Ae("quantity",{precision:8,scale:2}).notNull(),unitPrice:Ae("unit_price",{precision:10,scale:2}).notNull(),totalAmount:Ae("total_amount",{precision:10,scale:2}).notNull(),deliveryAddress:$("delivery_address").notNull(),deliveryLatitude:Ae("delivery_latitude",{precision:10,scale:8}).notNull(),deliveryLongitude:Ae("delivery_longitude",{precision:11,scale:8}).notNull(),scheduledDeliveryTime:W("scheduled_delivery_time"),status:$("status").default("PENDING"),notes:$("notes"),estimatedDeliveryTime:$("estimated_delivery_time"),acceptedAt:W("accepted_at"),pickedUpAt:W("picked_up_at"),deliveredAt:W("delivered_at"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se("driver_profiles",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id).notNull(),vehicleType:$("vehicle_type"),vehicleModel:$("vehicle_model"),plateNumber:$("plate_number"),licenseNumber:$("license_number"),licenseExpiry:W("license_expiry"),vehicleYear:J("vehicle_year"),vehicleColor:we("vehicle_color",{length:30}),isAvailable:Fe("is_available").default(!0),currentLatitude:Ae("current_latitude",{precision:10,scale:8}),currentLongitude:Ae("current_longitude",{precision:11,scale:8}),rating:Ae("rating",{precision:3,scale:2}).default("5.00"),totalTrips:J("total_trips").default(0),earnings:Ae("earnings",{precision:10,scale:2}).default("0.00"),kycData:Qe("kyc_data"),kycStatus:we("kyc_status",{length:20}).default("PENDING"),kycSubmittedAt:W("kyc_submitted_at"),kycApprovedAt:W("kyc_approved_at"),kycApprovedBy:J("kyc_approved_by").references(()=>be.id),verificationLevel:we("verification_level",{length:20}).default("BASIC"),backgroundCheckStatus:we("background_check_status",{length:20}).default("PENDING"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se("merchant_profiles",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id).notNull(),businessName:$("business_name"),businessAddress:$("business_address"),businessLatitude:Ae("business_latitude",{precision:10,scale:8}),businessLongitude:Ae("business_longitude",{precision:11,scale:8}),businessType:$("business_type"),isOpen:Fe("is_open").default(!0),rating:Ae("rating",{precision:3,scale:2}).default("5.0"),totalOrders:J("total_orders").default(0),revenue:Ae("revenue",{precision:10,scale:2}).default("0"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se("identity_verifications",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id).notNull(),documentType:$("document_type").notNull(),documentNumber:$("document_number").notNull(),documentImageUrl:$("document_image_url"),verificationStatus:Op("verification_status").default("PENDING"),submittedAt:W("submitted_at").defaultNow(),reviewedAt:W("reviewed_at"),reviewedBy:J("reviewed_by").references(()=>be.id),rejectionReason:$("rejection_reason")});Se("driver_verifications",{id:xe("id").primaryKey(),driverId:J("driver_id").references(()=>be.id).notNull(),licenseImageUrl:$("license_image_url"),vehicleRegistrationUrl:$("vehicle_registration_url"),insuranceUrl:$("insurance_url"),verificationStatus:Op("verification_status").default("PENDING"),submittedAt:W("submitted_at").defaultNow(),reviewedAt:W("reviewed_at"),reviewedBy:J("reviewed_by").references(()=>be.id),rejectionReason:$("rejection_reason")});Se("user_locations",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id).notNull(),latitude:Ae("latitude",{precision:10,scale:8}).notNull(),longitude:Ae("longitude",{precision:11,scale:8}).notNull(),address:$("address"),isDefault:Fe("is_default").default(!1),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se("order_tracking",{id:xe("id").primaryKey(),orderId:J("order_id").references(()=>_l.id).notNull(),driverId:J("driver_id").references(()=>be.id),status:bP("status").notNull(),latitude:Ae("latitude",{precision:10,scale:8}),longitude:Ae("longitude",{precision:11,scale:8}),address:$("address"),notes:$("notes"),estimatedArrival:W("estimated_arrival"),actualArrival:W("actual_arrival"),metadata:Qe("metadata"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se("wallets",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id).notNull(),balance:Ae("balance",{precision:10,scale:2}).default("0"),currency:$("currency").default("NGN"),isActive:Fe("is_active").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se("payment_methods",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id).notNull(),type:$("type").notNull(),provider:$("provider"),last4:$("last4"),expiryMonth:$("expiry_month"),expiryYear:$("expiry_year"),isDefault:Fe("is_default").default(!1),isActive:Fe("is_active").default(!0),metadata:Qe("metadata"),createdAt:W("created_at").defaultNow()});Se("escrow_transactions",{id:xe("id").primaryKey(),orderId:J("order_id").references(()=>_l.id),customerId:J("customer_id").references(()=>be.id).notNull(),merchantId:J("merchant_id").references(()=>be.id),amount:Ae("amount",{precision:10,scale:2}).notNull(),currency:$("currency").default("NGN"),status:$("status").default("PENDING"),paymentMethod:$("payment_method"),paymentReference:$("payment_reference"),escrowReleaseDate:W("escrow_release_date"),releasedAt:W("released_at"),releasedBy:J("released_by").references(()=>be.id),disputeId:J("dispute_id"),failureReason:$("failure_reason"),customerDetails:Qe("customer_details"),metadata:Qe("metadata"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});const js=Se("admin_users",{id:xe("id").primaryKey(),username:$("username").unique().notNull(),email:$("email").unique().notNull(),password:$("password").notNull(),fullName:$("full_name").notNull(),role:$("role").default("ADMIN"),permissions:Qe("permissions").default([]),isActive:Fe("is_active").default(!0),lastLogin:W("last_login"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se("compliance_documents",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id),documentType:$("document_type").notNull(),documentUrl:$("document_url").notNull(),verificationStatus:Op("verification_status").default("PENDING"),submittedAt:W("submitted_at").defaultNow(),reviewedAt:W("reviewed_at"),reviewedBy:J("reviewed_by").references(()=>js.id),expiryDate:W("expiry_date"),notes:$("notes")});const y6=Se("content_reports",{id:xe("id").primaryKey(),reportedBy:J("reported_by").references(()=>be.id).notNull(),reportedUserId:J("reported_user_id").references(()=>be.id),reportedContentId:J("reported_content_id"),contentType:$("content_type"),reason:$("reason").notNull(),description:$("description"),status:$("status").default("PENDING"),reviewedBy:J("reviewed_by").references(()=>js.id),reviewedAt:W("reviewed_at"),action:$("action"),createdAt:W("created_at").defaultNow()});Se("moderation_responses",{id:xe("id").primaryKey(),reportId:J("report_id").references(()=>y6.id).notNull(),moderatorId:J("moderator_id").references(()=>js.id).notNull(),action:$("action").notNull(),reason:$("reason"),notes:$("notes"),createdAt:W("created_at").defaultNow()});Se("vendor_violations",{id:xe("id").primaryKey(),vendorId:J("vendor_id").references(()=>be.id).notNull(),violationType:$("violation_type").notNull(),description:$("description").notNull(),severity:$("severity").default("MEDIUM"),status:$("status").default("ACTIVE"),reportedBy:J("reported_by").references(()=>be.id),reviewedBy:J("reviewed_by").references(()=>js.id),penaltyApplied:$("penalty_applied"),resolvedAt:W("resolved_at"),createdAt:W("created_at").defaultNow()});Se("admin_payment_actions",{id:xe("id").primaryKey(),transactionId:J("transaction_id").references(()=>xP.id).notNull(),adminId:J("admin_id").references(()=>js.id).notNull(),actionType:$("action_type").notNull(),amount:Ae("amount",{precision:10,scale:2}),reason:$("reason").notNull(),status:$("status").default("PENDING"),processedAt:W("processed_at"),metadata:Qe("metadata"),createdAt:W("created_at").defaultNow()});Se("fraud_alerts",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id),alertType:$("alert_type").notNull(),severity:$("severity").default("MEDIUM"),description:$("description").notNull(),data:Qe("data"),status:$("status").default("PENDING"),reviewedBy:J("reviewed_by").references(()=>js.id),reviewedAt:W("reviewed_at"),action:$("action"),createdAt:W("created_at").defaultNow()});Se("suspicious_activities",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id),activityType:$("activity_type").notNull(),description:$("description").notNull(),ipAddress:$("ip_address"),userAgent:$("user_agent"),riskScore:J("risk_score"),metadata:Qe("metadata"),flagged:Fe("flagged").default(!1),reviewedBy:J("reviewed_by").references(()=>js.id),reviewedAt:W("reviewed_at"),createdAt:W("created_at").defaultNow()});Se("account_flags",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id).notNull(),flagType:$("flag_type").notNull(),reason:$("reason").notNull(),severity:$("severity").default("MEDIUM"),isActive:Fe("is_active").default(!0),flaggedBy:J("flagged_by").references(()=>js.id),resolvedBy:J("resolved_by").references(()=>js.id),resolvedAt:W("resolved_at"),expiresAt:W("expires_at"),metadata:Qe("metadata"),createdAt:W("created_at").defaultNow()});Se("delivery_requests",{id:xe("id").primaryKey(),orderId:J("order_id").references(()=>_l.id).notNull(),merchantId:J("merchant_id").references(()=>be.id).notNull(),customerId:J("customer_id").references(()=>be.id).notNull(),driverId:J("driver_id").references(()=>be.id),deliveryType:$("delivery_type").notNull(),pickupAddress:$("pickup_address").notNull(),pickupLatitude:Ae("pickup_latitude",{precision:10,scale:8}),pickupLongitude:Ae("pickup_longitude",{precision:11,scale:8}),deliveryAddress:$("delivery_address").notNull(),deliveryLatitude:Ae("delivery_latitude",{precision:10,scale:8}),deliveryLongitude:Ae("delivery_longitude",{precision:11,scale:8}),deliveryFee:Ae("delivery_fee",{precision:10,scale:2}).notNull(),distance:Ae("distance",{precision:8,scale:2}),estimatedTime:J("estimated_time"),orderValue:Ae("order_value",{precision:10,scale:2}),urgentDelivery:Fe("urgent_delivery").default(!1),customerName:$("customer_name"),customerPhone:$("customer_phone"),merchantName:$("merchant_name"),status:$("status").default("PENDING"),acceptedAt:W("accepted_at"),pickedUpAt:W("picked_up_at"),deliveredAt:W("delivered_at"),expiresAt:W("expires_at"),metadata:Qe("metadata"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se("vendor_posts",{id:xe("id").primaryKey(),vendorId:J("vendor_id").references(()=>be.id).notNull(),title:$("title").notNull(),content:$("content").notNull(),images:Qe("images").default([]),postType:$("post_type").default("GENERAL"),isActive:Fe("is_active").default(!0),likes:J("likes").default(0),shares:J("shares").default(0),views:J("views").default(0),metadata:Qe("metadata"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});const v6=Se("conversations",{id:xe("id").primaryKey(),participantIds:Qe("participant_ids").notNull(),conversationType:$("conversation_type").default("DIRECT"),title:$("title"),isActive:Fe("is_active").default(!0),lastMessageId:J("last_message_id"),lastMessageAt:W("last_message_at"),metadata:Qe("metadata"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se("chat_messages",{id:xe("id").primaryKey(),conversationId:J("conversation_id").references(()=>v6.id).notNull(),senderId:J("sender_id").references(()=>be.id).notNull(),messageType:$("message_type").default("TEXT"),content:$("content"),attachments:Qe("attachments").default([]),isEdited:Fe("is_edited").default(!1),editedAt:W("edited_at"),isDeleted:Fe("is_deleted").default(!1),deletedAt:W("deleted_at"),readBy:Qe("read_by").default([]),metadata:Qe("metadata"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});Se("toll_gates",{id:xe("id").primaryKey(),name:we("name",{length:255}).notNull(),location:we("location",{length:255}).notNull(),latitude:Ae("latitude",{precision:10,scale:8}).notNull(),longitude:Ae("longitude",{precision:11,scale:8}).notNull(),qrCode:we("qr_code",{length:255}).unique().notNull(),tariff:Ae("tariff",{precision:10,scale:2}).notNull(),operationalHours:we("operational_hours",{length:100}),status:we("status",{length:20}).default("ACTIVE"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()});const b6=Se("support_tickets",{id:xe("id").primaryKey(),ticketNumber:we("ticket_number",{length:20}).unique().notNull(),userId:J("user_id").references(()=>be.id),userRole:we("user_role",{length:20}).notNull(),name:we("name",{length:255}).notNull(),email:we("email",{length:255}).notNull(),subject:we("subject",{length:500}).notNull(),message:$("message").notNull(),status:we("status",{length:20}).default("OPEN"),priority:we("priority",{length:20}).default("NORMAL"),assignedTo:J("assigned_to").references(()=>js.id),adminNotes:$("admin_notes"),resolution:$("resolution"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow(),resolvedAt:W("resolved_at")});Se("support_responses",{id:xe("id").primaryKey(),ticketId:J("ticket_id").references(()=>b6.id).notNull(),responderId:J("responder_id").notNull(),responderType:we("responder_type",{length:20}).notNull(),message:$("message").notNull(),attachments:$("attachments"),createdAt:W("created_at").defaultNow()});Se("audit_logs",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id),action:we("action",{length:100}).notNull(),resource:we("resource",{length:50}).notNull(),resourceId:we("resource_id",{length:255}),oldValues:$("old_values"),newValues:$("new_values"),ipAddress:we("ip_address",{length:45}).notNull(),userAgent:$("user_agent"),sessionId:we("session_id",{length:255}),success:Fe("success").notNull(),errorMessage:$("error_message"),metadata:$("metadata"),createdAt:W("created_at").defaultNow().notNull()});Se("push_tokens",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id).notNull(),token:$("token").notNull(),platform:we("platform",{length:10}).notNull(),deviceInfo:$("device_info"),isActive:Fe("is_active").default(!0).notNull(),lastUsed:W("last_used").defaultNow().notNull(),createdAt:W("created_at").defaultNow().notNull(),updatedAt:W("updated_at").defaultNow().notNull()});Se("notifications",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>be.id).notNull(),title:we("title",{length:255}).notNull(),body:$("body").notNull(),category:we("category",{length:50}).default("general").notNull(),data:$("data"),isRead:Fe("is_read").default(!1).notNull(),createdAt:W("created_at").defaultNow().notNull(),updatedAt:W("updated_at").defaultNow().notNull()});const x6=kv({email:al().email("Please enter a valid email address"),password:al().min(6,"Password must be at least 6 characters")});Sl(m6).omit({id:!0,createdAt:!0,updatedAt:!0,rating:!0,reviewCount:!0,totalSold:!0,totalViews:!0});Sl(be).omit({id:!0,createdAt:!0,updatedAt:!0,lastLoginAt:!0,loginAttempts:!0,accountLockedUntil:!0});Sl(_l).omit({id:!0,createdAt:!0,updatedAt:!0,orderNumber:!0});Sl(xP).omit({id:!0,createdAt:!0});Sl(g6).omit({id:!0,createdAt:!0,updatedAt:!0,acceptedAt:!0,pickedUpAt:!0,deliveredAt:!0});function w6(){const[t,e]=Q.useState(!1),[n,s]=Q.useState(""),[r,i]=Q.useState(""),[a,o]=Q.useState(!1),[,c]=Gi(),{toast:l}=DN(),{signin:u}=Ao(),d=k=>console.log("User updated:",k),p=k=>console.log("Loading:",k),y=k=>console.log("Error:",k),m=k=>console.log("Show modal:",k),f=dF({resolver:mF(x6),defaultValues:{email:"",password:""}}),v=jD({mutationFn:({email:k,password:_})=>PL.signIn({email:k,password:_}),onSuccess:k=>{console.log("Sign in successful:",k),k.user&&(console.log("Setting user data:",k.user,"Role:",k.user.role),d(k.user),k.user.role==="CONSUMER"?(console.log("Navigating CONSUMER to /consumer-home"),c("/consumer-home")):k.user.role==="MERCHANT"?(console.log("Navigating MERCHANT to /merchant-dashboard"),c("/merchant-dashboard")):k.user.role==="DRIVER"?(console.log("Navigating DRIVER to /driver-dashboard"),sessionStorage.getItem("selectedDriverTier")?(sessionStorage.setItem("promptKYCVerification","true"),c("/driver-dashboard")):c("/driver-tier-selection")):c("/dashboard"))},onError:k=>{console.error("Sign in error:",k),l({title:"Sign In Failed",description:k.message})}}),h=k=>{v.mutate(k)},b=async()=>{try{p(!0);const{socialAuth:k}=await nh(async()=>{const{socialAuth:_}=await import("./social-auth-B25nWjSb.js");return{socialAuth:_}},[]);k.setCallbacks(async _=>{try{console.log("Google login success:",_);const w=await fetch("/api/auth/social-login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({provider:_.provider,socialId:_.id,email:_.email,name:_.name,picture:_.picture||""})}),E=await w.json();if(!w.ok)throw new Error(E.message||"Social login failed");d(E.user),l({title:"Welcome back!",description:E.isNewUser?"Account created successfully!":"Signed in successfully!"}),E.user.role==="CONSUMER"?c("/consumer-home"):E.user.role==="MERCHANT"?c("/merchant-dashboard"):E.user.role==="DRIVER"?sessionStorage.getItem("selectedDriverTier")?(sessionStorage.setItem("promptKYCVerification","true"),c("/driver-dashboard")):c("/driver-tier-selection"):c("/dashboard")}catch(w){console.error("Google backend authentication failed:",w),console.error("Google signin error:",w)}finally{p(!1)}},_=>{console.error("Google login error:",_),console.error("Google sign-in failed. Please try again.")}),await k.signInWithGoogle()}catch(k){console.error("Google login initialization error:",k),y("Google sign-in is not available at the moment."),m(!0),p(!1)}},g=async()=>{try{p(!0);const{socialAuth:k}=await nh(async()=>{const{socialAuth:_}=await import("./social-auth-B25nWjSb.js");return{socialAuth:_}},[]);k.setCallbacks(async _=>{try{console.log("Apple login success:",_);const w=await fetch("/api/auth/social-login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({provider:_.provider,socialId:_.id,email:_.email,name:_.name,picture:_.picture||""})}),E=await w.json();if(!w.ok)throw new Error(E.message||"Social login failed");d(E.user),l({title:"Welcome back!",description:E.isNewUser?"Account created successfully!":"Signed in successfully!"}),E.user.role==="CONSUMER"?c("/consumer-home"):E.user.role==="MERCHANT"?c("/merchant-dashboard"):E.user.role==="DRIVER"?sessionStorage.getItem("selectedDriverTier")?(sessionStorage.setItem("promptKYCVerification","true"),c("/driver-dashboard")):c("/driver-tier-selection"):c("/dashboard")}catch(w){console.error("Apple backend authentication failed:",w),y(w instanceof Error?w.message:"Apple sign-in failed. Please try again."),m(!0)}finally{p(!1)}},_=>{console.error("Apple login error:",_),y("Apple sign-in failed. Please try again."),m(!0),p(!1)}),await k.signInWithApple()}catch(k){console.error("Apple login initialization error:",k),y("Apple sign-in is not available at the moment."),m(!0),p(!1)}},x=async()=>{try{p(!0);const{socialAuth:k}=await nh(async()=>{const{socialAuth:_}=await import("./social-auth-B25nWjSb.js");return{socialAuth:_}},[]);k.setCallbacks(async _=>{try{console.log("Facebook login success:",_);const w=await fetch("/api/auth/social-login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({provider:_.provider,socialId:_.id,email:_.email,name:_.name,picture:_.picture||""})}),E=await w.json();if(!w.ok)throw new Error(E.message||"Social login failed");d(E.user),l({title:"Welcome back!",description:E.isNewUser?"Account created successfully!":"Signed in successfully!"}),E.user.role==="CONSUMER"?c("/consumer-home"):E.user.role==="MERCHANT"?c("/merchant-dashboard"):E.user.role==="DRIVER"?sessionStorage.getItem("selectedDriverTier")?(sessionStorage.setItem("promptKYCVerification","true"),c("/driver-dashboard")):c("/driver-tier-selection"):c("/dashboard")}catch(w){console.error("Facebook backend authentication failed:",w),y(w instanceof Error?w.message:"Facebook sign-in failed. Please try again."),m(!0)}finally{p(!1)}},_=>{console.error("Facebook login error:",_),y("Facebook sign-in failed. Please try again."),m(!0),p(!1)}),await k.signInWithFacebook()}catch(k){console.error("Facebook login initialization error:",k),y("Facebook sign-in is not available at the moment."),m(!0),p(!1)}};return S.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white",children:S.jsxs("div",{className:"px-4 sm:px-6 py-6 sm:py-8 pt-12 sm:pt-16",children:[S.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[S.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg",children:S.jsx("img",{src:Ky,alt:"Brillprime Logo",className:"w-12 h-12 sm:w-16 sm:h-16 object-contain"})}),S.jsx("h1",{className:"text-lg sm:text-xl font-extrabold text-[var(--brill-primary)] mb-2",children:"Welcome Back"}),S.jsx("p",{className:"text-[var(--brill-text-light)] font-light text-sm",children:"Sign in to your account"})]}),S.jsx(kL,{...f,children:S.jsxs("form",{onSubmit:f.handleSubmit(h),className:"space-y-4 mb-6",children:[S.jsx(ih,{control:f.control,name:"email",render:({field:k})=>S.jsxs(Qu,{children:[S.jsx(Vu,{children:S.jsxs("div",{className:"relative",children:[S.jsx(Hu,{type:"email",placeholder:"Email Address",className:"h-14 pl-12 border-[var(--brill-secondary)] rounded-brill font-medium placeholder:text-[var(--brill-text-light)] focus-visible:ring-[var(--brill-secondary)]",...k}),S.jsx(kF,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[var(--brill-text-light)] h-5 w-5"})]})}),S.jsx(ng,{className:"text-xs"})]})}),S.jsx(ih,{control:f.control,name:"password",render:({field:k})=>S.jsxs(Qu,{children:[S.jsx(Vu,{children:S.jsxs("div",{className:"relative",children:[S.jsx(Hu,{type:t?"text":"password",placeholder:"Password",className:"h-14 pl-12 pr-12 border-[var(--brill-secondary)] rounded-brill font-medium placeholder:text-[var(--brill-text-light)] focus-visible:ring-[var(--brill-secondary)]",...k}),S.jsx(EF,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[var(--brill-text-light)] h-5 w-5"}),S.jsx(Le,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>e(!t),children:t?S.jsx(wF,{className:"h-4 w-4 text-[var(--brill-text-light)]"}):S.jsx(SF,{className:"h-4 w-4 text-[var(--brill-text-light)]"})})]})}),S.jsx(ng,{className:"text-xs"})]})}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx(ih,{control:f.control,name:"rememberMe",render:({field:k})=>S.jsxs(Qu,{className:"flex flex-row items-center space-x-2 space-y-0",children:[S.jsx(Vu,{children:S.jsx(Hu,{type:"checkbox",checked:k.value,onChange:k.onChange,className:"h-4 w-4 border-[var(--brill-secondary)] focus-visible:ring-[var(--brill-secondary)]"})}),S.jsx("label",{htmlFor:k.name,className:"text-sm font-medium text-[var(--brill-text-light)] leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Remember me"})]})}),S.jsx(Le,{type:"button",variant:"link",onClick:()=>c("/forgot-password"),className:"text-[var(--brill-secondary)] text-sm font-medium p-0 h-auto",children:"Forgot Password?"})]}),S.jsx(TL,{type:"submit",loading:v.isPending,loadingText:"Signing In...",className:"w-full h-14 mt-6",children:"Sign In"})]})}),S.jsxs("div",{className:"space-y-4 mb-6",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-0 flex items-center",children:S.jsx("span",{className:"w-full border-t border-gray-300"})}),S.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:S.jsx("span",{className:"bg-white px-2 text-[var(--brill-text-light)]",children:"Or continue with"})})]}),S.jsxs("div",{className:"flex justify-center gap-4",children:[S.jsx(Le,{type:"button",variant:"outline",onClick:b,className:"h-12 w-12 rounded-full border-2 border-[var(--brill-secondary)] hover:bg-gray-50 p-0 flex items-center justify-center",children:S.jsx("img",{src:MF,alt:"Google",className:"w-5 h-5"})}),S.jsx(Le,{type:"button",variant:"outline",onClick:g,className:"h-12 w-12 rounded-full border-2 border-[var(--brill-secondary)] hover:bg-gray-50 p-0 flex items-center justify-center",children:S.jsx("img",{src:DF,alt:"Apple",className:"w-5 h-5"})}),S.jsx(Le,{type:"button",variant:"outline",onClick:x,className:"h-12 w-12 rounded-full border-2 border-[var(--brill-secondary)] hover:bg-gray-50 p-0 flex items-center justify-center",children:S.jsx("img",{src:FF,alt:"Facebook",className:"w-5 h-5"})})]})]}),S.jsx("div",{className:"text-center",children:S.jsxs("p",{className:"text-[var(--brill-text-light)] text-sm",children:["Don't have an account?"," ",S.jsx(Le,{variant:"link",className:"text-[var(--brill-secondary)] font-medium p-0 h-auto",onClick:()=>c("/role-selection"),children:"Sign Up"})]})})]})})}const ks=Q.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:xt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ks.displayName="Card";const ja=Q.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:xt("flex flex-col space-y-1.5 p-6",t),...e}));ja.displayName="CardHeader";const Ma=Q.forwardRef(({className:t,...e},n)=>S.jsx("h3",{ref:n,className:xt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ma.displayName="CardTitle";const wP=Q.forwardRef(({className:t,...e},n)=>S.jsx("p",{ref:n,className:xt("text-sm text-muted-foreground",t),...e}));wP.displayName="CardDescription";const cs=Q.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:xt("p-6 pt-0",t),...e}));cs.displayName="CardContent";const S6=Q.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:xt("flex items-center p-6 pt-0",t),...e}));S6.displayName="CardFooter";const er=Q.forwardRef(({className:t,variant:e="default",...n},s)=>{const r={default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"};return S.jsx("div",{ref:s,className:xt("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",r[e],t),...n})});er.displayName="Badge";var On={},El={},Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.ERROR_PACKET=Ns.PACKET_TYPES_REVERSE=Ns.PACKET_TYPES=void 0;const Ms=Object.create(null);Ns.PACKET_TYPES=Ms;Ms.open="0";Ms.close="1";Ms.ping="2";Ms.pong="3";Ms.message="4";Ms.upgrade="5";Ms.noop="6";const SP=Object.create(null);Ns.PACKET_TYPES_REVERSE=SP;Object.keys(Ms).forEach(t=>{SP[Ms[t]]=t});const _6={type:"error",data:"parser error"};Ns.ERROR_PACKET=_6;Object.defineProperty(El,"__esModule",{value:!0});El.encodePacket=void 0;El.encodePacketToBinary=k6;const E6=Ns,_P=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",EP=typeof ArrayBuffer=="function",kP=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,CP=({type:t,data:e},n,s)=>_P&&e instanceof Blob?n?s(e):Mx(e,s):EP&&(e instanceof ArrayBuffer||kP(e))?n?s(e):Mx(new Blob([e]),s):s(E6.PACKET_TYPES[t]+(e||""));El.encodePacket=CP;const Mx=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function Dx(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let uh;function k6(t,e){if(_P&&t.data instanceof Blob)return t.data.arrayBuffer().then(Dx).then(e);if(EP&&(t.data instanceof ArrayBuffer||kP(t.data)))return e(Dx(t.data));CP(t,!1,n=>{uh||(uh=new TextEncoder),e(uh.encode(n))})}var Pp={},go={};Object.defineProperty(go,"__esModule",{value:!0});go.decode=go.encode=void 0;const Da="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Da.length;t++)cc[Da.charCodeAt(t)]=t;const C6=t=>{let e=new Uint8Array(t),n,s=e.length,r="";for(n=0;n<s;n+=3)r+=Da[e[n]>>2],r+=Da[(e[n]&3)<<4|e[n+1]>>4],r+=Da[(e[n+1]&15)<<2|e[n+2]>>6],r+=Da[e[n+2]&63];return s%3===2?r=r.substring(0,r.length-1)+"=":s%3===1&&(r=r.substring(0,r.length-2)+"=="),r};go.encode=C6;const A6=t=>{let e=t.length*.75,n=t.length,s,r=0,i,a,o,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const l=new ArrayBuffer(e),u=new Uint8Array(l);for(s=0;s<n;s+=4)i=cc[t.charCodeAt(s)],a=cc[t.charCodeAt(s+1)],o=cc[t.charCodeAt(s+2)],c=cc[t.charCodeAt(s+3)],u[r++]=i<<2|a>>4,u[r++]=(a&15)<<4|o>>2,u[r++]=(o&3)<<6|c&63;return l};go.decode=A6;Object.defineProperty(Pp,"__esModule",{value:!0});Pp.decodePacket=void 0;const lu=Ns,T6=go,N6=typeof ArrayBuffer=="function",R6=(t,e)=>{if(typeof t!="string")return{type:"message",data:AP(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:O6(t.substring(1),e)}:lu.PACKET_TYPES_REVERSE[n]?t.length>1?{type:lu.PACKET_TYPES_REVERSE[n],data:t.substring(1)}:{type:lu.PACKET_TYPES_REVERSE[n]}:lu.ERROR_PACKET};Pp.decodePacket=R6;const O6=(t,e)=>{if(N6){const n=(0,T6.decode)(t);return AP(n,e)}else return{base64:!0,data:t}},AP=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodePayload=t.decodePacket=t.encodePayload=t.encodePacket=t.protocol=void 0,t.createPacketEncoderStream=o,t.createPacketDecoderStream=d;const e=El;Object.defineProperty(t,"encodePacket",{enumerable:!0,get:function(){return e.encodePacket}});const n=Pp;Object.defineProperty(t,"decodePacket",{enumerable:!0,get:function(){return n.decodePacket}});const s=Ns,r="",i=(p,y)=>{const m=p.length,f=new Array(m);let v=0;p.forEach((h,b)=>{(0,e.encodePacket)(h,!1,g=>{f[b]=g,++v===m&&y(f.join(r))})})};t.encodePayload=i;const a=(p,y)=>{const m=p.split(r),f=[];for(let v=0;v<m.length;v++){const h=(0,n.decodePacket)(m[v],y);if(f.push(h),h.type==="error")break}return f};t.decodePayload=a;function o(){return new TransformStream({transform(p,y){(0,e.encodePacketToBinary)(p,m=>{const f=m.length;let v;if(f<126)v=new Uint8Array(1),new DataView(v.buffer).setUint8(0,f);else if(f<65536){v=new Uint8Array(3);const h=new DataView(v.buffer);h.setUint8(0,126),h.setUint16(1,f)}else{v=new Uint8Array(9);const h=new DataView(v.buffer);h.setUint8(0,127),h.setBigUint64(1,BigInt(f))}p.data&&typeof p.data!="string"&&(v[0]|=128),y.enqueue(v),y.enqueue(m)})}})}let c;function l(p){return p.reduce((y,m)=>y+m.length,0)}function u(p,y){if(p[0].length===y)return p.shift();const m=new Uint8Array(y);let f=0;for(let v=0;v<y;v++)m[v]=p[0][f++],f===p[0].length&&(p.shift(),f=0);return p.length&&f<p[0].length&&(p[0]=p[0].slice(f)),m}function d(p,y){c||(c=new TextDecoder);const m=[];let f=0,v=-1,h=!1;return new TransformStream({transform(b,g){for(m.push(b);;){if(f===0){if(l(m)<1)break;const x=u(m,1);h=(x[0]&128)===128,v=x[0]&127,v<126?f=3:v===126?f=1:f=2}else if(f===1){if(l(m)<2)break;const x=u(m,2);v=new DataView(x.buffer,x.byteOffset,x.length).getUint16(0),f=3}else if(f===2){if(l(m)<8)break;const x=u(m,8),k=new DataView(x.buffer,x.byteOffset,x.length),_=k.getUint32(0);if(_>Math.pow(2,21)-1){g.enqueue(s.ERROR_PACKET);break}v=_*Math.pow(2,32)+k.getUint32(4),f=3}else{if(l(m)<v)break;const x=u(m,v);g.enqueue((0,n.decodePacket)(h?x:c.decode(x),y)),f=0}if(v===0||v>p){g.enqueue(s.ERROR_PACKET);break}}}})}t.protocol=4})(On);function St(t){if(t)return P6(t)}function P6(t){for(var e in St.prototype)t[e]=St.prototype[e];return t}St.prototype.on=St.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};St.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};St.prototype.off=St.prototype.removeListener=St.prototype.removeAllListeners=St.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,r=0;r<n.length;r++)if(s=n[r],s===e||s.fn===e){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+t],this};St.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,r=n.length;s<r;++s)n[s].apply(this,e)}return this};St.prototype.emitReserved=St.prototype.emit;St.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};St.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ip=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),qn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),I6="arraybuffer";function TP(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const j6=qn.setTimeout,M6=qn.clearTimeout;function jp(t,e){e.useNativeTimers?(t.setTimeoutFn=j6.bind(qn),t.clearTimeoutFn=M6.bind(qn)):(t.setTimeoutFn=qn.setTimeout.bind(qn),t.clearTimeoutFn=qn.clearTimeout.bind(qn))}const D6=1.33;function F6(t){return typeof t=="string"?L6(t):Math.ceil((t.byteLength||t.size)*D6)}function L6(t){let e=0,n=0;for(let s=0,r=t.length;s<r;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function NP(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function B6(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function $6(t){let e={},n=t.split("&");for(let s=0,r=n.length;s<r;s++){let i=n[s].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class z6 extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}let Av=class extends St{constructor(e){super(),this.writable=!1,jp(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new z6(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=On.decodePacket(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=B6(e);return n.length?"?"+n:""}},U6=class extends Av{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};On.decodePayload(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,On.encodePayload(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=NP()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}},RP=!1;try{RP=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const q6=RP;function Q6(){}class V6 extends U6{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class Rs extends St{constructor(e,n,s){super(),this.createRequest=e,jp(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=TP(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=Rs.requestsCount++,Rs.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Q6,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Rs.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Rs.requestsCount=0;Rs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Fx);else if(typeof addEventListener=="function"){const t="onpagehide"in qn?"pagehide":"unload";addEventListener(t,Fx,!1)}}function Fx(){for(let t in Rs.requests)Rs.requests.hasOwnProperty(t)&&Rs.requests[t].abort()}const H6=function(){const t=OP({xdomain:!1});return t&&t.responseType!==null}();class G6 extends V6{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=H6&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Rs(OP,this.uri(),e)}}function OP(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||q6))return new XMLHttpRequest}catch{}if(!e)try{return new qn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const PP=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class W6 extends Av{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=PP?{}:TP(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],r=n===e.length-1;On.encodePacket(s,this.supportsBinary,i=>{try{this.doWrite(s,i)}catch{}r&&Ip(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=NP()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const dh=qn.WebSocket||qn.MozWebSocket;class K6 extends W6{createSocket(e,n,s){return PP?new dh(e,n,s):n?new dh(e,n):new dh(e)}doWrite(e,n){this.ws.send(n)}}class Y6 extends Av{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=On.createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),r=On.createPacketEncoderStream();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{s.read().then(({done:o,value:c})=>{o||(this.onPacket(c),i())}).catch(o=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],r=n===e.length-1;this._writer.write(s).then(()=>{r&&Ip(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const J6={websocket:K6,webtransport:Y6,polling:G6},X6=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Z6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function bg(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let r=X6.exec(t||""),i={},a=14;for(;a--;)i[Z6[a]]=r[a]||"";return n!=-1&&s!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=e$(i,i.path),i.queryKey=t$(i,i.query),i}function e$(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function t$(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,i){r&&(n[r]=i)}),n}const xg=typeof addEventListener=="function"&&typeof removeEventListener=="function",Wu=[];xg&&addEventListener("offline",()=>{Wu.forEach(t=>t())},!1);class ti extends St{constructor(e,n){if(super(),this.binaryType=I6,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=bg(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=bg(n.host).host);jp(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const r=s.prototype.name;this.transports.push(r),this._transportsByName[r]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=$6(this.opts.query)),xg&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Wu.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=On.protocol,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ti.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",ti.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(n+=F6(r)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Ip(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,r){if(typeof n=="function"&&(r=n,n=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:e,data:n,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(ti.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),xg&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Wu.indexOf(this._offlineEventListener);s!==-1&&Wu.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}ti.protocol=On.protocol;class n$ extends ti{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;ti.priorWebsocketSuccess=!1;const r=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!s)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;ti.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function i(){s||(s=!0,u(),n.close(),n=null)}const a=d=>{const p=new Error("probe error: "+d);p.transport=n.name,i(),this.emitReserved("upgradeError",p)};function o(){a("transport closed")}function c(){a("socket closed")}function l(d){n&&d.name!==n.name&&i()}const u=()=>{n.removeListener("open",r),n.removeListener("error",a),n.removeListener("close",o),this.off("close",c),this.off("upgrading",l)};n.once("open",r),n.once("error",a),n.once("close",o),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let s$=class extends n${constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(r=>J6[r]).filter(r=>!!r)),super(e,s)}};function r$(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=bg(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+e,s.href=s.protocol+"://"+i+(n&&n.port===s.port?"":":"+s.port),s}const i$=typeof ArrayBuffer=="function",a$=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,IP=Object.prototype.toString,o$=typeof Blob=="function"||typeof Blob<"u"&&IP.call(Blob)==="[object BlobConstructor]",c$=typeof File=="function"||typeof File<"u"&&IP.call(File)==="[object FileConstructor]";function Tv(t){return i$&&(t instanceof ArrayBuffer||a$(t))||o$&&t instanceof Blob||c$&&t instanceof File}function Ku(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(Ku(t[n]))return!0;return!1}if(Tv(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ku(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Ku(t[n]))return!0;return!1}function l$(t){const e=[],n=t.data,s=t;return s.data=wg(n,e),s.attachments=e.length,{packet:s,buffers:e}}function wg(t,e){if(!t)return t;if(Tv(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=wg(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=wg(t[s],e));return n}return t}function u$(t,e){return t.data=Sg(t.data,e),delete t.attachments,t}function Sg(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Sg(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Sg(t[n],e));return t}const d$=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],p$=5;var Ie;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ie||(Ie={}));class f${constructor(e){this.replacer=e}encode(e){return(e.type===Ie.EVENT||e.type===Ie.ACK)&&Ku(e)?this.encodeAsBinary({type:e.type===Ie.EVENT?Ie.BINARY_EVENT:Ie.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Ie.BINARY_EVENT||e.type===Ie.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=l$(e),s=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(s),r}}function Lx(t){return Object.prototype.toString.call(t)==="[object Object]"}class Nv extends St{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===Ie.BINARY_EVENT;s||n.type===Ie.BINARY_ACK?(n.type=s?Ie.EVENT:Ie.ACK,this.reconstructor=new h$(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Tv(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(Ie[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Ie.BINARY_EVENT||s.type===Ie.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(i,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(a)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(i,n)}else s.nsp="/";const r=e.charAt(n+1);if(r!==""&&Number(r)==r){const i=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}s.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(Nv.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Ie.CONNECT:return Lx(n);case Ie.DISCONNECT:return n===void 0;case Ie.CONNECT_ERROR:return typeof n=="string"||Lx(n);case Ie.EVENT:case Ie.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&d$.indexOf(n[0])===-1);case Ie.ACK:case Ie.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class h${constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=u$(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const jP=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Nv,Encoder:f$,get PacketType(){return Ie},protocol:p$},Symbol.toStringTag,{value:"Module"}));function ts(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const m$=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});let MP=class extends St{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ts(e,"open",this.onopen.bind(this)),ts(e,"packet",this.onpacket.bind(this)),ts(e,"error",this.onerror.bind(this)),ts(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,r,i;if(m$.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:Ie.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,d=n.pop();this._registerAckCallback(u,d),a.id=u}const o=(r=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||r===void 0?void 0:r.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,n){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},r),a=(...o)=>{this.io.clearTimeoutFn(i),n.apply(this,o)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((s,r)=>{const i=(a,o)=>a?r(a):s(o);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...i)=>s!==this._queue[0]?void 0:(r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ie.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ie.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ie.EVENT:case Ie.BINARY_EVENT:this.onevent(e);break;case Ie.ACK:case Ie.BINARY_ACK:this.onack(e);break;case Ie.DISCONNECT:this.ondisconnect();break;case Ie.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...r){s||(s=!0,n.packet({type:Ie.ACK,id:e,data:r}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ie.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}};function Oo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Oo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Oo.prototype.reset=function(){this.attempts=0};Oo.prototype.setMin=function(t){this.ms=t};Oo.prototype.setMax=function(t){this.max=t};Oo.prototype.setJitter=function(t){this.jitter=t};class _g extends St{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,jp(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Oo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const r=n.parser||jP;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new s$(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=ts(n,"open",function(){s.onopen(),e&&e()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},a=ts(n,"error",i);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),n.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ts(e,"ping",this.onping.bind(this)),ts(e,"data",this.ondata.bind(this)),ts(e,"error",this.onerror.bind(this)),ts(e,"close",this.onclose.bind(this)),ts(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Ip(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new MP(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Xo={};function Yu(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=r$(t,e.path||"/socket.io"),s=n.source,r=n.id,i=n.path,a=Xo[r]&&i in Xo[r].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let c;return o?c=new _g(s,e):(Xo[r]||(Xo[r]=new _g(s,e)),c=Xo[r]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(Yu,{Manager:_g,Socket:MP,io:Yu,connect:Yu});function Mp(){const[t,e]=Q.useState(null),[n,s]=Q.useState(!1),{user:r}=Ao(),i=Q.useRef(0),a=5;return Q.useEffect(()=>{if(!r){t&&(t.disconnect(),e(null),s(!1));return}const u=window.location.origin,d=Yu(u,{transports:["websocket","polling"],autoConnect:!0,reconnection:!0,reconnectionAttempts:a,reconnectionDelay:1e3});return d.on("connect",()=>{console.log("WebSocket connected"),s(!0),i.current=0,d.emit("join_user_room",r.id),r.role==="ADMIN"&&(d.emit("join_admin_room","user_management"),d.emit("join_admin_room","transaction_monitoring"),d.emit("join_admin_room","kyc_verification"))}),d.on("disconnect",()=>{console.log("WebSocket disconnected"),s(!1)}),d.on("connect_error",p=>{console.error("WebSocket connection error:",p),i.current+=1,i.current>=a&&console.error("Max reconnection attempts reached")}),d.on("CONNECTION_ACK",p=>{console.log("Connection acknowledged:",p)}),e(d),()=>{d.disconnect()}},[r]),{socket:t,connected:n,emit:(u,d)=>{t&&n?t.emit(u,d):console.warn("Socket not connected, cannot emit event:",u)},on:(u,d)=>{t&&t.on(u,d)},off:(u,d)=>{t&&(d?t.off(u,d):t.off(u))}}}function g$(){const{connected:t,on:e,off:n}=Mp(),[s,r]=Q.useState([]),[i,a]=Q.useState({});return Q.useEffect(()=>{if(!t)return;const o=u=>{console.log("Order update received:",u),a(d=>({...d,[u.orderId]:u})),r(d=>d.map(p=>p.id===u.orderId?{...p,status:u.status,...u}:p))},c=u=>{console.log("New order received:",u),r(d=>[u,...d])},l=u=>{console.log("Order status changed:",u),a(d=>({...d,[u.orderId]:u}))};return e("order_update",o),e("new_order",c),e("order_status_changed",l),()=>{n("order_update",o),n("new_order",c),n("order_status_changed",l)}},[t,e,n]),{orders:s,setOrders:r,orderUpdates:i,connected:t,connectionError:t?null:"WebSocket disconnected"}}function DP(){const{connected:t,on:e,off:n}=Mp(),[s,r]=Q.useState([]);return Q.useEffect(()=>{if(!t)return;const a=c=>{console.log("New notification:",c),r(l=>[c,...l])},o=c=>{console.log("Order notification:",c),r(l=>[{id:Date.now(),title:"Order Update",message:c.message,type:c.type,isRead:!1,createdAt:new Date().toISOString(),...c},...l])};return e("notification",a),e("order_notification",o),()=>{n("notification",a),n("order_notification",o)}},[t,e,n]),{notifications:s,markAsRead:a=>{r(o=>o.map(c=>c.id===a?{...c,isRead:!0}:c))}}}function y$(t){const{connected:e,on:n,off:s,emit:r}=Mp(),[i,a]=Q.useState([]),[o,c]=Q.useState([]);return Q.useEffect(()=>{if(!e||!t)return;r("join_conversation",t);const p=f=>{console.log("New message:",f),a(v=>[...v,f])},y=f=>{c(v=>[...v.filter(h=>h.userId!==f.userId),f]),setTimeout(()=>{c(v=>v.filter(h=>h.userId!==f.userId))},3e3)},m=f=>{c(v=>v.filter(h=>h.userId!==f.userId))};return n("new_message",p),n("user_typing",y),n("user_stopped_typing",m),()=>{s("new_message",p),s("user_typing",y),s("user_stopped_typing",m)}},[e,t,n,s,r]),{messages:i,typing:o,sendMessage:(p,y="TEXT")=>{t&&e&&r("send_message",{conversationId:t,content:p,messageType:y})},startTyping:(p,y)=>{t&&e&&r("typing_start",{conversationId:t,userId:p,userName:y})},stopTyping:p=>{t&&e&&r("typing_stop",{conversationId:t,userId:p})}}}const v$=g$,b$=DP,x$=y$,w$="/api";async function re(t,e={}){try{const n=await fetch(`${w$}${t}`,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e}),s=await n.json();if(!n.ok)throw new Error(s.message||`HTTP ${n.status}: Request failed`);return s}catch(n){if(console.error(`API Error (${t}):`,n),t!=="/analytics/log-error")try{await fetch("/api/analytics/log-error",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:t,error:n.message,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href})})}catch(s){console.error("Failed to log error:",s)}return{success:!1,error:n.message||"Network error occurred"}}}class S${constructor(){C(this,"ws",null);C(this,"reconnectAttempts",0);C(this,"maxReconnectAttempts",5);C(this,"listeners",new Map)}connect(){const n=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}`;this.ws=new WebSocket(n),this.ws.onopen=()=>{console.log("WebSocket connected"),this.reconnectAttempts=0},this.ws.onmessage=s=>{try{const r=JSON.parse(s.data);this.emit(r.type,r.payload)}catch(r){console.error("WebSocket message parsing error:",r)}},this.ws.onclose=()=>{console.log("WebSocket disconnected"),this.reconnect()},this.ws.onerror=s=>{console.error("WebSocket error:",s)}}reconnect(){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,setTimeout(()=>this.connect(),1e3*this.reconnectAttempts))}on(e,n){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(n)}emit(e,n){(this.listeners.get(e)||[]).forEach(r=>r(n))}disconnect(){this.ws&&(this.ws.close(),this.ws=null)}}const Vt=new S$,FP={login:async t=>{const e=await re("/auth/login",{method:"POST",body:JSON.stringify(t)});return e.success&&Vt.connect(),e},register:async t=>{const e=await re("/auth/register",{method:"POST",body:JSON.stringify(t)});return e.success&&Vt.connect(),e},logout:async()=>{const t=await re("/auth/logout",{method:"POST"});return Vt.disconnect(),t},getCurrentUser:()=>re("/auth/me"),verifyOtp:t=>re("/auth/verify-otp",{method:"POST",body:JSON.stringify(t)}),resendOtp:t=>re("/auth/resend-otp",{method:"POST",body:JSON.stringify({phone:t})}),validateSession:()=>re("/auth/validate-session")},_$={getStatus:()=>re("/verification-enhanced/status"),uploadDocument:async t=>(await fetch("/api/verification-enhanced/documents/upload",{method:"POST",credentials:"include",body:t})).json(),verifyBiometric:t=>re("/verification-enhanced/biometric/verify",{method:"POST",body:JSON.stringify(t)}),submitKyc:t=>re("/verification-enhanced/kyc/enhanced",{method:"POST",body:JSON.stringify(t)}),subscribeToUpdates:t=>{Vt.on("verification_update",t)}},E$={getStatus:()=>re("/mfa/status"),setup:t=>re("/mfa/setup",{method:"POST",body:JSON.stringify(t)}),generateToken:t=>re("/mfa/generate-token",{method:"POST",body:JSON.stringify(t)}),verify:t=>re("/mfa/verify",{method:"POST",body:JSON.stringify(t)}),disable:t=>re("/mfa/disable",{method:"POST",body:JSON.stringify({confirmationToken:t})})},k$={initializePayment:t=>re("/payments/initialize",{method:"POST",body:JSON.stringify(t)}),verifyPayment:t=>re(`/payments/verify/${t}`),getPaymentMethods:()=>re("/payments/methods"),addPaymentMethod:t=>re("/payments/methods",{method:"POST",body:JSON.stringify(t)}),deletePaymentMethod:t=>re(`/payments/methods/${t}`,{method:"DELETE"}),subscribeToPaymentUpdates:t=>{Vt.on("payment_update",t)}},C$={getBalance:()=>re("/wallet/balance"),getTransactions:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,s])=>{s!==void 0&&e.append(n,s.toString())}),re(`/wallet/transactions?${e}`)},fundWallet:t=>re("/wallet/fund",{method:"POST",body:JSON.stringify({amount:t})}),withdraw:t=>re("/withdrawal/initiate",{method:"POST",body:JSON.stringify(t)}),transfer:t=>re("/wallet/transfer",{method:"POST",body:JSON.stringify(t)}),subscribeToWalletUpdates:t=>{Vt.on("wallet_update",t)}},A$={getOrders:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,s])=>{s!==void 0&&e.append(n,s.toString())}),re(`/orders?${e}`)},getOrder:t=>re(`/orders/${t}`),createOrder:t=>re("/orders",{method:"POST",body:JSON.stringify(t)}),updateOrderStatus:(t,e,n)=>re(`/orders/${t}/status`,{method:"PUT",body:JSON.stringify({status:e,location:n})}),cancelOrder:(t,e)=>re(`/orders/${t}/cancel`,{method:"PUT",body:JSON.stringify({reason:e})}),subscribeToOrderUpdates:(t,e)=>{Vt.on(`order_${t}_update`,e)},bulkUpdateOrders:t=>re("/orders/bulk-update",{method:"PUT",body:JSON.stringify({updates:t})})},T$={getProducts:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,s])=>{s!==void 0&&e.append(n,s.toString())}),re(`/products?${e}`)},getProduct:t=>re(`/products/${t}`),getCategories:()=>re("/products/categories"),createProduct:t=>re("/products",{method:"POST",body:JSON.stringify(t)}),updateProduct:(t,e)=>re(`/products/${t}`,{method:"PUT",body:JSON.stringify(e)}),deleteProduct:t=>re(`/products/${t}`,{method:"DELETE"}),subscribeToInventoryUpdates:(t,e)=>{Vt.on(`product_${t}_inventory`,e)}},N$={updateLocation:t=>re("/drivers/location/update",{method:"POST",body:JSON.stringify({...t,timestamp:new Date().toISOString()})}),toggleAvailability:()=>re("/drivers/availability/toggle",{method:"POST"}),getActiveOrders:()=>re("/drivers/orders/active"),acceptOrder:t=>re(`/drivers/orders/${t}/accept`,{method:"POST"}),completeDelivery:(t,e)=>re(`/drivers/orders/${t}/complete`,{method:"POST",body:JSON.stringify(e)}),getEarnings:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,s])=>{s!==void 0&&e.append(n,s.toString())}),re(`/drivers/earnings?${e}`)},subscribeToDriverUpdates:t=>{Vt.on("driver_update",t)},getPerformanceMetrics:()=>re("/drivers/performance")},R$={getOrderTracking:t=>re(`/tracking/order/${t}`),getDriverLocation:t=>re(`/tracking/driver/${t}`),updateDeliveryStatus:(t,e,n)=>re(`/tracking/order/${t}/status`,{method:"POST",body:JSON.stringify({status:e,location:n,timestamp:new Date().toISOString()})}),subscribeToOrderTracking:(t,e)=>{Vt.on(`tracking_${t}`,e)},subscribeToDriverTracking:(t,e)=>{Vt.on(`driver_location_${t}`,e)},getMultipleOrderTracking:t=>re("/tracking/orders/batch",{method:"POST",body:JSON.stringify({orderIds:t})})},O$={createTicket:t=>{var n;const e=new FormData;return e.append("subject",t.subject),e.append("message",t.message),t.priority&&e.append("priority",t.priority),t.category&&e.append("category",t.category),(n=t.attachments)==null||n.forEach((s,r)=>{e.append(`attachment_${r}`,s)}),fetch("/api/support/tickets",{method:"POST",credentials:"include",body:e}).then(s=>s.json())},getTickets:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,s])=>{s!==void 0&&e.append(n,s.toString())}),re(`/support/tickets?${e}`)},getTicket:t=>re(`/support/tickets/${t}`),addResponse:(t,e,n)=>{const s=new FormData;return s.append("message",e),n==null||n.forEach((r,i)=>{s.append(`attachment_${i}`,r)}),fetch(`/api/support/tickets/${t}/responses`,{method:"POST",credentials:"include",body:s}).then(r=>r.json())},subscribeToTicketUpdates:(t,e)=>{Vt.on(`ticket_${t}_update`,e)}},P$={getNotifications:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,s])=>{s!==void 0&&e.append(n,s.toString())}),re(`/notifications?${e}`)},markAsRead:t=>re(`/notifications/${t}/read`,{method:"PUT"}),markAllAsRead:()=>re("/notifications/read-all",{method:"PUT"}),deleteNotification:t=>re(`/notifications/${t}`,{method:"DELETE"}),subscribeToNotifications:t=>{Vt.on("new_notification",t)},getPreferences:()=>re("/notifications/preferences"),updatePreferences:t=>re("/notifications/preferences",{method:"PUT",body:JSON.stringify(t)})},I$={getDashboardStats:t=>{const e=t?`?timeRange=${t}`:"";return re(`/analytics/dashboard${e}`)},getOrderStats:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,s])=>{s!==void 0&&e.append(n,s.toString())}),re(`/analytics/orders?${e}`)},getRevenueStats:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,s])=>{s!==void 0&&e.append(n,s.toString())}),re(`/analytics/revenue?${e}`)},getCustomerStats:()=>re("/analytics/customers"),getPopularProducts:t=>re(`/analytics/products/popular${t?`?limit=${t}`:""}`),subscribeToAnalytics:t=>{Vt.on("analytics_update",t)},getPerformanceMetrics:()=>re("/analytics/performance"),customQuery:t=>re("/analytics/custom",{method:"POST",body:JSON.stringify(t)})},j$={getStations:t=>{const e=t?`?lat=${t.lat}&lng=${t.lng}&radius=${t.radius||5}`:"";return re(`/fuel/stations${e}`)},createFuelOrder:t=>re("/fuel/orders",{method:"POST",body:JSON.stringify(t)}),getFuelOrders:()=>re("/fuel/orders"),getFuelOrder:t=>re(`/fuel/orders/${t}`),cancelFuelOrder:t=>re(`/fuel/orders/${t}/cancel`,{method:"PUT"})},M$={getTollGates:t=>t?re("/toll/gates/route",{method:"POST",body:JSON.stringify(t)}):re("/toll/gates"),calculateTollFee:t=>re("/toll/calculate",{method:"POST",body:JSON.stringify(t)}),payToll:t=>re("/toll/pay",{method:"POST",body:JSON.stringify(t)}),getTollHistory:()=>re("/toll/history")};typeof window<"u"&&FP.getCurrentUser().then(t=>{t.success&&Vt.connect()});const D$={auth:FP,verification:_$,mfa:E$,payment:k$,wallet:C$,order:A$,product:T$,driver:N$,tracking:R$,support:O$,notification:P$,analytics:I$,fuel:j$,toll:M$,wsManager:Vt,getDashboardData:()=>re("/dashboard")};function F$(){var m,f;const[,t]=Gi(),{user:e,logout:n,loading:s}=Ao(),{connected:r}=Mp(),{notifications:i}=DP(),[a,o]=Q.useState(null),[c,l]=Q.useState(!0),[u,d]=Q.useState(null);Q.useEffect(()=>{if(!e){t("/signin");return}(async()=>{l(!0),d(null);try{const h=await D$.getDashboardData();h.success&&h.data?o(h.data):d(h.error||"Failed to load dashboard data")}catch(h){d("Failed to load dashboard data"),console.error("Dashboard error:",h)}finally{l(!1)}})()},[e,t]);const p=()=>{e&&(e.role==="CONSUMER"?t("/consumer-home"):e.role==="MERCHANT"?t("/merchant-dashboard"):e.role==="DRIVER"&&t("/driver-dashboard"))},y=()=>!(a!=null&&a.recentActivity)||a.recentActivity.length===0?S.jsx("p",{className:"text-gray-500",children:"No recent activity."}):a.recentActivity.map(v=>S.jsxs("div",{className:"flex items-center justify-between mb-3 last:mb-0",children:[S.jsxs("div",{className:"flex items-center",children:[v.type==="order"&&S.jsx(CF,{className:"h-5 w-5 text-blue-500 mr-2"}),v.type==="payment"&&S.jsx(eg,{className:"h-5 w-5 text-green-500 mr-2"}),v.type==="delivery"&&S.jsx(ZN,{className:"h-5 w-5 text-yellow-500 mr-2"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.description}),S.jsx("p",{className:"text-xs text-gray-500",children:v.time})]})]}),v.type==="order"&&S.jsx(er,{variant:"outline",children:"New"}),v.type==="payment"&&S.jsx(er,{variant:"secondary",children:"Completed"}),v.type==="delivery"&&S.jsx(er,{variant:"outline",children:"Pending"})]},v.id));return S.jsx("div",{className:"w-full min-h-screen bg-gray-50 p-6",children:S.jsxs(ks,{className:"w-full max-w-xl mx-auto shadow-lg",children:[S.jsxs(ja,{className:"flex flex-row items-center justify-between bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-t-lg p-6",children:[S.jsxs("div",{className:"flex items-center",children:[S.jsx(OF,{className:"h-8 w-8 mr-4"}),S.jsxs("div",{children:[S.jsx(Ma,{className:"text-2xl font-bold",children:(e==null?void 0:e.name)||"Dashboard"}),S.jsx(wP,{className:"text-blue-100",children:(e==null?void 0:e.role)||"User"})]})]}),S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx(er,{variant:"outline",className:"text-white border-white",children:r?"Online":"Offline"}),S.jsxs(Le,{variant:"ghost",className:"text-white hover:text-blue-200 p-0",onClick:()=>t("/notifications"),children:[S.jsx(XN,{className:"h-6 w-6"}),i.length>0&&S.jsx("span",{className:"ml-1 bg-red-500 text-white rounded-full px-2 py-0.5 text-xs",children:i.length})]}),S.jsx(Le,{variant:"ghost",className:"text-white hover:text-red-300 p-0",onClick:n,children:S.jsx(AF,{className:"h-6 w-6"})})]})]}),S.jsxs(cs,{className:"p-6",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsxs("p",{className:"text-lg text-gray-700 mb-1",children:["Welcome back, ",(e==null?void 0:e.name)||"Valued User","!"]}),S.jsx("p",{className:"text-sm text-gray-500",children:"Your financial hub."})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[S.jsxs(ks,{className:"border-gray-200",children:[S.jsxs(ja,{className:"flex flex-row items-center justify-between pb-2",children:[S.jsx(Ma,{className:"text-base font-normal text-muted-foreground",children:"Total Orders"}),S.jsx(TF,{className:"h-4 w-4 text-muted-foreground"})]}),S.jsxs(cs,{children:[c?S.jsx("p",{className:"text-2xl font-bold",children:"Loading..."}):u?S.jsx("p",{className:"text-2xl font-bold text-red-600",children:"Error"}):S.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.stats.totalOrders)??0}),S.jsxs("p",{className:"text-xs text-muted-foreground",children:[(a==null?void 0:a.stats.pendingOrders)??0," pending"]})]})]}),S.jsxs(ks,{className:"border-gray-200",children:[S.jsxs(ja,{className:"flex flex-row items-center justify-between pb-2",children:[S.jsx(Ma,{className:"text-base font-normal text-muted-foreground",children:(e==null?void 0:e.role)==="MERCHANT"?"Total Earnings":(e==null?void 0:e.role)==="DRIVER"?"Total Earned":"Total Spent"}),S.jsx(RF,{className:"h-4 w-4 text-muted-foreground"})]}),S.jsxs(cs,{children:[c?S.jsx("p",{className:"text-2xl font-bold",children:"Loading..."}):u?S.jsx("p",{className:"text-2xl font-bold text-red-600",children:"Error"}):S.jsxs("p",{className:"text-2xl font-bold",children:["$",((m=a==null?void 0:a.stats.totalEarnings)==null?void 0:m.toLocaleString())??((f=a==null?void 0:a.stats.totalSpent)==null?void 0:f.toLocaleString())??0]}),S.jsx("p",{className:"text-xs text-muted-foreground",children:(e==null?void 0:e.role)==="MERCHANT"?`${(a==null?void 0:a.stats.completedOrders)??0} completed`:""})]})]}),S.jsxs(ks,{className:"border-gray-200",children:[S.jsxs(ja,{className:"flex flex-row items-center justify-between pb-2",children:[S.jsx(Ma,{className:"text-base font-normal text-muted-foreground",children:"Payment Status"}),S.jsx(eg,{className:"h-4 w-4 text-muted-foreground"})]}),S.jsxs(cs,{children:[c?S.jsx("p",{className:"text-2xl font-bold",children:"Loading..."}):u?S.jsx("p",{className:"text-2xl font-bold text-red-600",children:"Error"}):S.jsx("p",{className:`text-2xl font-bold ${(a==null?void 0:a.stats.pendingOrders)??!1?"text-yellow-600":"text-green-600"}`,children:(a==null?void 0:a.stats.pendingOrders)??!1?"Pending":"Cleared"}),S.jsxs("p",{className:"text-xs text-muted-foreground",children:[(a==null?void 0:a.stats.pendingOrders)??0," pending"]})]})]})]}),S.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Recent Activity"}),c?S.jsx("div",{className:"flex justify-center items-center h-20",children:S.jsx("p",{className:"text-gray-600",children:"Loading activity..."})}):u?S.jsxs("div",{className:"flex flex-col justify-center items-center h-20",children:[S.jsx(xF,{className:"h-6 w-6 text-red-500 mb-2"}),S.jsx("p",{className:"text-red-600",children:"Error loading activity."})]}):y()]}),S.jsx("div",{className:"mt-8",children:S.jsxs(Le,{className:"w-full py-3 px-4 rounded-lg text-lg",onClick:p,disabled:s||c,children:["Go to ",(e==null?void 0:e.role)||"Main"," Dashboard"]})})]})]})})}var Eg={exports:{}};const L$={},B$=Object.freeze(Object.defineProperty({__proto__:null,default:L$},Symbol.toStringTag,{value:"Module"})),se=cp(B$);var Rv={exports:{}},Ov={exports:{}};Ov.exports=LP;Ov.exports.preferredCharsets=LP;var $$=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function z$(t){for(var e=t.split(","),n=0,s=0;n<e.length;n++){var r=U$(e[n].trim(),n);r&&(e[s++]=r)}return e.length=s,e}function U$(t,e){var n=$$.exec(t);if(!n)return null;var s=n[1],r=1;if(n[2])for(var i=n[2].split(";"),a=0;a<i.length;a++){var o=i[a].trim().split("=");if(o[0]==="q"){r=parseFloat(o[1]);break}}return{charset:s,q:r,i:e}}function q$(t,e,n){for(var s={o:-1,q:0,s:0},r=0;r<e.length;r++){var i=Q$(t,e[r],n);i&&(s.s-i.s||s.q-i.q||s.o-i.o)<0&&(s=i)}return s}function Q$(t,e,n){var s=0;if(e.charset.toLowerCase()===t.toLowerCase())s|=1;else if(e.charset!=="*")return null;return{i:n,o:e.i,q:e.q,s}}function LP(t,e){var n=z$(t===void 0?"*":t||"");if(!e)return n.filter($x).sort(Bx).map(V$);var s=e.map(function(i,a){return q$(i,n,a)});return s.filter($x).sort(Bx).map(function(i){return e[s.indexOf(i)]})}function Bx(t,e){return e.q-t.q||e.s-t.s||t.o-e.o||t.i-e.i||0}function V$(t){return t.charset}function $x(t){return t.q>0}var H$=Ov.exports,Pv={exports:{}};Pv.exports=$P;Pv.exports.preferredEncodings=$P;var G$=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function W$(t){for(var e=t.split(","),n=!1,s=1,r=0,i=0;r<e.length;r++){var a=K$(e[r].trim(),r);a&&(e[i++]=a,n=n||BP("identity",a),s=Math.min(s,a.q||1))}return n||(e[i++]={encoding:"identity",q:s,i:r}),e.length=i,e}function K$(t,e){var n=G$.exec(t);if(!n)return null;var s=n[1],r=1;if(n[2])for(var i=n[2].split(";"),a=0;a<i.length;a++){var o=i[a].trim().split("=");if(o[0]==="q"){r=parseFloat(o[1]);break}}return{encoding:s,q:r,i:e}}function Y$(t,e,n){for(var s={o:-1,q:0,s:0},r=0;r<e.length;r++){var i=BP(t,e[r],n);i&&(s.s-i.s||s.q-i.q||s.o-i.o)<0&&(s=i)}return s}function BP(t,e,n){var s=0;if(e.encoding.toLowerCase()===t.toLowerCase())s|=1;else if(e.encoding!=="*")return null;return{i:n,o:e.i,q:e.q,s}}function $P(t,e){var n=W$(t||"");if(!e)return n.filter(Ux).sort(zx).map(J$);var s=e.map(function(i,a){return Y$(i,n,a)});return s.filter(Ux).sort(zx).map(function(i){return e[s.indexOf(i)]})}function zx(t,e){return e.q-t.q||e.s-t.s||t.o-e.o||t.i-e.i||0}function J$(t){return t.encoding}function Ux(t){return t.q>0}var X$=Pv.exports,Iv={exports:{}};Iv.exports=UP;Iv.exports.preferredLanguages=UP;var Z$=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function ez(t){for(var e=t.split(","),n=0,s=0;n<e.length;n++){var r=zP(e[n].trim(),n);r&&(e[s++]=r)}return e.length=s,e}function zP(t,e){var n=Z$.exec(t);if(!n)return null;var s=n[1],r=n[2],i=s;r&&(i+="-"+r);var a=1;if(n[3])for(var o=n[3].split(";"),c=0;c<o.length;c++){var l=o[c].split("=");l[0]==="q"&&(a=parseFloat(l[1]))}return{prefix:s,suffix:r,q:a,i:e,full:i}}function tz(t,e,n){for(var s={o:-1,q:0,s:0},r=0;r<e.length;r++){var i=nz(t,e[r],n);i&&(s.s-i.s||s.q-i.q||s.o-i.o)<0&&(s=i)}return s}function nz(t,e,n){var s=zP(t);if(!s)return null;var r=0;if(e.full.toLowerCase()===s.full.toLowerCase())r|=4;else if(e.prefix.toLowerCase()===s.full.toLowerCase())r|=2;else if(e.full.toLowerCase()===s.prefix.toLowerCase())r|=1;else if(e.full!=="*")return null;return{i:n,o:e.i,q:e.q,s:r}}function UP(t,e){var n=ez(t===void 0?"*":t||"");if(!e)return n.filter(Qx).sort(qx).map(sz);var s=e.map(function(i,a){return tz(i,n,a)});return s.filter(Qx).sort(qx).map(function(i){return e[s.indexOf(i)]})}function qx(t,e){return e.q-t.q||e.s-t.s||t.o-e.o||t.i-e.i||0}function sz(t){return t.full}function Qx(t){return t.q>0}var rz=Iv.exports,jv={exports:{}};jv.exports=QP;jv.exports.preferredMediaTypes=QP;var iz=/^\s*([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/;function az(t){for(var e=dz(t),n=0,s=0;n<e.length;n++){var r=qP(e[n].trim(),n);r&&(e[s++]=r)}return e.length=s,e}function qP(t,e){var n=iz.exec(t);if(!n)return null;var s=Object.create(null),r=1,i=n[2],a=n[1];if(n[3])for(var o=pz(n[3]).map(uz),c=0;c<o.length;c++){var l=o[c],u=l[0].toLowerCase(),d=l[1],p=d&&d[0]==='"'&&d[d.length-1]==='"'?d.substr(1,d.length-2):d;if(u==="q"){r=parseFloat(p);break}s[u]=p}return{type:a,subtype:i,params:s,q:r,i:e}}function oz(t,e,n){for(var s={o:-1,q:0,s:0},r=0;r<e.length;r++){var i=cz(t,e[r],n);i&&(s.s-i.s||s.q-i.q||s.o-i.o)<0&&(s=i)}return s}function cz(t,e,n){var s=qP(t),r=0;if(!s)return null;if(e.type.toLowerCase()==s.type.toLowerCase())r|=4;else if(e.type!="*")return null;if(e.subtype.toLowerCase()==s.subtype.toLowerCase())r|=2;else if(e.subtype!="*")return null;var i=Object.keys(e.params);if(i.length>0)if(i.every(function(a){return e.params[a]=="*"||(e.params[a]||"").toLowerCase()==(s.params[a]||"").toLowerCase()}))r|=1;else return null;return{i:n,o:e.i,q:e.q,s:r}}function QP(t,e){var n=az(t===void 0?"*/*":t||"");if(!e)return n.filter(Hx).sort(Vx).map(lz);var s=e.map(function(i,a){return oz(i,n,a)});return s.filter(Hx).sort(Vx).map(function(i){return e[s.indexOf(i)]})}function Vx(t,e){return e.q-t.q||e.s-t.s||t.o-e.o||t.i-e.i||0}function lz(t){return t.type+"/"+t.subtype}function Hx(t){return t.q>0}function VP(t){for(var e=0,n=0;(n=t.indexOf('"',n))!==-1;)e++,n++;return e}function uz(t){var e=t.indexOf("="),n,s;return e===-1?n=t:(n=t.substr(0,e),s=t.substr(e+1)),[n,s]}function dz(t){for(var e=t.split(","),n=1,s=0;n<e.length;n++)VP(e[s])%2==0?e[++s]=e[n]:e[s]+=","+e[n];return e.length=s+1,e}function pz(t){for(var e=t.split(";"),n=1,s=0;n<e.length;n++)VP(e[s])%2==0?e[++s]=e[n]:e[s]+=";"+e[n];e.length=s+1;for(var n=0;n<e.length;n++)e[n]=e[n].trim();return e}var fz=jv.exports;/*!
 * negotiator
 * Copyright(c) 2012 Federico Romero
 * Copyright(c) 2012-2014 Isaac Z. Schlueter
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var hz=H$,mz=X$,gz=rz,yz=fz;Rv.exports=Ve;Rv.exports.Negotiator=Ve;function Ve(t){if(!(this instanceof Ve))return new Ve(t);this.request=t}Ve.prototype.charset=function(e){var n=this.charsets(e);return n&&n[0]};Ve.prototype.charsets=function(e){return hz(this.request.headers["accept-charset"],e)};Ve.prototype.encoding=function(e){var n=this.encodings(e);return n&&n[0]};Ve.prototype.encodings=function(e){return mz(this.request.headers["accept-encoding"],e)};Ve.prototype.language=function(e){var n=this.languages(e);return n&&n[0]};Ve.prototype.languages=function(e){return gz(this.request.headers["accept-language"],e)};Ve.prototype.mediaType=function(e){var n=this.mediaTypes(e);return n&&n[0]};Ve.prototype.mediaTypes=function(e){return yz(this.request.headers.accept,e)};Ve.prototype.preferredCharset=Ve.prototype.charset;Ve.prototype.preferredCharsets=Ve.prototype.charsets;Ve.prototype.preferredEncoding=Ve.prototype.encoding;Ve.prototype.preferredEncodings=Ve.prototype.encodings;Ve.prototype.preferredLanguage=Ve.prototype.language;Ve.prototype.preferredLanguages=Ve.prototype.languages;Ve.prototype.preferredMediaType=Ve.prototype.mediaType;Ve.prototype.preferredMediaTypes=Ve.prototype.mediaTypes;var vz=Rv.exports,HP={};const bz={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */var xz=bz;/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */(function(t){var e=xz,n=se.extname,s=/^\s*([^;\s]*)(?:;|\s|$)/,r=/^text\//i;t.charset=i,t.charsets={lookup:i},t.contentType=a,t.extension=o,t.extensions=Object.create(null),t.lookup=c,t.types=Object.create(null),l(t.extensions,t.types);function i(u){if(!u||typeof u!="string")return!1;var d=s.exec(u),p=d&&e[d[1].toLowerCase()];return p&&p.charset?p.charset:d&&r.test(d[1])?"UTF-8":!1}function a(u){if(!u||typeof u!="string")return!1;var d=u.indexOf("/")===-1?t.lookup(u):u;if(!d)return!1;if(d.indexOf("charset")===-1){var p=t.charset(d);p&&(d+="; charset="+p.toLowerCase())}return d}function o(u){if(!u||typeof u!="string")return!1;var d=s.exec(u),p=d&&t.extensions[d[1].toLowerCase()];return!p||!p.length?!1:p[0]}function c(u){if(!u||typeof u!="string")return!1;var d=n("x."+u).toLowerCase().substr(1);return d&&t.types[d]||!1}function l(u,d){var p=["nginx","apache",void 0,"iana"];Object.keys(e).forEach(function(m){var f=e[m],v=f.extensions;if(!(!v||!v.length)){u[m]=v;for(var h=0;h<v.length;h++){var b=v[h];if(d[b]){var g=p.indexOf(e[d[b]].source),x=p.indexOf(f.source);if(d[b]!=="application/octet-stream"&&(g>x||g===x&&d[b].substr(0,12)==="application/"))continue}d[b]=m}}})}})(HP);/*!
 * accepts
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var wz=vz,Sz=HP,Mv=kn;function kn(t){if(!(this instanceof kn))return new kn(t);this.headers=t.headers,this.negotiator=new wz(t)}kn.prototype.type=kn.prototype.types=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;n++)e[n]=arguments[n]}if(!e||e.length===0)return this.negotiator.mediaTypes();if(!this.headers.accept)return e[0];var s=e.map(_z),r=this.negotiator.mediaTypes(s.filter(Ez)),i=r[0];return i?e[s.indexOf(i)]:!1};kn.prototype.encoding=kn.prototype.encodings=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;n++)e[n]=arguments[n]}return!e||e.length===0?this.negotiator.encodings():this.negotiator.encodings(e)[0]||!1};kn.prototype.charset=kn.prototype.charsets=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;n++)e[n]=arguments[n]}return!e||e.length===0?this.negotiator.charsets():this.negotiator.charsets(e)[0]||!1};kn.prototype.lang=kn.prototype.langs=kn.prototype.language=kn.prototype.languages=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;n++)e[n]=arguments[n]}return!e||e.length===0?this.negotiator.languages():this.negotiator.languages(e)[0]||!1};function _z(t){return t.indexOf("/")===-1?Sz.lookup(t):t}function Ez(t){return typeof t=="string"}var GP={},na={},WP={exports:{}};/*!
 * base64id v0.1.0
 */(function(t,e){var n=se,s=function(){};s.prototype.getRandomBytes=function(r){var i=4096,a=this;if(r=r||12,r>i)return n.randomBytes(r);var o=parseInt(i/r),c=parseInt(o*.85);if(!c||(this.bytesBufferIndex==null&&(this.bytesBufferIndex=-1),this.bytesBufferIndex==o&&(this.bytesBuffer=null,this.bytesBufferIndex=-1),(this.bytesBufferIndex==-1||this.bytesBufferIndex>c)&&(this.isGeneratingBytes||(this.isGeneratingBytes=!0,n.randomBytes(i,function(u,d){a.bytesBuffer=d,a.bytesBufferIndex=0,a.isGeneratingBytes=!1})),this.bytesBufferIndex==-1)))return n.randomBytes(r);var l=this.bytesBuffer.slice(r*this.bytesBufferIndex,r*(this.bytesBufferIndex+1));return this.bytesBufferIndex++,l},s.prototype.generateId=function(){var r=Buffer.alloc(15);return r.writeInt32BE?(this.sequenceNumber=this.sequenceNumber+1|0,r.writeInt32BE(this.sequenceNumber,11),n.randomBytes?this.getRandomBytes(12).copy(r):[0,4,8].forEach(function(i){r.writeInt32BE(Math.random()*Math.pow(2,32)|0,i)}),r.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")):Math.abs(Math.random()*Math.random()*Date.now()|0).toString()+Math.abs(Math.random()*Math.random()*Date.now()|0).toString()},t.exports=new s})(WP);var KP=WP.exports,Dp={},kl={},pr={},YP={};/*! https://mths.be/utf8js v2.1.2 by @mathias */var Tr=String.fromCharCode;function JP(t){for(var e=[],n=0,s=t.length,r,i;n<s;)r=t.charCodeAt(n++),r>=55296&&r<=56319&&n<s?(i=t.charCodeAt(n++),(i&64512)==56320?e.push(((r&1023)<<10)+(i&1023)+65536):(e.push(r),n--)):e.push(r);return e}function kz(t){for(var e=t.length,n=-1,s,r="";++n<e;)s=t[n],s>65535&&(s-=65536,r+=Tr(s>>>10&1023|55296),s=56320|s&1023),r+=Tr(s);return r}function XP(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function ph(t,e){return Tr(t>>e&63|128)}function Cz(t,e){if(!(t&4294967168))return Tr(t);var n="";return t&4294965248?t&4294901760?t&4292870144||(n=Tr(t>>18&7|240),n+=ph(t,12),n+=ph(t,6)):(XP(t,e)||(t=65533),n=Tr(t>>12&15|224),n+=ph(t,6)):n=Tr(t>>6&31|192),n+=Tr(t&63|128),n}function Az(t,e){e=e||{};for(var n=e.strict!==!1,s=JP(t),r=s.length,i=-1,a,o="";++i<r;)a=s[i],o+=Cz(a,n);return o}function pa(){if(zr>=Qd)throw Error("Invalid byte index");var t=qd[zr]&255;if(zr++,(t&192)==128)return t&63;throw Error("Invalid continuation byte")}function Tz(t){var e,n,s,r,i;if(zr>Qd)throw Error("Invalid byte index");if(zr==Qd)return!1;if(e=qd[zr]&255,zr++,!(e&128))return e;if((e&224)==192){if(n=pa(),i=(e&31)<<6|n,i>=128)return i;throw Error("Invalid continuation byte")}if((e&240)==224){if(n=pa(),s=pa(),i=(e&15)<<12|n<<6|s,i>=2048)return XP(i,t)?i:65533;throw Error("Invalid continuation byte")}if((e&248)==240&&(n=pa(),s=pa(),r=pa(),i=(e&7)<<18|n<<12|s<<6|r,i>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}var qd,Qd,zr;function Nz(t,e){e=e||{};var n=e.strict!==!1;qd=JP(t),Qd=qd.length,zr=0;for(var s=[],r;(r=Tz(n))!==!1;)s.push(r);return kz(s)}var Rz={version:"2.1.2",encode:Az,decode:Nz};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.packets=t.protocol=void 0,t.encodePacket=a,t.encodeBase64Packet=c,t.decodePacket=l,t.decodeBase64Packet=d,t.encodePayload=p,t.decodePayload=f,t.encodePayloadAsBinary=g,t.decodePayloadAsBinary=k;var e=Rz;t.protocol=3;const n=_=>{for(const w of _)if(w.data instanceof ArrayBuffer||ArrayBuffer.isView(w.data))return!0;return!1};t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6};var s=Object.keys(t.packets),r={type:"error",data:"parser error"};const i=Buffer.concat([]);function a(_,w,E,T){if(typeof w=="function"&&(T=w,w=null),typeof E=="function"&&(T=E,E=null),Buffer.isBuffer(_.data))return o(_,w,T);if(_.data&&(_.data.buffer||_.data)instanceof ArrayBuffer)return o({type:_.type,data:b(_.data)},w,T);var I=t.packets[_.type];return _.data!==void 0&&(I+=E?e.encode(String(_.data),{strict:!1}):String(_.data)),T(""+I)}function o(_,w,E){if(!w)return c(_,E);var T=_.data,I=Buffer.allocUnsafe(1);return I[0]=t.packets[_.type],E(Buffer.concat([I,T]))}function c(_,w){var E=Buffer.isBuffer(_.data)?_.data:b(_.data),T="b"+t.packets[_.type];return T+=E.toString("base64"),w(T)}function l(_,w,E){if(_===void 0)return r;var T;if(typeof _=="string")return T=_.charAt(0),T==="b"?d(_.slice(1),w):E&&(_=u(_),_===!1)||Number(T)!=T||!s[T]?r:_.length>1?{type:s[T],data:_.slice(1)}:{type:s[T]};if(w==="arraybuffer"){var I=new Uint8Array(_);return T=I[0],{type:s[T],data:I.buffer.slice(1)}}return _ instanceof ArrayBuffer&&(_=b(_)),T=_[0],{type:s[T],data:_.slice(1)}}function u(_){try{_=e.decode(_,{strict:!1})}catch{return!1}return _}function d(_,w){var E=s[_.charAt(0)],T=Buffer.from(_.slice(1),"base64");if(w==="arraybuffer"){for(var I=new Uint8Array(T.length),L=0;L<I.length;L++)I[L]=T[L];T=I.buffer}return{type:E,data:T}}function p(_,w,E){if(typeof w=="function"&&(E=w,w=null),w&&n(_))return g(_,E);if(!_.length)return E("0:");function T(I,L){a(I,w,!1,function(q){L(null,y(q))})}m(_,T,function(I,L){return E(L.join(""))})}function y(_){return _.length+":"+_}function m(_,w,E){const T=new Array(_.length);let I=0;for(let L=0;L<_.length;L++)w(_[L],(q,F)=>{T[L]=F,++I===_.length&&E(null,T)})}function f(_,w,E){if(typeof _!="string")return k(_,w,E);if(typeof w=="function"&&(E=w,w=null),_==="")return E(r,0,1);for(var T="",I,L,q,F=0,A=_.length;F<A;F++){var N=_.charAt(F);if(N!==":"){T+=N;continue}if(T===""||T!=(I=Number(T))||(L=_.slice(F+1,F+1+I),T!=L.length))return E(r,0,1);if(L.length){if(q=l(L,w,!1),r.type===q.type&&r.data===q.data)return E(r,0,1);var B=E(q,F+I,A);if(B===!1)return}F+=I,T=""}if(T!=="")return E(r,0,1)}function v(_){for(var w="",E=0,T=_.length;E<T;E++)w+=String.fromCharCode(_[E]);return w}function h(_){for(var w=Buffer.allocUnsafe(_.length),E=0,T=_.length;E<T;E++)w.writeUInt8(_.charCodeAt(E),E);return w}function b(_){var w=_.byteLength||_.length,E=_.byteOffset||0;return Buffer.from(_.buffer||_,E,w)}function g(_,w){if(!_.length)return w(i);m(_,x,function(E,T){return w(Buffer.concat(T))})}function x(_,w){function E(T){var I=""+T.length,L;if(typeof T=="string"){L=Buffer.allocUnsafe(I.length+2),L[0]=0;for(var q=0;q<I.length;q++)L[q+1]=parseInt(I[q],10);return L[L.length-1]=255,w(null,Buffer.concat([L,h(T)]))}L=Buffer.allocUnsafe(I.length+2),L[0]=1;for(var q=0;q<I.length;q++)L[q+1]=parseInt(I[q],10);L[L.length-1]=255,w(null,Buffer.concat([L,T]))}a(_,!0,!0,E)}function k(_,w,E){typeof w=="function"&&(E=w,w=null);for(var T=_,I=[],L;T.length>0;){var q="",F=T[0]===0;for(L=1;T[L]!==255;L++){if(q.length>310)return E(r,0,1);q+=""+T[L]}T=T.slice(q.length+1);var A=parseInt(q,10),N=T.slice(1,A+1);F&&(N=v(N)),I.push(N),T=T.slice(A+1)}var B=I.length;for(L=0;L<B;L++){var O=I[L];E(l(O,w,!0),L,B)}}})(YP);var kg={exports:{}},yo=1e3,vo=yo*60,bo=vo*60,sa=bo*24,Oz=sa*7,Pz=sa*365.25,Fp=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Iz(t);if(n==="number"&&isFinite(t))return e.long?Mz(t):jz(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Iz(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),s=(e[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return n*Pz;case"weeks":case"week":case"w":return n*Oz;case"days":case"day":case"d":return n*sa;case"hours":case"hour":case"hrs":case"hr":case"h":return n*bo;case"minutes":case"minute":case"mins":case"min":case"m":return n*vo;case"seconds":case"second":case"secs":case"sec":case"s":return n*yo;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function jz(t){var e=Math.abs(t);return e>=sa?Math.round(t/sa)+"d":e>=bo?Math.round(t/bo)+"h":e>=vo?Math.round(t/vo)+"m":e>=yo?Math.round(t/yo)+"s":t+"ms"}function Mz(t){var e=Math.abs(t);return e>=sa?uu(t,e,sa,"day"):e>=bo?uu(t,e,bo,"hour"):e>=vo?uu(t,e,vo,"minute"):e>=yo?uu(t,e,yo,"second"):t+" ms"}function uu(t,e,n,s){var r=e>=n*1.5;return Math.round(t/n)+" "+s+(r?"s":"")}function Dz(t){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=r,n.enabled=a,n.humanize=Fp,n.destroy=l,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){let d,p=null,y,m;function f(...v){if(!f.enabled)return;const h=f,b=Number(new Date),g=b-(d||b);h.diff=g,h.prev=d,h.curr=b,d=b,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let x=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(_,w)=>{if(_==="%%")return"%";x++;const E=n.formatters[w];if(typeof E=="function"){const T=v[x];_=E.call(h,T),v.splice(x,1),x--}return _}),n.formatArgs.call(h,v),(h.log||n.log).apply(h,v)}return f.namespace=u,f.useColors=n.useColors(),f.color=n.selectColor(u),f.extend=s,f.destroy=n.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(y!==n.namespaces&&(y=n.namespaces,m=n.enabled(u)),m),set:v=>{p=v}}),typeof n.init=="function"&&n.init(f),f}function s(u,d){const p=n(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}function r(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let d;const p=(typeof u=="string"?u:"").split(/[\s,]+/),y=p.length;for(d=0;d<y;d++)p[d]&&(u=p[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...n.names.map(o),...n.skips.map(o).map(d=>"-"+d)].join(",");return n.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let d,p;for(d=0,p=n.skips.length;d<p;d++)if(n.skips[d].test(u))return!1;for(d=0,p=n.names.length;d<p;d++)if(n.names[d].test(u))return!0;return!1}function o(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Fz=Dz;(function(t,e){var n={};e.formatArgs=r,e.save=i,e.load=a,e.useColors=s,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,p=0;l[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(d++,y==="%c"&&(p=d))}),l.splice(p,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function a(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=n.DEBUG),l}function o(){try{return localStorage}catch{}}t.exports=Fz(e);const{formatters:c}=t.exports;c.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(kg,kg.exports);var fr=kg.exports;Object.defineProperty(pr,"__esModule",{value:!0});pr.Transport=void 0;const Lz=se,Bz=On,$z=YP,zz=fr,Gx=(0,zz.default)("engine:transport");function Uz(){}class qz extends Lz.EventEmitter{get readyState(){return this._readyState}set readyState(e){Gx("readyState updated from %s to %s (%s)",this._readyState,e,this.name),this._readyState=e}constructor(e){super(),this.writable=!1,this._readyState="open",this.discarded=!1,this.protocol=e._query.EIO==="4"?4:3,this.parser=this.protocol===4?Bz:$z,this.supportsBinary=!(e._query&&e._query.b64)}discard(){this.discarded=!0}onRequest(e){}close(e){this.readyState==="closed"||this.readyState==="closing"||(this.readyState="closing",this.doClose(e||Uz))}onError(e,n){if(this.listeners("error").length){const s=new Error(e);s.type="TransportError",s.description=n,this.emit("error",s)}else Gx("ignored transport error %s (%s)",e,n)}onPacket(e){this.emit("packet",e)}onData(e){this.onPacket(this.parser.decodePacket(e))}onClose(){this.readyState="closed",this.emit("close")}}pr.Transport=qz;Object.defineProperty(kl,"__esModule",{value:!0});kl.Polling=void 0;const Qz=pr,Wx=se,Vz=Mv,Hz=fr,xn=(0,Hz.default)("engine:polling"),Gz={gzip:Wx.createGzip,deflate:Wx.createDeflate};let Wz=class extends Qz.Transport{constructor(e){super(e),this.closeTimeout=30*1e3}get name(){return"polling"}onRequest(e){const n=e.res;e.res=null,e.method==="GET"?this.onPollRequest(e,n):e.method==="POST"?this.onDataRequest(e,n):(n.writeHead(500),n.end())}onPollRequest(e,n){if(this.req){xn("request overlap"),this.onError("overlap from client"),n.writeHead(400),n.end();return}xn("setting request"),this.req=e,this.res=n;const s=()=>{this.onError("poll connection closed prematurely")},r=()=>{e.removeListener("close",s),this.req=this.res=null};e.cleanup=r,e.on("close",s),this.writable=!0,this.emit("ready"),this.writable&&this.shouldClose&&(xn("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,n){if(this.dataReq){this.onError("data request overlap from client"),n.writeHead(400),n.end();return}const s=e.headers["content-type"]==="application/octet-stream";if(s&&this.protocol===4)return this.onError("invalid content");this.dataReq=e,this.dataRes=n;let r=s?Buffer.concat([]):"";const i=()=>{e.removeListener("data",o),e.removeListener("end",c),e.removeListener("close",a),this.dataReq=this.dataRes=r=null},a=()=>{i(),this.onError("data request connection closed prematurely")},o=l=>{let u;s?(r=Buffer.concat([r,l]),u=r.length):(r+=l,u=Buffer.byteLength(r)),u>this.maxHttpBufferSize&&(n.writeHead(413).end(),i())},c=()=>{this.onData(r);const l={"Content-Type":"text/html","Content-Length":"2"};n.writeHead(200,this.headers(e,l)),n.end("ok"),i()};e.on("close",a),s||e.setEncoding("utf8"),e.on("data",o),e.on("end",c)}onData(e){xn('received "%s"',e);const n=s=>{if(s.type==="close")return xn("got xhr close packet"),this.onClose(),!1;this.onPacket(s)};this.protocol===3?this.parser.decodePayload(e,n):this.parser.decodePayload(e).forEach(n)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(xn("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);const n=s=>{const r=e.some(i=>i.options&&i.options.compress);this.write(s,{compress:r})};this.protocol===3?this.parser.encodePayload(e,this.supportsBinary,n):this.parser.encodePayload(e,n)}write(e,n){xn('writing "%s"',e),this.doWrite(e,n,()=>{this.req.cleanup(),this.emit("drain")})}doWrite(e,n,s){const r=typeof e=="string",a={"Content-Type":r?"text/plain; charset=UTF-8":"application/octet-stream"},o=u=>{a["Content-Length"]=typeof u=="string"?Buffer.byteLength(u):u.length,this.res.writeHead(200,this.headers(this.req,a)),this.res.end(u),s()};if(!this.httpCompression||!n.compress){o(e);return}if((r?Buffer.byteLength(e):e.length)<this.httpCompression.threshold){o(e);return}const l=Vz(this.req).encodings(["gzip","deflate"]);if(!l){o(e);return}this.compress(e,l,(u,d)=>{if(u){this.res.writeHead(500),this.res.end(),s(u);return}a["Content-Encoding"]=l,o(d)})}compress(e,n,s){xn("compressing");const r=[];let i=0;Gz[n](this.httpCompression).on("error",s).on("data",function(a){r.push(a),i+=a.length}).on("end",function(){s(null,Buffer.concat(r,i))}).end(e)}doClose(e){xn("closing");let n;this.dataReq&&(xn("aborting ongoing data request"),this.dataReq.destroy());const s=()=>{clearTimeout(n),e(),this.onClose()};this.writable?(xn("transport writable - closing right away"),this.send([{type:"close"}]),s()):this.discarded?(xn("transport discarded - closing right away"),s()):(xn("transport not writable - buffering orderly close"),this.shouldClose=s,n=setTimeout(s,this.closeTimeout))}headers(e,n={}){const s=e.headers["user-agent"];return s&&(~s.indexOf(";MSIE")||~s.indexOf("Trident/"))&&(n["X-XSS-Protection"]="0"),n["cache-control"]="no-store",this.emit("headers",n,e),n}};kl.Polling=Wz;var Lp={};Object.defineProperty(Lp,"__esModule",{value:!0});Lp.JSONP=void 0;const Kz=kl,Yz=se,Jz=/\\\\n/g,Xz=/(\\)?\\n/g;class Zz extends Kz.Polling{constructor(e){super(e),this.head="___eio["+(e._query.j||"").replace(/[^0-9]/g,"")+"](",this.foot=");"}onData(e){e=Yz.parse(e).d,typeof e=="string"&&(e=e.replace(Xz,function(n,s){return s?n:`
`}),super.onData(e.replace(Jz,"\\n")))}doWrite(e,n,s){const r=JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029");e=this.head+r+this.foot,super.doWrite(e,n,s)}}Lp.JSONP=Zz;var Bp={};Object.defineProperty(Bp,"__esModule",{value:!0});Bp.WebSocket=void 0;const eU=pr,tU=fr,Kx=(0,tU.default)("engine:ws");let nU=class extends eU.Transport{constructor(e){super(e),this._doSend=n=>{this.socket.send(n,this._onSent)},this._doSendLast=n=>{this.socket.send(n,this._onSentLast)},this._onSent=n=>{n&&this.onError("write error",n.stack)},this._onSentLast=n=>{n?this.onError("write error",n.stack):(this.emit("drain"),this.writable=!0,this.emit("ready"))},this.socket=e.websocket,this.socket.on("message",(n,s)=>{const r=s?n:n.toString();Kx('received "%s"',r),super.onData(r)}),this.socket.once("close",this.onClose.bind(this)),this.socket.on("error",this.onError.bind(this)),this.writable=!0,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}send(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],r=n+1===e.length;this._canSendPreEncodedFrame(s)?this.socket._sender.sendFrame(s.options.wsPreEncodedFrame,r?this._onSentLast:this._onSent):this.parser.encodePacket(s,this.supportsBinary,r?this._doSendLast:this._doSend)}}_canSendPreEncodedFrame(e){var n,s,r;return!this.perMessageDeflate&&typeof((s=(n=this.socket)===null||n===void 0?void 0:n._sender)===null||s===void 0?void 0:s.sendFrame)=="function"&&((r=e.options)===null||r===void 0?void 0:r.wsPreEncodedFrame)!==void 0}doClose(e){Kx("closing"),this.socket.close(),e&&e()}};Bp.WebSocket=nU;var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.WebTransport=void 0;const sU=pr,rU=fr,iU=On,fa=(0,rU.default)("engine:webtransport");let aU=class extends sU.Transport{constructor(e,n,s){super({_query:{EIO:"4"}}),this.session=e;const r=(0,iU.createPacketEncoderStream)();r.readable.pipeTo(n.writable).catch(()=>{fa("the stream was closed")}),this.writer=r.writable.getWriter(),(async()=>{try{for(;;){const{value:i,done:a}=await s.read();if(a){fa("session is closed");break}fa("received chunk: %o",i),this.onPacket(i)}}catch(i){fa("error while reading: %s",i.message)}})(),e.closed.then(()=>this.onClose()),this.writable=!0}get name(){return"webtransport"}async send(e){this.writable=!1;try{for(let n=0;n<e.length;n++){const s=e[n];await this.writer.write(s)}}catch(n){fa("error while writing: %s",n.message)}this.emit("drain"),this.writable=!0,this.emit("ready")}doClose(e){fa("closing WebTransport session"),this.session.close(),e&&e()}};Cl.WebTransport=aU;Object.defineProperty(Dp,"__esModule",{value:!0});const oU=kl,cU=Lp,lU=Bp,uU=Cl;Dp.default={polling:ZP,websocket:lU.WebSocket,webtransport:uU.WebTransport};function ZP(t){return typeof t._query.j=="string"?new cU.JSONP(t):new oU.Polling(t)}ZP.upgradesTo=["websocket","webtransport"];var Al={};Object.defineProperty(Al,"__esModule",{value:!0});Al.Socket=void 0;const dU=se,pU=fr,$s=se,pt=(0,pU.default)("engine:socket");let fU=class extends dU.EventEmitter{get readyState(){return this._readyState}set readyState(e){pt("readyState updated from %s to %s",this._readyState,e),this._readyState=e}constructor(e,n,s,r,i){super(),this._readyState="opening",this.upgrading=!1,this.upgraded=!1,this.writeBuffer=[],this.packetsFn=[],this.sentCallbackFn=[],this.cleanupFn=[],this.id=e,this.server=n,this.request=r,this.protocol=i,r&&(r.websocket&&r.websocket._socket?this.remoteAddress=r.websocket._socket.remoteAddress:this.remoteAddress=r.connection.remoteAddress),this.pingTimeoutTimer=null,this.pingIntervalTimer=null,this.setTransport(s),this.onOpen()}onOpen(){this.readyState="open",this.transport.sid=this.id,this.sendPacket("open",JSON.stringify({sid:this.id,upgrades:this.getAvailableUpgrades(),pingInterval:this.server.opts.pingInterval,pingTimeout:this.server.opts.pingTimeout,maxPayload:this.server.opts.maxHttpBufferSize})),this.server.opts.initialPacket&&this.sendPacket("message",this.server.opts.initialPacket),this.emit("open"),this.protocol===3?this.resetPingTimeout():this.schedulePing()}onPacket(e){if(this.readyState!=="open")return pt("packet received with closed socket");switch(pt(`received packet ${e.type}`),this.emit("packet",e),e.type){case"ping":if(this.transport.protocol!==3){this.onError(new Error("invalid heartbeat direction"));return}pt("got ping"),this.pingTimeoutTimer.refresh(),this.sendPacket("pong"),this.emit("heartbeat");break;case"pong":if(this.transport.protocol===3){this.onError(new Error("invalid heartbeat direction"));return}pt("got pong"),(0,$s.clearTimeout)(this.pingTimeoutTimer),this.pingIntervalTimer.refresh(),this.emit("heartbeat");break;case"error":this.onClose("parse error");break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}}onError(e){pt("transport error"),this.onClose("transport error",e)}schedulePing(){this.pingIntervalTimer=(0,$s.setTimeout)(()=>{pt("writing ping packet - expecting pong within %sms",this.server.opts.pingTimeout),this.sendPacket("ping"),this.resetPingTimeout()},this.server.opts.pingInterval)}resetPingTimeout(){(0,$s.clearTimeout)(this.pingTimeoutTimer),this.pingTimeoutTimer=(0,$s.setTimeout)(()=>{this.readyState!=="closed"&&this.onClose("ping timeout")},this.protocol===3?this.server.opts.pingInterval+this.server.opts.pingTimeout:this.server.opts.pingTimeout)}setTransport(e){const n=this.onError.bind(this),s=()=>this.flush(),r=this.onPacket.bind(this),i=this.onDrain.bind(this),a=this.onClose.bind(this,"transport close");this.transport=e,this.transport.once("error",n),this.transport.on("ready",s),this.transport.on("packet",r),this.transport.on("drain",i),this.transport.once("close",a),this.cleanupFn.push(function(){e.removeListener("error",n),e.removeListener("ready",s),e.removeListener("packet",r),e.removeListener("drain",i),e.removeListener("close",a)})}onDrain(){if(this.sentCallbackFn.length>0){pt("executing batch send callback");const e=this.sentCallbackFn.shift();if(e)for(let n=0;n<e.length;n++)e[n](this.transport)}}_maybeUpgrade(e){pt('might upgrade socket transport from "%s" to "%s"',this.transport.name,e.name),this.upgrading=!0;const n=(0,$s.setTimeout)(()=>{pt("client did not complete upgrade - closing transport"),a(),e.readyState==="open"&&e.close()},this.server.opts.upgradeTimeout);let s;const r=u=>{u.type==="ping"&&u.data==="probe"?(pt("got probe ping packet, sending pong"),e.send([{type:"pong",data:"probe"}]),this.emit("upgrading",e),clearInterval(s),s=setInterval(i,100)):u.type==="upgrade"&&this.readyState!=="closed"?(pt("got upgrade packet - upgrading"),a(),this.transport.discard(),this.upgraded=!0,this.clearTransport(),this.setTransport(e),this.emit("upgrade",e),this.flush(),this.readyState==="closing"&&e.close(()=>{this.onClose("forced close")})):(a(),e.close())},i=()=>{this.transport.name==="polling"&&this.transport.writable&&(pt("writing a noop packet to polling for fast upgrade"),this.transport.send([{type:"noop"}]))},a=()=>{this.upgrading=!1,clearInterval(s),(0,$s.clearTimeout)(n),e.removeListener("packet",r),e.removeListener("close",c),e.removeListener("error",o),this.removeListener("close",l)},o=u=>{pt("client did not complete upgrade - %s",u),a(),e.close(),e=null},c=()=>{o("transport closed")},l=()=>{o("socket closed")};e.on("packet",r),e.once("close",c),e.once("error",o),this.once("close",l)}clearTransport(){let e;const n=this.cleanupFn.length;for(let s=0;s<n;s++)e=this.cleanupFn.shift(),e();this.transport.on("error",function(){pt("error triggered by discarded transport")}),this.transport.close(),(0,$s.clearTimeout)(this.pingTimeoutTimer)}onClose(e,n){this.readyState!=="closed"&&(this.readyState="closed",(0,$s.clearTimeout)(this.pingIntervalTimer),(0,$s.clearTimeout)(this.pingTimeoutTimer),process.nextTick(()=>{this.writeBuffer=[]}),this.packetsFn=[],this.sentCallbackFn=[],this.clearTransport(),this.emit("close",e,n))}send(e,n,s){return this.sendPacket("message",e,n,s),this}write(e,n,s){return this.sendPacket("message",e,n,s),this}sendPacket(e,n,s={},r){if(typeof s=="function"&&(r=s,s={}),this.readyState!=="closing"&&this.readyState!=="closed"){pt('sending packet "%s" (%s)',e,n),s.compress=s.compress!==!1;const i={type:e,options:s};n&&(i.data=n),this.emit("packetCreate",i),this.writeBuffer.push(i),typeof r=="function"&&this.packetsFn.push(r),this.flush()}}flush(){if(this.readyState!=="closed"&&this.transport.writable&&this.writeBuffer.length){pt("flushing buffer to transport"),this.emit("flush",this.writeBuffer),this.server.emit("flush",this,this.writeBuffer);const e=this.writeBuffer;this.writeBuffer=[],this.packetsFn.length?(this.sentCallbackFn.push(this.packetsFn),this.packetsFn=[]):this.sentCallbackFn.push(null),this.transport.send(e),this.emit("drain"),this.server.emit("drain",this)}}getAvailableUpgrades(){const e=[],n=this.server.upgrades(this.transport.name);for(let s=0;s<n.length;++s){const r=n[s];this.server.opts.transports.indexOf(r)!==-1&&e.push(r)}return e}close(e){if(e&&(this.readyState==="open"||this.readyState==="closing"))return this.closeTransport(e);if(this.readyState==="open"){if(this.readyState="closing",this.writeBuffer.length){pt("there are %d remaining packets in the buffer, waiting for the 'drain' event",this.writeBuffer.length),this.once("drain",()=>{pt("all packets have been sent, closing the transport"),this.closeTransport(e)});return}pt("the buffer is empty, closing the transport right away"),this.closeTransport(e)}}closeTransport(e){pt("closing the transport (discard? %s)",!!e),e&&this.transport.discard(),this.transport.close(this.onClose.bind(this,"forced close"))}};Al.Socket=fU;var Dv={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */Dv.parse=xU;Dv.serialize=wU;var hU=Object.prototype.toString,mU=Object.prototype.hasOwnProperty,gU=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,yU=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,vU=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,bU=/^[\u0020-\u003A\u003D-\u007E]*$/;function xU(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");var n={},s=t.length;if(s<2)return n;var r=e&&e.decode||SU,i=0,a=0,o=0;do{if(a=t.indexOf("=",i),a===-1)break;if(o=t.indexOf(";",i),o===-1)o=s;else if(a>o){i=t.lastIndexOf(";",a-1)+1;continue}var c=Yx(t,i,a),l=Jx(t,a,c),u=t.slice(c,l);if(!mU.call(n,u)){var d=Yx(t,a+1,o),p=Jx(t,o,d);t.charCodeAt(d)===34&&t.charCodeAt(p-1)===34&&(d++,p--);var y=t.slice(d,p);n[u]=EU(y,r)}i=o+1}while(i<s);return n}function Yx(t,e,n){do{var s=t.charCodeAt(e);if(s!==32&&s!==9)return e}while(++e<n);return n}function Jx(t,e,n){for(;e>n;){var s=t.charCodeAt(--e);if(s!==32&&s!==9)return e+1}return n}function wU(t,e,n){var s=n&&n.encode||encodeURIComponent;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!gU.test(t))throw new TypeError("argument name is invalid");var r=s(e);if(!yU.test(r))throw new TypeError("argument val is invalid");var i=t+"="+r;if(!n)return i;if(n.maxAge!=null){var a=Math.floor(n.maxAge);if(!isFinite(a))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+a}if(n.domain){if(!vU.test(n.domain))throw new TypeError("option domain is invalid");i+="; Domain="+n.domain}if(n.path){if(!bU.test(n.path))throw new TypeError("option path is invalid");i+="; Path="+n.path}if(n.expires){var o=n.expires;if(!_U(o)||isNaN(o.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+o.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority){var c=typeof n.priority=="string"?n.priority.toLowerCase():n.priority;switch(c){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(n.sameSite){var l=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(l){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return i}function SU(t){return t.indexOf("%")!==-1?decodeURIComponent(t):t}function _U(t){return hU.call(t)==="[object Date]"}function EU(t,e){try{return e(t)}catch{return t}}var kU=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},e2={exports:{}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Xx=Object.getOwnPropertySymbols,CU=Object.prototype.hasOwnProperty,AU=Object.prototype.propertyIsEnumerable;function TU(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function NU(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var s=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(s.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(i){r[i]=i}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var RU=NU()?Object.assign:function(t,e){for(var n,s=TU(t),r,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var a in n)CU.call(n,a)&&(s[a]=n[a]);if(Xx){r=Xx(n);for(var o=0;o<r.length;o++)AU.call(n,r[o])&&(s[r[o]]=n[r[o]])}}return s},Fv={exports:{}};/*!
 * vary
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */Fv.exports=PU;Fv.exports.append=t2;var OU=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function t2(t,e){if(typeof t!="string")throw new TypeError("header argument is required");if(!e)throw new TypeError("field argument is required");for(var n=Array.isArray(e)?e:Zx(String(e)),s=0;s<n.length;s++)if(!OU.test(n[s]))throw new TypeError("field argument contains an invalid header name");if(t==="*")return t;var r=t,i=Zx(t.toLowerCase());if(n.indexOf("*")!==-1||i.indexOf("*")!==-1)return"*";for(var a=0;a<n.length;a++){var o=n[a].toLowerCase();i.indexOf(o)===-1&&(i.push(o),r=r?r+", "+n[a]:n[a])}return r}function Zx(t){for(var e=0,n=[],s=0,r=0,i=t.length;r<i;r++)switch(t.charCodeAt(r)){case 32:s===e&&(s=e=r+1);break;case 44:n.push(t.substring(s,e)),s=e=r+1;break;default:e=r+1;break}return n.push(t.substring(s,e)),n}function PU(t,e){if(!t||!t.getHeader||!t.setHeader)throw new TypeError("res argument is required");var n=t.getHeader("Vary")||"",s=Array.isArray(n)?n.join(", "):String(n);(n=t2(s,e))&&t.setHeader("Vary",n)}var IU=Fv.exports;(function(){var t=RU,e=IU,n={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function s(m){return typeof m=="string"||m instanceof String}function r(m,f){if(Array.isArray(f)){for(var v=0;v<f.length;++v)if(r(m,f[v]))return!0;return!1}else return s(f)?m===f:f instanceof RegExp?f.test(m):!!f}function i(m,f){var v=f.headers.origin,h=[],b;return!m.origin||m.origin==="*"?h.push([{key:"Access-Control-Allow-Origin",value:"*"}]):s(m.origin)?(h.push([{key:"Access-Control-Allow-Origin",value:m.origin}]),h.push([{key:"Vary",value:"Origin"}])):(b=r(v,m.origin),h.push([{key:"Access-Control-Allow-Origin",value:b?v:!1}]),h.push([{key:"Vary",value:"Origin"}])),h}function a(m){var f=m.methods;return f.join&&(f=m.methods.join(",")),{key:"Access-Control-Allow-Methods",value:f}}function o(m){return m.credentials===!0?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function c(m,f){var v=m.allowedHeaders||m.headers,h=[];return v?v.join&&(v=v.join(",")):(v=f.headers["access-control-request-headers"],h.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),v&&v.length&&h.push([{key:"Access-Control-Allow-Headers",value:v}]),h}function l(m){var f=m.exposedHeaders;if(f)f.join&&(f=f.join(","));else return null;return f&&f.length?{key:"Access-Control-Expose-Headers",value:f}:null}function u(m){var f=(typeof m.maxAge=="number"||m.maxAge)&&m.maxAge.toString();return f&&f.length?{key:"Access-Control-Max-Age",value:f}:null}function d(m,f){for(var v=0,h=m.length;v<h;v++){var b=m[v];b&&(Array.isArray(b)?d(b,f):b.key==="Vary"&&b.value?e(f,b.value):b.value&&f.setHeader(b.key,b.value))}}function p(m,f,v,h){var b=[],g=f.method&&f.method.toUpperCase&&f.method.toUpperCase();g==="OPTIONS"?(b.push(i(m,f)),b.push(o(m)),b.push(a(m)),b.push(c(m,f)),b.push(u(m)),b.push(l(m)),d(b,v),m.preflightContinue?h():(v.statusCode=m.optionsSuccessStatus,v.setHeader("Content-Length","0"),v.end())):(b.push(i(m,f)),b.push(o(m)),b.push(l(m)),d(b,v),h())}function y(m){var f=null;return typeof m=="function"?f=m:f=function(v,h){h(null,m)},function(h,b,g){f(h,function(x,k){if(x)g(x);else{var _=t({},n,k),w=null;_.origin&&typeof _.origin=="function"?w=_.origin:_.origin&&(w=function(E,T){T(null,_.origin)}),w?w(h.headers.origin,function(E,T){E||!T?g(E):(_.origin=T,p(_,h,b,g))}):g()}})}}e2.exports=y})();var n2=e2.exports;Object.defineProperty(na,"__esModule",{value:!0});na.Server=na.BaseServer=void 0;const jU=se,MU=se,ew=KP,Ju=Dp,DU=se,tw=Al,FU=fr,LU=Dv,BU=kU,nw=Cl,$U=On,Ce=(0,FU.default)("engine"),Fa=Symbol("responseHeaders");function zU(t){try{const e=JSON.parse(t);if(typeof e.sid=="string")return e.sid}catch{}}class $p extends DU.EventEmitter{constructor(e={}){super(),this.middlewares=[],this.clients={},this.clientsCount=0,this.opts=Object.assign({wsEngine:BU.Server,pingTimeout:2e4,pingInterval:25e3,upgradeTimeout:1e4,maxHttpBufferSize:1e6,transports:["polling","websocket"],allowUpgrades:!0,httpCompression:{threshold:1024},cors:!1,allowEIO3:!1},e),e.cookie&&(this.opts.cookie=Object.assign({name:"io",path:"/",httpOnly:e.cookie.path!==!1,sameSite:"lax"},e.cookie)),this.opts.cors&&this.use(n2(this.opts.cors)),e.perMessageDeflate&&(this.opts.perMessageDeflate=Object.assign({threshold:1024},e.perMessageDeflate)),this.init()}_computePath(e){let n=(e.path||"/engine.io").replace(/\/$/,"");return e.addTrailingSlash!==!1&&(n+="/"),n}upgrades(e){return this.opts.allowUpgrades?Ju.default[e].upgradesTo||[]:[]}verify(e,n,s){const r=e._query.transport;if(!~this.opts.transports.indexOf(r)||r==="webtransport")return Ce('unknown transport "%s"',r),s(tt.errors.UNKNOWN_TRANSPORT,{transport:r});if(qU(e.headers.origin)){const o=e.headers.origin;return e.headers.origin=null,Ce("origin header invalid"),s(tt.errors.BAD_REQUEST,{name:"INVALID_ORIGIN",origin:o})}const a=e._query.sid;if(a){if(!this.clients.hasOwnProperty(a))return Ce('unknown sid "%s"',a),s(tt.errors.UNKNOWN_SID,{sid:a});const o=this.clients[a].transport.name;if(!n&&o!==r)return Ce("bad request: unexpected transport without upgrade"),s(tt.errors.BAD_REQUEST,{name:"TRANSPORT_MISMATCH",transport:r,previousTransport:o})}else return e.method!=="GET"?s(tt.errors.BAD_HANDSHAKE_METHOD,{method:e.method}):r==="websocket"&&!n?(Ce("invalid transport upgrade"),s(tt.errors.BAD_REQUEST,{name:"TRANSPORT_HANDSHAKE_ERROR"})):this.opts.allowRequest?this.opts.allowRequest(e,(o,c)=>{if(!c)return s(tt.errors.FORBIDDEN,{message:o});s()}):s();s()}use(e){this.middlewares.push(e)}_applyMiddlewares(e,n,s){if(this.middlewares.length===0)return Ce("no middleware to apply, skipping"),s();const r=i=>{Ce("applying middleware n%d",i+1),this.middlewares[i](e,n,a=>{if(a)return s(a);i+1<this.middlewares.length?r(i+1):s()})};r(0)}close(){Ce("closing all open clients");for(let e in this.clients)this.clients.hasOwnProperty(e)&&this.clients[e].close(!0);return this.cleanup(),this}generateId(e){return ew.generateId()}async handshake(e,n,s){const r=n._query.EIO==="4"?4:3;if(r===3&&!this.opts.allowEIO3){Ce("unsupported protocol version"),this.emit("connection_error",{req:n,code:tt.errors.UNSUPPORTED_PROTOCOL_VERSION,message:tt.errorMessages[tt.errors.UNSUPPORTED_PROTOCOL_VERSION],context:{protocol:r}}),s(tt.errors.UNSUPPORTED_PROTOCOL_VERSION);return}let i;try{i=await this.generateId(n)}catch(c){Ce("error while generating an id"),this.emit("connection_error",{req:n,code:tt.errors.BAD_REQUEST,message:tt.errorMessages[tt.errors.BAD_REQUEST],context:{name:"ID_GENERATION_ERROR",error:c}}),s(tt.errors.BAD_REQUEST);return}Ce('handshaking client "%s"',i);try{var a=this.createTransport(e,n);e==="polling"?(a.maxHttpBufferSize=this.opts.maxHttpBufferSize,a.httpCompression=this.opts.httpCompression):e==="websocket"&&(a.perMessageDeflate=this.opts.perMessageDeflate)}catch(c){Ce('error handshaking to transport "%s"',e),this.emit("connection_error",{req:n,code:tt.errors.BAD_REQUEST,message:tt.errorMessages[tt.errors.BAD_REQUEST],context:{name:"TRANSPORT_HANDSHAKE_ERROR",error:c}}),s(tt.errors.BAD_REQUEST);return}const o=new tw.Socket(i,this,a,n,r);return a.on("headers",(c,l)=>{!l._query.sid&&(this.opts.cookie&&(c["Set-Cookie"]=[(0,LU.serialize)(this.opts.cookie.name,i,this.opts.cookie)]),this.emit("initial_headers",c,l)),this.emit("headers",c,l)}),a.onRequest(n),this.clients[i]=o,this.clientsCount++,o.once("close",()=>{delete this.clients[i],this.clientsCount--}),this.emit("connection",o),a}async onWebTransportSession(e){const n=setTimeout(()=>{Ce("the client failed to establish a bidirectional stream in the given period"),e.close()},this.opts.upgradeTimeout),r=await e.incomingBidirectionalStreams.getReader().read();if(r.done){Ce("session is closed");return}const i=r.value,a=(0,$U.createPacketDecoderStream)(this.opts.maxHttpBufferSize,"nodebuffer"),o=i.readable.pipeThrough(a).getReader(),{value:c,done:l}=await o.read();if(l){Ce("stream is closed");return}if(clearTimeout(n),c.type!=="open")return Ce("invalid WebTransport handshake"),e.close();if(c.data===void 0){const p=new nw.WebTransport(e,i,o),y=ew.generateId();Ce('handshaking client "%s" (WebTransport)',y);const m=new tw.Socket(y,this,p,null,4);this.clients[y]=m,this.clientsCount++,m.once("close",()=>{delete this.clients[y],this.clientsCount--}),this.emit("connection",m);return}const u=zU(c.data);if(!u)return Ce("invalid WebTransport handshake"),e.close();const d=this.clients[u];if(!d)Ce("upgrade attempt for closed client"),e.close();else if(d.upgrading)Ce("transport has already been trying to upgrade"),e.close();else if(d.upgraded)Ce("transport had already been upgraded"),e.close();else{Ce("upgrading existing transport");const p=new nw.WebTransport(e,i,o);d._maybeUpgrade(p)}}}na.BaseServer=$p;$p.errors={UNKNOWN_TRANSPORT:0,UNKNOWN_SID:1,BAD_HANDSHAKE_METHOD:2,BAD_REQUEST:3,FORBIDDEN:4,UNSUPPORTED_PROTOCOL_VERSION:5};$p.errorMessages={0:"Transport unknown",1:"Session ID unknown",2:"Bad handshake method",3:"Bad request",4:"Forbidden",5:"Unsupported protocol version"};class UU{constructor(e,n){this.req=e,this.socket=n,e[Fa]={}}setHeader(e,n){this.req[Fa][e]=n}getHeader(e){return this.req[Fa][e]}removeHeader(e){delete this.req[Fa][e]}write(){}writeHead(){}end(){this.socket.destroy()}}let tt=class lc extends $p{init(){~this.opts.transports.indexOf("websocket")&&(this.ws&&this.ws.close(),this.ws=new this.opts.wsEngine({noServer:!0,clientTracking:!1,perMessageDeflate:this.opts.perMessageDeflate,maxPayload:this.opts.maxHttpBufferSize}),typeof this.ws.on=="function"&&this.ws.on("headers",(e,n)=>{const s=n[Fa]||{};delete n[Fa],!n._query.sid&&this.emit("initial_headers",s,n),this.emit("headers",s,n),Ce("writing headers: %j",s),Object.keys(s).forEach(i=>{e.push(`${i}: ${s[i]}`)})}))}cleanup(){this.ws&&(Ce("closing webSocketServer"),this.ws.close())}prepare(e){e._query||(e._query=~e.url.indexOf("?")?jU.parse((0,MU.parse)(e.url).query):{})}createTransport(e,n){return new Ju.default[e](n)}handleRequest(e,n){Ce('handling "%s" http request "%s"',e.method,e.url),this.prepare(e),e.res=n;const s=(r,i)=>{if(r!==void 0){this.emit("connection_error",{req:e,code:r,message:lc.errorMessages[r],context:i}),sw(n,r,i);return}if(e._query.sid)Ce("setting new request for existing client"),this.clients[e._query.sid].transport.onRequest(e);else{const a=(o,c)=>sw(n,o,c);this.handshake(e._query.transport,e,a)}};this._applyMiddlewares(e,n,r=>{r?s(lc.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(e,!1,s)})}handleUpgrade(e,n,s){this.prepare(e);const r=new UU(e,n),i=(a,o)=>{if(a!==void 0){this.emit("connection_error",{req:e,code:a,message:lc.errorMessages[a],context:o}),rw(n,a,o);return}const c=Buffer.from(s);s=null,r.writeHead(),this.ws.handleUpgrade(e,n,c,l=>{this.onWebSocket(e,n,l)})};this._applyMiddlewares(e,r,a=>{a?i(lc.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(e,!0,i)})}onWebSocket(e,n,s){if(s.on("error",i),Ju.default[e._query.transport]!==void 0&&!Ju.default[e._query.transport].prototype.handlesUpgrades){Ce("transport doesnt handle upgraded requests"),s.close();return}const r=e._query.sid;if(e.websocket=s,r){const a=this.clients[r];if(!a)Ce("upgrade attempt for closed client"),s.close();else if(a.upgrading)Ce("transport has already been trying to upgrade"),s.close();else if(a.upgraded)Ce("transport had already been upgraded"),s.close();else{Ce("upgrading existing transport"),s.removeListener("error",i);const o=this.createTransport(e._query.transport,e);o.perMessageDeflate=this.opts.perMessageDeflate,a._maybeUpgrade(o)}}else{const a=(o,c)=>rw(n,o,c);this.handshake(e._query.transport,e,a)}function i(){Ce("websocket error before upgrade")}}attach(e,n={}){const s=this._computePath(n),r=n.destroyUpgradeTimeout||1e3;function i(o){return s===o.url.slice(0,s.length)}const a=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("close",this.close.bind(this)),e.on("listening",this.init.bind(this)),e.on("request",(o,c)=>{if(i(o))Ce('intercepting request for path "%s"',s),this.handleRequest(o,c);else{let l=0;const u=a.length;for(;l<u;l++)a[l].call(e,o,c)}}),~this.opts.transports.indexOf("websocket")&&e.on("upgrade",(o,c,l)=>{i(o)?this.handleUpgrade(o,c,l):n.destroyUpgrade!==!1&&setTimeout(function(){if(c.writable&&c.bytesWritten<=0)return c.on("error",u=>{Ce("error while destroying upgrade: %s",u.message)}),c.end()},r)})}};na.Server=tt;function sw(t,e,n){const s=e===tt.errors.FORBIDDEN?403:400,r=n&&n.message?n.message:tt.errorMessages[e];t.writeHead(s,{"Content-Type":"application/json"}),t.end(JSON.stringify({code:e,message:r}))}function rw(t,e,n={}){if(t.on("error",()=>{Ce("ignoring error from closed connection")}),t.writable){const s=n.message||tt.errorMessages[e],r=Buffer.byteLength(s);t.write(`HTTP/1.1 400 Bad Request\r
Connection: close\r
Content-type: text/html\r
Content-Length: `+r+`\r
\r
`+s)}t.destroy()}const Zo=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];function qU(t){if(t+="",t.length<1)return!1;if(!Zo[t.charCodeAt(0)])return Ce('invalid header, index 0, char "%s"',t.charCodeAt(0)),!0;if(t.length<2)return!1;if(!Zo[t.charCodeAt(1)])return Ce('invalid header, index 1, char "%s"',t.charCodeAt(1)),!0;if(t.length<3)return!1;if(!Zo[t.charCodeAt(2)])return Ce('invalid header, index 2, char "%s"',t.charCodeAt(2)),!0;if(t.length<4)return!1;if(!Zo[t.charCodeAt(3)])return Ce('invalid header, index 3, char "%s"',t.charCodeAt(3)),!0;for(let e=4;e<t.length;++e)if(!Zo[t.charCodeAt(e)])return Ce('invalid header, index "%i", char "%s"',e,t.charCodeAt(e)),!0;return!1}var zp={},Lv={},Up={};Object.defineProperty(Up,"__esModule",{value:!0});Up.Polling=void 0;const QU=pr,iw=se,VU=Mv,HU=fr,Mn=(0,HU.default)("engine:polling"),GU={gzip:iw.createGzip,deflate:iw.createDeflate};class WU extends QU.Transport{constructor(e){super(e),this.closeTimeout=30*1e3}get name(){return"polling"}onRequest(e){const n=e.res;e.res=null,e.getMethod()==="get"?this.onPollRequest(e,n):e.getMethod()==="post"?this.onDataRequest(e,n):(n.writeStatus("500 Internal Server Error"),n.end())}onPollRequest(e,n){if(this.req){Mn("request overlap"),this.onError("overlap from client"),n.writeStatus("500 Internal Server Error"),n.end();return}Mn("setting request"),this.req=e,this.res=n;const s=()=>{this.writable=!1,this.onError("poll connection closed prematurely")},r=()=>{this.req=this.res=null};e.cleanup=r,n.onAborted(s),this.writable=!0,this.emit("ready"),this.writable&&this.shouldClose&&(Mn("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,n){if(this.dataReq){this.onError("data request overlap from client"),n.writeStatus("500 Internal Server Error"),n.end();return}const s=Number(e.headers["content-length"]);if(!s){this.onError("content-length header required"),n.writeStatus("411 Length Required").end();return}if(s>this.maxHttpBufferSize){this.onError("payload too large"),n.writeStatus("413 Payload Too Large").end();return}if(e.headers["content-type"]==="application/octet-stream"&&this.protocol===4)return this.onError("invalid content");this.dataReq=e,this.dataRes=n;let i,a=0;const o={"Content-Type":"text/html"};this.headers(e,o);for(let l in o)n.writeHeader(l,String(o[l]));const c=l=>{this.onData(l.toString()),this.onDataRequestCleanup(),n.cork(()=>{n.end("ok")})};n.onAborted(()=>{this.onDataRequestCleanup(),this.onError("data request connection closed prematurely")}),n.onData((l,u)=>{const d=a+l.byteLength;if(d>s){this.onError("content-length mismatch"),n.close();return}if(!i){if(u){c(Buffer.from(l));return}i=Buffer.allocUnsafe(s)}if(Buffer.from(l).copy(i,a),u){if(d!=s){this.onError("content-length mismatch"),n.writeStatus("400 Content-Length Mismatch").end(),this.onDataRequestCleanup();return}c(i);return}a=d})}onDataRequestCleanup(){this.dataReq=this.dataRes=null}onData(e){Mn('received "%s"',e);const n=s=>{if(s.type==="close")return Mn("got xhr close packet"),this.onClose(),!1;this.onPacket(s)};this.protocol===3?this.parser.decodePayload(e,n):this.parser.decodePayload(e).forEach(n)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(Mn("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);const n=s=>{const r=e.some(i=>i.options&&i.options.compress);this.write(s,{compress:r})};this.protocol===3?this.parser.encodePayload(e,this.supportsBinary,n):this.parser.encodePayload(e,n)}write(e,n){Mn('writing "%s"',e),this.doWrite(e,n,()=>{this.req.cleanup(),this.emit("drain")})}doWrite(e,n,s){const r=typeof e=="string",a={"Content-Type":r?"text/plain; charset=UTF-8":"application/octet-stream"},o=u=>{this.headers(this.req,a),this.res.cork(()=>{Object.keys(a).forEach(d=>{this.res.writeHeader(d,String(a[d]))}),this.res.end(u)}),s()};if(!this.httpCompression||!n.compress){o(e);return}if((r?Buffer.byteLength(e):e.length)<this.httpCompression.threshold){o(e);return}const l=VU(this.req).encodings(["gzip","deflate"]);if(!l){o(e);return}this.compress(e,l,(u,d)=>{if(u){this.res.writeStatus("500 Internal Server Error"),this.res.end(),s(u);return}a["Content-Encoding"]=l,o(d)})}compress(e,n,s){Mn("compressing");const r=[];let i=0;GU[n](this.httpCompression).on("error",s).on("data",function(a){r.push(a),i+=a.length}).on("end",function(){s(null,Buffer.concat(r,i))}).end(e)}doClose(e){Mn("closing");let n;const s=()=>{clearTimeout(n),e(),this.onClose()};this.writable?(Mn("transport writable - closing right away"),this.send([{type:"close"}]),s()):this.discarded?(Mn("transport discarded - closing right away"),s()):(Mn("transport not writable - buffering orderly close"),this.shouldClose=s,n=setTimeout(s,this.closeTimeout))}headers(e,n){n=n||{};const s=e.headers["user-agent"];return s&&(~s.indexOf(";MSIE")||~s.indexOf("Trident/"))&&(n["X-XSS-Protection"]="0"),n["cache-control"]="no-store",this.emit("headers",n,e),n}}Up.Polling=WU;var qp={};Object.defineProperty(qp,"__esModule",{value:!0});qp.WebSocket=void 0;const KU=pr,YU=fr,aw=(0,YU.default)("engine:ws");let JU=class extends KU.Transport{constructor(e){super(e),this.writable=!1,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}send(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],r=n+1===e.length,i=a=>{const o=typeof a!="string",c=this.perMessageDeflate&&Buffer.byteLength(a)>this.perMessageDeflate.threshold;aw('writing "%s"',a),this.socket.send(a,o,c),r&&(this.emit("drain"),this.writable=!0,this.emit("ready"))};s.options&&typeof s.options.wsPreEncoded=="string"?i(s.options.wsPreEncoded):this.parser.encodePacket(s,this.supportsBinary,i)}}doClose(e){aw("closing"),e&&e(),this.socket.end()}};qp.WebSocket=JU;Object.defineProperty(Lv,"__esModule",{value:!0});const XU=Up,ZU=qp;Lv.default={polling:XU.Polling,websocket:ZU.WebSocket};Object.defineProperty(zp,"__esModule",{value:!0});zp.uServer=void 0;const e8=fr,gi=na,t8=Lv,xr=(0,e8.default)("engine:uws");class n8 extends gi.BaseServer{init(){}cleanup(){}prepare(e,n){e.method=e.getMethod().toUpperCase(),e.url=e.getUrl();const s=new URLSearchParams(e.getQuery());e._query=Object.fromEntries(s.entries()),e.headers={},e.forEach((r,i)=>{e.headers[r]=i}),e.connection={remoteAddress:Buffer.from(n.getRemoteAddressAsText()).toString()},n.onAborted(()=>{xr("response has been aborted")})}createTransport(e,n){return new t8.default[e](n)}attach(e,n={}){const s=this._computePath(n);e.any(s,this.handleRequest.bind(this)).ws(s,{compression:n.compression,idleTimeout:n.idleTimeout,maxBackpressure:n.maxBackpressure,maxPayloadLength:this.opts.maxHttpBufferSize,upgrade:this.handleUpgrade.bind(this),open:r=>{const i=r.getUserData().transport;i.socket=r,i.writable=!0,i.emit("ready")},message:(r,i,a)=>{r.getUserData().transport.onData(a?i:Buffer.from(i).toString())},close:(r,i,a)=>{r.getUserData().transport.onClose(i,a)}})}_applyMiddlewares(e,n,s){if(this.middlewares.length===0)return s();e.res=new s8(n),super._applyMiddlewares(e,e.res,r=>{e.res.writeHead(),s(r)})}handleRequest(e,n){xr('handling "%s" http request "%s"',n.getMethod(),n.getUrl()),this.prepare(n,e),n.res=e;const s=(r,i)=>{if(r!==void 0){this.emit("connection_error",{req:n,code:r,message:gi.Server.errorMessages[r],context:i}),this.abortRequest(n.res,r,i);return}if(n._query.sid)xr("setting new request for existing client"),this.clients[n._query.sid].transport.onRequest(n);else{const a=(o,c)=>this.abortRequest(e,o,c);this.handshake(n._query.transport,n,a)}};this._applyMiddlewares(n,e,r=>{r?s(gi.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(n,!1,s)})}handleUpgrade(e,n,s){xr("on upgrade"),this.prepare(n,e),n.res=e;const r=async(i,a)=>{if(i!==void 0){this.emit("connection_error",{req:n,code:i,message:gi.Server.errorMessages[i],context:a}),this.abortRequest(e,i,a);return}const o=n._query.sid;let c;if(o){const l=this.clients[o];if(l){if(l.upgrading)return xr("transport has already been trying to upgrade"),e.close();if(l.upgraded)return xr("transport had already been upgraded"),e.close();xr("upgrading existing transport"),c=this.createTransport(n._query.transport,n),l._maybeUpgrade(c)}else return xr("upgrade attempt for closed client"),e.close()}else if(c=await this.handshake(n._query.transport,n,(l,u)=>this.abortRequest(e,l,u)),!c)return;n.res.writeStatus("101 Switching Protocols"),e.upgrade({transport:c},n.getHeader("sec-websocket-key"),n.getHeader("sec-websocket-protocol"),n.getHeader("sec-websocket-extensions"),s)};this._applyMiddlewares(n,e,i=>{i?r(gi.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(n,!0,r)})}abortRequest(e,n,s){const r=n===gi.Server.errors.FORBIDDEN?"403 Forbidden":"400 Bad Request",i=s&&s.message?s.message:gi.Server.errorMessages[n];e.writeStatus(r),e.writeHeader("Content-Type","application/json"),e.end(JSON.stringify({code:n,message:i}))}}zp.uServer=n8;class s8{constructor(e){this.res=e,this.statusWritten=!1,this.headers=[],this.isAborted=!1}set statusCode(e){e&&this.writeStatus(e===200?"200 OK":"204 No Content")}writeHead(e){this.statusCode=e}setHeader(e,n){Array.isArray(n)?n.forEach(s=>{this.writeHeader(e,s)}):this.writeHeader(e,n)}removeHeader(){}getHeader(){}writeStatus(e){if(!this.isAborted)return this.res.writeStatus(e),this.statusWritten=!0,this.writeBufferedHeaders(),this}writeHeader(e,n){this.isAborted||e!=="Content-Length"&&(this.statusWritten?this.res.writeHeader(e,n):this.headers.push([e,n]))}writeBufferedHeaders(){this.headers.forEach(([e,n])=>{this.res.writeHeader(e,n)})}end(e){this.isAborted||this.res.cork(()=>{this.statusWritten||this.writeBufferedHeaders(),this.res.end(e)})}onData(e){this.isAborted||this.res.onData(e)}onAborted(e){this.isAborted||this.res.onAborted(()=>{this.isAborted=!0,e()})}cork(e){this.isAborted||this.res.cork(e)}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.protocol=t.Transport=t.Socket=t.uServer=t.parser=t.transports=t.Server=void 0,t.listen=c,t.attach=l;const e=se,n=na;Object.defineProperty(t,"Server",{enumerable:!0,get:function(){return n.Server}});const s=Dp;t.transports=s.default;const r=On;t.parser=r;var i=zp;Object.defineProperty(t,"uServer",{enumerable:!0,get:function(){return i.uServer}});var a=Al;Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return a.Socket}});var o=pr;Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return o.Transport}}),t.protocol=r.protocol;function c(u,d,p){typeof d=="function"&&(p=d,d={});const y=(0,e.createServer)(function(f,v){v.writeHead(501),v.end("Not Implemented")}),m=l(y,d);return m.httpServer=y,y.listen(u,p),m}function l(u,d){const p=new n.Server(d);return p.attach(u,d),p}})(GP);var Qp={};const Vp=cp(jP);var Cg={exports:{}};function r8(t){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=r,n.enabled=a,n.humanize=Fp,n.destroy=l,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){let d,p=null,y,m;function f(...v){if(!f.enabled)return;const h=f,b=Number(new Date),g=b-(d||b);h.diff=g,h.prev=d,h.curr=b,d=b,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let x=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(_,w)=>{if(_==="%%")return"%";x++;const E=n.formatters[w];if(typeof E=="function"){const T=v[x];_=E.call(h,T),v.splice(x,1),x--}return _}),n.formatArgs.call(h,v),(h.log||n.log).apply(h,v)}return f.namespace=u,f.useColors=n.useColors(),f.color=n.selectColor(u),f.extend=s,f.destroy=n.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(y!==n.namespaces&&(y=n.namespaces,m=n.enabled(u)),m),set:v=>{p=v}}),typeof n.init=="function"&&n.init(f),f}function s(u,d){const p=n(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}function r(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let d;const p=(typeof u=="string"?u:"").split(/[\s,]+/),y=p.length;for(d=0;d<y;d++)p[d]&&(u=p[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...n.names.map(o),...n.skips.map(o).map(d=>"-"+d)].join(",");return n.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let d,p;for(d=0,p=n.skips.length;d<p;d++)if(n.skips[d].test(u))return!1;for(d=0,p=n.names.length;d<p;d++)if(n.names[d].test(u))return!0;return!1}function o(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var i8=r8;(function(t,e){var n={};e.formatArgs=r,e.save=i,e.load=a,e.useColors=s,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,p=0;l[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(d++,y==="%c"&&(p=d))}),l.splice(p,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function a(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=n.DEBUG),l}function o(){try{return localStorage}catch{}}t.exports=i8(e);const{formatters:c}=t.exports;c.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Cg,Cg.exports);var Po=Cg.exports;Object.defineProperty(Qp,"__esModule",{value:!0});Qp.Client=void 0;const du=Vp,a8=Po,o8=se,Yn=a8("socket.io:client");let c8=class{constructor(e,n){this.sockets=new Map,this.nsps=new Map,this.server=e,this.conn=n,this.encoder=e.encoder,this.decoder=new e._parser.Decoder,this.id=n.id,this.setup()}get request(){return this.conn.request}setup(){this.onclose=this.onclose.bind(this),this.ondata=this.ondata.bind(this),this.onerror=this.onerror.bind(this),this.ondecoded=this.ondecoded.bind(this),this.decoder.on("decoded",this.ondecoded),this.conn.on("data",this.ondata),this.conn.on("error",this.onerror),this.conn.on("close",this.onclose),this.connectTimeout=setTimeout(()=>{this.nsps.size===0?(Yn("no namespace joined yet, close the client"),this.close()):Yn("the client has already joined a namespace, nothing to do")},this.server._connectTimeout)}connect(e,n={}){if(this.server._nsps.has(e))return Yn("connecting to namespace %s",e),this.doConnect(e,n);this.server._checkNamespace(e,n,s=>{s?this.doConnect(e,n):(Yn("creation of namespace %s was denied",e),this._packet({type:du.PacketType.CONNECT_ERROR,nsp:e,data:{message:"Invalid namespace"}}))})}doConnect(e,n){const s=this.server.of(e);s._add(this,n,r=>{this.sockets.set(r.id,r),this.nsps.set(s.name,r),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)})}_disconnect(){for(const e of this.sockets.values())e.disconnect();this.sockets.clear(),this.close()}_remove(e){if(this.sockets.has(e.id)){const n=this.sockets.get(e.id).nsp.name;this.sockets.delete(e.id),this.nsps.delete(n)}else Yn("ignoring remove for %s",e.id)}close(){this.conn.readyState==="open"&&(Yn("forcing transport close"),this.conn.close(),this.onclose("forced server close"))}_packet(e,n={}){if(this.conn.readyState!=="open"){Yn("ignoring packet write %j",e);return}const s=n.preEncoded?e:this.encoder.encode(e);this.writeToEngine(s,n)}writeToEngine(e,n){if(n.volatile&&!this.conn.transport.writable){Yn("volatile packet is discarded since the transport is not currently writable");return}const s=Array.isArray(e)?e:[e];for(const r of s)this.conn.write(r,n)}ondata(e){try{this.decoder.add(e)}catch(n){Yn("invalid packet format"),this.onerror(n)}}ondecoded(e){let n,s;if(this.conn.protocol===3){const i=o8.parse(e.nsp,!0);n=i.pathname,s=i.query}else n=e.nsp,s=e.data;const r=this.nsps.get(n);!r&&e.type===du.PacketType.CONNECT?this.connect(n,s):r&&e.type!==du.PacketType.CONNECT&&e.type!==du.PacketType.CONNECT_ERROR?process.nextTick(function(){r._onpacket(e)}):(Yn("invalid state (packet type: %s)",e.type),this.close())}onerror(e){for(const n of this.sockets.values())n._onerror(e);this.conn.close()}onclose(e,n){Yn("client close with reason %s",e),this.destroy();for(const s of this.sockets.values())s._onclose(e,n);this.sockets.clear(),this.decoder.destroy()}destroy(){this.conn.removeListener("data",this.ondata),this.conn.removeListener("error",this.onerror),this.conn.removeListener("close",this.onclose),this.decoder.removeListener("decoded",this.ondecoded),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)}};Qp.Client=c8;var Bv={},Tl={},Io={};Object.defineProperty(Io,"__esModule",{value:!0});Io.StrictEventEmitter=void 0;const l8=se;class u8 extends l8.EventEmitter{on(e,n){return super.on(e,n)}once(e,n){return super.once(e,n)}emit(e,...n){return super.emit(e,...n)}emitReserved(e,...n){return super.emit(e,...n)}emitUntyped(e,...n){return super.emit(e,...n)}listeners(e){return super.listeners(e)}}Io.StrictEventEmitter=u8;var ra={},Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.RESERVED_EVENTS=void 0;Nl.RESERVED_EVENTS=new Set(["connect","connect_error","disconnect","disconnecting","newListener","removeListener"]);Object.defineProperty(ra,"__esModule",{value:!0});ra.RemoteSocket=ra.BroadcastOperator=void 0;const d8=Nl,p8=Vp;class Gs{constructor(e,n=new Set,s=new Set,r={}){this.adapter=e,this.rooms=n,this.exceptRooms=s,this.flags=r}to(e){const n=new Set(this.rooms);return Array.isArray(e)?e.forEach(s=>n.add(s)):n.add(e),new Gs(this.adapter,n,this.exceptRooms,this.flags)}in(e){return this.to(e)}except(e){const n=new Set(this.exceptRooms);return Array.isArray(e)?e.forEach(s=>n.add(s)):n.add(e),new Gs(this.adapter,this.rooms,n,this.flags)}compress(e){const n=Object.assign({},this.flags,{compress:e});return new Gs(this.adapter,this.rooms,this.exceptRooms,n)}get volatile(){const e=Object.assign({},this.flags,{volatile:!0});return new Gs(this.adapter,this.rooms,this.exceptRooms,e)}get local(){const e=Object.assign({},this.flags,{local:!0});return new Gs(this.adapter,this.rooms,this.exceptRooms,e)}timeout(e){const n=Object.assign({},this.flags,{timeout:e});return new Gs(this.adapter,this.rooms,this.exceptRooms,n)}emit(e,...n){if(d8.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);const s=[e,...n],r={type:p8.PacketType.EVENT,data:s};if(!(typeof s[s.length-1]=="function"))return this.adapter.broadcast(r,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags}),!0;const a=s.pop();let o=!1,c=[];const l=setTimeout(()=>{o=!0,a.apply(this,[new Error("operation has timed out"),this.flags.expectSingleResponse?null:c])},this.flags.timeout);let u=-1,d=0,p=0;const y=()=>{!o&&u===d&&c.length===p&&(clearTimeout(l),a.apply(this,[null,this.flags.expectSingleResponse?c[0]:c]))};return this.adapter.broadcastWithAck(r,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags},m=>{p+=m,d++,y()},m=>{c.push(m),y()}),this.adapter.serverCount().then(m=>{u=m,y()}),!0}emitWithAck(e,...n){return new Promise((s,r)=>{n.push((i,a)=>i?(i.responses=a,r(i)):s(a)),this.emit(e,...n)})}allSockets(){if(!this.adapter)throw new Error("No adapter for this namespace, are you trying to get the list of clients of a dynamic namespace?");return this.adapter.sockets(this.rooms)}fetchSockets(){return this.adapter.fetchSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags}).then(e=>e.map(n=>n.server?n:new s2(this.adapter,n)))}socketsJoin(e){this.adapter.addSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}socketsLeave(e){this.adapter.delSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}disconnectSockets(e=!1){this.adapter.disconnectSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},e)}}ra.BroadcastOperator=Gs;class s2{constructor(e,n){this.id=n.id,this.handshake=n.handshake,this.rooms=new Set(n.rooms),this.data=n.data,this.operator=new Gs(e,new Set([this.id]),new Set,{expectSingleResponse:!0})}timeout(e){return this.operator.timeout(e)}emit(e,...n){return this.operator.emit(e,...n)}join(e){return this.operator.socketsJoin(e)}leave(e){return this.operator.socketsLeave(e)}disconnect(e=!1){return this.operator.disconnectSockets(e),this}}ra.RemoteSocket=s2;var r2=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.Socket=void 0;const Dn=Vp,f8=r2(Po),h8=Io,ow=r2(KP),m8=ra,g8=Nl,zt=(0,f8.default)("socket.io:socket"),y8=new Set(["transport error","transport close","forced close","ping timeout","server shutting down","forced server close"]);function cw(){}let v8=class extends h8.StrictEventEmitter{constructor(e,n,s,r){super(),this.nsp=e,this.client=n,this.recovered=!1,this.data={},this.connected=!1,this.acks=new Map,this.fns=[],this.flags={},this.server=e.server,this.adapter=this.nsp.adapter,r?(this.id=r.sid,this.pid=r.pid,r.rooms.forEach(i=>this.join(i)),this.data=r.data,r.missedPackets.forEach(i=>{this.packet({type:Dn.PacketType.EVENT,data:i})}),this.recovered=!0):(n.conn.protocol===3?this.id=e.name!=="/"?e.name+"#"+n.id:n.id:this.id=ow.default.generateId(),this.server._opts.connectionStateRecovery&&(this.pid=ow.default.generateId())),this.handshake=this.buildHandshake(s),this.on("error",cw)}buildHandshake(e){var n,s,r,i;return{headers:((n=this.request)===null||n===void 0?void 0:n.headers)||{},time:new Date+"",address:this.conn.remoteAddress,xdomain:!!(!((s=this.request)===null||s===void 0)&&s.headers.origin),secure:!this.request||!!this.request.connection.encrypted,issued:+new Date,url:(r=this.request)===null||r===void 0?void 0:r.url,query:((i=this.request)===null||i===void 0?void 0:i._query)||{},auth:e}}emit(e,...n){if(g8.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);const s=[e,...n],r={type:Dn.PacketType.EVENT,data:s};if(typeof s[s.length-1]=="function"){const a=this.nsp._ids++;zt("emitting packet with ack id %d",a),this.registerAckCallback(a,s.pop()),r.id=a}const i=Object.assign({},this.flags);return this.flags={},this.nsp.server.opts.connectionStateRecovery?this.adapter.broadcast(r,{rooms:new Set([this.id]),except:new Set,flags:i}):(this.notifyOutgoingListeners(r),this.packet(r,i)),!0}emitWithAck(e,...n){const s=this.flags.timeout!==void 0;return new Promise((r,i)=>{n.push((a,o)=>s?a?i(a):r(o):r(a)),this.emit(e,...n)})}registerAckCallback(e,n){const s=this.flags.timeout;if(s===void 0){this.acks.set(e,n);return}const r=setTimeout(()=>{zt("event with ack id %d has timed out after %d ms",e,s),this.acks.delete(e),n.call(this,new Error("operation has timed out"))},s);this.acks.set(e,(...i)=>{clearTimeout(r),n.apply(this,[null,...i])})}to(e){return this.newBroadcastOperator().to(e)}in(e){return this.newBroadcastOperator().in(e)}except(e){return this.newBroadcastOperator().except(e)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}packet(e,n={}){e.nsp=this.nsp.name,n.compress=n.compress!==!1,this.client._packet(e,n)}join(e){return zt("join room %s",e),this.adapter.addAll(this.id,new Set(Array.isArray(e)?e:[e]))}leave(e){return zt("leave room %s",e),this.adapter.del(this.id,e)}leaveAll(){this.adapter.delAll(this.id)}_onconnect(){zt("socket connected - writing packet"),this.connected=!0,this.join(this.id),this.conn.protocol===3?this.packet({type:Dn.PacketType.CONNECT}):this.packet({type:Dn.PacketType.CONNECT,data:{sid:this.id,pid:this.pid}})}_onpacket(e){switch(zt("got packet %j",e),e.type){case Dn.PacketType.EVENT:this.onevent(e);break;case Dn.PacketType.BINARY_EVENT:this.onevent(e);break;case Dn.PacketType.ACK:this.onack(e);break;case Dn.PacketType.BINARY_ACK:this.onack(e);break;case Dn.PacketType.DISCONNECT:this.ondisconnect();break}}onevent(e){const n=e.data||[];if(zt("emitting event %j",n),e.id!=null&&(zt("attaching ack callback to event"),n.push(this.ack(e.id))),this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const r of s)r.apply(this,n)}this.dispatch(n)}ack(e){const n=this;let s=!1;return function(){if(s)return;const r=Array.prototype.slice.call(arguments);zt("sending ack %j",r),n.packet({id:e,type:Dn.PacketType.ACK,data:r}),s=!0}}onack(e){const n=this.acks.get(e.id);typeof n=="function"?(zt("calling ack %s with %j",e.id,e.data),n.apply(this,e.data),this.acks.delete(e.id)):zt("bad ack %s",e.id)}ondisconnect(){zt("got disconnect packet"),this._onclose("client namespace disconnect")}_onerror(e){this.emitReserved("error",e)}_onclose(e,n){if(!this.connected)return this;zt("closing socket - reason %s",e),this.emitReserved("disconnecting",e,n),this.server._opts.connectionStateRecovery&&y8.has(e)&&(zt("connection state recovery is enabled for sid %s",this.id),this.adapter.persistSession({sid:this.id,pid:this.pid,rooms:[...this.rooms],data:this.data})),this._cleanup(),this.client._remove(this),this.connected=!1,this.emitReserved("disconnect",e,n)}_cleanup(){this.leaveAll(),this.nsp._remove(this),this.join=cw}_error(e){this.packet({type:Dn.PacketType.CONNECT_ERROR,data:e})}disconnect(e=!1){return this.connected?(e?this.client._disconnect():(this.packet({type:Dn.PacketType.DISCONNECT}),this._onclose("server namespace disconnect")),this):this}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}get broadcast(){return this.newBroadcastOperator()}get local(){return this.newBroadcastOperator().local}timeout(e){return this.flags.timeout=e,this}dispatch(e){zt("dispatching an event %j",e),this.run(e,n=>{process.nextTick(()=>{if(n)return this._onerror(n);this.connected?super.emitUntyped.apply(this,e):zt("ignore packet received after disconnection")})})}use(e){return this.fns.push(e),this}run(e,n){if(!this.fns.length)return n();const s=this.fns.slice(0);function r(i){s[i](e,a=>{if(a)return n(a);if(!s[i+1])return n();r(i+1)})}r(0)}get disconnected(){return!this.connected}get request(){return this.client.request}get conn(){return this.client.conn}get rooms(){return this.adapter.socketRooms(this.id)||new Set}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}newBroadcastOperator(){const e=Object.assign({},this.flags);return this.flags={},new m8.BroadcastOperator(this.adapter,new Set,new Set([this.id]),e)}};Tl.Socket=v8;(function(t){var e=rt&&rt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.Namespace=t.RESERVED_EVENTS=void 0;const n=Tl,s=Io,r=e(Po),i=ra,a=(0,r.default)("socket.io:namespace");t.RESERVED_EVENTS=new Set(["connect","connection","new_namespace"]);class o extends s.StrictEventEmitter{constructor(l,u){super(),this.sockets=new Map,this._preConnectSockets=new Map,this._fns=[],this._ids=0,this.server=l,this.name=u,this._initAdapter()}_initAdapter(){this.adapter=new(this.server.adapter())(this)}use(l){return this._fns.push(l),this}run(l,u){if(!this._fns.length)return u();const d=this._fns.slice(0);function p(y){d[y](l,m=>{if(m)return u(m);if(!d[y+1])return u();p(y+1)})}p(0)}to(l){return new i.BroadcastOperator(this.adapter).to(l)}in(l){return new i.BroadcastOperator(this.adapter).in(l)}except(l){return new i.BroadcastOperator(this.adapter).except(l)}async _add(l,u,d){var p;a("adding socket to nsp %s",this.name);const y=await this._createSocket(l,u);if(this._preConnectSockets.set(y.id,y),!((p=this.server.opts.connectionStateRecovery)===null||p===void 0)&&p.skipMiddlewares&&y.recovered&&l.conn.readyState==="open")return this._doConnect(y,d);this.run(y,m=>{process.nextTick(()=>{if(l.conn.readyState!=="open"){a("next called after client was closed - ignoring socket"),y._cleanup();return}if(m)return a("middleware error, sending CONNECT_ERROR packet to the client"),y._cleanup(),l.conn.protocol===3?y._error(m.data||m.message):y._error({message:m.message,data:m.data});this._doConnect(y,d)})})}async _createSocket(l,u){const d=u.pid,p=u.offset;if(this.server.opts.connectionStateRecovery&&typeof d=="string"&&typeof p=="string"){let y;try{y=await this.adapter.restoreSession(d,p)}catch(m){a("error while restoring session: %s",m)}if(y)return a("connection state recovered for sid %s",y.sid),new n.Socket(this,l,u,y)}return new n.Socket(this,l,u)}_doConnect(l,u){this._preConnectSockets.delete(l.id),this.sockets.set(l.id,l),l._onconnect(),u&&u(l),this.emitReserved("connect",l),this.emitReserved("connection",l)}_remove(l){this.sockets.delete(l.id)||this._preConnectSockets.delete(l.id)}emit(l,...u){return new i.BroadcastOperator(this.adapter).emit(l,...u)}send(...l){return this.emit("message",...l),this}write(...l){return this.emit("message",...l),this}serverSideEmit(l,...u){if(t.RESERVED_EVENTS.has(l))throw new Error(`"${String(l)}" is a reserved event name`);return u.unshift(l),this.adapter.serverSideEmit(u),!0}serverSideEmitWithAck(l,...u){return new Promise((d,p)=>{u.push((y,m)=>y?(y.responses=m,p(y)):d(m)),this.serverSideEmit(l,...u)})}_onServerSideEmit(l){super.emitUntyped.apply(this,l)}allSockets(){return new i.BroadcastOperator(this.adapter).allSockets()}compress(l){return new i.BroadcastOperator(this.adapter).compress(l)}get volatile(){return new i.BroadcastOperator(this.adapter).volatile}get local(){return new i.BroadcastOperator(this.adapter).local}timeout(l){return new i.BroadcastOperator(this.adapter).timeout(l)}fetchSockets(){return new i.BroadcastOperator(this.adapter).fetchSockets()}socketsJoin(l){return new i.BroadcastOperator(this.adapter).socketsJoin(l)}socketsLeave(l){return new i.BroadcastOperator(this.adapter).socketsLeave(l)}disconnectSockets(l=!1){return new i.BroadcastOperator(this.adapter).disconnectSockets(l)}}t.Namespace=o})(Bv);var Hp={},Gp={},ia={},ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.yeast=ni.decode=ni.encode=void 0;const i2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Vd=64,a2={};let lw=0,Ur=0,uw;function Ag(t){let e="";do e=i2[t%Vd]+e,t=Math.floor(t/Vd);while(t>0);return e}ni.encode=Ag;function b8(t){let e=0;for(Ur=0;Ur<t.length;Ur++)e=e*Vd+a2[t.charAt(Ur)];return e}ni.decode=b8;function x8(){const t=Ag(+new Date);return t!==uw?(lw=0,uw=t):t+"."+Ag(lw++)}ni.yeast=x8;for(;Ur<Vd;Ur++)a2[i2[Ur]]=Ur;var w8=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},fh;Object.defineProperty(ia,"__esModule",{value:!0});ia.SessionAwareAdapter=ia.Adapter=void 0;const S8=se,_8=ni,Xu=w8,E8=typeof((fh=Xu==null?void 0:Xu.Sender)===null||fh===void 0?void 0:fh.frame)=="function";class o2 extends S8.EventEmitter{constructor(e){super(),this.nsp=e,this.rooms=new Map,this.sids=new Map,this.encoder=e.server.encoder}init(){}close(){}serverCount(){return Promise.resolve(1)}addAll(e,n){this.sids.has(e)||this.sids.set(e,new Set);for(const s of n)this.sids.get(e).add(s),this.rooms.has(s)||(this.rooms.set(s,new Set),this.emit("create-room",s)),this.rooms.get(s).has(e)||(this.rooms.get(s).add(e),this.emit("join-room",s,e))}del(e,n){this.sids.has(e)&&this.sids.get(e).delete(n),this._del(n,e)}_del(e,n){const s=this.rooms.get(e);s!=null&&(s.delete(n)&&this.emit("leave-room",e,n),s.size===0&&this.rooms.delete(e)&&this.emit("delete-room",e))}delAll(e){if(this.sids.has(e)){for(const n of this.sids.get(e))this._del(n,e);this.sids.delete(e)}}broadcast(e,n){const s=n.flags||{},r={preEncoded:!0,volatile:s.volatile,compress:s.compress};e.nsp=this.nsp.name;const i=this._encode(e,r);this.apply(n,a=>{typeof a.notifyOutgoingListeners=="function"&&a.notifyOutgoingListeners(e),a.client.writeToEngine(i,r)})}broadcastWithAck(e,n,s,r){const i=n.flags||{},a={preEncoded:!0,volatile:i.volatile,compress:i.compress};e.nsp=this.nsp.name,e.id=this.nsp._ids++;const o=this._encode(e,a);let c=0;this.apply(n,l=>{c++,l.acks.set(e.id,r),typeof l.notifyOutgoingListeners=="function"&&l.notifyOutgoingListeners(e),l.client.writeToEngine(o,a)}),s(c)}_encode(e,n){const s=this.encoder.encode(e);if(E8&&s.length===1&&typeof s[0]=="string"){const r=Buffer.from("4"+s[0]);n.wsPreEncodedFrame=Xu.Sender.frame(r,{readOnly:!1,mask:!1,rsv1:!1,opcode:1,fin:!0})}return s}sockets(e){const n=new Set;return this.apply({rooms:e},s=>{n.add(s.id)}),Promise.resolve(n)}socketRooms(e){return this.sids.get(e)}fetchSockets(e){const n=[];return this.apply(e,s=>{n.push(s)}),Promise.resolve(n)}addSockets(e,n){this.apply(e,s=>{s.join(n)})}delSockets(e,n){this.apply(e,s=>{n.forEach(r=>s.leave(r))})}disconnectSockets(e,n){this.apply(e,s=>{s.disconnect(n)})}apply(e,n){const s=e.rooms,r=this.computeExceptSids(e.except);if(s.size){const i=new Set;for(const a of s)if(this.rooms.has(a))for(const o of this.rooms.get(a)){if(i.has(o)||r.has(o))continue;const c=this.nsp.sockets.get(o);c&&(n(c),i.add(o))}}else for(const[i]of this.sids){if(r.has(i))continue;const a=this.nsp.sockets.get(i);a&&n(a)}}computeExceptSids(e){const n=new Set;if(e&&e.size>0)for(const s of e)this.rooms.has(s)&&this.rooms.get(s).forEach(r=>n.add(r));return n}serverSideEmit(e){console.warn("this adapter does not support the serverSideEmit() functionality")}persistSession(e){}restoreSession(e,n){return null}}ia.Adapter=o2;class k8 extends o2{constructor(e){super(e),this.nsp=e,this.sessions=new Map,this.packets=[],this.maxDisconnectionDuration=e.server.opts.connectionStateRecovery.maxDisconnectionDuration,setInterval(()=>{const s=Date.now()-this.maxDisconnectionDuration;this.sessions.forEach((r,i)=>{r.disconnectedAt<s&&this.sessions.delete(i)});for(let r=this.packets.length-1;r>=0;r--)if(this.packets[r].emittedAt<s){this.packets.splice(0,r+1);break}},60*1e3).unref()}persistSession(e){e.disconnectedAt=Date.now(),this.sessions.set(e.pid,e)}restoreSession(e,n){const s=this.sessions.get(e);if(!s)return null;if(s.disconnectedAt+this.maxDisconnectionDuration<Date.now())return this.sessions.delete(e),null;const i=this.packets.findIndex(o=>o.id===n);if(i===-1)return null;const a=[];for(let o=i+1;o<this.packets.length;o++){const c=this.packets[o];C8(s.rooms,c.opts)&&a.push(c.data)}return Promise.resolve(Object.assign(Object.assign({},s),{missedPackets:a}))}broadcast(e,n){var s;const r=e.type===2,i=e.id===void 0,a=((s=n.flags)===null||s===void 0?void 0:s.volatile)===void 0;if(r&&i&&a){const o=(0,_8.yeast)();e.data.push(o),this.packets.push({id:o,opts:n,data:e.data,emittedAt:Date.now()})}super.broadcast(e,n)}}ia.SessionAwareAdapter=k8;function C8(t,e){const n=e.rooms.size===0||t.some(r=>e.rooms.has(r)),s=t.every(r=>!e.except.has(r));return n&&s}var c2={},Tg={exports:{}};function A8(t){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=r,n.enabled=a,n.humanize=Fp,n.destroy=l,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){let d,p=null,y,m;function f(...v){if(!f.enabled)return;const h=f,b=Number(new Date),g=b-(d||b);h.diff=g,h.prev=d,h.curr=b,d=b,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let x=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(_,w)=>{if(_==="%%")return"%";x++;const E=n.formatters[w];if(typeof E=="function"){const T=v[x];_=E.call(h,T),v.splice(x,1),x--}return _}),n.formatArgs.call(h,v),(h.log||n.log).apply(h,v)}return f.namespace=u,f.useColors=n.useColors(),f.color=n.selectColor(u),f.extend=s,f.destroy=n.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(y!==n.namespaces&&(y=n.namespaces,m=n.enabled(u)),m),set:v=>{p=v}}),typeof n.init=="function"&&n.init(f),f}function s(u,d){const p=n(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}function r(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let d;const p=(typeof u=="string"?u:"").split(/[\s,]+/),y=p.length;for(d=0;d<y;d++)p[d]&&(u=p[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...n.names.map(o),...n.skips.map(o).map(d=>"-"+d)].join(",");return n.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let d,p;for(d=0,p=n.skips.length;d<p;d++)if(n.skips[d].test(u))return!1;for(d=0,p=n.names.length;d<p;d++)if(n.names[d].test(u))return!0;return!1}function o(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var T8=A8;(function(t,e){var n={};e.formatArgs=r,e.save=i,e.load=a,e.useColors=s,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,p=0;l[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(d++,y==="%c"&&(p=d))}),l.splice(p,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function a(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=n.DEBUG),l}function o(){try{return localStorage}catch{}}t.exports=T8(e);const{formatters:c}=t.exports;c.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Tg,Tg.exports);var N8=Tg.exports;(function(t){var e=rt&&rt.__rest||function(m,f){var v={};for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&f.indexOf(h)<0&&(v[h]=m[h]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,h=Object.getOwnPropertySymbols(m);b<h.length;b++)f.indexOf(h[b])<0&&Object.prototype.propertyIsEnumerable.call(m,h[b])&&(v[h[b]]=m[h[b]]);return v};Object.defineProperty(t,"__esModule",{value:!0}),t.ClusterAdapterWithHeartbeat=t.ClusterAdapter=t.MessageType=void 0;const n=ia,s=N8,r=se,i=(0,s.debug)("socket.io-adapter"),a="emitter",o=5e3;function c(){return(0,r.randomBytes)(8).toString("hex")}var l;(function(m){m[m.INITIAL_HEARTBEAT=1]="INITIAL_HEARTBEAT",m[m.HEARTBEAT=2]="HEARTBEAT",m[m.BROADCAST=3]="BROADCAST",m[m.SOCKETS_JOIN=4]="SOCKETS_JOIN",m[m.SOCKETS_LEAVE=5]="SOCKETS_LEAVE",m[m.DISCONNECT_SOCKETS=6]="DISCONNECT_SOCKETS",m[m.FETCH_SOCKETS=7]="FETCH_SOCKETS",m[m.FETCH_SOCKETS_RESPONSE=8]="FETCH_SOCKETS_RESPONSE",m[m.SERVER_SIDE_EMIT=9]="SERVER_SIDE_EMIT",m[m.SERVER_SIDE_EMIT_RESPONSE=10]="SERVER_SIDE_EMIT_RESPONSE",m[m.BROADCAST_CLIENT_COUNT=11]="BROADCAST_CLIENT_COUNT",m[m.BROADCAST_ACK=12]="BROADCAST_ACK",m[m.ADAPTER_CLOSE=13]="ADAPTER_CLOSE"})(l=t.MessageType||(t.MessageType={}));function u(m){return{rooms:[...m.rooms],except:[...m.except],flags:m.flags}}function d(m){return{rooms:new Set(m.rooms),except:new Set(m.except),flags:m.flags}}class p extends n.Adapter{constructor(f){super(f),this.requests=new Map,this.ackRequests=new Map,this.uid=c()}onMessage(f,v){if(f.uid===this.uid)return i("[%s] ignore message from self",this.uid);switch(i("[%s] new event of type %d from %s",this.uid,f.type,f.uid),f.type){case l.BROADCAST:{if(f.data.requestId!==void 0)super.broadcastWithAck(f.data.packet,d(f.data.opts),b=>{i("[%s] waiting for %d client acknowledgements",this.uid,b),this.publishResponse(f.uid,{type:l.BROADCAST_CLIENT_COUNT,data:{requestId:f.data.requestId,clientCount:b}})},b=>{i("[%s] received acknowledgement with value %j",this.uid,b),this.publishResponse(f.uid,{type:l.BROADCAST_ACK,data:{requestId:f.data.requestId,packet:b}})});else{const b=f.data.packet,g=d(f.data.opts);this.addOffsetIfNecessary(b,g,v),super.broadcast(b,g)}break}case l.SOCKETS_JOIN:super.addSockets(d(f.data.opts),f.data.rooms);break;case l.SOCKETS_LEAVE:super.delSockets(d(f.data.opts),f.data.rooms);break;case l.DISCONNECT_SOCKETS:super.disconnectSockets(d(f.data.opts),f.data.close);break;case l.FETCH_SOCKETS:{i("[%s] calling fetchSockets with opts %j",this.uid,f.data.opts),super.fetchSockets(d(f.data.opts)).then(h=>{this.publishResponse(f.uid,{type:l.FETCH_SOCKETS_RESPONSE,data:{requestId:f.data.requestId,sockets:h.map(b=>{const g=b.handshake,{sessionStore:x}=g,k=e(g,["sessionStore"]);return{id:b.id,handshake:k,rooms:[...b.rooms],data:b.data}})}})});break}case l.SERVER_SIDE_EMIT:{const h=f.data.packet;if(!(f.data.requestId!==void 0)){this.nsp._onServerSideEmit(h);return}let g=!1;const x=k=>{g||(g=!0,i("[%s] calling acknowledgement with %j",this.uid,k),this.publishResponse(f.uid,{type:l.SERVER_SIDE_EMIT_RESPONSE,data:{requestId:f.data.requestId,packet:k}}))};this.nsp._onServerSideEmit([...h,x]);break}case l.BROADCAST_CLIENT_COUNT:case l.BROADCAST_ACK:case l.FETCH_SOCKETS_RESPONSE:case l.SERVER_SIDE_EMIT_RESPONSE:this.onResponse(f);break;default:i("[%s] unknown message type: %s",this.uid,f.type)}}onResponse(f){var v,h;const b=f.data.requestId;switch(i("[%s] received response %s to request %s",this.uid,f.type,b),f.type){case l.BROADCAST_CLIENT_COUNT:{(v=this.ackRequests.get(b))===null||v===void 0||v.clientCountCallback(f.data.clientCount);break}case l.BROADCAST_ACK:{(h=this.ackRequests.get(b))===null||h===void 0||h.ack(f.data.packet);break}case l.FETCH_SOCKETS_RESPONSE:{const g=this.requests.get(b);if(!g)return;g.current++,f.data.sockets.forEach(x=>g.responses.push(x)),g.current===g.expected&&(clearTimeout(g.timeout),g.resolve(g.responses),this.requests.delete(b));break}case l.SERVER_SIDE_EMIT_RESPONSE:{const g=this.requests.get(b);if(!g)return;g.current++,g.responses.push(f.data.packet),g.current===g.expected&&(clearTimeout(g.timeout),g.resolve(null,g.responses),this.requests.delete(b));break}default:i("[%s] unknown response type: %s",this.uid,f.type)}}async broadcast(f,v){var h;if(!((h=v.flags)===null||h===void 0?void 0:h.local))try{const g=await this.publishAndReturnOffset({type:l.BROADCAST,data:{packet:f,opts:u(v)}});this.addOffsetIfNecessary(f,v,g)}catch(g){return i("[%s] error while broadcasting message: %s",this.uid,g.message)}super.broadcast(f,v)}addOffsetIfNecessary(f,v,h){var b;if(!this.nsp.server.opts.connectionStateRecovery)return;const g=f.type===2,x=f.id===void 0,k=((b=v.flags)===null||b===void 0?void 0:b.volatile)===void 0;g&&x&&k&&f.data.push(h)}broadcastWithAck(f,v,h,b){var g;if(!((g=v==null?void 0:v.flags)===null||g===void 0?void 0:g.local)){const k=c();this.ackRequests.set(k,{clientCountCallback:h,ack:b}),this.publish({type:l.BROADCAST,data:{packet:f,requestId:k,opts:u(v)}}),setTimeout(()=>{this.ackRequests.delete(k)},v.flags.timeout)}super.broadcastWithAck(f,v,h,b)}async addSockets(f,v){var h;if(!((h=f.flags)===null||h===void 0?void 0:h.local))try{await this.publishAndReturnOffset({type:l.SOCKETS_JOIN,data:{opts:u(f),rooms:v}})}catch(g){i("[%s] error while publishing message: %s",this.uid,g.message)}super.addSockets(f,v)}async delSockets(f,v){var h;if(!((h=f.flags)===null||h===void 0?void 0:h.local))try{await this.publishAndReturnOffset({type:l.SOCKETS_LEAVE,data:{opts:u(f),rooms:v}})}catch(g){i("[%s] error while publishing message: %s",this.uid,g.message)}super.delSockets(f,v)}async disconnectSockets(f,v){var h;if(!((h=f.flags)===null||h===void 0?void 0:h.local))try{await this.publishAndReturnOffset({type:l.DISCONNECT_SOCKETS,data:{opts:u(f),close:v}})}catch(g){i("[%s] error while publishing message: %s",this.uid,g.message)}super.disconnectSockets(f,v)}async fetchSockets(f){var v;const[h,b]=await Promise.all([super.fetchSockets(f),this.serverCount()]),g=b-1;if(!((v=f.flags)===null||v===void 0)&&v.local||g<=0)return h;const x=c();return new Promise((k,_)=>{const w=setTimeout(()=>{const T=this.requests.get(x);T&&(_(new Error(`timeout reached: only ${T.current} responses received out of ${T.expected}`)),this.requests.delete(x))},f.flags.timeout||o),E={type:l.FETCH_SOCKETS,resolve:k,timeout:w,current:0,expected:g,responses:h};this.requests.set(x,E),this.publish({type:l.FETCH_SOCKETS,data:{opts:u(f),requestId:x}})})}async serverSideEmit(f){if(!(typeof f[f.length-1]=="function"))return this.publish({type:l.SERVER_SIDE_EMIT,data:{packet:f}});const h=f.pop(),b=await this.serverCount()-1;if(i('[%s] waiting for %d responses to "serverSideEmit" request',this.uid,b),b<=0)return h(null,[]);const g=c(),x=setTimeout(()=>{const _=this.requests.get(g);_&&(h(new Error(`timeout reached: only ${_.current} responses received out of ${_.expected}`),_.responses),this.requests.delete(g))},o),k={type:l.SERVER_SIDE_EMIT,resolve:h,timeout:x,current:0,expected:b,responses:[]};this.requests.set(g,k),this.publish({type:l.SERVER_SIDE_EMIT,data:{requestId:g,packet:f}})}publish(f){this.publishAndReturnOffset(f).catch(v=>{i("[%s] error while publishing message: %s",this.uid,v)})}publishAndReturnOffset(f){return f.uid=this.uid,f.nsp=this.nsp.name,this.doPublish(f)}publishResponse(f,v){v.uid=this.uid,v.nsp=this.nsp.name,this.doPublishResponse(f,v).catch(h=>{i("[%s] error while publishing response: %s",this.uid,h)})}}t.ClusterAdapter=p;class y extends p{constructor(f,v){super(f),this.nodesMap=new Map,this.customRequests=new Map,this._opts=Object.assign({heartbeatInterval:5e3,heartbeatTimeout:1e4},v),this.cleanupTimer=setInterval(()=>{const h=Date.now();this.nodesMap.forEach((b,g)=>{h-b>this._opts.heartbeatTimeout&&(i("[%s] node %s seems down",this.uid,g),this.removeNode(g))})},1e3)}init(){this.publish({type:l.INITIAL_HEARTBEAT})}scheduleHeartbeat(){this.heartbeatTimer?this.heartbeatTimer.refresh():this.heartbeatTimer=setTimeout(()=>{this.publish({type:l.HEARTBEAT})},this._opts.heartbeatInterval)}close(){this.publish({type:l.ADAPTER_CLOSE}),clearTimeout(this.heartbeatTimer),this.cleanupTimer&&clearInterval(this.cleanupTimer)}onMessage(f,v){if(f.uid===this.uid)return i("[%s] ignore message from self",this.uid);switch(f.uid&&f.uid!==a&&this.nodesMap.set(f.uid,Date.now()),i("[%s] new event of type %d from %s",this.uid,f.type,f.uid),f.type){case l.INITIAL_HEARTBEAT:this.publish({type:l.HEARTBEAT});break;case l.HEARTBEAT:break;case l.ADAPTER_CLOSE:this.removeNode(f.uid);break;default:super.onMessage(f,v)}}serverCount(){return Promise.resolve(1+this.nodesMap.size)}publish(f){return this.scheduleHeartbeat(),super.publish(f)}async serverSideEmit(f){if(!(typeof f[f.length-1]=="function"))return this.publish({type:l.SERVER_SIDE_EMIT,data:{packet:f}});const h=f.pop(),b=this.nodesMap.size;if(i('[%s] waiting for %d responses to "serverSideEmit" request',this.uid,b),b<=0)return h(null,[]);const g=c(),x=setTimeout(()=>{const _=this.customRequests.get(g);_&&(h(new Error(`timeout reached: missing ${_.missingUids.size} responses`),_.responses),this.customRequests.delete(g))},o),k={type:l.SERVER_SIDE_EMIT,resolve:h,timeout:x,missingUids:new Set([...this.nodesMap.keys()]),responses:[]};this.customRequests.set(g,k),this.publish({type:l.SERVER_SIDE_EMIT,data:{requestId:g,packet:f}})}async fetchSockets(f){var v;const[h,b]=await Promise.all([super.fetchSockets({rooms:f.rooms,except:f.except,flags:{local:!0}}),this.serverCount()]),g=b-1;if(!((v=f.flags)===null||v===void 0)&&v.local||g<=0)return h;const x=c();return new Promise((k,_)=>{const w=setTimeout(()=>{const T=this.customRequests.get(x);T&&(_(new Error(`timeout reached: missing ${T.missingUids.size} responses`)),this.customRequests.delete(x))},f.flags.timeout||o),E={type:l.FETCH_SOCKETS,resolve:k,timeout:w,missingUids:new Set([...this.nodesMap.keys()]),responses:h};this.customRequests.set(x,E),this.publish({type:l.FETCH_SOCKETS,data:{opts:u(f),requestId:x}})})}onResponse(f){const v=f.data.requestId;switch(i("[%s] received response %s to request %s",this.uid,f.type,v),f.type){case l.FETCH_SOCKETS_RESPONSE:{const h=this.customRequests.get(v);if(!h)return;f.data.sockets.forEach(b=>h.responses.push(b)),h.missingUids.delete(f.uid),h.missingUids.size===0&&(clearTimeout(h.timeout),h.resolve(h.responses),this.customRequests.delete(v));break}case l.SERVER_SIDE_EMIT_RESPONSE:{const h=this.customRequests.get(v);if(!h)return;h.responses.push(f.data.packet),h.missingUids.delete(f.uid),h.missingUids.size===0&&(clearTimeout(h.timeout),h.resolve(null,h.responses),this.customRequests.delete(v));break}default:super.onResponse(f)}}removeNode(f){this.customRequests.forEach((v,h)=>{v.missingUids.delete(f),v.missingUids.size===0&&(clearTimeout(v.timeout),v.type===l.FETCH_SOCKETS?v.resolve(v.responses):v.type===l.SERVER_SIDE_EMIT&&v.resolve(null,v.responses),this.customRequests.delete(h))}),this.nodesMap.delete(f)}}t.ClusterAdapterWithHeartbeat=y})(c2);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageType=t.ClusterAdapterWithHeartbeat=t.ClusterAdapter=t.SessionAwareAdapter=t.Adapter=void 0;var e=ia;Object.defineProperty(t,"Adapter",{enumerable:!0,get:function(){return e.Adapter}}),Object.defineProperty(t,"SessionAwareAdapter",{enumerable:!0,get:function(){return e.SessionAwareAdapter}});var n=c2;Object.defineProperty(t,"ClusterAdapter",{enumerable:!0,get:function(){return n.ClusterAdapter}}),Object.defineProperty(t,"ClusterAdapterWithHeartbeat",{enumerable:!0,get:function(){return n.ClusterAdapterWithHeartbeat}}),Object.defineProperty(t,"MessageType",{enumerable:!0,get:function(){return n.MessageType}})})(Gp);var R8=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hp,"__esModule",{value:!0});Hp.ParentNamespace=void 0;const dw=Bv,O8=Gp,P8=R8(Po),pw=(0,P8.default)("socket.io:parent-namespace");class Wp extends dw.Namespace{constructor(e){super(e,"/_"+Wp.count++),this.children=new Set}_initAdapter(){this.adapter=new I8(this)}emit(e,...n){return this.children.forEach(s=>{s.emit(e,...n)}),!0}createChild(e){pw("creating child namespace %s",e);const n=new dw.Namespace(this.server,e);if(this._fns.forEach(s=>n.use(s)),this.listeners("connect").forEach(s=>n.on("connect",s)),this.listeners("connection").forEach(s=>n.on("connection",s)),this.children.add(n),this.server._opts.cleanupEmptyChildNamespaces){const s=n._remove;n._remove=r=>{s.call(n,r),n.sockets.size===0&&(pw("closing child namespace %s",e),n.adapter.close(),this.server._nsps.delete(n.name),this.children.delete(n))}}return this.server._nsps.set(e,n),this.server.sockets.emitReserved("new_namespace",n),n}fetchSockets(){throw new Error("fetchSockets() is not supported on parent namespaces")}}Hp.ParentNamespace=Wp;Wp.count=0;class I8 extends O8.Adapter{broadcast(e,n){this.nsp.children.forEach(s=>{s.adapter.broadcast(e,n)})}}var Rl={},j8=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.patchAdapter=D8;Rl.restoreAdapter=F8;Rl.serveFile=B8;const Bi=Gp,fw=se,M8=j8(Po),Hd=(0,M8.default)("socket.io:adapter-uws"),Ng="",{addAll:l2,del:u2,broadcast:d2}=Bi.Adapter.prototype;function D8(t){Bi.Adapter.prototype.addAll=function(e,n){const s=!this.sids.has(e);l2.call(this,e,n);const r=this.nsp.sockets.get(e)||this.nsp._preConnectSockets.get(e);if(r){if(r.conn.transport.name==="websocket"){hw(this.nsp.name,r,s,n);return}s&&r.conn.on("upgrade",()=>{const i=this.sids.get(e);i&&hw(this.nsp.name,r,s,i)})}},Bi.Adapter.prototype.del=function(e,n){u2.call(this,e,n);const s=this.nsp.sockets.get(e)||this.nsp._preConnectSockets.get(e);if(s&&s.conn.transport.name==="websocket"){const r=s.conn.id,i=s.conn.transport.socket,a=`${this.nsp.name}${Ng}${n}`;Hd("unsubscribe connection %s from topic %s",r,a),i.unsubscribe(a)}},Bi.Adapter.prototype.broadcast=function(e,n){if(!(n.rooms.size<=1&&n.except.size===0)){d2.call(this,e,n);return}const r=n.flags||{},i={preEncoded:!0,volatile:r.volatile,compress:r.compress};e.nsp=this.nsp.name;const a=this.encoder.encode(e),o=n.rooms.size===0?this.nsp.name:`${this.nsp.name}${Ng}${n.rooms.keys().next().value}`;Hd("fast publish to %s",o),a.forEach(c=>{const l=typeof c!="string";t.publish(o,l?c:"4"+c,l)}),this.apply(n,c=>{c.conn.transport.name!=="websocket"&&c.client.writeToEngine(a,i)})}}function hw(t,e,n,s){const r=e.conn.id,i=e.conn.transport.socket;n&&(Hd("subscribe connection %s to topic %s",r,t),i.subscribe(t)),s.forEach(a=>{const o=`${t}${Ng}${a}`;Hd("subscribe connection %s to topic %s",r,o),i.subscribe(o)})}function F8(){Bi.Adapter.prototype.addAll=l2,Bi.Adapter.prototype.del=u2,Bi.Adapter.prototype.broadcast=d2}const L8=t=>{const{buffer:e,byteOffset:n,byteLength:s}=t;return e.slice(n,n+s)};function B8(t,e){const{size:n}=(0,fw.statSync)(e),s=(0,fw.createReadStream)(e),r=()=>!s.destroyed&&s.destroy(),i=o=>{throw r(),o},a=o=>{const c=L8(o);t.cork(()=>{const l=t.getWriteOffset(),[u,d]=t.tryEnd(c,n);!d&&!u&&(s.pause(),t.onWritable(p=>{const[y,m]=t.tryEnd(c.slice(p-l),n);return!m&&y&&s.resume(),y}))})};t.onAborted(r),s.on("data",a).on("error",i).on("end",r)}const $8="4.8.1",z8={version:$8};(function(t,e){var n=rt&&rt.__createBinding||(Object.create?function(F,A,N,B){B===void 0&&(B=N);var O=Object.getOwnPropertyDescriptor(A,N);(!O||("get"in O?!A.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return A[N]}}),Object.defineProperty(F,B,O)}:function(F,A,N,B){B===void 0&&(B=N),F[B]=A[N]}),s=rt&&rt.__setModuleDefault||(Object.create?function(F,A){Object.defineProperty(F,"default",{enumerable:!0,value:A})}:function(F,A){F.default=A}),r=rt&&rt.__importStar||function(F){if(F&&F.__esModule)return F;var A={};if(F!=null)for(var N in F)N!=="default"&&Object.prototype.hasOwnProperty.call(F,N)&&n(A,F,N);return s(A,F),A},i=rt&&rt.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(e,"__esModule",{value:!0}),e.Namespace=e.Socket=e.Server=void 0;const a=se,o=se,c=se,l=Mv,u=se,d=se,p=GP,y=Qp,m=se,f=Bv;Object.defineProperty(e,"Namespace",{enumerable:!0,get:function(){return f.Namespace}});const v=Hp,h=Gp,b=r(Vp),g=i(Po),x=Tl;Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return x.Socket}});const k=Io,_=Rl,w=i(n2),E=(0,g.default)("socket.io:server"),T=z8.version,I=/\.map/;class L extends k.StrictEventEmitter{constructor(A,N={}){super(),this._nsps=new Map,this.parentNsps=new Map,this.parentNamespacesFromRegExp=new Map,typeof A=="object"&&A instanceof Object&&!A.listen&&(N=A,A=void 0),this.path(N.path||"/socket.io"),this.connectTimeout(N.connectTimeout||45e3),this.serveClient(N.serveClient!==!1),this._parser=N.parser||b,this.encoder=new this._parser.Encoder,this.opts=N,N.connectionStateRecovery?(N.connectionStateRecovery=Object.assign({maxDisconnectionDuration:2*60*1e3,skipMiddlewares:!0},N.connectionStateRecovery),this.adapter(N.adapter||h.SessionAwareAdapter)):this.adapter(N.adapter||h.Adapter),N.cleanupEmptyChildNamespaces=!!N.cleanupEmptyChildNamespaces,this.sockets=this.of("/"),(A||typeof A=="number")&&this.attach(A),this.opts.cors&&(this._corsMiddleware=(0,w.default)(this.opts.cors))}get _opts(){return this.opts}serveClient(A){return arguments.length?(this._serveClient=A,this):this._serveClient}_checkNamespace(A,N,B){if(this.parentNsps.size===0)return B(!1);const O=this.parentNsps.keys(),j=()=>{const D=O.next();if(D.done)return B(!1);D.value(A,N,(H,Z)=>{if(H||!Z)return j();if(this._nsps.has(A))return E("dynamic namespace %s already exists",A),B(this._nsps.get(A));const ie=this.parentNsps.get(D.value).createChild(A);E("dynamic namespace %s was created",A),B(ie)})};j()}path(A){if(!arguments.length)return this._path;this._path=A.replace(/\/$/,"");const N=this._path.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return this.clientPathRegex=new RegExp("^"+N+"/socket\\.io(\\.msgpack|\\.esm)?(\\.min)?\\.js(\\.map)?(?:\\?|$)"),this}connectTimeout(A){return A===void 0?this._connectTimeout:(this._connectTimeout=A,this)}adapter(A){if(!arguments.length)return this._adapter;this._adapter=A;for(const N of this._nsps.values())N._initAdapter();return this}listen(A,N={}){return this.attach(A,N)}attach(A,N={}){if(typeof A=="function"){const B="You are trying to attach socket.io to an express request handler function. Please pass a http.Server instance.";throw new Error(B)}if(Number(A)==A&&(A=Number(A)),typeof A=="number"){E("creating http server and binding to %d",A);const B=A;A=a.createServer((O,j)=>{j.writeHead(404),j.end()}),A.listen(B)}return Object.assign(N,this.opts),N.path=N.path||this._path,this.initEngine(A,N),this}attachApp(A,N={}){Object.assign(N,this.opts),N.path=N.path||this._path,E("creating uWebSockets.js-based engine with opts %j",N);const B=new p.uServer(N);B.attach(A,N),this.bind(B),this._serveClient&&A.get(`${this._path}/*`,(O,j)=>{if(!this.clientPathRegex.test(j.getUrl())){j.setYield(!0);return}const D=j.getUrl().replace(this._path,"").replace(/\?.*$/,"").replace(/^\//,""),H=I.test(D),Z=H?"map":"source",ie='"'+T+'"',Oe="W/"+ie,He=j.getHeader("if-none-match");if(He&&(ie===He||Oe===He)){E("serve client %s 304",Z),O.writeStatus("304 Not Modified"),O.end();return}E("serve client %s",Z),O.writeHeader("cache-control","public, max-age=0"),O.writeHeader("content-type","application/"+(H?"json":"javascript")+"; charset=utf-8"),O.writeHeader("etag",ie);const $e=d.join(__dirname,"../client-dist/",D);(0,_.serveFile)(O,$e)}),(0,_.patchAdapter)(A)}initEngine(A,N){E("creating engine.io instance with opts %j",N),this.eio=(0,p.attach)(A,N),this._serveClient&&this.attachServe(A),this.httpServer=A,this.bind(this.eio)}attachServe(A){E("attaching client serving req handler");const N=A.listeners("request").slice(0);A.removeAllListeners("request"),A.on("request",(B,O)=>{if(this.clientPathRegex.test(B.url))this._corsMiddleware?this._corsMiddleware(B,O,()=>{this.serve(B,O)}):this.serve(B,O);else for(let j=0;j<N.length;j++)N[j].call(A,B,O)})}serve(A,N){const B=A.url.replace(this._path,"").replace(/\?.*$/,""),O=I.test(B),j=O?"map":"source",D='"'+T+'"',H="W/"+D,Z=A.headers["if-none-match"];if(Z&&(D===Z||H===Z)){E("serve client %s 304",j),N.writeHead(304),N.end();return}E("serve client %s",j),N.setHeader("Cache-Control","public, max-age=0"),N.setHeader("Content-Type","application/"+(O?"json":"javascript")+"; charset=utf-8"),N.setHeader("ETag",D),L.sendFile(B,A,N)}static sendFile(A,N,B){const O=(0,o.createReadStream)(d.join(__dirname,"../client-dist/",A)),j=l(N).encodings(["br","gzip","deflate"]),D=H=>{H&&B.end()};switch(j){case"br":B.writeHead(200,{"content-encoding":"br"}),(0,u.pipeline)(O,(0,c.createBrotliCompress)(),B,D);break;case"gzip":B.writeHead(200,{"content-encoding":"gzip"}),(0,u.pipeline)(O,(0,c.createGzip)(),B,D);break;case"deflate":B.writeHead(200,{"content-encoding":"deflate"}),(0,u.pipeline)(O,(0,c.createDeflate)(),B,D);break;default:B.writeHead(200),(0,u.pipeline)(O,B,D)}}bind(A){return this.engine=A,this.engine.on("connection",this.onconnection.bind(this)),this}onconnection(A){E("incoming connection with id %s",A.id);const N=new y.Client(this,A);return A.protocol===3&&N.connect("/"),this}of(A,N){if(typeof A=="function"||A instanceof RegExp){const O=new v.ParentNamespace(this);return E("initializing parent namespace %s",O.name),typeof A=="function"?this.parentNsps.set(A,O):(this.parentNsps.set((j,D,H)=>H(null,A.test(j)),O),this.parentNamespacesFromRegExp.set(A,O)),N&&O.on("connect",N),O}String(A)[0]!=="/"&&(A="/"+A);let B=this._nsps.get(A);if(!B){for(const[O,j]of this.parentNamespacesFromRegExp)if(O.test(A))return E("attaching namespace %s to parent namespace %s",A,O),j.createChild(A);E("initializing namespace %s",A),B=new f.Namespace(this,A),this._nsps.set(A,B),A!=="/"&&this.sockets.emitReserved("new_namespace",B)}return N&&B.on("connect",N),B}async close(A){await Promise.allSettled([...this._nsps.values()].map(async N=>{N.sockets.forEach(B=>{B._onclose("server shutting down")}),await N.adapter.close()})),this.engine.close(),(0,_.restoreAdapter)(),this.httpServer?this.httpServer.close(A):A&&A()}use(A){return this.sockets.use(A),this}to(A){return this.sockets.to(A)}in(A){return this.sockets.in(A)}except(A){return this.sockets.except(A)}send(...A){return this.sockets.emit("message",...A),this}write(...A){return this.sockets.emit("message",...A),this}serverSideEmit(A,...N){return this.sockets.serverSideEmit(A,...N)}serverSideEmitWithAck(A,...N){return this.sockets.serverSideEmitWithAck(A,...N)}allSockets(){return this.sockets.allSockets()}compress(A){return this.sockets.compress(A)}get volatile(){return this.sockets.volatile}get local(){return this.sockets.local}timeout(A){return this.sockets.timeout(A)}fetchSockets(){return this.sockets.fetchSockets()}socketsJoin(A){return this.sockets.socketsJoin(A)}socketsLeave(A){return this.sockets.socketsLeave(A)}disconnectSockets(A=!1){return this.sockets.disconnectSockets(A)}}e.Server=L,Object.keys(m.EventEmitter.prototype).filter(function(F){return typeof m.EventEmitter.prototype[F]=="function"}).forEach(function(F){L.prototype[F]=function(){return this.sockets[F].apply(this.sockets,arguments)}}),t.exports=(F,A)=>new L(F,A),t.exports.Server=L,t.exports.Namespace=f.Namespace,t.exports.Socket=x.Socket})(Eg,Eg.exports);var U8=Eg.exports;const q8=Wg(U8),{Server:Ate,Namespace:Tte,Socket:Nte}=q8;var Rg={exports:{}},pu={},jo={};const Q8={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},V8={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},H8={arity:1,flags:["fast"],keyStart:0,keyStop:0,step:0},G8={arity:-2,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},W8={arity:1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},K8={arity:-1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},Y8={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},J8={arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},X8={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},Z8={arity:-4,flags:["write","denyoom"],keyStart:2,keyStop:-1,step:1},e5={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},t5={arity:6,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},n5={arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},s5={arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},r5={arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},i5={arity:4,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},a5={arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},o5={arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},c5={arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},l5={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},u5={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},d5={arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},p5={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},f5={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},h5={arity:1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},m5={arity:-2,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},g5={arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},y5={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},v5={arity:-2,flags:["write"],keyStart:1,keyStop:-1,step:1},b5={arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},x5={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},w5={arity:2,flags:["fast"],keyStart:0,keyStop:0,step:0},S5={arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},_5={arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},E5={arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},k5={arity:1,flags:["noscript","loading","stale","skip_slowlog"],keyStart:0,keyStop:0,step:0},C5={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},A5={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},T5={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},N5={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},R5={arity:-1,flags:["admin","noscript","stale"],keyStart:0,keyStop:0,step:0},O5={arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},P5={arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},I5={arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},j5={arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},M5={arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},D5={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},F5={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},L5={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},B5={arity:-6,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},$5={arity:-6,flags:["readonly"],keyStart:1,keyStop:1,step:1},z5={arity:-5,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},U5={arity:-5,flags:["readonly"],keyStart:1,keyStop:1,step:1},q5={arity:-7,flags:["readonly"],keyStart:1,keyStop:1,step:1},Q5={arity:-8,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},V5={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},H5={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},G5={arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},W5={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},K5={arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},Y5={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},J5={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},X5={arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},Z5={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},eq={arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},tq={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},nq={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},sq={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},rq={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},iq={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},aq={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},oq={arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},cq={arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},lq={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},uq={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},dq={arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},pq={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},fq={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hq={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},mq={arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},gq={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},yq={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},vq={arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},bq={arity:2,flags:["readonly"],keyStart:0,keyStop:0,step:0},xq={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},wq={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},Sq={arity:-3,flags:["readonly"],keyStart:1,keyStop:2,step:1},_q={arity:3,flags:["readonly"],keyStart:1,keyStop:1,step:1},Eq={arity:5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},kq={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},Cq={arity:5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},Aq={arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},Tq={arity:-1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},Nq={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},Rq={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},Oq={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Pq={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Iq={arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},jq={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},Mq={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},Dq={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},Fq={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},Lq={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},Bq={arity:-6,flags:["write","movablekeys"],keyStart:3,keyStop:3,step:1},$q={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},zq={arity:1,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},Uq={arity:3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},qq={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},Qq={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},Vq={arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},Hq={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},Gq={arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},Wq={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},Kq={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},Yq={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},Jq={arity:-2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Xq={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},Zq={arity:3,flags:["write","denyoom","admin"],keyStart:2,keyStop:2,step:1},eQ={arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},tQ={arity:1,flags:["admin"],keyStart:0,keyStop:0,step:0},nQ={arity:-1,flags:["fast"],keyStart:0,keyStop:0,step:0},sQ={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},rQ={arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},iQ={arity:-3,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},aQ={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},oQ={arity:3,flags:["pubsub","loading","stale","fast"],keyStart:0,keyStop:0,step:0},cQ={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},lQ={arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},uQ={arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},dQ={arity:1,flags:["readonly"],keyStart:0,keyStop:0,step:0},pQ={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},fQ={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},hQ={arity:3,flags:["write"],keyStart:1,keyStop:2,step:1},mQ={arity:3,flags:["write","fast"],keyStart:1,keyStop:2,step:1},gQ={arity:-1,flags:["admin","noscript","loading","stale","allow_busy"],keyStart:0,keyStop:0,step:0},yQ={arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},vQ={arity:1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},bQ={arity:-4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},xQ={arity:1,flags:["noscript","loading","stale","fast"],keyStart:0,keyStop:0,step:0},wQ={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},SQ={arity:3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},_Q={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},EQ={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},kQ={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},CQ={arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},AQ={arity:-2,flags:["readonly"],keyStart:0,keyStop:0,step:0},TQ={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},NQ={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},RQ={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},OQ={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},PQ={arity:2,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},IQ={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},jQ={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},MQ={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},DQ={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},FQ={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},LQ={arity:-1,flags:["admin","noscript","loading","stale","no_multi","allow_busy"],keyStart:0,keyStop:0,step:0},BQ={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},$Q={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zQ={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},UQ={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},qQ={arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},QQ={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},VQ={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},HQ={arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},GQ={arity:4,flags:["write","fast"],keyStart:1,keyStop:2,step:1},WQ={arity:-2,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},KQ={arity:-2,flags:["readonly","movablekeys"],keyStart:1,keyStop:1,step:1},YQ={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},JQ={arity:3,flags:["pubsub","loading","stale","fast"],keyStart:1,keyStop:1,step:1},XQ={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},ZQ={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},e9={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},t9={arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},n9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},s9={arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},r9={arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},i9={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},a9={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},o9={arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},c9={arity:3,flags:["write","fast"],keyStart:0,keyStop:0,step:0},l9={arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},u9={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},d9={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},p9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},f9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},h9={arity:-2,flags:["write","fast"],keyStart:1,keyStop:-1,step:1},m9={arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},g9={arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},y9={arity:3,flags:["noscript"],keyStart:0,keyStop:0,step:0},v9={arity:-2,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:1,keyStop:-1,step:1},b9={arity:-4,flags:["write","fast"],keyStart:1,keyStop:1,step:1},x9={arity:-5,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},w9={arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},S9={arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},_9={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},E9={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},k9={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},C9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},A9={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},T9={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},N9={arity:-4,flags:["readonly","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},R9={arity:-7,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},O9={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},P9={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},I9={arity:-4,flags:["write"],keyStart:1,keyStop:1,step:1},j9={arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},M9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},D9={arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},F9={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},L9={arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},B9={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},$9={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},z9={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},U9={arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},q9={arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},Q9={arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},V9={arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},H9={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},G9={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},W9={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},K9={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},Y9={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},J9={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},X9={arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},Z9={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},eV={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},tV={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},nV={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},sV={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},rV={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},iV={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},aV={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},oV={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},cV={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},lV={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},uV={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},dV={arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},pV={acl:Q8,append:V8,asking:H8,auth:G8,bgrewriteaof:W8,bgsave:K8,bitcount:Y8,bitfield:J8,bitfield_ro:X8,bitop:Z8,bitpos:e5,blmove:t5,blmpop:n5,blpop:s5,brpop:r5,brpoplpush:i5,bzmpop:a5,bzpopmax:o5,bzpopmin:c5,client:l5,cluster:u5,command:d5,config:p5,copy:f5,dbsize:h5,debug:m5,decr:g5,decrby:y5,del:v5,discard:b5,dump:x5,echo:w5,eval:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},eval_ro:S5,evalsha:_5,evalsha_ro:E5,exec:k5,exists:C5,expire:A5,expireat:T5,expiretime:N5,failover:R5,fcall:O5,fcall_ro:P5,flushall:I5,flushdb:j5,function:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},geoadd:M5,geodist:D5,geohash:F5,geopos:L5,georadius:B5,georadius_ro:$5,georadiusbymember:z5,georadiusbymember_ro:U5,geosearch:q5,geosearchstore:Q5,get:V5,getbit:H5,getdel:G5,getex:W5,getrange:K5,getset:Y5,hdel:J5,hello:X5,hexists:Z5,hexpire:eq,hget:tq,hgetall:nq,hincrby:sq,hincrbyfloat:rq,hkeys:iq,hlen:aq,hmget:oq,hmset:cq,hrandfield:lq,hscan:uq,hset:dq,hsetnx:pq,hstrlen:fq,hvals:hq,incr:mq,incrby:gq,incrbyfloat:yq,info:vq,keys:bq,lastsave:xq,latency:wq,lcs:Sq,lindex:_q,linsert:Eq,llen:kq,lmove:Cq,lmpop:Aq,lolwut:Tq,lpop:Nq,lpos:Rq,lpush:Oq,lpushx:Pq,lrange:Iq,lrem:jq,lset:Mq,ltrim:Dq,memory:Fq,mget:Lq,migrate:Bq,module:$q,monitor:zq,move:Uq,mset:qq,msetnx:Qq,multi:Vq,object:Hq,persist:Gq,pexpire:Wq,pexpireat:Kq,pexpiretime:Yq,pfadd:Jq,pfcount:Xq,pfdebug:Zq,pfmerge:eQ,pfselftest:tQ,ping:nQ,psetex:sQ,psubscribe:rQ,psync:iQ,pttl:aQ,publish:oQ,pubsub:cQ,punsubscribe:lQ,quit:uQ,randomkey:dQ,readonly:pQ,readwrite:fQ,rename:hQ,renamenx:mQ,replconf:gQ,replicaof:yQ,reset:vQ,restore:bQ,"restore-asking":{arity:-4,flags:["write","denyoom","asking"],keyStart:1,keyStop:1,step:1},role:xQ,rpop:wQ,rpoplpush:SQ,rpush:_Q,rpushx:EQ,sadd:kQ,save:CQ,scan:AQ,scard:TQ,script:NQ,sdiff:RQ,sdiffstore:OQ,select:PQ,set:IQ,setbit:jQ,setex:MQ,setnx:DQ,setrange:FQ,shutdown:LQ,sinter:BQ,sintercard:$Q,sinterstore:zQ,sismember:UQ,slaveof:qQ,slowlog:QQ,smembers:VQ,smismember:HQ,smove:GQ,sort:WQ,sort_ro:KQ,spop:YQ,spublish:JQ,srandmember:XQ,srem:ZQ,sscan:e9,ssubscribe:t9,strlen:n9,subscribe:s9,substr:r9,sunion:i9,sunionstore:a9,sunsubscribe:o9,swapdb:c9,sync:l9,time:u9,touch:d9,ttl:p9,type:f9,unlink:h9,unsubscribe:m9,unwatch:g9,wait:y9,watch:v9,xack:b9,xadd:x9,xautoclaim:w9,xclaim:S9,xdel:_9,xgroup:E9,xinfo:k9,xlen:C9,xpending:A9,xrange:T9,xread:N9,xreadgroup:R9,xrevrange:O9,xsetid:P9,xtrim:I9,zadd:j9,zcard:M9,zcount:D9,zdiff:F9,zdiffstore:L9,zincrby:B9,zinter:$9,zintercard:z9,zinterstore:U9,zlexcount:q9,zmpop:Q9,zmscore:V9,zpopmax:H9,zpopmin:G9,zrandmember:W9,zrange:K9,zrangebylex:Y9,zrangebyscore:J9,zrangestore:X9,zrank:Z9,zrem:eV,zremrangebylex:tV,zremrangebyrank:nV,zremrangebyscore:sV,zrevrange:rV,zrevrangebylex:iV,zrevrangebyscore:aV,zrevrank:oV,zscan:cV,zscore:lV,zunion:uV,zunionstore:dV};(function(t){var e=rt&&rt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyIndexes=t.hasFlag=t.exists=t.list=void 0;const n=e(pV);t.list=Object.keys(n.default);const s={};t.list.forEach(c=>{s[c]=n.default[c].flags.reduce(function(l,u){return l[u]=!0,l},{})});function r(c){return!!n.default[c]}t.exists=r;function i(c,l){if(!s[c])throw new Error("Unknown command "+c);return!!s[c][l]}t.hasFlag=i;function a(c,l,u){const d=n.default[c];if(!d)throw new Error("Unknown command "+c);if(!Array.isArray(l))throw new Error("Expect args to be an array");const p=[],y=!!(u&&u.parseExternalKey),m=(v,h)=>{const b=[],g=Number(v[h]);for(let x=0;x<g;x++)b.push(x+h+1);return b},f=(v,h,b)=>{for(let g=h;g<v.length-1;g+=1)if(String(v[g]).toLowerCase()===b.toLowerCase())return g+1;return null};switch(c){case"zunionstore":case"zinterstore":case"zdiffstore":p.push(0,...m(l,1));break;case"eval":case"evalsha":case"eval_ro":case"evalsha_ro":case"fcall":case"fcall_ro":case"blmpop":case"bzmpop":p.push(...m(l,1));break;case"sintercard":case"lmpop":case"zunion":case"zinter":case"zmpop":case"zintercard":case"zdiff":{p.push(...m(l,0));break}case"georadius":{p.push(0);const v=f(l,5,"STORE");v&&p.push(v);const h=f(l,5,"STOREDIST");h&&p.push(h);break}case"georadiusbymember":{p.push(0);const v=f(l,4,"STORE");v&&p.push(v);const h=f(l,4,"STOREDIST");h&&p.push(h);break}case"sort":case"sort_ro":p.push(0);for(let v=1;v<l.length-1;v++){let h=l[v];if(typeof h!="string")continue;const b=h.toUpperCase();b==="GET"?(v+=1,h=l[v],h!=="#"&&(y?p.push([v,o(h)]):p.push(v))):b==="BY"?(v+=1,y?p.push([v,o(l[v])]):p.push(v)):b==="STORE"&&(v+=1,p.push(v))}break;case"migrate":if(l[2]==="")for(let v=5;v<l.length-1;v++){const h=l[v];if(typeof h=="string"&&h.toUpperCase()==="KEYS"){for(let b=v+1;b<l.length;b++)p.push(b);break}}else p.push(2);break;case"xreadgroup":case"xread":for(let v=c==="xread"?0:3;v<l.length-1;v++)if(String(l[v]).toUpperCase()==="STREAMS"){for(let h=v+1;h<=v+(l.length-1-v)/2;h++)p.push(h);break}break;default:if(d.step>0){const v=d.keyStart-1,h=d.keyStop>0?d.keyStop:l.length+d.keyStop+1;for(let b=v;b<h;b+=d.step)p.push(b)}break}return p}t.getKeyIndexes=a;function o(c){typeof c!="string"&&(c=String(c));const l=c.indexOf("->");return l===-1?c.length:l}})(jo);var hr={},p2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.tryCatch=t.errorObj=void 0,t.errorObj={e:{}};let e;function n(r,i){try{const a=e;return e=null,a.apply(this,arguments)}catch(a){return t.errorObj.e=a,t.errorObj}}function s(r){return e=r,n}t.tryCatch=s})(p2);Object.defineProperty(hr,"__esModule",{value:!0});const ha=p2;function mw(t){setTimeout(function(){throw t},0)}function fV(t,e,n){return typeof e=="function"&&t.then(s=>{let r;n!==void 0&&Object(n).spread&&Array.isArray(s)?r=ha.tryCatch(e).apply(void 0,[null].concat(s)):r=s===void 0?ha.tryCatch(e)(null):ha.tryCatch(e)(null,s),r===ha.errorObj&&mw(r.e)},s=>{if(!s){const i=new Error(s+"");Object.assign(i,{cause:s}),s=i}const r=ha.tryCatch(e)(s);r===ha.errorObj&&mw(r.e)}),t}hr.default=fV;var fu={},hh,gw;function hV(){if(gw)return hh;gw=1;const t=se,e=se;function n(o){Object.defineProperty(this,"message",{value:o||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}e.inherits(n,Error),Object.defineProperty(n.prototype,"name",{value:"RedisError",configurable:!0,writable:!0});function s(o,c,l){t(c),t.strictEqual(typeof l,"number"),Object.defineProperty(this,"message",{value:o||"",configurable:!0,writable:!0});const u=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=u,this.offset=l,this.buffer=c}e.inherits(s,n),Object.defineProperty(s.prototype,"name",{value:"ParserError",configurable:!0,writable:!0});function r(o){Object.defineProperty(this,"message",{value:o||"",configurable:!0,writable:!0});const c=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=c}e.inherits(r,n),Object.defineProperty(r.prototype,"name",{value:"ReplyError",configurable:!0,writable:!0});function i(o){Object.defineProperty(this,"message",{value:o||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}e.inherits(i,n),Object.defineProperty(i.prototype,"name",{value:"AbortError",configurable:!0,writable:!0});function a(o){Object.defineProperty(this,"message",{value:o||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}return e.inherits(a,i),Object.defineProperty(a.prototype,"name",{value:"InterruptError",configurable:!0,writable:!0}),hh={RedisError:n,ParserError:s,ReplyError:r,AbortError:i,InterruptError:a},hh}var mh,yw;function mV(){if(yw)return mh;yw=1;const t=se;class e extends Error{get name(){return this.constructor.name}}class n extends e{constructor(o,c,l){t(c),t.strictEqual(typeof l,"number");const u=Error.stackTraceLimit;Error.stackTraceLimit=2,super(o),Error.stackTraceLimit=u,this.offset=l,this.buffer=c}get name(){return this.constructor.name}}class s extends e{constructor(o){const c=Error.stackTraceLimit;Error.stackTraceLimit=2,super(o),Error.stackTraceLimit=c}get name(){return this.constructor.name}}class r extends e{get name(){return this.constructor.name}}class i extends r{get name(){return this.constructor.name}}return mh={RedisError:e,ParserError:n,ReplyError:s,AbortError:r,InterruptError:i},mh}const gV=process.version.charCodeAt(1)<55&&process.version.charCodeAt(2)===46?hV():mV();var Mo=gV,Ds={},$v={exports:{}},vw=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920],yV=function(e){for(var n,s=0,r=0,i=[],a=e.length;s<a;s++)n=e.charCodeAt(s),n<128?i[r++]=n:n<2048?(i[r++]=n>>6|192,i[r++]=n&63|128):(n&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(n=65536+((n&1023)<<10)+(e.charCodeAt(++s)&1023),i[r++]=n>>18|240,i[r++]=n>>12&63|128,i[r++]=n>>6&63|128,i[r++]=n&63|128):(i[r++]=n>>12|224,i[r++]=n>>6&63|128,i[r++]=n&63|128);return i},bw=$v.exports=function(e){for(var n,s=0,r=-1,i=0,a=0,o=typeof e=="string"?yV(e):e,c=o.length;s<c;){if(n=o[s++],r===-1)n===123&&(r=s);else if(n!==125)a=vw[(n^a>>8)&255]^a<<8;else if(s-1!==r)return a&16383;i=vw[(n^i>>8)&255]^i<<8}return i&16383};$v.exports.generateMulti=function(e){for(var n=1,s=e.length,r=bw(e[0]);n<s;)if(bw(e[n++])!==r)return-1;return r};var Kp=$v.exports,Lt={},Os={},f2=9007199254740991,vV="[object Arguments]",bV="[object Function]",xV="[object GeneratorFunction]",wV=/^(?:0|[1-9]\d*)$/;function h2(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function SV(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}var Ol=Object.prototype,Yp=Ol.hasOwnProperty,m2=Ol.toString,_V=Ol.propertyIsEnumerable,xw=Math.max;function EV(t,e){var n=jV(t)||IV(t)?SV(t.length,String):[],s=n.length,r=!!s;for(var i in t)r&&(i=="length"||y2(i,s))||n.push(i);return n}function kV(t,e,n,s){return t===void 0||zv(t,Ol[n])&&!Yp.call(s,n)?e:t}function CV(t,e,n){var s=t[e];(!(Yp.call(t,e)&&zv(s,n))||n===void 0&&!(e in t))&&(t[e]=n)}function AV(t){if(!qv(t))return PV(t);var e=OV(t),n=[];for(var s in t)s=="constructor"&&(e||!Yp.call(t,s))||n.push(s);return n}function g2(t,e){return e=xw(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,r=xw(n.length-e,0),i=Array(r);++s<r;)i[s]=n[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=n[s];return a[e]=i,h2(t,this,a)}}function TV(t,e,n,s){n||(n={});for(var r=-1,i=e.length;++r<i;){var a=e[r],o=s?s(n[a],t[a],a,n,t):void 0;CV(n,a,o===void 0?t[a]:o)}return n}function NV(t){return g2(function(e,n){var s=-1,r=n.length,i=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(r--,i):void 0,a&&RV(n[0],n[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++s<r;){var o=n[s];o&&t(e,o,s,i)}return e})}function y2(t,e){return e=e??f2,!!e&&(typeof t=="number"||wV.test(t))&&t>-1&&t%1==0&&t<e}function RV(t,e,n){if(!qv(n))return!1;var s=typeof e;return(s=="number"?Uv(n)&&y2(e,n.length):s=="string"&&e in n)?zv(n[e],t):!1}function OV(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Ol;return t===n}function PV(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}function zv(t,e){return t===e||t!==t&&e!==e}function IV(t){return MV(t)&&Yp.call(t,"callee")&&(!_V.call(t,"callee")||m2.call(t)==vV)}var jV=Array.isArray;function Uv(t){return t!=null&&FV(t.length)&&!DV(t)}function MV(t){return LV(t)&&Uv(t)}function DV(t){var e=qv(t)?m2.call(t):"";return e==bV||e==xV}function FV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=f2}function qv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function LV(t){return!!t&&typeof t=="object"}var BV=NV(function(t,e,n,s){TV(e,zV(e),t,s)}),$V=g2(function(t){return t.push(void 0,kV),h2(BV,void 0,t)});function zV(t){return Uv(t)?EV(t):AV(t)}var UV=$V,qV=9007199254740991,QV="[object Arguments]",VV="[object Function]",HV="[object GeneratorFunction]",Qv=Object.prototype,GV=Qv.hasOwnProperty,v2=Qv.toString,WV=Qv.propertyIsEnumerable;function KV(t){return JV(t)&&GV.call(t,"callee")&&(!WV.call(t,"callee")||v2.call(t)==QV)}function YV(t){return t!=null&&ZV(t.length)&&!XV(t)}function JV(t){return t7(t)&&YV(t)}function XV(t){var e=e7(t)?v2.call(t):"";return e==VV||e==HV}function ZV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=qV}function e7(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function t7(t){return!!t&&typeof t=="object"}var n7=KV;Object.defineProperty(Os,"__esModule",{value:!0});Os.isArguments=Os.defaults=Os.noop=void 0;const s7=UV;Os.defaults=s7;const r7=n7;Os.isArguments=r7;function i7(){}Os.noop=i7;var nr={},Og={exports:{}};function a7(t){n.debug=n,n.default=n,n.coerce=c,n.disable=a,n.enable=r,n.enabled=o,n.humanize=Fp,n.destroy=l,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){let d,p=null,y,m;function f(...v){if(!f.enabled)return;const h=f,b=Number(new Date),g=b-(d||b);h.diff=g,h.prev=d,h.curr=b,d=b,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let x=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(_,w)=>{if(_==="%%")return"%";x++;const E=n.formatters[w];if(typeof E=="function"){const T=v[x];_=E.call(h,T),v.splice(x,1),x--}return _}),n.formatArgs.call(h,v),(h.log||n.log).apply(h,v)}return f.namespace=u,f.useColors=n.useColors(),f.color=n.selectColor(u),f.extend=s,f.destroy=n.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(y!==n.namespaces&&(y=n.namespaces,m=n.enabled(u)),m),set:v=>{p=v}}),typeof n.init=="function"&&n.init(f),f}function s(u,d){const p=n(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}function r(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];const d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const p of d)p[0]==="-"?n.skips.push(p.slice(1)):n.names.push(p)}function i(u,d){let p=0,y=0,m=-1,f=0;for(;p<u.length;)if(y<d.length&&(d[y]===u[p]||d[y]==="*"))d[y]==="*"?(m=y,f=p,y++):(p++,y++);else if(m!==-1)y=m+1,f++,p=f;else return!1;for(;y<d.length&&d[y]==="*";)y++;return y===d.length}function a(){const u=[...n.names,...n.skips.map(d=>"-"+d)].join(",");return n.enable(""),u}function o(u){for(const d of n.skips)if(i(u,d))return!1;for(const d of n.names)if(i(u,d))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var o7=a7;(function(t,e){var n={};e.formatArgs=r,e.save=i,e.load=a,e.useColors=s,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,p=0;l[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(d++,y==="%c"&&(p=d))}),l.splice(p,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function a(){let l;try{l=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=n.DEBUG),l}function o(){try{return localStorage}catch{}}t.exports=o7(e);const{formatters:c}=t.exports;c.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Og,Og.exports);var c7=Og.exports;Object.defineProperty(nr,"__esModule",{value:!0});nr.genRedactedString=nr.getStringValue=nr.MAX_ARGUMENT_LENGTH=void 0;const l7=c7,Pg=200;nr.MAX_ARGUMENT_LENGTH=Pg;const u7="ioredis";function b2(t){if(t!==null)switch(typeof t){case"boolean":return;case"number":return;case"object":if(Buffer.isBuffer(t))return t.toString("hex");if(Array.isArray(t))return t.join(",");try{return JSON.stringify(t)}catch{return}case"string":return t}}nr.getStringValue=b2;function x2(t,e){const{length:n}=t;return n<=e?t:t.slice(0,e)+' ... <REDACTED full-length="'+n+'">'}nr.genRedactedString=x2;function d7(t){const e=(0,l7.default)(`${u7}:${t}`);function n(...s){if(e.enabled){for(let r=1;r<s.length;r++){const i=b2(s[r]);typeof i=="string"&&i.length>Pg&&(s[r]=x2(i,Pg))}return e.apply(null,s)}}return Object.defineProperties(n,{namespace:{get(){return e.namespace}},enabled:{get(){return e.enabled}},destroy:{get(){return e.destroy}},log:{get(){return e.log},set(s){e.log=s}}}),n}nr.default=d7;var Vv={};Object.defineProperty(Vv,"__esModule",{value:!0});const ww=`-----BEGIN CERTIFICATE-----
MIIDTzCCAjegAwIBAgIJAKSVpiDswLcwMA0GCSqGSIb3DQEBBQUAMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTAeFw0xMzEwMDExMjE0NTVaFw0yMzA5MjkxMjE0NTVaMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALZqkh/DczWP
JnxnHLQ7QL0T4B4CDKWBKCcisriGbA6ZePWVNo4hfKQC6JrzfR+081NeD6VcWUiz
rmd+jtPhIY4c+WVQYm5PKaN6DT1imYdxQw7aqO5j2KUCEh/cznpLxeSHoTxlR34E
QwF28Wl3eg2vc5ct8LjU3eozWVk3gb7alx9mSA2SgmuX5lEQawl++rSjsBStemY2
BDwOpAMXIrdEyP/cVn8mkvi/BDs5M5G+09j0gfhyCzRWMQ7Hn71u1eolRxwVxgi3
TMn+/vTaFSqxKjgck6zuAYjBRPaHe7qLxHNr1So/Mc9nPy+3wHebFwbIcnUojwbp
4nctkWbjb2cCAwEAAaNQME4wHQYDVR0OBBYEFP1whtcrydmW3ZJeuSoKZIKjze3w
MB8GA1UdIwQYMBaAFP1whtcrydmW3ZJeuSoKZIKjze3wMAwGA1UdEwQFMAMBAf8w
DQYJKoZIhvcNAQEFBQADggEBAG2erXhwRAa7+ZOBs0B6X57Hwyd1R4kfmXcs0rta
lbPpvgULSiB+TCbf3EbhJnHGyvdCY1tvlffLjdA7HJ0PCOn+YYLBA0pTU/dyvrN6
Su8NuS5yubnt9mb13nDGYo1rnt0YRfxN+8DM3fXIVr038A30UlPX2Ou1ExFJT0MZ
uFKY6ZvLdI6/1cbgmguMlAhM+DhKyV6Sr5699LM3zqeI816pZmlREETYkGr91q7k
BpXJu/dtHaGxg1ZGu6w/PCsYGUcECWENYD4VQPd8N32JjOfu6vEgoEAwfPP+3oGp
Z4m3ewACcWOAenqflb+cQYC4PsF7qbXDmRaWrbKntOlZ3n0=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIGMTCCBBmgAwIBAgICEAAwDQYJKoZIhvcNAQELBQAwajELMAkGA1UEBhMCVVMx
CzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJzMS0w
KwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcN
MTgwMjI1MTUzNzM3WhcNMjgwMjIzMTUzNzM3WjBfMQswCQYDVQQGEwJVUzELMAkG
A1UECAwCQ0ExEjAQBgNVBAoMCVJlZGlzTGFiczEvMC0GA1UEAwwmUkNQIEludGVy
bWVkaWF0ZSBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwggIiMA0GCSqGSIb3DQEBAQUA
A4ICDwAwggIKAoICAQDf9dqbxc8Bq7Ctq9rWcxrGNKKHivqLAFpPq02yLPx6fsOv
Tq7GsDChAYBBc4v7Y2Ap9RD5Vs3dIhEANcnolf27QwrG9RMnnvzk8pCvp1o6zSU4
VuOE1W66/O1/7e2rVxyrnTcP7UgK43zNIXu7+tiAqWsO92uSnuMoGPGpeaUm1jym
hjWKtkAwDFSqvHY+XL5qDVBEjeUe+WHkYUg40cAXjusAqgm2hZt29c2wnVrxW25W
P0meNlzHGFdA2AC5z54iRiqj57dTfBTkHoBczQxcyw6hhzxZQ4e5I5zOKjXXEhZN
r0tA3YC14CTabKRus/JmZieyZzRgEy2oti64tmLYTqSlAD78pRL40VNoaSYetXLw
hhNsXCHgWaY6d5bLOc/aIQMAV5oLvZQKvuXAF1IDmhPA+bZbpWipp0zagf1P1H3s
UzsMdn2KM0ejzgotbtNlj5TcrVwpmvE3ktvUAuA+hi3FkVx1US+2Gsp5x4YOzJ7u
P1WPk6ShF0JgnJH2ILdj6kttTWwFzH17keSFICWDfH/+kM+k7Y1v3EXMQXE7y0T9
MjvJskz6d/nv+sQhY04xt64xFMGTnZjlJMzfQNi7zWFLTZnDD0lPowq7l3YiPoTT
t5Xky83lu0KZsZBo0WlWaDG00gLVdtRgVbcuSWxpi5BdLb1kRab66JptWjxwXQID
AQABo4HrMIHoMDoGA1UdHwQzMDEwL6AtoCuGKWh0dHBzOi8vcmwtY2Etc2VydmVy
LnJlZGlzbGFicy5jb20vdjEvY3JsMEYGCCsGAQUFBwEBBDowODA2BggrBgEFBQcw
AYYqaHR0cHM6Ly9ybC1jYS1zZXJ2ZXIucmVkaXNsYWJzLmNvbS92MS9vY3NwMB0G
A1UdDgQWBBQHar5OKvQUpP2qWt6mckzToeCOHDAfBgNVHSMEGDAWgBQi42wH6hM4
L2sujEvLM0/u8lRXTzASBgNVHRMBAf8ECDAGAQH/AgEAMA4GA1UdDwEB/wQEAwIB
hjANBgkqhkiG9w0BAQsFAAOCAgEAirEn/iTsAKyhd+pu2W3Z5NjCko4NPU0EYUbr
AP7+POK2rzjIrJO3nFYQ/LLuC7KCXG+2qwan2SAOGmqWst13Y+WHp44Kae0kaChW
vcYLXXSoGQGC8QuFSNUdaeg3RbMDYFT04dOkqufeWVccoHVxyTSg9eD8LZuHn5jw
7QDLiEECBmIJHk5Eeo2TAZrx4Yx6ufSUX5HeVjlAzqwtAqdt99uCJ/EL8bgpWbe+
XoSpvUv0SEC1I1dCAhCKAvRlIOA6VBcmzg5Am12KzkqTul12/VEFIgzqu0Zy2Jbc
AUPrYVu/+tOGXQaijy7YgwH8P8n3s7ZeUa1VABJHcxrxYduDDJBLZi+MjheUDaZ1
jQRHYevI2tlqeSBqdPKG4zBY5lS0GiAlmuze5oENt0P3XboHoZPHiqcK3VECgTVh
/BkJcuudETSJcZDmQ8YfoKfBzRQNg2sv/hwvUv73Ss51Sco8GEt2lD8uEdib1Q6z
zDT5lXJowSzOD5ZA9OGDjnSRL+2riNtKWKEqvtEG3VBJoBzu9GoxbAc7wIZLxmli
iF5a/Zf5X+UXD3s4TMmy6C4QZJpAA2egsSQCnraWO2ULhh7iXMysSkF/nzVfZn43
iqpaB8++9a37hWq14ZmOv0TJIDz//b2+KC4VFXWQ5W5QC6whsjT+OlG4p5ZYG0jo
616pxqo=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIFujCCA6KgAwIBAgIJAJ1aTT1lu2ScMA0GCSqGSIb3DQEBCwUAMGoxCzAJBgNV
BAYTAlVTMQswCQYDVQQIDAJDQTELMAkGA1UEBwwCQ0ExEjAQBgNVBAoMCVJlZGlz
TGFiczEtMCsGA1UEAwwkUmVkaXNMYWJzIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9y
aXR5MB4XDTE4MDIyNTE1MjA0MloXDTM4MDIyMDE1MjA0MlowajELMAkGA1UEBhMC
VVMxCzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJz
MS0wKwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkw
ggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDLEjXy7YrbN5Waau5cd6g1
G5C2tMmeTpZ0duFAPxNU4oE3RHS5gGiok346fUXuUxbZ6QkuzeN2/2Z+RmRcJhQY
Dm0ZgdG4x59An1TJfnzKKoWj8ISmoHS/TGNBdFzXV7FYNLBuqZouqePI6ReC6Qhl
pp45huV32Q3a6IDrrvx7Wo5ZczEQeFNbCeCOQYNDdTmCyEkHqc2AGo8eoIlSTutT
ULOC7R5gzJVTS0e1hesQ7jmqHjbO+VQS1NAL4/5K6cuTEqUl+XhVhPdLWBXJQ5ag
54qhX4v+ojLzeU1R/Vc6NjMvVtptWY6JihpgplprN0Yh2556ewcXMeturcKgXfGJ
xeYzsjzXerEjrVocX5V8BNrg64NlifzTMKNOOv4fVZszq1SIHR8F9ROrqiOdh8iC
JpUbLpXH9hWCSEO6VRMB2xJoKu3cgl63kF30s77x7wLFMEHiwsQRKxooE1UhgS9K
2sO4TlQ1eWUvFvHSTVDQDlGQ6zu4qjbOpb3Q8bQwoK+ai2alkXVR4Ltxe9QlgYK3
StsnPhruzZGA0wbXdpw0bnM+YdlEm5ffSTpNIfgHeaa7Dtb801FtA71ZlH7A6TaI
SIQuUST9EKmv7xrJyx0W1pGoPOLw5T029aTjnICSLdtV9bLwysrLhIYG5bnPq78B
cS+jZHFGzD7PUVGQD01nOQIDAQABo2MwYTAdBgNVHQ4EFgQUIuNsB+oTOC9rLoxL
yzNP7vJUV08wHwYDVR0jBBgwFoAUIuNsB+oTOC9rLoxLyzNP7vJUV08wDwYDVR0T
AQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcNAQELBQADggIBAHfg
z5pMNUAKdMzK1aS1EDdK9yKz4qicILz5czSLj1mC7HKDRy8cVADUxEICis++CsCu
rYOvyCVergHQLREcxPq4rc5Nq1uj6J6649NEeh4WazOOjL4ZfQ1jVznMbGy+fJm3
3Hoelv6jWRG9iqeJZja7/1s6YC6bWymI/OY1e4wUKeNHAo+Vger7MlHV+RuabaX+
hSJ8bJAM59NCM7AgMTQpJCncrcdLeceYniGy5Q/qt2b5mJkQVkIdy4TPGGB+AXDJ
D0q3I/JDRkDUFNFdeW0js7fHdsvCR7O3tJy5zIgEV/o/BCkmJVtuwPYOrw/yOlKj
TY/U7ATAx9VFF6/vYEOMYSmrZlFX+98L6nJtwDqfLB5VTltqZ4H/KBxGE3IRSt9l
FXy40U+LnXzhhW+7VBAvyYX8GEXhHkKU8Gqk1xitrqfBXY74xKgyUSTolFSfFVgj
mcM/X4K45bka+qpkj7Kfv/8D4j6aZekwhN2ly6hhC1SmQ8qjMjpG/mrWOSSHZFmf
ybu9iD2AYHeIOkshIl6xYIa++Q/00/vs46IzAbQyriOi0XxlSMMVtPx0Q3isp+ji
n8Mq9eOuxYOEQ4of8twUkUDd528iwGtEdwf0Q01UyT84S62N8AySl1ZBKXJz6W4F
UhWfa/HQYOAPDdEjNgnVwLI23b8t0TozyCWw7q8h
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIEjzCCA3egAwIBAgIQe55B/ALCKJDZtdNT8kD6hTANBgkqhkiG9w0BAQsFADBM
MSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xv
YmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjAeFw0yMjAxMjYxMjAwMDBaFw0y
NTAxMjYwMDAwMDBaMFgxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWdu
IG52LXNhMS4wLAYDVQQDEyVHbG9iYWxTaWduIEF0bGFzIFIzIE9WIFRMUyBDQSAy
MDIyIFEyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmGmg1LW9b7Lf
8zDD83yBDTEkt+FOxKJZqF4veWc5KZsQj9HfnUS2e5nj/E+JImlGPsQuoiosLuXD
BVBNAMcUFa11buFMGMeEMwiTmCXoXRrXQmH0qjpOfKgYc5gHG3BsRGaRrf7VR4eg
ofNMG9wUBw4/g/TT7+bQJdA4NfE7Y4d5gEryZiBGB/swaX6Jp/8MF4TgUmOWmalK
dZCKyb4sPGQFRTtElk67F7vU+wdGcrcOx1tDcIB0ncjLPMnaFicagl+daWGsKqTh
counQb6QJtYHa91KvCfKWocMxQ7OIbB5UARLPmC4CJ1/f8YFm35ebfzAeULYdGXu
jE9CLor0OwIDAQABo4IBXzCCAVswDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG
CCsGAQUFBwMBBggrBgEFBQcDAjASBgNVHRMBAf8ECDAGAQH/AgEAMB0GA1UdDgQW
BBSH5Zq7a7B/t95GfJWkDBpA8HHqdjAfBgNVHSMEGDAWgBSP8Et/qC5FJK5NUPpj
move4t0bvDB7BggrBgEFBQcBAQRvMG0wLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3Nw
Mi5nbG9iYWxzaWduLmNvbS9yb290cjMwOwYIKwYBBQUHMAKGL2h0dHA6Ly9zZWN1
cmUuZ2xvYmFsc2lnbi5jb20vY2FjZXJ0L3Jvb3QtcjMuY3J0MDYGA1UdHwQvMC0w
K6ApoCeGJWh0dHA6Ly9jcmwuZ2xvYmFsc2lnbi5jb20vcm9vdC1yMy5jcmwwIQYD
VR0gBBowGDAIBgZngQwBAgIwDAYKKwYBBAGgMgoBAjANBgkqhkiG9w0BAQsFAAOC
AQEAKRic9/f+nmhQU/wz04APZLjgG5OgsuUOyUEZjKVhNGDwxGTvKhyXGGAMW2B/
3bRi+aElpXwoxu3pL6fkElbX3B0BeS5LoDtxkyiVEBMZ8m+sXbocwlPyxrPbX6mY
0rVIvnuUeBH8X0L5IwfpNVvKnBIilTbcebfHyXkPezGwz7E1yhUULjJFm2bt0SdX
y+4X/WeiiYIv+fTVgZZgl+/2MKIsu/qdBJc3f3TvJ8nz+Eax1zgZmww+RSQWeOj3
15Iw6Z5FX+NwzY/Ab+9PosR5UosSeq+9HhtaxZttXG1nVh+avYPGYddWmiMT90J5
ZgKnO/Fx2hBgTxhOTMYaD312kg==
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4G
A1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjMxEzARBgNVBAoTCkdsb2JhbFNp
Z24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4
MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEG
A1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI
hvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8
RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsT
gHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmm
KPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zd
QQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZ
XriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAw
DgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+o
LkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZU
RUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMp
jjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK
6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQX
mcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecs
Mx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpH
WD9f
-----END CERTIFICATE-----`,p7={RedisCloudFixed:{ca:ww},RedisCloudFlexible:{ca:ww}};Vv.default=p7;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.noop=t.defaults=t.Debug=t.zipMap=t.CONNECTION_CLOSED_ERROR_MSG=t.shuffle=t.sample=t.resolveTLSProfile=t.parseURL=t.optimizeErrorStack=t.toArg=t.convertMapToArray=t.convertObjectToArray=t.timeout=t.packObject=t.isInt=t.wrapMultiResult=t.convertBufferToString=void 0;const e=se,n=Os;Object.defineProperty(t,"defaults",{enumerable:!0,get:function(){return n.defaults}}),Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return n.noop}});const s=nr;t.Debug=s.default;const r=Vv;function i(g,x){if(g instanceof Buffer)return g.toString(x);if(Array.isArray(g)){const k=g.length,_=Array(k);for(let w=0;w<k;++w)_[w]=g[w]instanceof Buffer&&x==="utf8"?g[w].toString():i(g[w],x);return _}return g}t.convertBufferToString=i;function a(g){if(!g)return null;const x=[],k=g.length;for(let _=0;_<k;++_){const w=g[_];w instanceof Error?x.push([w]):x.push([null,w])}return x}t.wrapMultiResult=a;function o(g){const x=parseFloat(g);return!isNaN(g)&&(x|0)===x}t.isInt=o;function c(g){const x={},k=g.length;for(let _=1;_<k;_+=2)x[g[_-1]]=g[_];return x}t.packObject=c;function l(g,x){let k=null;const _=function(){k&&(clearTimeout(k),k=null,g.apply(this,arguments))};return k=setTimeout(_,x,new Error("timeout")),_}t.timeout=l;function u(g){const x=[],k=Object.keys(g);for(let _=0,w=k.length;_<w;_++)x.push(k[_],g[k[_]]);return x}t.convertObjectToArray=u;function d(g){const x=[];let k=0;return g.forEach(function(_,w){x[k]=w,x[k+1]=_,k+=2}),x}t.convertMapToArray=d;function p(g){return g===null||typeof g>"u"?"":String(g)}t.toArg=p;function y(g,x,k){const _=x.split(`
`);let w="",E;for(E=1;E<_.length&&_[E].indexOf(k)!==-1;++E);for(let T=E;T<_.length;++T)w+=`
`+_[T];if(g.stack){const T=g.stack.indexOf(`
`);g.stack=g.stack.slice(0,T)+w}return g}t.optimizeErrorStack=y;function m(g){if(o(g))return{port:g};let x=(0,e.parse)(g,!0,!0);!x.slashes&&g[0]!=="/"&&(g="//"+g,x=(0,e.parse)(g,!0,!0));const k=x.query||{},_={};if(x.auth){const w=x.auth.indexOf(":");_.username=w===-1?x.auth:x.auth.slice(0,w),_.password=w===-1?"":x.auth.slice(w+1)}if(x.pathname&&(x.protocol==="redis:"||x.protocol==="rediss:"?x.pathname.length>1&&(_.db=x.pathname.slice(1)):_.path=x.pathname),x.host&&(_.host=x.hostname),x.port&&(_.port=x.port),typeof k.family=="string"){const w=Number.parseInt(k.family,10);Number.isNaN(w)||(_.family=w)}return(0,n.defaults)(_,k),_}t.parseURL=m;function f(g){let x=g==null?void 0:g.tls;typeof x=="string"&&(x={profile:x});const k=r.default[x==null?void 0:x.profile];return k&&(x=Object.assign({},k,x),delete x.profile,g=Object.assign({},g,{tls:x})),g}t.resolveTLSProfile=f;function v(g,x=0){const k=g.length;return x>=k?null:g[x+Math.floor(Math.random()*(k-x))]}t.sample=v;function h(g){let x=g.length;for(;x>0;){const k=Math.floor(Math.random()*x);x--,[g[x],g[k]]=[g[k],g[x]]}return g}t.shuffle=h,t.CONNECTION_CLOSED_ERROR_MSG="Connection is closed.";function b(g,x){const k=new Map;return g.forEach((_,w)=>{k.set(_,x[w])}),k}t.zipMap=b})(Lt);Object.defineProperty(Ds,"__esModule",{value:!0});const Sw=jo,f7=Kp,h7=hr,$i=Lt;class Cn{constructor(e,n=[],s={},r){if(this.name=e,this.inTransaction=!1,this.isResolved=!1,this.transformed=!1,this.replyEncoding=s.replyEncoding,this.errorStack=s.errorStack,this.args=n.flat(),this.callback=r,this.initPromise(),s.keyPrefix){const i=s.keyPrefix instanceof Buffer;let a=i?s.keyPrefix:null;this._iterateKeys(o=>o instanceof Buffer?(a===null&&(a=Buffer.from(s.keyPrefix)),Buffer.concat([a,o])):i?Buffer.concat([s.keyPrefix,Buffer.from(String(o))]):s.keyPrefix+o)}s.readOnly&&(this.isReadOnly=!0)}static checkFlag(e,n){return!!this.getFlagMap()[e][n]}static setArgumentTransformer(e,n){this._transformer.argument[e]=n}static setReplyTransformer(e,n){this._transformer.reply[e]=n}static getFlagMap(){return this.flagMap||(this.flagMap=Object.keys(Cn.FLAGS).reduce((e,n)=>(e[n]={},Cn.FLAGS[n].forEach(s=>{e[n][s]=!0}),e),{})),this.flagMap}getSlot(){if(typeof this.slot>"u"){const e=this.getKeys()[0];this.slot=e==null?null:f7(e)}return this.slot}getKeys(){return this._iterateKeys()}toWritable(e){let n;const s="*"+(this.args.length+1)+`\r
$`+Buffer.byteLength(this.name)+`\r
`+this.name+`\r
`;if(this.bufferMode){const r=new m7;r.push(s);for(let i=0;i<this.args.length;++i){const a=this.args[i];a instanceof Buffer?a.length===0?r.push(`$0\r
\r
`):(r.push("$"+a.length+`\r
`),r.push(a),r.push(`\r
`)):r.push("$"+Buffer.byteLength(a)+`\r
`+a+`\r
`)}n=r.toBuffer()}else{n=s;for(let r=0;r<this.args.length;++r){const i=this.args[r];n+="$"+Buffer.byteLength(i)+`\r
`+i+`\r
`}}return n}stringifyArguments(){for(let e=0;e<this.args.length;++e){const n=this.args[e];typeof n=="string"||(n instanceof Buffer?this.bufferMode=!0:this.args[e]=(0,$i.toArg)(n))}}transformReply(e){this.replyEncoding&&(e=(0,$i.convertBufferToString)(e,this.replyEncoding));const n=Cn._transformer.reply[this.name];return n&&(e=n(e)),e}setTimeout(e){this._commandTimeoutTimer||(this._commandTimeoutTimer=setTimeout(()=>{this.isResolved||this.reject(new Error("Command timed out"))},e))}initPromise(){const e=new Promise((n,s)=>{if(!this.transformed){this.transformed=!0;const r=Cn._transformer.argument[this.name];r&&(this.args=r(this.args)),this.stringifyArguments()}this.resolve=this._convertValue(n),this.errorStack?this.reject=r=>{s((0,$i.optimizeErrorStack)(r,this.errorStack.stack,__dirname))}:this.reject=s});this.promise=(0,h7.default)(e,this.callback)}_iterateKeys(e=n=>n){if(typeof this.keys>"u"&&(this.keys=[],(0,Sw.exists)(this.name))){const n=(0,Sw.getKeyIndexes)(this.name,this.args);for(const s of n)this.args[s]=e(this.args[s]),this.keys.push(this.args[s])}return this.keys}_convertValue(e){return n=>{try{const s=this._commandTimeoutTimer;s&&(clearTimeout(s),delete this._commandTimeoutTimer),e(this.transformReply(n)),this.isResolved=!0}catch(s){this.reject(s)}return this.promise}}}Ds.default=Cn;Cn.FLAGS={VALID_IN_SUBSCRIBER_MODE:["subscribe","psubscribe","unsubscribe","punsubscribe","ssubscribe","sunsubscribe","ping","quit"],VALID_IN_MONITOR_MODE:["monitor","auth"],ENTER_SUBSCRIBER_MODE:["subscribe","psubscribe","ssubscribe"],EXIT_SUBSCRIBER_MODE:["unsubscribe","punsubscribe","sunsubscribe"],WILL_DISCONNECT:["quit"]};Cn._transformer={argument:{},reply:{}};const w2=function(t){if(t.length===1){if(t[0]instanceof Map)return(0,$i.convertMapToArray)(t[0]);if(typeof t[0]=="object"&&t[0]!==null)return(0,$i.convertObjectToArray)(t[0])}return t},S2=function(t){if(t.length===2){if(t[1]instanceof Map)return[t[0]].concat((0,$i.convertMapToArray)(t[1]));if(typeof t[1]=="object"&&t[1]!==null)return[t[0]].concat((0,$i.convertObjectToArray)(t[1]))}return t};Cn.setArgumentTransformer("mset",w2);Cn.setArgumentTransformer("msetnx",w2);Cn.setArgumentTransformer("hset",S2);Cn.setArgumentTransformer("hmset",S2);Cn.setReplyTransformer("hgetall",function(t){if(Array.isArray(t)){const e={};for(let n=0;n<t.length;n+=2){const s=t[n],r=t[n+1];s in e?Object.defineProperty(e,s,{value:r,configurable:!0,enumerable:!0,writable:!0}):e[s]=r}return e}return t});class m7{constructor(){this.length=0,this.items=[]}push(e){this.length+=Buffer.byteLength(e),this.items.push(e)}toBuffer(){const e=Buffer.allocUnsafe(this.length);let n=0;for(const s of this.items){const r=Buffer.byteLength(s);Buffer.isBuffer(s)?s.copy(e,n):e.write(s,n,r),n+=r}return e}}var Hv={};Object.defineProperty(Hv,"__esModule",{value:!0});const g7=Mo;class _2 extends g7.RedisError{constructor(e,n){super(e),this.lastNodeError=n,Error.captureStackTrace(this,this.constructor)}get name(){return this.constructor.name}}Hv.default=_2;_2.defaultMessage="Failed to refresh slots cache.";var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});const y7=se;class v7 extends y7.Readable{constructor(e){super(e),this.opt=e,this._redisCursor="0",this._redisDrained=!1}_read(){if(this._redisDrained){this.push(null);return}const e=[this._redisCursor];this.opt.key&&e.unshift(this.opt.key),this.opt.match&&e.push("MATCH",this.opt.match),this.opt.type&&e.push("TYPE",this.opt.type),this.opt.count&&e.push("COUNT",String(this.opt.count)),this.opt.noValues&&e.push("NOVALUES"),this.opt.redis[this.opt.command](e,(n,s)=>{if(n){this.emit("error",n);return}this._redisCursor=s[0]instanceof Buffer?s[0].toString():s[0],this._redisCursor==="0"&&(this._redisDrained=!0),this.push(s[1])})}close(){this._redisDrained=!0}}Pl.default=v7;var Il={},Jp={},jl={},E2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.executeWithAutoPipelining=t.getFirstValueInFlattenedArray=t.shouldUseAutoPipelining=t.notAllowedAutoPipelineCommands=t.kCallbacks=t.kExec=void 0;const e=Os,n=Kp,s=hr;t.kExec=Symbol("exec"),t.kCallbacks=Symbol("callbacks"),t.notAllowedAutoPipelineCommands=["auth","info","script","quit","cluster","pipeline","multi","subscribe","psubscribe","unsubscribe","unpsubscribe","select"];function r(c,l){if(c._runningAutoPipelines.has(l)||!c._autoPipelines.has(l))return;c._runningAutoPipelines.add(l);const u=c._autoPipelines.get(l);c._autoPipelines.delete(l);const d=u[t.kCallbacks];u[t.kCallbacks]=null,u.exec(function(p,y){if(c._runningAutoPipelines.delete(l),p)for(let m=0;m<d.length;m++)process.nextTick(d[m],p);else for(let m=0;m<d.length;m++)process.nextTick(d[m],...y[m]);c._autoPipelines.has(l)&&r(c,l)})}function i(c,l,u){return l&&c.options.enableAutoPipelining&&!c.isPipeline&&!t.notAllowedAutoPipelineCommands.includes(u)&&!c.options.autoPipeliningIgnoredCommands.includes(u)}t.shouldUseAutoPipelining=i;function a(c){for(let l=0;l<c.length;l++){const u=c[l];if(typeof u=="string")return u;if(Array.isArray(u)||(0,e.isArguments)(u)){if(u.length===0)continue;return u[0]}const d=[u].flat();if(d.length>0)return d[0]}}t.getFirstValueInFlattenedArray=a;function o(c,l,u,d,p){if(c.isCluster&&!c.slots.length)return c.status==="wait"&&c.connect().catch(e.noop),(0,s.default)(new Promise(function(h,b){c.delayUntilReady(g=>{if(g){b(g);return}o(c,l,u,d,null).then(h,b)})}),p);const y=c.options.keyPrefix||"",m=c.isCluster?c.slots[n(`${y}${a(d)}`)].join(","):"main";if(!c._autoPipelines.has(m)){const h=c.pipeline();h[t.kExec]=!1,h[t.kCallbacks]=[],c._autoPipelines.set(m,h)}const f=c._autoPipelines.get(m);f[t.kExec]||(f[t.kExec]=!0,setImmediate(r,c,m));const v=new Promise(function(h,b){f[t.kCallbacks].push(function(g,x){if(g){b(g);return}h(x)}),l==="call"&&d.unshift(u),f[l](...d)});return(0,s.default)(v,p)}t.executeWithAutoPipelining=o})(E2);var Gv={};Object.defineProperty(Gv,"__esModule",{value:!0});const b7=se,x7=Ds,w7=hr;class S7{constructor(e,n=null,s="",r=!1){this.lua=e,this.numberOfKeys=n,this.keyPrefix=s,this.readOnly=r,this.sha=(0,b7.createHash)("sha1").update(e).digest("hex");const i=this.sha,a=new WeakSet;this.Command=class extends x7.default{toWritable(c){const l=this.reject;return this.reject=u=>{u.message.indexOf("NOSCRIPT")!==-1&&a.delete(c),l.call(this,u)},a.has(c)?this.name==="eval"&&(this.name="evalsha",this.args[0]=i):(a.add(c),this.name="eval",this.args[0]=e),super.toWritable(c)}}}execute(e,n,s,r){typeof this.numberOfKeys=="number"&&n.unshift(this.numberOfKeys),this.keyPrefix&&(s.keyPrefix=this.keyPrefix),this.readOnly&&(s.readOnly=!0);const i=new this.Command("evalsha",[this.sha,...n],s);return i.promise=i.promise.catch(a=>{if(a.message.indexOf("NOSCRIPT")===-1)throw a;const o=new this.Command("evalsha",[this.sha,...n],s);return(e.isPipeline?e.redis:e).sendCommand(o)}),(0,w7.default)(i.promise,r),e.sendCommand(i)}}Gv.default=S7;Object.defineProperty(jl,"__esModule",{value:!0});const _7=jo,Gd=E2,E7=Ds,k7=Gv;class aa{constructor(){this.options={},this.scriptsSet={},this.addedBuiltinSet=new Set}getBuiltinCommands(){return Wv.slice(0)}createBuiltinCommand(e){return{string:qr(null,e,"utf8"),buffer:qr(null,e,null)}}addBuiltinCommand(e){this.addedBuiltinSet.add(e),this[e]=qr(e,e,"utf8"),this[e+"Buffer"]=qr(e+"Buffer",e,null)}defineCommand(e,n){const s=new k7.default(n.lua,n.numberOfKeys,this.options.keyPrefix,n.readOnly);this.scriptsSet[e]=s,this[e]=_w(e,e,s,"utf8"),this[e+"Buffer"]=_w(e+"Buffer",e,s,null)}sendCommand(e,n,s){throw new Error('"sendCommand" is not implemented')}}const Wv=_7.list.filter(t=>t!=="monitor");Wv.push("sentinel");Wv.forEach(function(t){aa.prototype[t]=qr(t,t,"utf8"),aa.prototype[t+"Buffer"]=qr(t+"Buffer",t,null)});aa.prototype.call=qr("call","utf8");aa.prototype.callBuffer=qr("callBuffer",null);aa.prototype.send_command=aa.prototype.call;function qr(t,e,n){return typeof n>"u"&&(n=e,e=null),function(...s){const r=e||s.shift();let i=s[s.length-1];typeof i=="function"?s.pop():i=void 0;const a={errorStack:this.options.showFriendlyErrorStack?new Error:void 0,keyPrefix:this.options.keyPrefix,replyEncoding:n};return(0,Gd.shouldUseAutoPipelining)(this,t,r)?(0,Gd.executeWithAutoPipelining)(this,t,r,s,i):this.sendCommand(new E7.default(r,s,a,i))}}function _w(t,e,n,s){return function(...r){const i=typeof r[r.length-1]=="function"?r.pop():void 0,a={replyEncoding:s};return this.options.showFriendlyErrorStack&&(a.errorStack=new Error),(0,Gd.shouldUseAutoPipelining)(this,t,e)?(0,Gd.executeWithAutoPipelining)(this,t,e,r,i):n.execute(this,r,a,i)}}jl.default=aa;Object.defineProperty(Jp,"__esModule",{value:!0});const Ig=Kp,Ew=jo,kw=hr,C7=se,A7=Ds,T7=Lt,N7=jl;function R7(t,e){const n=Ig(e[0]),s=t._groupsBySlot[n];for(let r=1;r<e.length;r++)if(t._groupsBySlot[Ig(e[r])]!==s)return-1;return n}class Do extends N7.default{constructor(e){super(),this.redis=e,this.isPipeline=!0,this.replyPending=0,this._queue=[],this._result=[],this._transactions=0,this._shaToScript={},this.isCluster=this.redis.constructor.name==="Cluster"||this.redis.isCluster,this.options=e.options,Object.keys(e.scriptsSet).forEach(s=>{const r=e.scriptsSet[s];this._shaToScript[r.sha]=r,this[s]=e[s],this[s+"Buffer"]=e[s+"Buffer"]}),e.addedBuiltinSet.forEach(s=>{this[s]=e[s],this[s+"Buffer"]=e[s+"Buffer"]}),this.promise=new Promise((s,r)=>{this.resolve=s,this.reject=r});const n=this;Object.defineProperty(this,"length",{get:function(){return n._queue.length}})}fillResult(e,n){if(this._queue[n].name==="exec"&&Array.isArray(e[1])){const r=e[1].length;for(let i=0;i<r;i++){if(e[1][i]instanceof Error)continue;const a=this._queue[n-(r-i)];try{e[1][i]=a.transformReply(e[1][i])}catch(o){e[1][i]=o}}}if(this._result[n]=e,--this.replyPending)return;if(this.isCluster){let r=!0,i;for(let a=0;a<this._result.length;++a){const o=this._result[a][0],c=this._queue[a];if(o){if(c.name==="exec"&&o.message==="EXECABORT Transaction discarded because of previous errors.")continue;if(!i)i={name:o.name,message:o.message};else if(i.name!==o.name||i.message!==o.message){r=!1;break}}else if(!c.inTransaction&&!((0,Ew.exists)(c.name)&&(0,Ew.hasFlag)(c.name,"readonly"))){r=!1;break}}if(i&&r){const a=this,o=i.message.split(" "),c=this._queue;let l=!1;this._queue=[];for(let y=0;y<c.length;++y){if(o[0]==="ASK"&&!l&&c[y].name!=="asking"&&(!c[y-1]||c[y-1].name!=="asking")){const m=new A7.default("asking");m.ignore=!0,this.sendCommand(m)}c[y].initPromise(),this.sendCommand(c[y]),l=c[y].inTransaction}let u=!0;typeof this.leftRedirections>"u"&&(this.leftRedirections={});const d=function(){a.exec()},p=this.redis;if(p.handleError(i,this.leftRedirections,{moved:function(y,m){a.preferKey=m,p.slots[o[1]]=[m],p._groupsBySlot[o[1]]=p._groupsIds[p.slots[o[1]].join(";")],p.refreshSlotsCache(),a.exec()},ask:function(y,m){a.preferKey=m,a.exec()},tryagain:d,clusterDown:d,connectionClosed:d,maxRedirections:()=>{u=!1},defaults:()=>{u=!1}}),u)return}}let s=0;for(let r=0;r<this._queue.length-s;++r)this._queue[r+s].ignore&&(s+=1),this._result[r]=this._result[r+s];this.resolve(this._result.slice(0,this._result.length-s))}sendCommand(e){this._transactions>0&&(e.inTransaction=!0);const n=this._queue.length;return e.pipelineIndex=n,e.promise.then(s=>{this.fillResult([null,s],n)}).catch(s=>{this.fillResult([s],n)}),this._queue.push(e),this}addBatch(e){let n,s,r;for(let i=0;i<e.length;++i)n=e[i],s=n[0],r=n.slice(1),this[s].apply(this,r);return this}}Jp.default=Do;const O7=Do.prototype.multi;Do.prototype.multi=function(){return this._transactions+=1,O7.apply(this,arguments)};const k2=Do.prototype.execBuffer;Do.prototype.execBuffer=(0,C7.deprecate)(function(){return this._transactions>0&&(this._transactions-=1),k2.apply(this,arguments)},"Pipeline#execBuffer: Use Pipeline#exec instead");Do.prototype.exec=function(t){if(this.isCluster&&!this.redis.slots.length)return this.redis.status==="wait"&&this.redis.connect().catch(T7.noop),t&&!this.nodeifiedPromise&&(this.nodeifiedPromise=!0,(0,kw.default)(this.promise,t)),this.redis.delayUntilReady(r=>{if(r){this.reject(r);return}this.exec(t)}),this.promise;if(this._transactions>0)return this._transactions-=1,k2.apply(this,arguments);this.nodeifiedPromise||(this.nodeifiedPromise=!0,(0,kw.default)(this.promise,t)),this._queue.length||this.resolve([]);let e;if(this.isCluster){const r=[];for(let i=0;i<this._queue.length;i++){const a=this._queue[i].getKeys();if(a.length&&r.push(a[0]),a.length&&Ig.generateMulti(a)<0)return this.reject(new Error("All the keys in a pipeline command should belong to the same slot")),this.promise}if(r.length){if(e=R7(this.redis,r),e<0)return this.reject(new Error("All keys in the pipeline should belong to the same slots allocation group")),this.promise}else e=Math.random()*16384|0}const n=this;return s(),this.promise;function s(){let r=n.replyPending=n._queue.length,i;n.isCluster&&(i={slot:e,redis:n.redis.connectionPool.nodes.all[n.preferKey]});let a="",o;const c={isPipeline:!0,destination:n.isCluster?i:{redis:n.redis},write(l){typeof l!="string"?(o||(o=[]),a&&(o.push(Buffer.from(a,"utf8")),a=""),o.push(l)):a+=l,--r||(o?(a&&o.push(Buffer.from(a,"utf8")),c.destination.redis.stream.write(Buffer.concat(o))):c.destination.redis.stream.write(a),r=n._queue.length,a="",o=void 0)}};for(let l=0;l<n._queue.length;++l)n.redis.sendCommand(n._queue[l],c,i);return n.promise}};Object.defineProperty(Il,"__esModule",{value:!0});Il.addTransactionSupport=void 0;const gh=Lt,yh=hr,Cw=Jp;function P7(t){t.pipeline=function(s){const r=new Cw.default(this);return Array.isArray(s)&&r.addBatch(s),r};const{multi:e}=t;t.multi=function(s,r){if(typeof r>"u"&&!Array.isArray(s)&&(r=s,s=null),r&&r.pipeline===!1)return e.call(this);const i=new Cw.default(this);i.multi(),Array.isArray(s)&&i.addBatch(s);const a=i.exec;i.exec=function(c){if(this.isCluster&&!this.redis.slots.length)return this.redis.status==="wait"&&this.redis.connect().catch(gh.noop),(0,yh.default)(new Promise((u,d)=>{this.redis.delayUntilReady(p=>{if(p){d(p);return}this.exec(i).then(u,d)})}),c);if(this._transactions>0&&a.call(i),this.nodeifiedPromise)return a.call(i);const l=a.call(i);return(0,yh.default)(l.then(function(u){const d=u[u.length-1];if(typeof d>"u")throw new Error("Pipeline cannot be used to send any commands when the `exec()` has been called on it.");if(d[0]){d[0].previousErrors=[];for(let p=0;p<u.length-1;++p)u[p][0]&&d[0].previousErrors.push(u[p][0]);throw d[0]}return(0,gh.wrapMultiResult)(d[1])}),c)};const{execBuffer:o}=i;return i.execBuffer=function(c){return this._transactions>0&&o.call(i),i.exec(c)},i};const{exec:n}=t;t.exec=function(s){return(0,yh.default)(n.call(this).then(function(r){return Array.isArray(r)&&(r=(0,gh.wrapMultiResult)(r)),r}),s)}}Il.addTransactionSupport=P7;var Xp={};Object.defineProperty(Xp,"__esModule",{value:!0});function I7(t,e){Object.getOwnPropertyNames(e.prototype).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n))})}Xp.default=I7;var Zp={};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.DEFAULT_CLUSTER_OPTIONS=void 0;const Aw=se;Zp.DEFAULT_CLUSTER_OPTIONS={clusterRetryStrategy:t=>Math.min(100+t*2,2e3),enableOfflineQueue:!0,enableReadyCheck:!0,scaleReads:"master",maxRedirections:16,retryDelayOnMoved:0,retryDelayOnFailover:100,retryDelayOnClusterDown:100,retryDelayOnTryAgain:100,slotsRefreshTimeout:1e3,useSRVRecords:!1,resolveSrv:Aw.resolveSrv,dnsLookup:Aw.lookup,enableAutoPipelining:!1,autoPipeliningIgnoredCommands:[],shardedSubscribers:!1};var hu={},Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.getConnectionName=Ct.weightSrvRecords=Ct.groupSrvRecords=Ct.getUniqueHostnamesFromOptions=Ct.normalizeNodeOptions=Ct.nodeKeyToRedisOptions=Ct.getNodeKey=void 0;const Tw=Lt,j7=se;function M7(t){return t.port=t.port||6379,t.host=t.host||"127.0.0.1",t.host+":"+t.port}Ct.getNodeKey=M7;function D7(t){const e=t.lastIndexOf(":");if(e===-1)throw new Error(`Invalid node key ${t}`);return{host:t.slice(0,e),port:Number(t.slice(e+1))}}Ct.nodeKeyToRedisOptions=D7;function F7(t){return t.map(e=>{const n={};if(typeof e=="object")Object.assign(n,e);else if(typeof e=="string")Object.assign(n,(0,Tw.parseURL)(e));else if(typeof e=="number")n.port=e;else throw new Error("Invalid argument "+e);return typeof n.port=="string"&&(n.port=parseInt(n.port,10)),delete n.db,n.port||(n.port=6379),n.host||(n.host="127.0.0.1"),(0,Tw.resolveTLSProfile)(n)})}Ct.normalizeNodeOptions=F7;function L7(t){const e={};return t.forEach(n=>{e[n.host]=!0}),Object.keys(e).filter(n=>!(0,j7.isIP)(n))}Ct.getUniqueHostnamesFromOptions=L7;function B7(t){const e={};for(const n of t)e.hasOwnProperty(n.priority)?(e[n.priority].totalWeight+=n.weight,e[n.priority].records.push(n)):e[n.priority]={totalWeight:n.weight,records:[n]};return e}Ct.groupSrvRecords=B7;function $7(t){if(t.records.length===1)return t.totalWeight=0,t.records.shift();const e=Math.floor(Math.random()*(t.totalWeight+t.records.length));let n=0;for(const[s,r]of t.records.entries())if(n+=1+r.weight,n>e)return t.totalWeight-=r.weight,t.records.splice(s,1),r}Ct.weightSrvRecords=$7;function z7(t,e){const n=`ioredis-cluster(${t})`;return e?`${n}:${e}`:n}Ct.getConnectionName=z7;var Nw;function C2(){if(Nw)return hu;Nw=1,Object.defineProperty(hu,"__esModule",{value:!0});const t=Ct,e=Lt,n=zi(),s=(0,e.Debug)("cluster:subscriber");let r=class{constructor(a,o,c=!1){this.connectionPool=a,this.emitter=o,this.isSharded=c,this.started=!1,this.subscriber=null,this.slotRange=[],this.onSubscriberEnd=()=>{if(!this.started){s("subscriber has disconnected, but ClusterSubscriber is not started, so not reconnecting.");return}s("subscriber has disconnected, selecting a new one..."),this.selectSubscriber()},this.connectionPool.on("-node",(l,u)=>{!this.started||!this.subscriber||(0,t.getNodeKey)(this.subscriber.options)===u&&(s("subscriber has left, selecting a new one..."),this.selectSubscriber())}),this.connectionPool.on("+node",()=>{!this.started||this.subscriber||(s("a new node is discovered and there is no subscriber, selecting a new one..."),this.selectSubscriber())})}getInstance(){return this.subscriber}associateSlotRange(a){return this.isSharded&&(this.slotRange=a),this.slotRange}start(){this.started=!0,this.selectSubscriber(),s("started")}stop(){this.started=!1,this.subscriber&&(this.subscriber.disconnect(),this.subscriber=null)}isStarted(){return this.started}selectSubscriber(){const a=this.lastActiveSubscriber;a&&(a.off("end",this.onSubscriberEnd),a.disconnect()),this.subscriber&&(this.subscriber.off("end",this.onSubscriberEnd),this.subscriber.disconnect());const o=(0,e.sample)(this.connectionPool.getNodes());if(!o){s("selecting subscriber failed since there is no node discovered in the cluster yet"),this.subscriber=null;return}const{options:c}=o;s("selected a subscriber %s:%s",c.host,c.port);let l="subscriber";this.isSharded&&(l="ssubscriber"),this.subscriber=new n.default({port:c.port,host:c.host,username:c.username,password:c.password,enableReadyCheck:!0,connectionName:(0,t.getConnectionName)(l,c.connectionName),lazyConnect:!0,tls:c.tls,retryStrategy:null}),this.subscriber.on("error",e.noop),this.subscriber.once("end",this.onSubscriberEnd);const u={subscribe:[],psubscribe:[],ssubscribe:[]};if(a){const d=a.condition||a.prevCondition;d&&d.subscriber&&(u.subscribe=d.subscriber.channels("subscribe"),u.psubscribe=d.subscriber.channels("psubscribe"),u.ssubscribe=d.subscriber.channels("ssubscribe"))}if(u.subscribe.length||u.psubscribe.length||u.ssubscribe.length){let d=0;for(const p of["subscribe","psubscribe","ssubscribe"]){const y=u[p];y.length&&(d+=1,s("%s %d channels",p,y.length),this.subscriber[p](y).then(()=>{--d||(this.lastActiveSubscriber=this.subscriber)}).catch(()=>{s("failed to %s %d channels",p,y.length)}))}}else this.lastActiveSubscriber=this.subscriber;for(const d of["message","messageBuffer"])this.subscriber.on(d,(p,y)=>{this.emitter.emit(d,p,y)});for(const d of["pmessage","pmessageBuffer"])this.subscriber.on(d,(p,y,m)=>{this.emitter.emit(d,p,y,m)});if(this.isSharded==!0)for(const d of["smessage","smessageBuffer"])this.subscriber.on(d,(p,y)=>{this.emitter.emit(d,p,y)})}};return hu.default=r,hu}var mu={},Rw;function A2(){if(Rw)return mu;Rw=1,Object.defineProperty(mu,"__esModule",{value:!0});const t=se,e=Lt,n=Ct,s=zi(),r=(0,e.Debug)("cluster:connectionPool");let i=class extends t.EventEmitter{constructor(o){super(),this.redisOptions=o,this.nodes={all:{},master:{},slave:{}},this.specifiedOptions={}}getNodes(o="all"){const c=this.nodes[o];return Object.keys(c).map(l=>c[l])}getInstanceByKey(o){return this.nodes.all[o]}getSampleInstance(o){const c=Object.keys(this.nodes[o]),l=(0,e.sample)(c);return this.nodes[o][l]}addMasterNode(o){const c=(0,n.getNodeKey)(o.options),l=this.createRedisFromOptions(o,o.options.readOnly);return o.options.readOnly?!1:(this.nodes.all[c]=l,this.nodes.master[c]=l,!0)}createRedisFromOptions(o,c){return new s.default((0,e.defaults)({retryStrategy:null,enableOfflineQueue:!0,readOnly:c},o,this.redisOptions,{lazyConnect:!0}))}findOrCreate(o,c=!1){const l=(0,n.getNodeKey)(o);c=!!c,this.specifiedOptions[l]?Object.assign(o,this.specifiedOptions[l]):this.specifiedOptions[l]=o;let u;return this.nodes.all[l]?(u=this.nodes.all[l],u.options.readOnly!==c&&(u.options.readOnly=c,r("Change role of %s to %s",l,c?"slave":"master"),u[c?"readonly":"readwrite"]().catch(e.noop),c?(delete this.nodes.master[l],this.nodes.slave[l]=u):(delete this.nodes.slave[l],this.nodes.master[l]=u))):(r("Connecting to %s as %s",l,c?"slave":"master"),u=this.createRedisFromOptions(o,c),this.nodes.all[l]=u,this.nodes[c?"slave":"master"][l]=u,u.once("end",()=>{this.removeNode(l),this.emit("-node",u,l),Object.keys(this.nodes.all).length||this.emit("drain")}),this.emit("+node",u,l),u.on("error",function(d){this.emit("nodeError",d,l)})),u}reset(o){r("Reset with %O",o);const c={};o.forEach(l=>{const u=(0,n.getNodeKey)(l);l.readOnly&&c[u]||(c[u]=l)}),Object.keys(this.nodes.all).forEach(l=>{c[l]||(r("Disconnect %s because the node does not hold any slot",l),this.nodes.all[l].disconnect(),this.removeNode(l))}),Object.keys(c).forEach(l=>{const u=c[l];this.findOrCreate(u,u.readOnly)})}removeNode(o){const{nodes:c}=this;c.all[o]&&(r("Remove %s from the pool",o),delete c.all[o]),delete c.master[o],delete c.slave[o]}};return mu.default=i,mu}var Kv={};function lt(t,n){var n=n||{};this._capacity=n.capacity,this._head=0,this._tail=0,Array.isArray(t)?this._fromArray(t):(this._capacityMask=3,this._list=new Array(4))}lt.prototype.peekAt=function(e){var n=e;if(n===(n|0)){var s=this.size();if(!(n>=s||n<-s))return n<0&&(n+=s),n=this._head+n&this._capacityMask,this._list[n]}};lt.prototype.get=function(e){return this.peekAt(e)};lt.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]};lt.prototype.peekFront=function(){return this.peek()};lt.prototype.peekBack=function(){return this.peekAt(-1)};Object.defineProperty(lt.prototype,"length",{get:function(){return this.size()}});lt.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};lt.prototype.unshift=function(e){if(arguments.length===0)return this.size();var n=this._list.length;return this._head=this._head-1+n&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};lt.prototype.shift=function(){var e=this._head;if(e!==this._tail){var n=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),n}};lt.prototype.push=function(e){if(arguments.length===0)return this.size();var n=this._tail;return this._list[n]=e,this._tail=n+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};lt.prototype.pop=function(){var e=this._tail;if(e!==this._head){var n=this._list.length;this._tail=e-1+n&this._capacityMask;var s=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&e>1e4&&e<=n>>>2&&this._shrinkArray(),s}};lt.prototype.removeOne=function(e){var n=e;if(n===(n|0)&&this._head!==this._tail){var s=this.size(),r=this._list.length;if(!(n>=s||n<-s)){n<0&&(n+=s),n=this._head+n&this._capacityMask;var i=this._list[n],a;if(e<s/2){for(a=e;a>0;a--)this._list[n]=this._list[n=n-1+r&this._capacityMask];this._list[n]=void 0,this._head=this._head+1+r&this._capacityMask}else{for(a=s-1-e;a>0;a--)this._list[n]=this._list[n=n+1+r&this._capacityMask];this._list[n]=void 0,this._tail=this._tail-1+r&this._capacityMask}return i}}};lt.prototype.remove=function(e,n){var s=e,r,i=n;if(s===(s|0)&&this._head!==this._tail){var a=this.size(),o=this._list.length;if(!(s>=a||s<-a||n<1)){if(s<0&&(s+=a),n===1||!n)return r=new Array(1),r[0]=this.removeOne(s),r;if(s===0&&s+n>=a)return r=this.toArray(),this.clear(),r;s+n>a&&(n=a-s);var c;for(r=new Array(n),c=0;c<n;c++)r[c]=this._list[this._head+s+c&this._capacityMask];if(s=this._head+s&this._capacityMask,e+n===a){for(this._tail=this._tail-n+o&this._capacityMask,c=n;c>0;c--)this._list[s=s+1+o&this._capacityMask]=void 0;return r}if(e===0){for(this._head=this._head+n+o&this._capacityMask,c=n-1;c>0;c--)this._list[s=s+1+o&this._capacityMask]=void 0;return r}if(s<a/2){for(this._head=this._head+e+n+o&this._capacityMask,c=e;c>0;c--)this.unshift(this._list[s=s-1+o&this._capacityMask]);for(s=this._head-1+o&this._capacityMask;i>0;)this._list[s=s-1+o&this._capacityMask]=void 0,i--;e<0&&(this._tail=s)}else{for(this._tail=s,s=s+n+o&this._capacityMask,c=a-(n+e);c>0;c--)this.push(this._list[s++]);for(s=this._tail;i>0;)this._list[s=s+1+o&this._capacityMask]=void 0,i--}return this._head<2&&this._tail>1e4&&this._tail<=o>>>2&&this._shrinkArray(),r}}};lt.prototype.splice=function(e,n){var s=e;if(s===(s|0)){var r=this.size();if(s<0&&(s+=r),!(s>r))if(arguments.length>2){var i,a,o,c=arguments.length,l=this._list.length,u=2;if(!r||s<r/2){for(a=new Array(s),i=0;i<s;i++)a[i]=this._list[this._head+i&this._capacityMask];for(n===0?(o=[],s>0&&(this._head=this._head+s+l&this._capacityMask)):(o=this.remove(s,n),this._head=this._head+s+l&this._capacityMask);c>u;)this.unshift(arguments[--c]);for(i=s;i>0;i--)this.unshift(a[i-1])}else{a=new Array(r-(s+n));var d=a.length;for(i=0;i<d;i++)a[i]=this._list[this._head+s+n+i&this._capacityMask];for(n===0?(o=[],s!=r&&(this._tail=this._head+s+l&this._capacityMask)):(o=this.remove(s,n),this._tail=this._tail-d+l&this._capacityMask);u<c;)this.push(arguments[u++]);for(i=0;i<d;i++)this.push(a[i])}return o}else return this.remove(s,n)}};lt.prototype.clear=function(){this._list=new Array(this._list.length),this._head=0,this._tail=0};lt.prototype.isEmpty=function(){return this._head===this._tail};lt.prototype.toArray=function(){return this._copyArray(!1)};lt.prototype._fromArray=function(e){var n=e.length,s=this._nextPowerOf2(n);this._list=new Array(s),this._capacityMask=s-1,this._tail=n;for(var r=0;r<n;r++)this._list[r]=e[r]};lt.prototype._copyArray=function(e,n){var s=this._list,r=s.length,i=this.length;if(n=n|i,n==i&&this._head<this._tail)return this._list.slice(this._head,this._tail);var a=new Array(n),o=0,c;if(e||this._head>this._tail){for(c=this._head;c<r;c++)a[o++]=s[c];for(c=0;c<this._tail;c++)a[o++]=s[c]}else for(c=this._head;c<this._tail;c++)a[o++]=s[c];return a};lt.prototype._growArray=function(){if(this._head!=0){var e=this._copyArray(!0,this._list.length<<1);this._tail=this._list.length,this._head=0,this._list=e}else this._tail=this._list.length,this._list.length<<=1;this._capacityMask=this._capacityMask<<1|1};lt.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1};lt.prototype._nextPowerOf2=function(e){var n=Math.log(e)/Math.log(2),s=1<<n+1;return Math.max(s,4)};var Yv=lt;Object.defineProperty(Kv,"__esModule",{value:!0});const U7=Lt,q7=Yv,Q7=(0,U7.Debug)("delayqueue");class V7{constructor(){this.queues={},this.timeouts={}}push(e,n,s){const r=s.callback||process.nextTick;this.queues[e]||(this.queues[e]=new q7),this.queues[e].push(n),this.timeouts[e]||(this.timeouts[e]=setTimeout(()=>{r(()=>{this.timeouts[e]=null,this.execute(e)})},s.timeout))}execute(e){const n=this.queues[e];if(!n)return;const{length:s}=n;if(s)for(Q7("send %d commands in %s queue",s,e),this.queues[e]=null;n.length>0;)n.shift()()}}Kv.default=V7;var gu={},Ow;function H7(){if(Ow)return gu;Ow=1,Object.defineProperty(gu,"__esModule",{value:!0});const t=Lt,e=C2(),n=A2(),s=Ct,r=Kp,i=(0,t.Debug)("cluster:subscriberGroup");let a=class{constructor(c){this.cluster=c,this.shardedSubscribers=new Map,this.clusterSlots=[],this.subscriberToSlotsIndex=new Map,this.channels=new Map,c.on("+node",l=>{this._addSubscriber(l)}),c.on("-node",l=>{this._removeSubscriber(l)}),c.on("refresh",()=>{this._refreshSlots(c)})}getResponsibleSubscriber(c){const l=this.clusterSlots[c][0];return this.shardedSubscribers.get(l)}addChannels(c){const l=r(c[0]);c.forEach(d=>{if(r(d)!=l)return-1});const u=this.channels.get(l);return u?this.channels.set(l,u.concat(c)):this.channels.set(l,c),[...this.channels.values()].flatMap(d=>d).length}removeChannels(c){const l=r(c[0]);c.forEach(d=>{if(r(d)!=l)return-1});const u=this.channels.get(l);if(u){const d=u.filter(p=>!c.includes(p));this.channels.set(l,d)}return[...this.channels.values()].flatMap(d=>d).length}stop(){for(const c of this.shardedSubscribers.values())c.stop()}start(){for(const c of this.shardedSubscribers.values())c.isStarted()||c.start()}_addSubscriber(c){const l=new n.default(c.options);if(l.addMasterNode(c)){const u=new e.default(l,this.cluster,!0),d=(0,s.getNodeKey)(c.options);return this.shardedSubscribers.set(d,u),u.start(),this._resubscribe(),this.cluster.emit("+subscriber"),u}return null}_removeSubscriber(c){const l=(0,s.getNodeKey)(c.options),u=this.shardedSubscribers.get(l);return u&&(u.stop(),this.shardedSubscribers.delete(l),this._resubscribe(),this.cluster.emit("-subscriber")),this.shardedSubscribers}_refreshSlots(c){if(this._slotsAreEqual(c.slots))i("Nothing to refresh because the new cluster map is equal to the previous one.");else{i("Refreshing the slots of the subscriber group."),this.subscriberToSlotsIndex=new Map;for(let l=0;l<c.slots.length;l++){const u=c.slots[l][0];this.subscriberToSlotsIndex.has(u)||this.subscriberToSlotsIndex.set(u,[]),this.subscriberToSlotsIndex.get(u).push(Number(l))}return this._resubscribe(),this.clusterSlots=JSON.parse(JSON.stringify(c.slots)),this.cluster.emit("subscribersReady"),!0}return!1}_resubscribe(){this.shardedSubscribers&&this.shardedSubscribers.forEach((c,l)=>{const u=this.subscriberToSlotsIndex.get(l);u&&(c.associateSlotRange(u),u.forEach(d=>{const p=c.getInstance(),y=this.channels.get(d);y&&y.length>0&&p&&(p.ssubscribe(y),p.on("ready",()=>{p.ssubscribe(y)}))}))})}_slotsAreEqual(c){return this.clusterSlots===void 0?!1:JSON.stringify(this.clusterSlots)===JSON.stringify(c)}};return gu.default=a,gu}var Pw;function T2(){if(Pw)return fu;Pw=1,Object.defineProperty(fu,"__esModule",{value:!0});const t=jo,e=se,n=Mo,s=hr,r=Ds,i=Hv,a=zi(),o=Pl,c=Il,l=Lt,u=Xp,d=jl,p=Zp,y=C2(),m=A2(),f=Kv,v=Ct,h=Yv,b=H7(),g=(0,l.Debug)("cluster"),x=new WeakSet;class k extends d.default{constructor(w,E={}){if(super(),this.slots=[],this._groupsIds={},this._groupsBySlot=Array(16384),this.isCluster=!0,this.retryAttempts=0,this.delayQueue=new f.default,this.offlineQueue=new h,this.isRefreshing=!1,this._refreshSlotsCacheCallbacks=[],this._autoPipelines=new Map,this._runningAutoPipelines=new Set,this._readyDelayedCallbacks=[],this.connectionEpoch=0,e.EventEmitter.call(this),this.startupNodes=w,this.options=(0,l.defaults)({},E,p.DEFAULT_CLUSTER_OPTIONS,this.options),this.options.shardedSubscribers==!0&&(this.shardedSubscribers=new b.default(this)),this.options.redisOptions&&this.options.redisOptions.keyPrefix&&!this.options.keyPrefix&&(this.options.keyPrefix=this.options.redisOptions.keyPrefix),typeof this.options.scaleReads!="function"&&["all","master","slave"].indexOf(this.options.scaleReads)===-1)throw new Error('Invalid option scaleReads "'+this.options.scaleReads+'". Expected "all", "master", "slave" or a custom function');this.connectionPool=new m.default(this.options.redisOptions),this.connectionPool.on("-node",(T,I)=>{this.emit("-node",T)}),this.connectionPool.on("+node",T=>{this.emit("+node",T)}),this.connectionPool.on("drain",()=>{this.setStatus("close")}),this.connectionPool.on("nodeError",(T,I)=>{this.emit("node error",T,I)}),this.subscriber=new y.default(this.connectionPool,this),this.options.scripts&&Object.entries(this.options.scripts).forEach(([T,I])=>{this.defineCommand(T,I)}),this.options.lazyConnect?this.setStatus("wait"):this.connect().catch(T=>{g("connecting failed: %s",T)})}connect(){return new Promise((w,E)=>{if(this.status==="connecting"||this.status==="connect"||this.status==="ready"){E(new Error("Redis is already connecting/connected"));return}const T=++this.connectionEpoch;this.setStatus("connecting"),this.resolveStartupNodeHostnames().then(I=>{if(this.connectionEpoch!==T){g("discard connecting after resolving startup nodes because epoch not match: %d != %d",T,this.connectionEpoch),E(new n.RedisError("Connection is discarded because a new connection is made"));return}if(this.status!=="connecting"){g("discard connecting after resolving startup nodes because the status changed to %s",this.status),E(new n.RedisError("Connection is aborted"));return}this.connectionPool.reset(I);const L=()=>{this.setStatus("ready"),this.retryAttempts=0,this.executeOfflineCommands(),this.resetNodesRefreshInterval(),w()};let q;const F=()=>{this.invokeReadyDelayedCallbacks(void 0),this.removeListener("close",q),this.manuallyClosing=!1,this.setStatus("connect"),this.options.enableReadyCheck?this.readyCheck((A,N)=>{A||N?(g("Ready check failed (%s). Reconnecting...",A||N),this.status==="connect"&&this.disconnect(!0)):L()}):L()};q=()=>{const A=new Error("None of startup nodes is available");this.removeListener("refresh",F),this.invokeReadyDelayedCallbacks(A),E(A)},this.once("refresh",F),this.once("close",q),this.once("close",this.handleCloseEvent.bind(this)),this.refreshSlotsCache(A=>{A&&A.message===i.default.defaultMessage&&(a.default.prototype.silentEmit.call(this,"error",A),this.connectionPool.reset([]))}),this.subscriber.start(),this.options.shardedSubscribers&&this.shardedSubscribers.start()}).catch(I=>{this.setStatus("close"),this.handleCloseEvent(I),this.invokeReadyDelayedCallbacks(I),E(I)})})}disconnect(w=!1){const E=this.status;this.setStatus("disconnecting"),w||(this.manuallyClosing=!0),this.reconnectTimeout&&!w&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null,g("Canceled reconnecting attempts")),this.clearNodesRefreshInterval(),this.subscriber.stop(),this.options.shardedSubscribers&&this.shardedSubscribers.stop(),E==="wait"?(this.setStatus("close"),this.handleCloseEvent()):this.connectionPool.reset([])}quit(w){const E=this.status;if(this.setStatus("disconnecting"),this.manuallyClosing=!0,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.clearNodesRefreshInterval(),this.subscriber.stop(),this.options.shardedSubscribers&&this.shardedSubscribers.stop(),E==="wait"){const T=(0,s.default)(Promise.resolve("OK"),w);return setImmediate((function(){this.setStatus("close"),this.handleCloseEvent()}).bind(this)),T}return(0,s.default)(Promise.all(this.nodes().map(T=>T.quit().catch(I=>{if(I.message===l.CONNECTION_CLOSED_ERROR_MSG)return"OK";throw I}))).then(()=>"OK"),w)}duplicate(w=[],E={}){const T=w.length>0?w:this.startupNodes.slice(0),I=Object.assign({},this.options,E);return new k(T,I)}nodes(w="all"){if(w!=="all"&&w!=="master"&&w!=="slave")throw new Error('Invalid role "'+w+'". Expected "all", "master" or "slave"');return this.connectionPool.getNodes(w)}delayUntilReady(w){this._readyDelayedCallbacks.push(w)}get autoPipelineQueueSize(){let w=0;for(const E of this._autoPipelines.values())w+=E.length;return w}refreshSlotsCache(w){if(w&&this._refreshSlotsCacheCallbacks.push(w),this.isRefreshing)return;this.isRefreshing=!0;const E=this,T=F=>{this.isRefreshing=!1;for(const A of this._refreshSlotsCacheCallbacks)A(F);this._refreshSlotsCacheCallbacks=[]},I=(0,l.shuffle)(this.connectionPool.getNodes());let L=null;function q(F){if(F===I.length){const B=new i.default(i.default.defaultMessage,L);return T(B)}const A=I[F],N=`${A.options.host}:${A.options.port}`;g("getting slot cache from %s",N),E.getInfoFromNode(A,function(B){switch(E.status){case"close":case"end":return T(new Error("Cluster is disconnected."));case"disconnecting":return T(new Error("Cluster is disconnecting."))}B?(E.emit("node error",B,N),L=B,q(F+1)):(E.emit("refresh"),T())})}q(0)}sendCommand(w,E,T){if(this.status==="wait"&&this.connect().catch(l.noop),this.status==="end")return w.reject(new Error(l.CONNECTION_CLOSED_ERROR_MSG)),w.promise;let I=this.options.scaleReads;I!=="master"&&(w.isReadOnly||(0,t.exists)(w.name)&&(0,t.hasFlag)(w.name,"readonly")||(I="master"));let L=T?T.slot:w.getSlot();const q={},F=this;if(!T&&!x.has(w)){x.add(w);const N=w.reject;w.reject=function(B){const O=A.bind(null,!0);F.handleError(B,q,{moved:function(j,D){g("command %s is moved to %s",w.name,D),L=Number(j),F.slots[j]?F.slots[j][0]=D:F.slots[j]=[D],F._groupsBySlot[j]=F._groupsIds[F.slots[j].join(";")],F.connectionPool.findOrCreate(F.natMapper(D)),A(),g("refreshing slot caches... (triggered by MOVED error)"),F.refreshSlotsCache()},ask:function(j,D){g("command %s is required to ask %s:%s",w.name,D);const H=F.natMapper(D);F.connectionPool.findOrCreate(H),A(!1,`${H.host}:${H.port}`)},tryagain:O,clusterDown:O,connectionClosed:O,maxRedirections:function(j){N.call(w,j)},defaults:function(){N.call(w,B)}})}}A();function A(N,B){if(F.status==="end"){w.reject(new n.AbortError("Cluster is ended."));return}let O;if(F.status==="ready"||w.name==="cluster"){if(T&&T.redis)O=T.redis;else if(r.default.checkFlag("ENTER_SUBSCRIBER_MODE",w.name)||r.default.checkFlag("EXIT_SUBSCRIBER_MODE",w.name)){if(F.options.shardedSubscribers==!0&&(w.name=="ssubscribe"||w.name=="sunsubscribe")){const j=F.shardedSubscribers.getResponsibleSubscriber(L);let D=-1;w.name=="ssubscribe"&&(D=F.shardedSubscribers.addChannels(w.getKeys())),w.name=="sunsubscribe"&&(D=F.shardedSubscribers.removeChannels(w.getKeys())),D!==-1?O=j.getInstance():w.reject(new n.AbortError("Can't add or remove the given channels. Are they in the same slot?"))}else O=F.subscriber.getInstance();if(!O){w.reject(new n.AbortError("No subscriber for the cluster"));return}}else{if(!N){if(typeof L=="number"&&F.slots[L]){const j=F.slots[L];if(typeof I=="function"){const D=j.map(function(H){return F.connectionPool.getInstanceByKey(H)});O=I(D,w),Array.isArray(O)&&(O=(0,l.sample)(O)),O||(O=D[0])}else{let D;I==="all"?D=(0,l.sample)(j):I==="slave"&&j.length>1?D=(0,l.sample)(j,1):D=j[0],O=F.connectionPool.getInstanceByKey(D)}}B&&(O=F.connectionPool.getInstanceByKey(B),O.asking())}O||(O=(typeof I=="function"?null:F.connectionPool.getSampleInstance(I))||F.connectionPool.getSampleInstance("all"))}T&&!T.redis&&(T.redis=O)}O?O.sendCommand(w,E):F.options.enableOfflineQueue?F.offlineQueue.push({command:w,stream:E,node:T}):w.reject(new Error("Cluster isn't ready and enableOfflineQueue options is false"))}return w.promise}sscanStream(w,E){return this.createScanStream("sscan",{key:w,options:E})}sscanBufferStream(w,E){return this.createScanStream("sscanBuffer",{key:w,options:E})}hscanStream(w,E){return this.createScanStream("hscan",{key:w,options:E})}hscanBufferStream(w,E){return this.createScanStream("hscanBuffer",{key:w,options:E})}zscanStream(w,E){return this.createScanStream("zscan",{key:w,options:E})}zscanBufferStream(w,E){return this.createScanStream("zscanBuffer",{key:w,options:E})}handleError(w,E,T){if(typeof E.value>"u"?E.value=this.options.maxRedirections:E.value-=1,E.value<=0){T.maxRedirections(new Error("Too many Cluster redirections. Last error: "+w));return}const I=w.message.split(" ");if(I[0]==="MOVED"){const L=this.options.retryDelayOnMoved;L&&typeof L=="number"?this.delayQueue.push("moved",T.moved.bind(null,I[1],I[2]),{timeout:L}):T.moved(I[1],I[2])}else I[0]==="ASK"?T.ask(I[1],I[2]):I[0]==="TRYAGAIN"?this.delayQueue.push("tryagain",T.tryagain,{timeout:this.options.retryDelayOnTryAgain}):I[0]==="CLUSTERDOWN"&&this.options.retryDelayOnClusterDown>0?this.delayQueue.push("clusterdown",T.connectionClosed,{timeout:this.options.retryDelayOnClusterDown,callback:this.refreshSlotsCache.bind(this)}):w.message===l.CONNECTION_CLOSED_ERROR_MSG&&this.options.retryDelayOnFailover>0&&this.status==="ready"?this.delayQueue.push("failover",T.connectionClosed,{timeout:this.options.retryDelayOnFailover,callback:this.refreshSlotsCache.bind(this)}):T.defaults()}resetOfflineQueue(){this.offlineQueue=new h}clearNodesRefreshInterval(){this.slotsTimer&&(clearTimeout(this.slotsTimer),this.slotsTimer=null)}resetNodesRefreshInterval(){if(this.slotsTimer||!this.options.slotsRefreshInterval)return;const w=()=>{this.slotsTimer=setTimeout(()=>{g('refreshing slot caches... (triggered by "slotsRefreshInterval" option)'),this.refreshSlotsCache(()=>{w()})},this.options.slotsRefreshInterval)};w()}setStatus(w){g("status: %s -> %s",this.status||"[empty]",w),this.status=w,process.nextTick(()=>{this.emit(w)})}handleCloseEvent(w){w&&g("closed because %s",w);let E;!this.manuallyClosing&&typeof this.options.clusterRetryStrategy=="function"&&(E=this.options.clusterRetryStrategy.call(this,++this.retryAttempts,w)),typeof E=="number"?(this.setStatus("reconnecting"),this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=null,g("Cluster is disconnected. Retrying after %dms",E),this.connect().catch(function(T){g("Got error %s when reconnecting. Ignoring...",T)})},E)):(this.setStatus("end"),this.flushQueue(new Error("None of startup nodes is available")))}flushQueue(w){let E;for(;E=this.offlineQueue.shift();)E.command.reject(w)}executeOfflineCommands(){if(this.offlineQueue.length){g("send %d commands in offline queue",this.offlineQueue.length);const w=this.offlineQueue;this.resetOfflineQueue();let E;for(;E=w.shift();)this.sendCommand(E.command,E.stream,E.node)}}natMapper(w){const E=typeof w=="string"?w:`${w.host}:${w.port}`;let T=null;return this.options.natMap&&typeof this.options.natMap=="function"?T=this.options.natMap(E):this.options.natMap&&typeof this.options.natMap=="object"&&(T=this.options.natMap[E]),T?(g("NAT mapping %s -> %O",E,T),Object.assign({},T)):typeof w=="string"?(0,v.nodeKeyToRedisOptions)(w):w}getInfoFromNode(w,E){if(!w)return E(new Error("Node is disconnected"));const T=w.duplicate({enableOfflineQueue:!0,enableReadyCheck:!1,retryStrategy:null,connectionName:(0,v.getConnectionName)("refresher",this.options.redisOptions&&this.options.redisOptions.connectionName)});T.on("error",l.noop),T.cluster("SLOTS",(0,l.timeout)((I,L)=>{if(T.disconnect(),I)return g("error encountered running CLUSTER.SLOTS: %s",I),E(I);if(this.status==="disconnecting"||this.status==="close"||this.status==="end"){g("ignore CLUSTER.SLOTS results (count: %d) since cluster status is %s",L.length,this.status),E();return}const q=[];g("cluster slots result count: %d",L.length);for(let A=0;A<L.length;++A){const N=L[A],B=N[0],O=N[1],j=[];for(let D=2;D<N.length;D++){if(!N[D][0])continue;const H=this.natMapper({host:N[D][0],port:N[D][1]});H.readOnly=D!==2,q.push(H),j.push(H.host+":"+H.port)}g("cluster slots result [%d]: slots %d~%d served by %s",A,B,O,j);for(let D=B;D<=O;D++)this.slots[D]=j}this._groupsIds=Object.create(null);let F=0;for(let A=0;A<16384;A++){const N=(this.slots[A]||[]).join(";");if(!N.length){this._groupsBySlot[A]=void 0;continue}this._groupsIds[N]||(this._groupsIds[N]=++F),this._groupsBySlot[A]=this._groupsIds[N]}this.connectionPool.reset(q),E()},this.options.slotsRefreshTimeout))}invokeReadyDelayedCallbacks(w){for(const E of this._readyDelayedCallbacks)process.nextTick(E,w);this._readyDelayedCallbacks=[]}readyCheck(w){this.cluster("INFO",(E,T)=>{if(E)return w(E);if(typeof T!="string")return w();let I;const L=T.split(`\r
`);for(let q=0;q<L.length;++q){const F=L[q].split(":");if(F[0]==="cluster_state"){I=F[1];break}}I==="fail"?(g("cluster state not ok (%s)",I),w(null,I)):w()})}resolveSrv(w){return new Promise((E,T)=>{this.options.resolveSrv(w,(I,L)=>{if(I)return T(I);const q=this,F=(0,v.groupSrvRecords)(L),A=Object.keys(F).sort((B,O)=>parseInt(B)-parseInt(O));function N(B){if(!A.length)return T(B);const O=A[0],j=F[O],D=(0,v.weightSrvRecords)(j);j.records.length||A.shift(),q.dnsLookup(D.name).then(H=>E({host:H,port:D.port}),N)}N()})})}dnsLookup(w){return new Promise((E,T)=>{this.options.dnsLookup(w,(I,L)=>{I?(g("failed to resolve hostname %s to IP: %s",w,I.message),T(I)):(g("resolved hostname %s to IP %s",w,L),E(L))})})}async resolveStartupNodeHostnames(){if(!Array.isArray(this.startupNodes)||this.startupNodes.length===0)throw new Error("`startupNodes` should contain at least one node.");const w=(0,v.normalizeNodeOptions)(this.startupNodes),E=(0,v.getUniqueHostnamesFromOptions)(w);if(E.length===0)return w;const T=await Promise.all(E.map((this.options.useSRVRecords?this.resolveSrv:this.dnsLookup).bind(this))),I=(0,l.zipMap)(E,T);return w.map(L=>{const q=I.get(L.host);return q?this.options.useSRVRecords?Object.assign({},L,q):Object.assign({},L,{host:q}):L})}createScanStream(w,{key:E,options:T={}}){return new o.default({objectMode:!0,key:E,redis:this,command:w,...T})}}return(0,u.default)(k,e.EventEmitter),(0,c.addTransactionSupport)(k.prototype),fu.default=k,fu}var yi={},Jv={},Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});const G7=Lt,W7=(0,G7.Debug)("AbstractConnector");class K7{constructor(e){this.connecting=!1,this.disconnectTimeout=e}check(e){return!0}disconnect(){if(this.connecting=!1,this.stream){const e=this.stream,n=setTimeout(()=>{W7("stream %s:%s still open, destroying it",e.remoteAddress,e.remotePort),e.destroy()},this.disconnectTimeout);e.on("close",()=>clearTimeout(n)),e.end()}}}Ml.default=K7;Object.defineProperty(Jv,"__esModule",{value:!0});const Y7=se,J7=se,X7=Lt,Z7=Ml;class eH extends Z7.default{constructor(e){super(e.disconnectTimeout),this.options=e}connect(e){const{options:n}=this;this.connecting=!0;let s;return"path"in n&&n.path?s={path:n.path}:(s={},"port"in n&&n.port!=null&&(s.port=n.port),"host"in n&&n.host!=null&&(s.host=n.host),"family"in n&&n.family!=null&&(s.family=n.family)),n.tls&&Object.assign(s,n.tls),new Promise((r,i)=>{process.nextTick(()=>{if(!this.connecting){i(new Error(X7.CONNECTION_CLOSED_ERROR_MSG));return}try{n.tls?this.stream=(0,J7.connect)(s):this.stream=(0,Y7.createConnection)(s)}catch(a){i(a);return}this.stream.once("error",a=>{this.firstError=a}),r(this.stream)})})}}Jv.default=eH;var ma={},Xv={};Object.defineProperty(Xv,"__esModule",{value:!0});function tH(t,e){return(t.host||"127.0.0.1")===(e.host||"127.0.0.1")&&(t.port||26379)===(e.port||26379)}class nH{constructor(e){this.cursor=0,this.sentinels=e.slice(0)}next(){const e=this.cursor>=this.sentinels.length;return{done:e,value:e?void 0:this.sentinels[this.cursor++]}}reset(e){e&&this.sentinels.length>1&&this.cursor!==1&&this.sentinels.unshift(...this.sentinels.splice(this.cursor-1)),this.cursor=0}add(e){for(let n=0;n<this.sentinels.length;n++)if(tH(e,this.sentinels[n]))return!1;return this.sentinels.push(e),!0}toString(){return`${JSON.stringify(this.sentinels)} @${this.cursor}`}}Xv.default=nH;var ef={};Object.defineProperty(ef,"__esModule",{value:!0});ef.FailoverDetector=void 0;const sH=Lt,vh=(0,sH.Debug)("FailoverDetector"),Iw="+switch-master";class rH{constructor(e,n){this.isDisconnected=!1,this.connector=e,this.sentinels=n}cleanup(){this.isDisconnected=!0;for(const e of this.sentinels)e.client.disconnect()}async subscribe(){vh("Starting FailoverDetector");const e=[];for(const n of this.sentinels){const s=n.client.subscribe(Iw).catch(r=>{vh("Failed to subscribe to failover messages on sentinel %s:%s (%s)",n.address.host||"127.0.0.1",n.address.port||26739,r.message)});e.push(s),n.client.on("message",r=>{!this.isDisconnected&&r===Iw&&this.disconnect()})}await Promise.all(e)}disconnect(){this.isDisconnected=!0,vh("Failover detected, disconnecting"),this.connector.disconnect()}}ef.FailoverDetector=rH;var jw;function Zv(){if(jw)return ma;jw=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.SentinelIterator=void 0;const t=se,e=Lt,n=se,s=Xv;ma.SentinelIterator=s.default;const r=Ml,i=zi(),a=ef,o=(0,e.Debug)("SentinelConnector");let c=class extends r.default{constructor(y){if(super(y.disconnectTimeout),this.options=y,this.emitter=null,this.failoverDetector=null,!this.options.sentinels.length)throw new Error("Requires at least one sentinel to connect to.");if(!this.options.name)throw new Error("Requires the name of master.");this.sentinelIterator=new s.default(this.options.sentinels)}check(y){const m=!y.role||this.options.role===y.role;return m||(o("role invalid, expected %s, but got %s",this.options.role,y.role),this.sentinelIterator.next(),this.sentinelIterator.next(),this.sentinelIterator.reset(!0)),m}disconnect(){super.disconnect(),this.failoverDetector&&this.failoverDetector.cleanup()}connect(y){this.connecting=!0,this.retryAttempts=0;let m;const f=async()=>{const v=this.sentinelIterator.next();if(v.done){this.sentinelIterator.reset(!1);const x=typeof this.options.sentinelRetryStrategy=="function"?this.options.sentinelRetryStrategy(++this.retryAttempts):null;let k=typeof x!="number"?"All sentinels are unreachable and retry is disabled.":`All sentinels are unreachable. Retrying from scratch after ${x}ms.`;m&&(k+=` Last error: ${m.message}`),o(k);const _=new Error(k);if(typeof x=="number")return y("error",_),await new Promise(w=>setTimeout(w,x)),f();throw _}let h=null,b=null;try{h=await this.resolve(v.value)}catch(x){b=x}if(!this.connecting)throw new Error(e.CONNECTION_CLOSED_ERROR_MSG);const g=v.value.host+":"+v.value.port;if(h)return o("resolved: %s:%s from sentinel %s",h.host,h.port,g),this.options.enableTLSForSentinelMode&&this.options.tls?(Object.assign(h,this.options.tls),this.stream=(0,n.connect)(h),this.stream.once("secureConnect",this.initFailoverDetector.bind(this))):(this.stream=(0,t.createConnection)(h),this.stream.once("connect",this.initFailoverDetector.bind(this))),this.stream.once("error",x=>{this.firstError=x}),this.stream;{const x=b?"failed to connect to sentinel "+g+" because "+b.message:"connected to sentinel "+g+" successfully, but got an invalid reply: "+h;return o(x),y("sentinelError",new Error(x)),b&&(m=b),f()}};return f()}async updateSentinels(y){if(!this.options.updateSentinels)return;const m=await y.sentinel("sentinels",this.options.name);Array.isArray(m)&&(m.map(e.packObject).forEach(f=>{if((f.flags?f.flags.split(","):[]).indexOf("disconnected")===-1&&f.ip&&f.port){const h=this.sentinelNatResolve(u(f));this.sentinelIterator.add(h)&&o("adding sentinel %s:%s",h.host,h.port)}}),o("Updated internal sentinels: %s",this.sentinelIterator))}async resolveMaster(y){const m=await y.sentinel("get-master-addr-by-name",this.options.name);return await this.updateSentinels(y),this.sentinelNatResolve(Array.isArray(m)?{host:m[0],port:Number(m[1])}:null)}async resolveSlave(y){const m=await y.sentinel("slaves",this.options.name);if(!Array.isArray(m))return null;const f=m.map(e.packObject).filter(v=>v.flags&&!v.flags.match(/(disconnected|s_down|o_down)/));return this.sentinelNatResolve(l(f,this.options.preferredSlaves))}sentinelNatResolve(y){if(!y||!this.options.natMap)return y;const m=`${y.host}:${y.port}`;let f=y;return typeof this.options.natMap=="function"?f=this.options.natMap(m)||y:typeof this.options.natMap=="object"&&(f=this.options.natMap[m]||y),f}connectToSentinel(y,m){return new i.default({port:y.port||26379,host:y.host,username:this.options.sentinelUsername||null,password:this.options.sentinelPassword||null,family:y.family||("path"in this.options&&this.options.path?void 0:this.options.family),tls:this.options.sentinelTLS,retryStrategy:null,enableReadyCheck:!1,connectTimeout:this.options.connectTimeout,commandTimeout:this.options.sentinelCommandTimeout,...m})}async resolve(y){const m=this.connectToSentinel(y);m.on("error",d);try{return this.options.role==="slave"?await this.resolveSlave(m):await this.resolveMaster(m)}finally{m.disconnect()}}async initFailoverDetector(){var y;if(!this.options.failoverDetector)return;this.sentinelIterator.reset(!0);const m=[];for(;m.length<this.options.sentinelMaxConnections;){const{done:f,value:v}=this.sentinelIterator.next();if(f)break;const h=this.connectToSentinel(v,{lazyConnect:!0,retryStrategy:this.options.sentinelReconnectStrategy});h.on("reconnecting",()=>{var b;(b=this.emitter)===null||b===void 0||b.emit("sentinelReconnecting")}),m.push({address:v,client:h})}this.sentinelIterator.reset(!1),this.failoverDetector&&this.failoverDetector.cleanup(),this.failoverDetector=new a.FailoverDetector(this,m),await this.failoverDetector.subscribe(),(y=this.emitter)===null||y===void 0||y.emit("failoverSubscribed")}};ma.default=c;function l(p,y){if(p.length===0)return null;let m;if(typeof y=="function")m=y(p);else if(y!==null&&typeof y=="object"){const f=Array.isArray(y)?y:[y];f.sort((v,h)=>(v.prio||(v.prio=1),h.prio||(h.prio=1),v.prio<h.prio?-1:v.prio>h.prio?1:0));for(let v=0;v<f.length;v++){for(let h=0;h<p.length;h++){const b=p[h];if(b.ip===f[v].ip&&b.port===f[v].port){m=b;break}}if(m)break}}return m||(m=(0,e.sample)(p)),u(m)}function u(p){return{host:p.ip,port:Number(p.port)}}function d(){}return ma}var Mw;function iH(){if(Mw)return yi;Mw=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.SentinelConnector=yi.StandaloneConnector=void 0;const t=Jv;yi.StandaloneConnector=t.default;const e=Zv();return yi.SentinelConnector=e.default,yi}var N2={},tf={},eb={};Object.defineProperty(eb,"__esModule",{value:!0});const aH=Mo;class oH extends aH.AbortError{constructor(e){const n=`Reached the max retries per request limit (which is ${e}). Refer to "maxRetriesPerRequest" option for details.`;super(n),Error.captureStackTrace(this,this.constructor)}get name(){return this.constructor.name}}eb.default=oH;Object.defineProperty(tf,"__esModule",{value:!0});tf.MaxRetriesPerRequestError=void 0;const cH=eb;tf.MaxRetriesPerRequestError=cH.default;var tb={},nb={},jg={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=se,s=n.Buffer;function r(a,o){for(var c in a)o[c]=a[c]}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=n:(r(n,e),e.Buffer=i);function i(a,o,c){return s(a,o,c)}i.prototype=Object.create(s.prototype),r(s,i),i.from=function(a,o,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return s(a,o,c)},i.alloc=function(a,o,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var l=s(a);return o!==void 0?typeof c=="string"?l.fill(o,c):l.fill(o):l.fill(0),l},i.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return s(a)},i.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}})(jg,jg.exports);var Fo=jg.exports,sb=Fo.Buffer,Dw=sb.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function lH(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function uH(t){var e=lH(t);if(typeof e!="string"&&(sb.isEncoding===Dw||!Dw(t)))throw new Error("Unknown encoding: "+t);return e||t}nb.StringDecoder=Dl;function Dl(t){this.encoding=uH(t);var e;switch(this.encoding){case"utf16le":this.text=gH,this.end=yH,e=4;break;case"utf8":this.fillLast=fH,e=4;break;case"base64":this.text=vH,this.end=bH,e=3;break;default:this.write=xH,this.end=wH;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=sb.allocUnsafe(e)}Dl.prototype.write=function(t){if(t.length===0)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""};Dl.prototype.end=mH;Dl.prototype.text=hH;Dl.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function bh(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function dH(t,e,n){var s=e.length-1;if(s<n)return 0;var r=bh(e[s]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--s<n||r===-2?0:(r=bh(e[s]),r>=0?(r>0&&(t.lastNeed=r-2),r):--s<n||r===-2?0:(r=bh(e[s]),r>=0?(r>0&&(r===2?r=0:t.lastNeed=r-3),r):0))}function pH(t,e,n){if((e[0]&192)!==128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,""}}function fH(t){var e=this.lastTotal-this.lastNeed,n=pH(this,t);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function hH(t,e){var n=dH(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var s=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,s),t.toString("utf8",e,s)}function mH(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function gH(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var s=n.charCodeAt(n.length-1);if(s>=55296&&s<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function yH(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function vH(t,e){var n=(t.length-e)%3;return n===0?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function bH(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function xH(t){return t.toString(this.encoding)}function wH(t){return t&&t.length?this.write(t):""}const rb=se.Buffer,SH=nb.StringDecoder,xh=new SH,R2=Mo,_H=R2.ReplyError,EH=R2.ParserError;var is=rb.allocUnsafe(32*1024),nn=0,Wd=null,uc=0,wh=0;function kH(t){const e=t.buffer.length-1;var n=t.offset,s=0,r=1;for(t.buffer[n]===45&&(r=-1,n++);n<e;){const i=t.buffer[n++];if(i===13)return t.offset=n+1,r*s;s=s*10+(i-48)}}function CH(t){const e=t.buffer.length-1;var n=t.offset,s=0,r="";for(t.buffer[n]===45&&(r+="-",n++);n<e;){var i=t.buffer[n++];if(i===13)return t.offset=n+1,s!==0&&(r+=s),r;s>429496728?(r+=s*10+(i-48),s=0):i===48&&s===0?r+=0:s=s*10+(i-48)}}function O2(t){const e=t.offset,n=t.buffer,s=n.length-1;for(var r=e;r<s;)if(n[r++]===13)return t.offset=r+1,t.optionReturnBuffers===!0?t.buffer.slice(e,r-1):t.buffer.toString("utf8",e,r-1)}function P2(t){const e=t.buffer.length-1;for(var n=t.offset,s=0;n<e;){const r=t.buffer[n++];if(r===13)return t.offset=n+1,s;s=s*10+(r-48)}}function AH(t){return t.optionStringNumbers===!0?CH(t):kH(t)}function TH(t){const e=P2(t);if(e===void 0)return;if(e<0)return null;const n=t.offset+e;if(n+2>t.buffer.length){t.bigStrSize=n+2,t.totalChunkSize=t.buffer.length,t.bufferCache.push(t.buffer);return}const s=t.offset;return t.offset=n+2,t.optionReturnBuffers===!0?t.buffer.slice(s,n):t.buffer.toString("utf8",s,n)}function NH(t){var e=O2(t);if(e!==void 0)return t.optionReturnBuffers===!0&&(e=e.toString()),new _H(e)}function RH(t,e){const n=new EH("Protocol error, got "+JSON.stringify(String.fromCharCode(e))+" as reply type byte",JSON.stringify(t.buffer),t.offset);t.buffer=null,t.returnFatalError(n)}function OH(t){const e=P2(t);if(e===void 0)return;if(e<0)return null;const n=new Array(e);return I2(t,n,0)}function Mg(t,e,n){t.arrayCache.push(e),t.arrayPos.push(n)}function Dg(t){const e=t.arrayCache.pop();var n=t.arrayPos.pop();if(t.arrayCache.length){const s=Dg(t);if(s===void 0){Mg(t,e,n);return}e[n++]=s}return I2(t,e,n)}function I2(t,e,n){const s=t.buffer.length;for(;n<e.length;){const r=t.offset;if(t.offset>=s){Mg(t,e,n);return}const i=j2(t,t.buffer[t.offset++]);if(i===void 0){t.arrayCache.length||t.bufferCache.length||(t.offset=r),Mg(t,e,n);return}e[n]=i,n++}return e}function j2(t,e){switch(e){case 36:return TH(t);case 43:return O2(t);case 42:return OH(t);case 58:return AH(t);case 45:return NH(t);default:return RH(t,e)}}function PH(){if(is.length>50*1024)if(uc===1||wh>uc*2){const t=Math.floor(is.length/10),e=t<nn?nn:t;nn=0,is=is.slice(e,is.length)}else wh++,uc--;else clearInterval(Wd),uc=0,wh=0,Wd=null}function IH(t){if(is.length<t+nn){const e=t>78643200?2:3;nn>1024*1024*111&&(nn=1024*1024*50),is=rb.allocUnsafe(t*e+nn),nn=0,uc++,Wd===null&&(Wd=setInterval(PH,50))}}function jH(t){const e=t.bufferCache,n=t.offset;var s=e.length,r=t.bigStrSize-t.totalChunkSize;if(t.offset=r,r<=2){if(s===2)return e[0].toString("utf8",n,e[0].length+r-2);s--,r=e[e.length-2].length+r}for(var i=xh.write(e[0].slice(n)),a=1;a<s-1;a++)i+=xh.write(e[a]);return i+=xh.end(e[a].slice(0,r-2)),i}function MH(t){const e=t.bufferCache,n=t.offset,s=t.bigStrSize-n-2;var r=e.length,i=t.bigStrSize-t.totalChunkSize;if(t.offset=i,i<=2){if(r===2)return e[0].slice(n,e[0].length+i-2);r--,i=e[e.length-2].length+i}IH(s);const a=nn;e[0].copy(is,a,n,e[0].length),nn+=e[0].length-n;for(var o=1;o<r-1;o++)e[o].copy(is,nn),nn+=e[o].length;return e[o].copy(is,nn,0,i-2),nn+=i-2,is.slice(a,nn)}class DH{constructor(e){if(!e)throw new TypeError("Options are mandatory.");if(typeof e.returnError!="function"||typeof e.returnReply!="function")throw new TypeError("The returnReply and returnError options have to be functions.");this.setReturnBuffers(!!e.returnBuffers),this.setStringNumbers(!!e.stringNumbers),this.returnError=e.returnError,this.returnFatalError=e.returnFatalError||e.returnError,this.returnReply=e.returnReply,this.reset()}reset(){this.offset=0,this.buffer=null,this.bigStrSize=0,this.totalChunkSize=0,this.bufferCache=[],this.arrayCache=[],this.arrayPos=[]}setReturnBuffers(e){if(typeof e!="boolean")throw new TypeError("The returnBuffers argument has to be a boolean");this.optionReturnBuffers=e}setStringNumbers(e){if(typeof e!="boolean")throw new TypeError("The stringNumbers argument has to be a boolean");this.optionStringNumbers=e}execute(e){if(this.buffer===null)this.buffer=e,this.offset=0;else if(this.bigStrSize===0){const s=this.buffer.length,r=s-this.offset,i=rb.allocUnsafe(r+e.length);if(this.buffer.copy(i,0,this.offset,s),e.copy(i,r,0,e.length),this.buffer=i,this.offset=0,this.arrayCache.length){const a=Dg(this);if(a===void 0)return;this.returnReply(a)}}else if(this.totalChunkSize+e.length>=this.bigStrSize){this.bufferCache.push(e);var n=this.optionReturnBuffers?MH(this):jH(this);if(this.bigStrSize=0,this.bufferCache=[],this.buffer=e,this.arrayCache.length&&(this.arrayCache[0][this.arrayPos[0]++]=n,n=Dg(this),n===void 0))return;this.returnReply(n)}else{this.bufferCache.push(e),this.totalChunkSize+=e.length;return}for(;this.offset<this.buffer.length;){const s=this.offset,r=this.buffer[this.offset++],i=j2(this,r);if(i===void 0){this.arrayCache.length||this.bufferCache.length||(this.offset=s);return}r===45?this.returnError(i):this.returnReply(i)}this.buffer=null}}var FH=DH,LH=FH,ib={};Object.defineProperty(ib,"__esModule",{value:!0});class BH{constructor(){this.set={subscribe:{},psubscribe:{},ssubscribe:{}}}add(e,n){this.set[Sh(e)][n]=!0}del(e,n){delete this.set[Sh(e)][n]}channels(e){return Object.keys(this.set[Sh(e)])}isEmpty(){return this.channels("subscribe").length===0&&this.channels("psubscribe").length===0&&this.channels("ssubscribe").length===0}}ib.default=BH;function Sh(t){return t==="unsubscribe"?"subscribe":t==="punsubscribe"?"psubscribe":t==="sunsubscribe"?"ssubscribe":t}Object.defineProperty(tb,"__esModule",{value:!0});const Fw=Ds,$H=Lt,zH=LH,UH=ib,qH=(0,$H.Debug)("dataHandler");class QH{constructor(e,n){this.redis=e;const s=new zH({stringNumbers:n.stringNumbers,returnBuffers:!0,returnError:r=>{this.returnError(r)},returnFatalError:r=>{this.returnFatalError(r)},returnReply:r=>{this.returnReply(r)}});e.stream.prependListener("data",r=>{s.execute(r)}),e.stream.resume()}returnFatalError(e){e.message+=". Please report this.",this.redis.recoverFromFatalError(e,e,{offlineQueue:!1})}returnError(e){const n=this.shiftCommand(e);n&&(e.command={name:n.command.name,args:n.command.args},this.redis.handleReconnection(e,n))}returnReply(e){if(this.handleMonitorReply(e)||this.handleSubscriberReply(e))return;const n=this.shiftCommand(e);n&&(Fw.default.checkFlag("ENTER_SUBSCRIBER_MODE",n.command.name)?(this.redis.condition.subscriber=new UH.default,this.redis.condition.subscriber.add(n.command.name,e[1].toString()),Lw(n.command,e[2])||this.redis.commandQueue.unshift(n)):Fw.default.checkFlag("EXIT_SUBSCRIBER_MODE",n.command.name)?Bw(n.command,e[2])||this.redis.commandQueue.unshift(n):n.command.resolve(e))}handleSubscriberReply(e){if(!this.redis.condition.subscriber)return!1;const n=Array.isArray(e)?e[0].toString():null;switch(qH('receive reply "%s" in subscriber mode',n),n){case"message":this.redis.listeners("message").length>0&&this.redis.emit("message",e[1].toString(),e[2]?e[2].toString():""),this.redis.emit("messageBuffer",e[1],e[2]);break;case"pmessage":{const s=e[1].toString();this.redis.listeners("pmessage").length>0&&this.redis.emit("pmessage",s,e[2].toString(),e[3].toString()),this.redis.emit("pmessageBuffer",s,e[2],e[3]);break}case"smessage":{this.redis.listeners("smessage").length>0&&this.redis.emit("smessage",e[1].toString(),e[2]?e[2].toString():""),this.redis.emit("smessageBuffer",e[1],e[2]);break}case"ssubscribe":case"subscribe":case"psubscribe":{const s=e[1].toString();this.redis.condition.subscriber.add(n,s);const r=this.shiftCommand(e);if(!r)return;Lw(r.command,e[2])||this.redis.commandQueue.unshift(r);break}case"sunsubscribe":case"unsubscribe":case"punsubscribe":{const s=e[1]?e[1].toString():null;s&&this.redis.condition.subscriber.del(n,s);const r=e[2];Number(r)===0&&(this.redis.condition.subscriber=!1);const i=this.shiftCommand(e);if(!i)return;Bw(i.command,r)||this.redis.commandQueue.unshift(i);break}default:{const s=this.shiftCommand(e);if(!s)return;s.command.resolve(e)}}return!0}handleMonitorReply(e){if(this.redis.status!=="monitoring")return!1;const n=e.toString();if(n==="OK")return!1;const s=n.indexOf(" "),r=n.slice(0,s),i=n.indexOf('"'),a=n.slice(i+1,-1).split('" "').map(c=>c.replace(/\\"/g,'"')),o=n.slice(s+2,i-2).split(" ");return this.redis.emit("monitor",r,a,o[1],o[0]),!0}shiftCommand(e){const n=this.redis.commandQueue.shift();if(!n){const s="Command queue state error. If you can reproduce this, please report it.",r=new Error(s+(e instanceof Error?` Last error: ${e.message}`:` Last reply: ${e.toString()}`));return this.redis.emit("error",r),null}return n}}tb.default=QH;const Qr=new WeakMap;function Lw(t,e){let n=Qr.has(t)?Qr.get(t):t.args.length;return n-=1,n<=0?(t.resolve(e),Qr.delete(t),!0):(Qr.set(t,n),!1)}function Bw(t,e){let n=Qr.has(t)?Qr.get(t):t.args.length;return n===0?Number(e)===0?(Qr.delete(t),t.resolve(e),!0):!1:(n-=1,n<=0?(t.resolve(e),!0):(Qr.set(t,n),!1))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.readyHandler=t.errorHandler=t.closeHandler=t.connectHandler=void 0;const e=Mo,n=Ds,s=tf,r=Lt,i=tb,a=(0,r.Debug)("connection");function o(m){return function(){m.setStatus("connect"),m.resetCommandQueue();let f=!1;const{connectionEpoch:v}=m;m.condition.auth&&m.auth(m.condition.auth,function(h){v===m.connectionEpoch&&h&&(h.message.indexOf("no password is set")!==-1?console.warn("[WARN] Redis server does not require a password, but a password was supplied."):h.message.indexOf("without any password configured for the default user")!==-1?console.warn("[WARN] This Redis server's `default` user does not require a password, but a password was supplied"):h.message.indexOf("wrong number of arguments for 'auth' command")!==-1?console.warn(`[ERROR] The server returned "wrong number of arguments for 'auth' command". You are probably passing both username and password to Redis version 5 or below. You should only pass the 'password' option for Redis version 5 and under.`):(f=!0,m.recoverFromFatalError(h,h)))}),m.condition.select&&m.select(m.condition.select).catch(h=>{m.silentEmit("error",h)}),m.options.enableReadyCheck||t.readyHandler(m)(),new i.default(m,{stringNumbers:m.options.stringNumbers}),m.options.enableReadyCheck&&m._readyCheck(function(h,b){v===m.connectionEpoch&&(h?f||m.recoverFromFatalError(new Error("Ready check failed: "+h.message),h):m.connector.check(b)?t.readyHandler(m)():m.disconnect(!0))})}}t.connectHandler=o;function c(m){const f=new e.AbortError("Command aborted due to connection close");return f.command={name:m.name,args:m.args},f}function l(m){var f;let v=0;for(let h=0;h<m.length;){const b=(f=m.peekAt(h))===null||f===void 0?void 0:f.command,g=b.pipelineIndex;if((g===void 0||g===0)&&(v=0),g!==void 0&&g!==v++){m.remove(h,1),b.reject(c(b));continue}h++}}function u(m){var f;for(let v=0;v<m.length;){const h=(f=m.peekAt(v))===null||f===void 0?void 0:f.command;if(h.name==="multi")break;if(h.name==="exec"){m.remove(v,1),h.reject(c(h));break}h.inTransaction?(m.remove(v,1),h.reject(c(h))):v++}}function d(m){return function(){const v=m.status;if(m.setStatus("close"),m.commandQueue.length&&l(m.commandQueue),m.offlineQueue.length&&u(m.offlineQueue),v==="ready"&&(m.prevCondition||(m.prevCondition=m.condition),m.commandQueue.length&&(m.prevCommandQueue=m.commandQueue)),m.manuallyClosing)return m.manuallyClosing=!1,a("skip reconnecting since the connection is manually closed."),f();if(typeof m.options.retryStrategy!="function")return a("skip reconnecting because `retryStrategy` is not a function"),f();const h=m.options.retryStrategy(++m.retryAttempts);if(typeof h!="number")return a("skip reconnecting because `retryStrategy` doesn't return a number"),f();a("reconnect in %sms",h),m.setStatus("reconnecting",h),m.reconnectTimeout=setTimeout(function(){m.reconnectTimeout=null,m.connect().catch(r.noop)},h);const{maxRetriesPerRequest:b}=m.options;typeof b=="number"&&(b<0?a("maxRetriesPerRequest is negative, ignoring..."):m.retryAttempts%(b+1)===0&&(a("reach maxRetriesPerRequest limitation, flushing command queue..."),m.flushQueue(new s.MaxRetriesPerRequestError(b))))};function f(){m.setStatus("end"),m.flushQueue(new Error(r.CONNECTION_CLOSED_ERROR_MSG))}}t.closeHandler=d;function p(m){return function(f){a("error: %s",f),m.silentEmit("error",f)}}t.errorHandler=p;function y(m){return function(){if(m.setStatus("ready"),m.retryAttempts=0,m.options.monitor){m.call("monitor").then(()=>m.setStatus("monitoring"),h=>m.emit("error",h));const{sendCommand:v}=m;m.sendCommand=function(h){return n.default.checkFlag("VALID_IN_MONITOR_MODE",h.name)?v.call(m,h):(h.reject(new Error("Connection is in monitoring mode, can't process commands.")),h.promise)},m.once("close",function(){delete m.sendCommand});return}const f=m.prevCondition?m.prevCondition.select:m.condition.select;if(m.options.connectionName&&(a("set the connection name [%s]",m.options.connectionName),m.client("setname",m.options.connectionName).catch(r.noop)),m.options.readOnly&&(a("set the connection to readonly mode"),m.readonly().catch(r.noop)),m.prevCondition){const v=m.prevCondition;if(m.prevCondition=null,v.subscriber&&m.options.autoResubscribe){m.condition.select!==f&&(a("connect to db [%d]",f),m.select(f));const h=v.subscriber.channels("subscribe");h.length&&(a("subscribe %d channels",h.length),m.subscribe(h));const b=v.subscriber.channels("psubscribe");b.length&&(a("psubscribe %d channels",b.length),m.psubscribe(b));const g=v.subscriber.channels("ssubscribe");g.length&&(a("ssubscribe %d channels",g.length),m.ssubscribe(g))}}if(m.prevCommandQueue)if(m.options.autoResendUnfulfilledCommands)for(a("resend %d unfulfilled commands",m.prevCommandQueue.length);m.prevCommandQueue.length>0;){const v=m.prevCommandQueue.shift();v.select!==m.condition.select&&v.command.name!=="select"&&m.select(v.select),m.sendCommand(v.command,v.stream)}else m.prevCommandQueue=null;if(m.offlineQueue.length){a("send %d commands in offline queue",m.offlineQueue.length);const v=m.offlineQueue;for(m.resetOfflineQueue();v.length>0;){const h=v.shift();h.select!==m.condition.select&&h.command.name!=="select"&&m.select(h.select),m.sendCommand(h.command,h.stream)}}m.condition.select!==f&&(a("connect to db [%d]",f),m.select(f))}}t.readyHandler=y})(N2);var nf={};Object.defineProperty(nf,"__esModule",{value:!0});nf.DEFAULT_REDIS_OPTIONS=void 0;nf.DEFAULT_REDIS_OPTIONS={port:6379,host:"localhost",family:4,connectTimeout:1e4,disconnectTimeout:2e3,retryStrategy:function(t){return Math.min(t*50,2e3)},keepAlive:0,noDelay:!0,connectionName:null,sentinels:null,name:null,role:"master",sentinelRetryStrategy:function(t){return Math.min(t*10,1e3)},sentinelReconnectStrategy:function(){return 6e4},natMap:null,enableTLSForSentinelMode:!1,updateSentinels:!0,failoverDetector:!1,username:null,password:null,db:0,enableOfflineQueue:!0,enableReadyCheck:!0,autoResubscribe:!0,autoResendUnfulfilledCommands:!0,lazyConnect:!1,keyPrefix:"",reconnectOnError:null,readOnly:!1,stringNumbers:!1,maxRetriesPerRequest:20,maxLoadingRetryTime:1e4,enableAutoPipelining:!1,autoPipeliningIgnoredCommands:[],sentinelMaxConnections:10};var $w;function zi(){if($w)return pu;$w=1,Object.defineProperty(pu,"__esModule",{value:!0});const t=jo,e=se,n=hr,s=T2(),r=Ds,i=iH(),a=Zv(),o=N2,c=nf,l=Pl,u=Il,d=Lt,p=Xp,y=jl,m=Os,f=Yv,v=(0,d.Debug)("redis");let h=class Zu extends y.default{constructor(g,x,k){if(super(),this.status="wait",this.isCluster=!1,this.reconnectTimeout=null,this.connectionEpoch=0,this.retryAttempts=0,this.manuallyClosing=!1,this._autoPipelines=new Map,this._runningAutoPipelines=new Set,this.parseOptions(g,x,k),e.EventEmitter.call(this),this.resetCommandQueue(),this.resetOfflineQueue(),this.options.Connector)this.connector=new this.options.Connector(this.options);else if(this.options.sentinels){const _=new a.default(this.options);_.emitter=this,this.connector=_}else this.connector=new i.StandaloneConnector(this.options);this.options.scripts&&Object.entries(this.options.scripts).forEach(([_,w])=>{this.defineCommand(_,w)}),this.options.lazyConnect?this.setStatus("wait"):this.connect().catch(m.noop)}static createClient(...g){return new Zu(...g)}get autoPipelineQueueSize(){let g=0;for(const x of this._autoPipelines.values())g+=x.length;return g}connect(g){const x=new Promise((k,_)=>{if(this.status==="connecting"||this.status==="connect"||this.status==="ready"){_(new Error("Redis is already connecting/connected"));return}this.connectionEpoch+=1,this.setStatus("connecting");const{options:w}=this;this.condition={select:w.db,auth:w.username?[w.username,w.password]:w.password,subscriber:!1};const E=this;(0,n.default)(this.connector.connect(function(T,I){E.silentEmit(T,I)}),function(T,I){if(T){E.flushQueue(T),E.silentEmit("error",T),_(T),E.setStatus("end");return}let L=w.tls?"secureConnect":"connect";if("sentinels"in w&&w.sentinels&&!w.enableTLSForSentinelMode&&(L="connect"),E.stream=I,w.noDelay&&I.setNoDelay(!0),typeof w.keepAlive=="number"&&(I.connecting?I.once(L,()=>{I.setKeepAlive(!0,w.keepAlive)}):I.setKeepAlive(!0,w.keepAlive)),I.connecting){if(I.once(L,o.connectHandler(E)),w.connectTimeout){let A=!1;I.setTimeout(w.connectTimeout,function(){if(A)return;I.setTimeout(0),I.destroy();const N=new Error("connect ETIMEDOUT");N.errorno="ETIMEDOUT",N.code="ETIMEDOUT",N.syscall="connect",o.errorHandler(E)(N)}),I.once(L,function(){A=!0,I.setTimeout(0)})}}else if(I.destroyed){const A=E.connector.firstError;A&&process.nextTick(()=>{o.errorHandler(E)(A)}),process.nextTick(o.closeHandler(E))}else process.nextTick(o.connectHandler(E));I.destroyed||(I.once("error",o.errorHandler(E)),I.once("close",o.closeHandler(E)));const q=function(){E.removeListener("close",F),k()};var F=function(){E.removeListener("ready",q),_(new Error(d.CONNECTION_CLOSED_ERROR_MSG))};E.once("ready",q),E.once("close",F)})});return(0,n.default)(x,g)}disconnect(g=!1){g||(this.manuallyClosing=!0),this.reconnectTimeout&&!g&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.status==="wait"?o.closeHandler(this)():this.connector.disconnect()}end(){this.disconnect()}duplicate(g){return new Zu({...this.options,...g})}get mode(){var g;return this.options.monitor?"monitor":!((g=this.condition)===null||g===void 0)&&g.subscriber?"subscriber":"normal"}monitor(g){const x=this.duplicate({monitor:!0,lazyConnect:!1});return(0,n.default)(new Promise(function(k,_){x.once("error",_),x.once("monitoring",function(){k(x)})}),g)}sendCommand(g,x){var k,_;if(this.status==="wait"&&this.connect().catch(m.noop),this.status==="end")return g.reject(new Error(d.CONNECTION_CLOSED_ERROR_MSG)),g.promise;if(!((k=this.condition)===null||k===void 0)&&k.subscriber&&!r.default.checkFlag("VALID_IN_SUBSCRIBER_MODE",g.name))return g.reject(new Error("Connection in subscriber mode, only subscriber commands may be used")),g.promise;typeof this.options.commandTimeout=="number"&&g.setTimeout(this.options.commandTimeout);let w=this.status==="ready"||!x&&this.status==="connect"&&(0,t.exists)(g.name)&&(0,t.hasFlag)(g.name,"loading");if(this.stream&&this.stream.writable?this.stream._writableState&&this.stream._writableState.ended&&(w=!1):w=!1,w)v.enabled&&v("write command[%s]: %d -> %s(%o)",this._getDescription(),(_=this.condition)===null||_===void 0?void 0:_.select,g.name,g.args),x?"isPipeline"in x&&x.isPipeline?x.write(g.toWritable(x.destination.redis.stream)):x.write(g.toWritable(x)):this.stream.write(g.toWritable(this.stream)),this.commandQueue.push({command:g,stream:x,select:this.condition.select}),r.default.checkFlag("WILL_DISCONNECT",g.name)&&(this.manuallyClosing=!0),this.options.socketTimeout!==void 0&&this.socketTimeoutTimer===void 0&&this.setSocketTimeout();else{if(!this.options.enableOfflineQueue)return g.reject(new Error("Stream isn't writeable and enableOfflineQueue options is false")),g.promise;if(g.name==="quit"&&this.offlineQueue.length===0)return this.disconnect(),g.resolve(Buffer.from("OK")),g.promise;v.enabled&&v("queue command[%s]: %d -> %s(%o)",this._getDescription(),this.condition.select,g.name,g.args),this.offlineQueue.push({command:g,stream:x,select:this.condition.select})}if(g.name==="select"&&(0,d.isInt)(g.args[0])){const E=parseInt(g.args[0],10);this.condition.select!==E&&(this.condition.select=E,this.emit("select",E),v("switch to db [%d]",this.condition.select))}return g.promise}setSocketTimeout(){this.socketTimeoutTimer=setTimeout(()=>{this.stream.destroy(new Error(`Socket timeout. Expecting data, but didn't receive any in ${this.options.socketTimeout}ms.`)),this.socketTimeoutTimer=void 0},this.options.socketTimeout),this.stream.once("data",()=>{clearTimeout(this.socketTimeoutTimer),this.socketTimeoutTimer=void 0,this.commandQueue.length!==0&&this.setSocketTimeout()})}scanStream(g){return this.createScanStream("scan",{options:g})}scanBufferStream(g){return this.createScanStream("scanBuffer",{options:g})}sscanStream(g,x){return this.createScanStream("sscan",{key:g,options:x})}sscanBufferStream(g,x){return this.createScanStream("sscanBuffer",{key:g,options:x})}hscanStream(g,x){return this.createScanStream("hscan",{key:g,options:x})}hscanBufferStream(g,x){return this.createScanStream("hscanBuffer",{key:g,options:x})}zscanStream(g,x){return this.createScanStream("zscan",{key:g,options:x})}zscanBufferStream(g,x){return this.createScanStream("zscanBuffer",{key:g,options:x})}silentEmit(g,x){let k;if(!(g==="error"&&(k=x,this.status==="end"||this.manuallyClosing&&k instanceof Error&&(k.message===d.CONNECTION_CLOSED_ERROR_MSG||k.syscall==="connect"||k.syscall==="read"))))return this.listeners(g).length>0?this.emit.apply(this,arguments):(k&&k instanceof Error&&console.error("[ioredis] Unhandled error event:",k.stack),!1)}recoverFromFatalError(g,x,k){this.flushQueue(x,k),this.silentEmit("error",x),this.disconnect(!0)}handleReconnection(g,x){var k;let _=!1;switch(this.options.reconnectOnError&&(_=this.options.reconnectOnError(g)),_){case 1:case!0:this.status!=="reconnecting"&&this.disconnect(!0),x.command.reject(g);break;case 2:this.status!=="reconnecting"&&this.disconnect(!0),((k=this.condition)===null||k===void 0?void 0:k.select)!==x.select&&x.command.name!=="select"&&this.select(x.select),this.sendCommand(x.command);break;default:x.command.reject(g)}}_getDescription(){let g;return"path"in this.options&&this.options.path?g=this.options.path:this.stream&&this.stream.remoteAddress&&this.stream.remotePort?g=this.stream.remoteAddress+":"+this.stream.remotePort:"host"in this.options&&this.options.host?g=this.options.host+":"+this.options.port:g="",this.options.connectionName&&(g+=` (${this.options.connectionName})`),g}resetCommandQueue(){this.commandQueue=new f}resetOfflineQueue(){this.offlineQueue=new f}parseOptions(...g){const x={};let k=!1;for(let _=0;_<g.length;++_){const w=g[_];if(!(w===null||typeof w>"u"))if(typeof w=="object")(0,m.defaults)(x,w);else if(typeof w=="string")(0,m.defaults)(x,(0,d.parseURL)(w)),w.startsWith("rediss://")&&(k=!0);else if(typeof w=="number")x.port=w;else throw new Error("Invalid argument "+w)}k&&(0,m.defaults)(x,{tls:!0}),(0,m.defaults)(x,Zu.defaultOptions),typeof x.port=="string"&&(x.port=parseInt(x.port,10)),typeof x.db=="string"&&(x.db=parseInt(x.db,10)),this.options=(0,d.resolveTLSProfile)(x)}setStatus(g,x){v.enabled&&v("status[%s]: %s -> %s",this._getDescription(),this.status||"[empty]",g),this.status=g,process.nextTick(this.emit.bind(this,g,x))}createScanStream(g,{key:x,options:k={}}){return new l.default({objectMode:!0,key:x,redis:this,command:g,...k})}flushQueue(g,x){x=(0,m.defaults)({},x,{offlineQueue:!0,commandQueue:!0});let k;if(x.offlineQueue)for(;k=this.offlineQueue.shift();)k.command.reject(g);if(x.commandQueue&&this.commandQueue.length>0)for(this.stream&&this.stream.removeAllListeners("data");k=this.commandQueue.shift();)k.command.reject(g)}_readyCheck(g){const x=this;this.info(function(k,_){if(k)return k.message&&k.message.includes("NOPERM")?(console.warn(`Skipping the ready check because INFO command fails: "${k.message}". You can disable ready check with "enableReadyCheck". More: https://github.com/luin/ioredis/wiki/Disable-ready-check.`),g(null,{})):g(k);if(typeof _!="string")return g(null,_);const w={},E=_.split(`\r
`);for(let T=0;T<E.length;++T){const[I,...L]=E[T].split(":"),q=L.join(":");q&&(w[I]=q)}if(!w.loading||w.loading==="0")g(null,w);else{const T=(w.loading_eta_seconds||1)*1e3,I=x.options.maxLoadingRetryTime&&x.options.maxLoadingRetryTime<T?x.options.maxLoadingRetryTime:T;v("Redis server still loading, trying again in "+I+"ms"),setTimeout(function(){x._readyCheck(g)},I)}}).catch(m.noop)}};return h.Cluster=s.default,h.Command=r.default,h.defaultOptions=c.DEFAULT_REDIS_OPTIONS,(0,p.default)(h,e.EventEmitter),(0,u.addTransactionSupport)(h.prototype),pu.default=h,pu}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.print=e.ReplyError=e.SentinelIterator=e.SentinelConnector=e.AbstractConnector=e.Pipeline=e.ScanStream=e.Command=e.Cluster=e.Redis=e.default=void 0,e=t.exports=zi().default;var n=zi();Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}});var s=zi();Object.defineProperty(e,"Redis",{enumerable:!0,get:function(){return s.default}});var r=T2();Object.defineProperty(e,"Cluster",{enumerable:!0,get:function(){return r.default}});var i=Ds;Object.defineProperty(e,"Command",{enumerable:!0,get:function(){return i.default}});var a=Pl;Object.defineProperty(e,"ScanStream",{enumerable:!0,get:function(){return a.default}});var o=Jp;Object.defineProperty(e,"Pipeline",{enumerable:!0,get:function(){return o.default}});var c=Ml;Object.defineProperty(e,"AbstractConnector",{enumerable:!0,get:function(){return c.default}});var l=Zv();Object.defineProperty(e,"SentinelConnector",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"SentinelIterator",{enumerable:!0,get:function(){return l.SentinelIterator}}),e.ReplyError=Mo.ReplyError,Object.defineProperty(e,"Promise",{get(){return console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used."),Promise},set(d){console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used.")}});function u(d,p){console.log(d?"Error: "+d:"Reply: "+p)}e.print=u})(Rg,Rg.exports);var _h=Rg.exports,M2={exports:{}},D2={exports:{}},mi={},ab={};ab.parse=function(t,e){return new ob(t,e).parse()};class ob{constructor(e,n){this.source=e,this.transform=n||VH,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return e==="\\"?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var n;(this.recorded.length>0||e)&&(n=this.recorded.join(""),n==="NULL"&&!e&&(n=null),n!==null&&(n=this.transform(n)),this.entries.push(n),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var e=this.nextCharacter();if(e.value==="=")break}}parse(e){var n,s,r;for(this.consumeDimensions();!this.isEof();)if(n=this.nextCharacter(),n.value==="{"&&!r)this.dimension++,this.dimension>1&&(s=new ob(this.source.substr(this.position-1),this.transform),this.entries.push(s.parse(!0)),this.position+=s.position-2);else if(n.value==="}"&&!r){if(this.dimension--,!this.dimension&&(this.newEntry(),e))return this.entries}else n.value==='"'&&!n.escaped?(r&&this.newEntry(!0),r=!r):n.value===","&&!r?this.newEntry():this.record(n.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}}function VH(t){return t}var HH=ab,F2={create:function(t,e){return{parse:function(){return HH.parse(t,e)}}}},GH=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,WH=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,KH=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,YH=/^-?infinity$/,JH=function(e){if(YH.test(e))return Number(e.replace("i","I"));var n=GH.exec(e);if(!n)return XH(e)||null;var s=!!n[8],r=parseInt(n[1],10);s&&(r=L2(r));var i=parseInt(n[2],10)-1,a=n[3],o=parseInt(n[4],10),c=parseInt(n[5],10),l=parseInt(n[6],10),u=n[7];u=u?1e3*parseFloat(u):0;var d,p=ZH(e);return p!=null?(d=new Date(Date.UTC(r,i,a,o,c,l,u)),Fg(r)&&d.setUTCFullYear(r),p!==0&&d.setTime(d.getTime()-p)):(d=new Date(r,i,a,o,c,l,u),Fg(r)&&d.setFullYear(r)),d};function XH(t){var e=WH.exec(t);if(e){var n=parseInt(e[1],10),s=!!e[4];s&&(n=L2(n));var r=parseInt(e[2],10)-1,i=e[3],a=new Date(n,r,i);return Fg(n)&&a.setFullYear(n),a}}function ZH(t){if(t.endsWith("+00"))return 0;var e=KH.exec(t.split(" ")[1]);if(e){var n=e[1];if(n==="Z")return 0;var s=n==="-"?-1:1,r=parseInt(e[2],10)*3600+parseInt(e[3]||0,10)*60+parseInt(e[4]||0,10);return r*s*1e3}}function L2(t){return-(t-1)}function Fg(t){return t>=0&&t<100}var eG=nG,tG=Object.prototype.hasOwnProperty;function nG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)tG.call(n,s)&&(t[s]=n[s])}return t}var sG=eG,rG=xo;function xo(t){if(!(this instanceof xo))return new xo(t);sG(this,gG(t))}var iG=["seconds","minutes","hours","days","months","years"];xo.prototype.toPostgres=function(){var t=iG.filter(this.hasOwnProperty,this);return this.milliseconds&&t.indexOf("seconds")<0&&t.push("seconds"),t.length===0?"0":t.map(function(e){var n=this[e]||0;return e==="seconds"&&this.milliseconds&&(n=(n+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),n+" "+e},this).join(" ")};var aG={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},oG=["years","months","days"],cG=["hours","minutes","seconds"];xo.prototype.toISOString=xo.prototype.toISO=function(){var t=oG.map(n,this).join(""),e=cG.map(n,this).join("");return"P"+t+"T"+e;function n(s){var r=this[s]||0;return s==="seconds"&&this.milliseconds&&(r=(r+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),r+aG[s]}};var cb="([+-]?\\d+)",lG=cb+"\\s+years?",uG=cb+"\\s+mons?",dG=cb+"\\s+days?",pG="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",fG=new RegExp([lG,uG,dG,pG].map(function(t){return"("+t+")?"}).join("\\s*")),zw={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},hG=["hours","minutes","seconds","milliseconds"];function mG(t){var e=t+"000000".slice(t.length);return parseInt(e,10)/1e3}function gG(t){if(!t)return{};var e=fG.exec(t),n=e[8]==="-";return Object.keys(zw).reduce(function(s,r){var i=zw[r],a=e[i];return!a||(a=r==="milliseconds"?mG(a):parseInt(a,10),!a)||(n&&~hG.indexOf(r)&&(a*=-1),s[r]=a),s},{})}var yG=function(e){if(/^\\x/.test(e))return new Buffer(e.substr(2),"hex");for(var n="",s=0;s<e.length;)if(e[s]!=="\\")n+=e[s],++s;else if(/[0-7]{3}/.test(e.substr(s+1,3)))n+=String.fromCharCode(parseInt(e.substr(s+1,3),8)),s+=4;else{for(var r=1;s+r<e.length&&e[s+r]==="\\";)r++;for(var i=0;i<Math.floor(r/2);++i)n+="\\";s+=Math.floor(r/2)*2}return new Buffer(n,"binary")},Fl=ab,Ll=F2,ed=JH,B2=rG,$2=yG;function sf(t){return function(n){return n===null?n:t(n)}}function z2(t){return t===null?t:t==="TRUE"||t==="t"||t==="true"||t==="y"||t==="yes"||t==="on"||t==="1"}function vG(t){return t?Fl.parse(t,z2):null}function bG(t){return parseInt(t,10)}function Eh(t){return t?Fl.parse(t,sf(bG)):null}function xG(t){return t?Fl.parse(t,sf(function(e){return U2(e).trim()})):null}var wG=function(t){if(!t)return null;var e=Ll.create(t,function(n){return n!==null&&(n=lb(n)),n});return e.parse()},kh=function(t){if(!t)return null;var e=Ll.create(t,function(n){return n!==null&&(n=parseFloat(n)),n});return e.parse()},Fn=function(t){if(!t)return null;var e=Ll.create(t);return e.parse()},Ch=function(t){if(!t)return null;var e=Ll.create(t,function(n){return n!==null&&(n=ed(n)),n});return e.parse()},SG=function(t){if(!t)return null;var e=Ll.create(t,function(n){return n!==null&&(n=B2(n)),n});return e.parse()},_G=function(t){return t?Fl.parse(t,sf($2)):null},Ah=function(t){return parseInt(t,10)},U2=function(t){var e=String(t);return/^\d+$/.test(e)?e:t},Uw=function(t){return t?Fl.parse(t,sf(JSON.parse)):null},lb=function(t){return t[0]!=="("?null:(t=t.substring(1,t.length-1).split(","),{x:parseFloat(t[0]),y:parseFloat(t[1])})},EG=function(t){if(t[0]!=="<"&&t[1]!=="(")return null;for(var e="(",n="",s=!1,r=2;r<t.length-1;r++){if(s||(e+=t[r]),t[r]===")"){s=!0;continue}else if(!s)continue;t[r]!==","&&(n+=t[r])}var i=lb(e);return i.radius=parseFloat(n),i},kG=function(t){t(20,U2),t(21,Ah),t(23,Ah),t(26,Ah),t(700,parseFloat),t(701,parseFloat),t(16,z2),t(1082,ed),t(1114,ed),t(1184,ed),t(600,lb),t(651,Fn),t(718,EG),t(1e3,vG),t(1001,_G),t(1005,Eh),t(1007,Eh),t(1028,Eh),t(1016,xG),t(1017,wG),t(1021,kh),t(1022,kh),t(1231,kh),t(1014,Fn),t(1015,Fn),t(1008,Fn),t(1009,Fn),t(1040,Fn),t(1041,Fn),t(1115,Ch),t(1182,Ch),t(1185,Ch),t(1186,B2),t(1187,SG),t(17,$2),t(114,JSON.parse.bind(JSON)),t(3802,JSON.parse.bind(JSON)),t(199,Uw),t(3807,Uw),t(3907,Fn),t(2951,Fn),t(791,Fn),t(1183,Fn),t(1270,Fn)},CG={init:kG},ln=1e6;function AG(t){var e=t.readInt32BE(0),n=t.readUInt32BE(4),s="";e<0&&(e=~e+(n===0),n=~n+1>>>0,s="-");var r="",i,a,o,c,l,u;{if(i=e%ln,e=e/ln>>>0,a=4294967296*i+n,n=a/ln>>>0,o=""+(a-ln*n),n===0&&e===0)return s+o+r;for(c="",l=6-o.length,u=0;u<l;u++)c+="0";r=c+o+r}{if(i=e%ln,e=e/ln>>>0,a=4294967296*i+n,n=a/ln>>>0,o=""+(a-ln*n),n===0&&e===0)return s+o+r;for(c="",l=6-o.length,u=0;u<l;u++)c+="0";r=c+o+r}{if(i=e%ln,e=e/ln>>>0,a=4294967296*i+n,n=a/ln>>>0,o=""+(a-ln*n),n===0&&e===0)return s+o+r;for(c="",l=6-o.length,u=0;u<l;u++)c+="0";r=c+o+r}return i=e%ln,a=4294967296*i+n,o=""+a%ln,s+o+r}var TG=AG,NG=TG,at=function(t,e,n,s,r){n=n||0,s=s||!1,r=r||function(y,m,f){return y*Math.pow(2,f)+m};var i=n>>3,a=function(y){return s?~y&255:y},o=255,c=8-n%8;e<c&&(o=255<<8-e&255,c=e),n&&(o=o>>n%8);var l=0;n%8+e>=8&&(l=r(0,a(t[i])&o,c));for(var u=e+n>>3,d=i+1;d<u;d++)l=r(l,a(t[d]),8);var p=(e+n)%8;return p>0&&(l=r(l,a(t[u])>>8-p,p)),l},q2=function(t,e,n){var s=Math.pow(2,n-1)-1,r=at(t,1),i=at(t,n,1);if(i===0)return 0;var a=1,o=function(l,u,d){l===0&&(l=1);for(var p=1;p<=d;p++)a/=2,(u&1<<d-p)>0&&(l+=a);return l},c=at(t,e,n+1,!1,o);return i==Math.pow(2,n+1)-1?c===0?r===0?1/0:-1/0:NaN:(r===0?1:-1)*Math.pow(2,i-s)*c},RG=function(t){return at(t,1)==1?-1*(at(t,15,1,!0)+1):at(t,15,1)},qw=function(t){return at(t,1)==1?-1*(at(t,31,1,!0)+1):at(t,31,1)},OG=function(t){return q2(t,23,8)},PG=function(t){return q2(t,52,11)},IG=function(t){var e=at(t,16,32);if(e==49152)return NaN;for(var n=Math.pow(1e4,at(t,16,16)),s=0,r=at(t,16),i=0;i<r;i++)s+=at(t,16,64+16*i)*n,n/=1e4;var a=Math.pow(10,at(t,16,48));return(e===0?1:-1)*Math.round(s*a)/a},Qw=function(t,e){var n=at(e,1),s=at(e,63,1),r=new Date((n===0?1:-1)*s/1e3+9466848e5);return t||r.setTime(r.getTime()+r.getTimezoneOffset()*6e4),r.usec=s%1e3,r.getMicroSeconds=function(){return this.usec},r.setMicroSeconds=function(i){this.usec=i},r.getUTCMicroSeconds=function(){return this.usec},r},ec=function(t){var e=at(t,32);at(t,32,32);for(var n=at(t,32,64),s=96,r=[],i=0;i<e;i++)r[i]=at(t,32,s),s+=32,s+=32;var a=function(c){var l=at(t,32,s);if(s+=32,l==4294967295)return null;var u;if(c==23||c==20)return u=at(t,l*8,s),s+=l*8,u;if(c==25)return u=t.toString(this.encoding,s>>3,(s+=l<<3)>>3),u;console.log("ERROR: ElementType not implemented: "+c)},o=function(c,l){var u=[],d;if(c.length>1){var p=c.shift();for(d=0;d<p;d++)u[d]=o(c,l);c.unshift(p)}else for(d=0;d<c[0];d++)u[d]=a(l);return u};return o(r,n)},jG=function(t){return t.toString("utf8")},MG=function(t){return t===null?null:at(t,8)>0},DG=function(t){t(20,NG),t(21,RG),t(23,qw),t(26,qw),t(1700,IG),t(700,OG),t(701,PG),t(16,MG),t(1114,Qw.bind(null,!1)),t(1184,Qw.bind(null,!0)),t(1e3,ec),t(1007,ec),t(1016,ec),t(1008,ec),t(1009,ec),t(25,jG)},FG={init:DG},LG={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096},BG=CG,$G=FG,zG=F2,UG=LG;mi.getTypeParser=qG;mi.setTypeParser=QG;mi.arrayParser=zG;mi.builtins=UG;var ol={text:{},binary:{}};function Vw(t){return String(t)}function qG(t,e){return e=e||"text",ol[e]&&ol[e][t]||Vw}function QG(t,e,n){typeof e=="function"&&(n=e,e="text"),ol[e][t]=n}BG.init(function(t,e){ol.text[t]=e});$G.init(function(t,e){ol.binary[t]=e});(function(t){var e={};t.exports={host:"localhost",user:process.platform==="win32"?e.USERNAME:e.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};const n=mi,s=n.getTypeParser(20,"text"),r=n.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(i){n.setTypeParser(20,"text",i?n.getTypeParser(23,"text"):s),n.setTypeParser(1016,"text",i?n.getTypeParser(1007,"text"):r)})})(D2);var rf=D2.exports;const VG=rf,Hw=se,{isDate:HG}=Hw.types||Hw;function GG(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function Q2(t){let e="{";for(let n=0;n<t.length;n++)if(n>0&&(e=e+","),t[n]===null||typeof t[n]>"u")e=e+"NULL";else if(Array.isArray(t[n]))e=e+Q2(t[n]);else if(ArrayBuffer.isView(t[n])){let s=t[n];if(!(s instanceof Buffer)){const r=Buffer.from(s.buffer,s.byteOffset,s.byteLength);r.length===s.byteLength?s=r:s=r.slice(s.byteOffset,s.byteOffset+s.byteLength)}e+="\\\\x"+s.toString("hex")}else e+=GG(Kd(t[n]));return e=e+"}",e}const Kd=function(t,e){if(t==null)return null;if(typeof t=="object"){if(t instanceof Buffer)return t;if(ArrayBuffer.isView(t)){const n=Buffer.from(t.buffer,t.byteOffset,t.byteLength);return n.length===t.byteLength?n:n.slice(t.byteOffset,t.byteOffset+t.byteLength)}return HG(t)?VG.parseInputDatesAsUTC?YG(t):KG(t):Array.isArray(t)?Q2(t):WG(t,e)}return t.toString()};function WG(t,e){if(t&&typeof t.toPostgres=="function"){if(e=e||[],e.indexOf(t)!==-1)throw new Error('circular reference detected while preparing "'+t+'" for query');return e.push(t),Kd(t.toPostgres(Kd),e)}return JSON.stringify(t)}function KG(t){let e=-t.getTimezoneOffset(),n=t.getFullYear();const s=n<1;s&&(n=Math.abs(n)+1);let r=String(n).padStart(4,"0")+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+"T"+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")+"."+String(t.getMilliseconds()).padStart(3,"0");return e<0?(r+="-",e*=-1):r+="+",r+=String(Math.floor(e/60)).padStart(2,"0")+":"+String(e%60).padStart(2,"0"),s&&(r+=" BC"),r}function YG(t){let e=t.getUTCFullYear();const n=e<1;n&&(e=Math.abs(e)+1);let s=String(e).padStart(4,"0")+"-"+String(t.getUTCMonth()+1).padStart(2,"0")+"-"+String(t.getUTCDate()).padStart(2,"0")+"T"+String(t.getUTCHours()).padStart(2,"0")+":"+String(t.getUTCMinutes()).padStart(2,"0")+":"+String(t.getUTCSeconds()).padStart(2,"0")+"."+String(t.getUTCMilliseconds()).padStart(3,"0");return s+="+00:00",n&&(s+=" BC"),s}function JG(t,e,n){return t=typeof t=="string"?{text:t}:t,e&&(typeof e=="function"?t.callback=e:t.values=e),n&&(t.callback=n),t}const XG=function(t){return'"'+t.replace(/"/g,'""')+'"'},ZG=function(t){let e=!1,n="'";if(t==null||typeof t!="string")return"''";for(let s=0;s<t.length;s++){const r=t[s];r==="'"?n+=r+r:r==="\\"?(n+=r+r,e=!0):n+=r}return n+="'",e===!0&&(n=" E"+n),n};var cl={prepareValue:function(e){return Kd(e)},normalizeQueryConfig:JG,escapeIdentifier:XG,escapeLiteral:ZG},Lg={exports:{}},Th,Gw;function eW(){if(Gw)return Th;Gw=1;const t=se;function e(o){return t.createHash("md5").update(o,"utf-8").digest("hex")}function n(o,c,l){const u=e(c+o);return"md5"+e(Buffer.concat([Buffer.from(u),l]))}function s(o){return t.createHash("sha256").update(o).digest()}function r(o,c){return o=o.replace(/(\D)-/,"$1"),t.createHash(o).update(c).digest()}function i(o,c){return t.createHmac("sha256",o).update(c).digest()}async function a(o,c,l){return t.pbkdf2Sync(o,c,l,32,"sha256")}return Th={postgresMd5PasswordHash:n,randomBytes:t.randomBytes,deriveKey:a,sha256:s,hashByName:r,hmacSha256:i,md5:e},Th}var Nh,Ww;function tW(){if(Ww)return Nh;Ww=1;const t=se;Nh={postgresMd5PasswordHash:a,randomBytes:r,deriveKey:u,sha256:o,hashByName:c,hmacSha256:l,md5:i};const e=t.webcrypto||globalThis.crypto,n=e.subtle,s=new TextEncoder;function r(d){return e.getRandomValues(Buffer.alloc(d))}async function i(d){try{return t.createHash("md5").update(d,"utf-8").digest("hex")}catch{const y=typeof d=="string"?s.encode(d):d,m=await n.digest("MD5",y);return Array.from(new Uint8Array(m)).map(f=>f.toString(16).padStart(2,"0")).join("")}}async function a(d,p,y){const m=await i(p+d);return"md5"+await i(Buffer.concat([Buffer.from(m),y]))}async function o(d){return await n.digest("SHA-256",d)}async function c(d,p){return await n.digest(d,p)}async function l(d,p){const y=await n.importKey("raw",d,{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return await n.sign("HMAC",y,s.encode(p))}async function u(d,p,y){const m=await n.importKey("raw",s.encode(d),"PBKDF2",!1,["deriveBits"]),f={name:"PBKDF2",hash:"SHA-256",salt:p,iterations:y};return await n.deriveBits(f,m,32*8,["deriveBits"])}return Nh}const nW=parseInt(process.versions&&process.versions.node&&process.versions.node.split(".")[0])<15;nW?Lg.exports=eW():Lg.exports=tW();var V2=Lg.exports;function Ci(t,e){return new Error("SASL channel binding: "+t+" when parsing public certificate "+e.toString("base64"))}function ub(t,e){let n=t[e++];if(n<128)return{length:n,index:e};const s=n&127;if(s>4)throw Ci("bad length",t);n=0;for(let r=0;r<s;r++)n=n<<8|t[e++];return{length:n,index:e}}function Kw(t,e){if(t[e++]!==6)throw Ci("non-OID data",t);const{length:n,index:s}=ub(t,e);e=s;const r=e+n,i=t[e++];let a=(i/40>>0)+"."+i%40;for(;e<r;){let o=0;for(;e<r;){const c=t[e++];if(o=o<<7|c&127,c<128)break}a+="."+o}return{oid:a,index:e}}function tc(t,e){if(t[e++]!==48)throw Ci("non-sequence data",t);return ub(t,e)}function sW(t,e){e===void 0&&(e=0),e=tc(t,e).index;const{length:n,index:s}=tc(t,e);e=s+n,e=tc(t,e).index;const{oid:r,index:i}=Kw(t,e);switch(r){case"1.2.840.113549.1.1.4":return"MD5";case"1.2.840.113549.1.1.5":return"SHA-1";case"1.2.840.113549.1.1.11":return"SHA-256";case"1.2.840.113549.1.1.12":return"SHA-384";case"1.2.840.113549.1.1.13":return"SHA-512";case"1.2.840.113549.1.1.14":return"SHA-224";case"1.2.840.113549.1.1.15":return"SHA512-224";case"1.2.840.113549.1.1.16":return"SHA512-256";case"1.2.840.10045.4.1":return"SHA-1";case"1.2.840.10045.4.3.1":return"SHA-224";case"1.2.840.10045.4.3.2":return"SHA-256";case"1.2.840.10045.4.3.3":return"SHA-384";case"1.2.840.10045.4.3.4":return"SHA-512";case"1.2.840.113549.1.1.10":{if(e=i,e=tc(t,e).index,t[e++]!==160)throw Ci("non-tag data",t);e=ub(t,e).index,e=tc(t,e).index;const{oid:a}=Kw(t,e);switch(a){case"1.2.840.113549.2.5":return"MD5";case"1.3.14.3.2.26":return"SHA-1";case"2.16.840.1.101.3.4.2.1":return"SHA-256";case"2.16.840.1.101.3.4.2.2":return"SHA-384";case"2.16.840.1.101.3.4.2.3":return"SHA-512"}throw Ci("unknown hash OID "+a,t)}case"1.3.101.110":case"1.3.101.112":return"SHA-512";case"1.3.101.111":case"1.3.101.113":throw Ci("Ed448 certificate channel binding is not currently supported by Postgres")}throw Ci("unknown OID "+r,t)}var rW={signatureAlgorithmHashFromCertificate:sW};const _r=V2,{signatureAlgorithmHashFromCertificate:iW}=rW;function aW(t,e){const n=["SCRAM-SHA-256"];e&&n.unshift("SCRAM-SHA-256-PLUS");const s=n.find(a=>t.includes(a));if(!s)throw new Error("SASL: Only mechanism(s) "+n.join(" and ")+" are supported");if(s==="SCRAM-SHA-256-PLUS"&&typeof e.getPeerCertificate!="function")throw new Error("SASL: Mechanism SCRAM-SHA-256-PLUS requires a certificate");const r=_r.randomBytes(18).toString("base64");return{mechanism:s,clientNonce:r,response:(s==="SCRAM-SHA-256-PLUS"?"p=tls-server-end-point":e?"y":"n")+",,n=*,r="+r,message:"SASLInitialResponse"}}async function oW(t,e,n,s){if(t.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof e!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(e==="")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a non-empty string");if(typeof n!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");const r=uW(n);if(r.nonce.startsWith(t.clientNonce)){if(r.nonce.length===t.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");const i="n=*,r="+t.clientNonce,a="r="+r.nonce+",s="+r.salt+",i="+r.iteration;let o=s?"eSws":"biws";if(t.mechanism==="SCRAM-SHA-256-PLUS"){const b=s.getPeerCertificate().raw;let g=iW(b);(g==="MD5"||g==="SHA-1")&&(g="SHA-256");const x=await _r.hashByName(g,b);o=Buffer.concat([Buffer.from("p=tls-server-end-point,,"),Buffer.from(x)]).toString("base64")}const c="c="+o+",r="+r.nonce,l=i+","+a+","+c,u=Buffer.from(r.salt,"base64"),d=await _r.deriveKey(e,u,r.iteration),p=await _r.hmacSha256(d,"Client Key"),y=await _r.sha256(p),m=await _r.hmacSha256(y,l),f=pW(Buffer.from(p),Buffer.from(m)).toString("base64"),v=await _r.hmacSha256(d,"Server Key"),h=await _r.hmacSha256(v,l);t.message="SASLResponse",t.serverSignature=Buffer.from(h).toString("base64"),t.response=c+",p="+f}function cW(t,e){if(t.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof e!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");const{serverSignature:n}=dW(e);if(n!==t.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function lW(t){if(typeof t!="string")throw new TypeError("SASL: text must be a string");return t.split("").map((e,n)=>t.charCodeAt(n)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}function H2(t){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(t)}function G2(t){if(typeof t!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(t.split(",").map(e=>{if(!/^.=/.test(e))throw new Error("SASL: Invalid attribute pair entry");const n=e[0],s=e.substring(2);return[n,s]}))}function uW(t){const e=G2(t),n=e.get("r");if(n){if(!lW(n))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");const s=e.get("s");if(s){if(!H2(s))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");const r=e.get("i");if(r){if(!/^[1-9][0-9]*$/.test(r))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");const i=parseInt(r,10);return{nonce:n,salt:s,iteration:i}}function dW(t){const n=G2(t).get("v");if(n){if(!H2(n))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:n}}function pW(t,e){if(!Buffer.isBuffer(t))throw new TypeError("first argument must be a Buffer");if(!Buffer.isBuffer(e))throw new TypeError("second argument must be a Buffer");if(t.length!==e.length)throw new Error("Buffer lengths must match");if(t.length===0)throw new Error("Buffers cannot be empty");return Buffer.from(t.map((n,s)=>t[s]^e[s]))}var fW={startSession:aW,continueSession:oW,finalizeSession:cW};const hW=mi;function af(t){this._types=t||hW,this.text={},this.binary={}}af.prototype.getOverrides=function(t){switch(t){case"text":return this.text;case"binary":return this.binary;default:return{}}};af.prototype.setTypeParser=function(t,e,n){typeof e=="function"&&(n=e,e="text"),this.getOverrides(e)[t]=n};af.prototype.getTypeParser=function(t,e){return e=e||"text",this.getOverrides(e)[t]||this._types.getTypeParser(t,e)};var db=af;function wo(t,e={}){if(t.charAt(0)==="/"){const c=t.split(" ");return{host:c[0],database:c[1]}}const n={};let s,r=!1;/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(t)&&(t=encodeURI(t).replace(/%25(\d\d)/g,"%$1"));try{try{s=new URL(t,"postgres://base")}catch{s=new URL(t.replace("@/","@___DUMMY___/"),"postgres://base"),r=!0}}catch(c){c.input&&(c.input="*****REDACTED*****")}for(const c of s.searchParams.entries())n[c[0]]=c[1];if(n.user=n.user||decodeURIComponent(s.username),n.password=n.password||decodeURIComponent(s.password),s.protocol=="socket:")return n.host=decodeURI(s.pathname),n.database=s.searchParams.get("db"),n.client_encoding=s.searchParams.get("encoding"),n;const i=r?"":s.hostname;n.host?i&&/^%2f/i.test(i)&&(s.pathname=i+s.pathname):n.host=decodeURIComponent(i),n.port||(n.port=s.port);const a=s.pathname.slice(1)||null;n.database=a?decodeURI(a):null,(n.ssl==="true"||n.ssl==="1")&&(n.ssl=!0),n.ssl==="0"&&(n.ssl=!1),(n.sslcert||n.sslkey||n.sslrootcert||n.sslmode)&&(n.ssl={});const o=n.sslcert||n.sslkey||n.sslrootcert?se:null;if(n.sslcert&&(n.ssl.cert=o.readFileSync(n.sslcert).toString()),n.sslkey&&(n.ssl.key=o.readFileSync(n.sslkey).toString()),n.sslrootcert&&(n.ssl.ca=o.readFileSync(n.sslrootcert).toString()),e.useLibpqCompat&&n.uselibpqcompat)throw new Error("Both useLibpqCompat and uselibpqcompat are set. Please use only one of them.");if(n.uselibpqcompat==="true"||e.useLibpqCompat)switch(n.sslmode){case"disable":{n.ssl=!1;break}case"prefer":{n.ssl.rejectUnauthorized=!1;break}case"require":{n.sslrootcert?n.ssl.checkServerIdentity=function(){}:n.ssl.rejectUnauthorized=!1;break}case"verify-ca":{if(!n.ssl.ca)throw new Error("SECURITY WARNING: Using sslmode=verify-ca requires specifying a CA with sslrootcert. If a public CA is used, verify-ca allows connections to a server that somebody else may have registered with the CA, making you vulnerable to Man-in-the-Middle attacks. Either specify a custom CA certificate with sslrootcert parameter or use sslmode=verify-full for proper security.");n.ssl.checkServerIdentity=function(){};break}}else switch(n.sslmode){case"disable":{n.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{n.ssl.rejectUnauthorized=!1;break}}return n}function mW(t){return Object.entries(t).reduce((n,[s,r])=>(r!=null&&(n[s]=r),n),{})}function W2(t){return Object.entries(t).reduce((n,[s,r])=>{if(s==="ssl"){const i=r;typeof i=="boolean"&&(n[s]=i),typeof i=="object"&&(n[s]=mW(i))}else if(r!=null)if(s==="port"){if(r!==""){const i=parseInt(r,10);if(isNaN(i))throw new Error(`Invalid ${s}: ${r}`);n[s]=i}}else n[s]=r;return n},{})}function gW(t){return W2(wo(t))}var yW=wo;wo.parse=wo;wo.toClientConfig=W2;wo.parseIntoClientConfig=gW;var Yd={};const vW=se,K2=rf,Yw=yW.parse,Yt=function(t,e,n){return n===void 0?n=Yd["PG"+t.toUpperCase()]:n===!1||(n=Yd[n]),e[t]||n||K2[t]},bW=function(){switch(Yd.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return K2.ssl},va=function(t){return"'"+(""+t).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},Ln=function(t,e,n){const s=e[n];s!=null&&t.push(n+"="+va(s))};let xW=class{constructor(e){e=typeof e=="string"?Yw(e):e||{},e.connectionString&&(e=Object.assign({},e,Yw(e.connectionString))),this.user=Yt("user",e),this.database=Yt("database",e),this.database===void 0&&(this.database=this.user),this.port=parseInt(Yt("port",e),10),this.host=Yt("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:Yt("password",e)}),this.binary=Yt("binary",e),this.options=Yt("options",e),this.ssl=typeof e.ssl>"u"?bW():e.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=Yt("client_encoding",e),this.replication=Yt("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=Yt("application_name",e,"PGAPPNAME"),this.fallback_application_name=Yt("fallback_application_name",e,!1),this.statement_timeout=Yt("statement_timeout",e,!1),this.lock_timeout=Yt("lock_timeout",e,!1),this.idle_in_transaction_session_timeout=Yt("idle_in_transaction_session_timeout",e,!1),this.query_timeout=Yt("query_timeout",e,!1),e.connectionTimeoutMillis===void 0?this.connect_timeout=Yd.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),e.keepAlive===!1?this.keepalives=0:e.keepAlive===!0&&(this.keepalives=1),typeof e.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){const n=[];Ln(n,this,"user"),Ln(n,this,"password"),Ln(n,this,"port"),Ln(n,this,"application_name"),Ln(n,this,"fallback_application_name"),Ln(n,this,"connect_timeout"),Ln(n,this,"options");const s=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(Ln(n,s,"sslmode"),Ln(n,s,"sslca"),Ln(n,s,"sslkey"),Ln(n,s,"sslcert"),Ln(n,s,"sslrootcert"),this.database&&n.push("dbname="+va(this.database)),this.replication&&n.push("replication="+va(this.replication)),this.host&&n.push("host="+va(this.host)),this.isDomainSocket)return e(null,n.join(" "));this.client_encoding&&n.push("client_encoding="+va(this.client_encoding)),vW.lookup(this.host,function(r,i){return r?e(r,null):(n.push("hostaddr="+va(i)),e(null,n.join(" ")))})}};var Y2=xW;const wW=mi,Jw=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/;let SW=class{constructor(e,n){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=n,this.RowCtor=null,this.rowAsArray=e==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray),this._prebuiltEmptyResultObject=null}addCommandComplete(e){let n;e.text?n=Jw.exec(e.text):n=Jw.exec(e.command),n&&(this.command=n[1],n[3]?(this.oid=parseInt(n[2],10),this.rowCount=parseInt(n[3],10)):n[2]&&(this.rowCount=parseInt(n[2],10)))}_parseRowAsArray(e){const n=new Array(e.length);for(let s=0,r=e.length;s<r;s++){const i=e[s];i!==null?n[s]=this._parsers[s](i):n[s]=null}return n}parseRow(e){const n={...this._prebuiltEmptyResultObject};for(let s=0,r=e.length;s<r;s++){const i=e[s],a=this.fields[s].name;if(i!==null){const o=this.fields[s].format==="binary"?Buffer.from(i):i;n[a]=this._parsers[s](o)}else n[a]=null}return n}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this._parsers=new Array(e.length));const n={};for(let s=0;s<e.length;s++){const r=e[s];n[r.name]=null,this._types?this._parsers[s]=this._types.getTypeParser(r.dataTypeID,r.format||"text"):this._parsers[s]=wW.getTypeParser(r.dataTypeID,r.format||"text")}this._prebuiltEmptyResultObject={...n}}};var J2=SW;const{EventEmitter:_W}=se,Xw=J2,Zw=cl;let EW=class extends _W{constructor(e,n,s){super(),e=Zw.normalizeQueryConfig(e,n,s),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.queryMode=e.queryMode,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,process.domain&&e.callback&&(this.callback=process.domain.bind(e.callback)),this._result=new Xw(this._rowMode,this.types),this._results=this._result,this._canceledDueToError=!1}requiresPreparation(){return this.queryMode==="extended"||this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new Xw(this._rowMode,this._result._types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let n;if(!this._canceledDueToError){try{n=this._result.parseRow(e.fields)}catch(s){this._canceledDueToError=s;return}this.emit("row",n,this._result),this._accumulateRows&&this._result.addRow(n)}}handleCommandComplete(e,n){this._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&n.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,n){if(this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(n){process.nextTick(()=>{throw n})}this.emit("end",this._results)}submit(e){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");const n=e.parsedStatements[this.name];if(this.text&&n&&this.text!==n)return new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);if(this.values&&!Array.isArray(this.values))return new Error("Query values must be an array");if(this.requiresPreparation()){e.stream.cork&&e.stream.cork();try{this.prepare(e)}finally{e.stream.uncork&&e.stream.uncork()}}else e.query(this.text);return null}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,n){e.execute({portal:this.portal,rows:n}),n?e.flush():e.sync()}prepare(e){this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:Zw.prepareValue})}catch(n){this.handleError(n,e);return}e.describe({type:"P",name:this.portal||""}),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,n){}};var kW=EW,pb={},ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.NoticeMessage=ye.DataRowMessage=ye.CommandCompleteMessage=ye.ReadyForQueryMessage=ye.NotificationResponseMessage=ye.BackendKeyDataMessage=ye.AuthenticationMD5Password=ye.ParameterStatusMessage=ye.ParameterDescriptionMessage=ye.RowDescriptionMessage=ye.Field=ye.CopyResponse=ye.CopyDataMessage=ye.DatabaseError=ye.copyDone=ye.emptyQuery=ye.replicationStart=ye.portalSuspended=ye.noData=ye.closeComplete=ye.bindComplete=ye.parseComplete=void 0;ye.parseComplete={name:"parseComplete",length:5};ye.bindComplete={name:"bindComplete",length:5};ye.closeComplete={name:"closeComplete",length:5};ye.noData={name:"noData",length:5};ye.portalSuspended={name:"portalSuspended",length:5};ye.replicationStart={name:"replicationStart",length:4};ye.emptyQuery={name:"emptyQuery",length:4};ye.copyDone={name:"copyDone",length:4};let CW=class extends Error{constructor(e,n,s){super(e),this.length=n,this.name=s}};ye.DatabaseError=CW;class AW{constructor(e,n){this.length=e,this.chunk=n,this.name="copyData"}}ye.CopyDataMessage=AW;class TW{constructor(e,n,s,r){this.length=e,this.name=n,this.binary=s,this.columnTypes=new Array(r)}}ye.CopyResponse=TW;class NW{constructor(e,n,s,r,i,a,o){this.name=e,this.tableID=n,this.columnID=s,this.dataTypeID=r,this.dataTypeSize=i,this.dataTypeModifier=a,this.format=o}}ye.Field=NW;class RW{constructor(e,n){this.length=e,this.fieldCount=n,this.name="rowDescription",this.fields=new Array(this.fieldCount)}}ye.RowDescriptionMessage=RW;class OW{constructor(e,n){this.length=e,this.parameterCount=n,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}}ye.ParameterDescriptionMessage=OW;class PW{constructor(e,n,s){this.length=e,this.parameterName=n,this.parameterValue=s,this.name="parameterStatus"}}ye.ParameterStatusMessage=PW;class IW{constructor(e,n){this.length=e,this.salt=n,this.name="authenticationMD5Password"}}ye.AuthenticationMD5Password=IW;class jW{constructor(e,n,s){this.length=e,this.processID=n,this.secretKey=s,this.name="backendKeyData"}}ye.BackendKeyDataMessage=jW;class MW{constructor(e,n,s,r){this.length=e,this.processId=n,this.channel=s,this.payload=r,this.name="notification"}}ye.NotificationResponseMessage=MW;class DW{constructor(e,n){this.length=e,this.status=n,this.name="readyForQuery"}}ye.ReadyForQueryMessage=DW;class FW{constructor(e,n){this.length=e,this.text=n,this.name="commandComplete"}}ye.CommandCompleteMessage=FW;class LW{constructor(e,n){this.length=e,this.fields=n,this.name="dataRow",this.fieldCount=n.length}}ye.DataRowMessage=LW;class BW{constructor(e,n){this.length=e,this.message=n,this.name="notice"}}ye.NoticeMessage=BW;var of={},cf={};Object.defineProperty(cf,"__esModule",{value:!0});cf.Writer=void 0;class $W{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(e)}ensure(e){if(this.buffer.length-this.offset<e){const s=this.buffer,r=s.length+(s.length>>1)+e;this.buffer=Buffer.allocUnsafe(r),s.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(!e)this.ensure(1);else{const n=Buffer.byteLength(e);this.ensure(n+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=n}return this.buffer[this.offset++]=0,this}addString(e=""){const n=Buffer.byteLength(e);return this.ensure(n),this.buffer.write(e,this.offset),this.offset+=n,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;const n=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(n,this.headerPosition+1)}return this.buffer.slice(e?0:5,this.offset)}flush(e){const n=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),n}}cf.Writer=$W;Object.defineProperty(of,"__esModule",{value:!0});of.serialize=void 0;const fb=cf,Xe=new fb.Writer,zW=t=>{Xe.addInt16(3).addInt16(0);for(const s of Object.keys(t))Xe.addCString(s).addCString(t[s]);Xe.addCString("client_encoding").addCString("UTF8");const e=Xe.addCString("").flush(),n=e.length+4;return new fb.Writer().addInt32(n).add(e).flush()},UW=()=>{const t=Buffer.allocUnsafe(8);return t.writeInt32BE(8,0),t.writeInt32BE(80877103,4),t},qW=t=>Xe.addCString(t).flush(112),QW=function(t,e){return Xe.addCString(t).addInt32(Buffer.byteLength(e)).addString(e),Xe.flush(112)},VW=function(t){return Xe.addString(t).flush(112)},HW=t=>Xe.addCString(t).flush(81),X2=[],GW=t=>{const e=t.name||"";e.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",e,e.length),console.error("This can cause conflicts and silent errors executing queries"));const n=t.types||X2,s=n.length,r=Xe.addCString(e).addCString(t.text).addInt16(s);for(let i=0;i<s;i++)r.addInt32(n[i]);return Xe.flush(80)},ba=new fb.Writer,WW=function(t,e){for(let n=0;n<t.length;n++){const s=e?e(t[n],n):t[n];s==null?(Xe.addInt16(0),ba.addInt32(-1)):s instanceof Buffer?(Xe.addInt16(1),ba.addInt32(s.length),ba.add(s)):(Xe.addInt16(0),ba.addInt32(Buffer.byteLength(s)),ba.addString(s))}},KW=(t={})=>{const e=t.portal||"",n=t.statement||"",s=t.binary||!1,r=t.values||X2,i=r.length;return Xe.addCString(e).addCString(n),Xe.addInt16(i),WW(r,t.valueMapper),Xe.addInt16(i),Xe.add(ba.flush()),Xe.addInt16(1),Xe.addInt16(s?1:0),Xe.flush(66)},YW=Buffer.from([69,0,0,0,9,0,0,0,0,0]),JW=t=>{if(!t||!t.portal&&!t.rows)return YW;const e=t.portal||"",n=t.rows||0,s=Buffer.byteLength(e),r=4+s+1+4,i=Buffer.allocUnsafe(1+r);return i[0]=69,i.writeInt32BE(r,1),i.write(e,5,"utf-8"),i[s+5]=0,i.writeUInt32BE(n,i.length-4),i},XW=(t,e)=>{const n=Buffer.allocUnsafe(16);return n.writeInt32BE(16,0),n.writeInt16BE(1234,4),n.writeInt16BE(5678,6),n.writeInt32BE(t,8),n.writeInt32BE(e,12),n},hb=(t,e)=>{const s=4+Buffer.byteLength(e)+1,r=Buffer.allocUnsafe(1+s);return r[0]=t,r.writeInt32BE(s,1),r.write(e,5,"utf-8"),r[s]=0,r},ZW=Xe.addCString("P").flush(68),eK=Xe.addCString("S").flush(68),tK=t=>t.name?hb(68,`${t.type}${t.name||""}`):t.type==="P"?ZW:eK,nK=t=>{const e=`${t.type}${t.name||""}`;return hb(67,e)},sK=t=>Xe.add(t).flush(100),rK=t=>hb(102,t),lf=t=>Buffer.from([t,0,0,0,4]),iK=lf(72),aK=lf(83),oK=lf(88),cK=lf(99),lK={startup:zW,password:qW,requestSsl:UW,sendSASLInitialResponseMessage:QW,sendSCRAMClientFinalMessage:VW,query:HW,parse:GW,bind:KW,execute:JW,describe:tK,close:nK,flush:()=>iK,sync:()=>aK,end:()=>oK,copyData:sK,copyDone:()=>cK,copyFail:rK,cancel:XW};of.serialize=lK;var uf={},df={};Object.defineProperty(df,"__esModule",{value:!0});df.BufferReader=void 0;const uK=Buffer.allocUnsafe(0);class dK{constructor(e=0){this.offset=e,this.buffer=uK,this.encoding="utf-8"}setBuffer(e,n){this.offset=e,this.buffer=n}int16(){const e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){const e=this.buffer[this.offset];return this.offset++,e}int32(){const e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}uint32(){const e=this.buffer.readUInt32BE(this.offset);return this.offset+=4,e}string(e){const n=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,n}cstring(){const e=this.offset;let n=e;for(;this.buffer[n++]!==0;);return this.offset=n,this.buffer.toString(this.encoding,e,n-1)}bytes(e){const n=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,n}}df.BufferReader=dK;Object.defineProperty(uf,"__esModule",{value:!0});uf.Parser=void 0;const et=ye,pK=df,Bg=1,fK=4,eS=Bg+fK,tS=Buffer.allocUnsafe(0);class hK{constructor(e){if(this.buffer=tS,this.bufferLength=0,this.bufferOffset=0,this.reader=new pK.BufferReader,(e==null?void 0:e.mode)==="binary")throw new Error("Binary mode not supported yet");this.mode=(e==null?void 0:e.mode)||"text"}parse(e,n){this.mergeBuffer(e);const s=this.bufferOffset+this.bufferLength;let r=this.bufferOffset;for(;r+eS<=s;){const i=this.buffer[r],a=this.buffer.readUInt32BE(r+Bg),o=Bg+a;if(o+r<=s){const c=this.handlePacket(r+eS,i,a,this.buffer);n(c),r+=o}else break}r===s?(this.buffer=tS,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=s-r,this.bufferOffset=r)}mergeBuffer(e){if(this.bufferLength>0){const n=this.bufferLength+e.byteLength;if(n+this.bufferOffset>this.buffer.byteLength){let r;if(n<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)r=this.buffer;else{let i=this.buffer.byteLength*2;for(;n>=i;)i*=2;r=Buffer.allocUnsafe(i)}this.buffer.copy(r,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=r,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=n}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,n,s,r){switch(n){case 50:return et.bindComplete;case 49:return et.parseComplete;case 51:return et.closeComplete;case 110:return et.noData;case 115:return et.portalSuspended;case 99:return et.copyDone;case 87:return et.replicationStart;case 73:return et.emptyQuery;case 68:return this.parseDataRowMessage(e,s,r);case 67:return this.parseCommandCompleteMessage(e,s,r);case 90:return this.parseReadyForQueryMessage(e,s,r);case 65:return this.parseNotificationMessage(e,s,r);case 82:return this.parseAuthenticationResponse(e,s,r);case 83:return this.parseParameterStatusMessage(e,s,r);case 75:return this.parseBackendKeyData(e,s,r);case 69:return this.parseErrorMessage(e,s,r,"error");case 78:return this.parseErrorMessage(e,s,r,"notice");case 84:return this.parseRowDescriptionMessage(e,s,r);case 116:return this.parseParameterDescriptionMessage(e,s,r);case 71:return this.parseCopyInMessage(e,s,r);case 72:return this.parseCopyOutMessage(e,s,r);case 100:return this.parseCopyData(e,s,r);default:return new et.DatabaseError("received invalid response: "+n.toString(16),s,"error")}}parseReadyForQueryMessage(e,n,s){this.reader.setBuffer(e,s);const r=this.reader.string(1);return new et.ReadyForQueryMessage(n,r)}parseCommandCompleteMessage(e,n,s){this.reader.setBuffer(e,s);const r=this.reader.cstring();return new et.CommandCompleteMessage(n,r)}parseCopyData(e,n,s){const r=s.slice(e,e+(n-4));return new et.CopyDataMessage(n,r)}parseCopyInMessage(e,n,s){return this.parseCopyMessage(e,n,s,"copyInResponse")}parseCopyOutMessage(e,n,s){return this.parseCopyMessage(e,n,s,"copyOutResponse")}parseCopyMessage(e,n,s,r){this.reader.setBuffer(e,s);const i=this.reader.byte()!==0,a=this.reader.int16(),o=new et.CopyResponse(n,r,i,a);for(let c=0;c<a;c++)o.columnTypes[c]=this.reader.int16();return o}parseNotificationMessage(e,n,s){this.reader.setBuffer(e,s);const r=this.reader.int32(),i=this.reader.cstring(),a=this.reader.cstring();return new et.NotificationResponseMessage(n,r,i,a)}parseRowDescriptionMessage(e,n,s){this.reader.setBuffer(e,s);const r=this.reader.int16(),i=new et.RowDescriptionMessage(n,r);for(let a=0;a<r;a++)i.fields[a]=this.parseField();return i}parseField(){const e=this.reader.cstring(),n=this.reader.uint32(),s=this.reader.int16(),r=this.reader.uint32(),i=this.reader.int16(),a=this.reader.int32(),o=this.reader.int16()===0?"text":"binary";return new et.Field(e,n,s,r,i,a,o)}parseParameterDescriptionMessage(e,n,s){this.reader.setBuffer(e,s);const r=this.reader.int16(),i=new et.ParameterDescriptionMessage(n,r);for(let a=0;a<r;a++)i.dataTypeIDs[a]=this.reader.int32();return i}parseDataRowMessage(e,n,s){this.reader.setBuffer(e,s);const r=this.reader.int16(),i=new Array(r);for(let a=0;a<r;a++){const o=this.reader.int32();i[a]=o===-1?null:this.reader.string(o)}return new et.DataRowMessage(n,i)}parseParameterStatusMessage(e,n,s){this.reader.setBuffer(e,s);const r=this.reader.cstring(),i=this.reader.cstring();return new et.ParameterStatusMessage(n,r,i)}parseBackendKeyData(e,n,s){this.reader.setBuffer(e,s);const r=this.reader.int32(),i=this.reader.int32();return new et.BackendKeyDataMessage(n,r,i)}parseAuthenticationResponse(e,n,s){this.reader.setBuffer(e,s);const r=this.reader.int32(),i={name:"authenticationOk",length:n};switch(r){case 0:break;case 3:i.length===8&&(i.name="authenticationCleartextPassword");break;case 5:if(i.length===12){i.name="authenticationMD5Password";const a=this.reader.bytes(4);return new et.AuthenticationMD5Password(n,a)}break;case 10:{i.name="authenticationSASL",i.mechanisms=[];let a;do a=this.reader.cstring(),a&&i.mechanisms.push(a);while(a)}break;case 11:i.name="authenticationSASLContinue",i.data=this.reader.string(n-8);break;case 12:i.name="authenticationSASLFinal",i.data=this.reader.string(n-8);break;default:throw new Error("Unknown authenticationOk message type "+r)}return i}parseErrorMessage(e,n,s,r){this.reader.setBuffer(e,s);const i={};let a=this.reader.string(1);for(;a!=="\0";)i[a]=this.reader.cstring(),a=this.reader.string(1);const o=i.M,c=r==="notice"?new et.NoticeMessage(n,o):new et.DatabaseError(o,n,r);return c.severity=i.S,c.code=i.C,c.detail=i.D,c.hint=i.H,c.position=i.P,c.internalPosition=i.p,c.internalQuery=i.q,c.where=i.W,c.schema=i.s,c.table=i.t,c.column=i.c,c.dataType=i.d,c.constraint=i.n,c.file=i.F,c.line=i.L,c.routine=i.R,c}}uf.Parser=hK;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseError=t.serialize=t.parse=void 0;const e=ye;Object.defineProperty(t,"DatabaseError",{enumerable:!0,get:function(){return e.DatabaseError}});const n=of;Object.defineProperty(t,"serialize",{enumerable:!0,get:function(){return n.serialize}});const s=uf;function r(i,a){const o=new s.Parser;return i.on("data",c=>o.parse(c,a)),new Promise(c=>i.on("end",()=>c()))}t.parse=r})(pb);var yu={},nS;function mK(){return nS||(nS=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.default={}),yu}const{getStream:gK,getSecureStream:yK}=SK();var vK={getStream:gK,getSecureStream:yK};function bK(){function t(n){const s=se;return new s.Socket}function e(n){return se.connect(n)}return{getStream:t,getSecureStream:e}}function xK(){function t(n){const{CloudflareSocket:s}=mK();return new s(n)}function e(n){return n.socket.startTls(n),n.socket}return{getStream:t,getSecureStream:e}}function wK(){if(typeof navigator=="object"&&navigator!==null&&typeof navigator.userAgent=="string")return navigator.userAgent==="Cloudflare-Workers";if(typeof Response=="function"){const t=new Response(null,{cf:{thing:!0}});if(typeof t.cf=="object"&&t.cf!==null&&t.cf.thing)return!0}return!1}function SK(){return wK()?xK():bK()}const _K=se.EventEmitter,{parse:EK,serialize:Rt}=pb,{getStream:kK,getSecureStream:CK}=vK,AK=Rt.flush(),TK=Rt.sync(),NK=Rt.end();let RK=class extends _K{constructor(e){super(),e=e||{},this.stream=e.stream||kK(e.ssl),typeof this.stream=="function"&&(this.stream=this.stream(e)),this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;const n=this;this.on("newListener",function(s){s==="message"&&(n._emitMessage=!0)})}connect(e,n){const s=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,n),this.stream.once("connect",function(){s._keepAlive&&s.stream.setKeepAlive(!0,s._keepAliveInitialDelayMillis),s.emit("connect")});const r=function(i){s._ending&&(i.code==="ECONNRESET"||i.code==="EPIPE")||s.emit("error",i)};if(this.stream.on("error",r),this.stream.on("close",function(){s.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(i){switch(i.toString("utf8")){case"S":break;case"N":return s.stream.end(),s.emit("error",new Error("The server does not support SSL connections"));default:return s.stream.end(),s.emit("error",new Error("There was an error establishing an SSL connection"))}const o={socket:s.stream};s.ssl!==!0&&(Object.assign(o,s.ssl),"key"in s.ssl&&(o.key=s.ssl.key));const c=se;c.isIP&&c.isIP(n)===0&&(o.servername=n);try{s.stream=CK(o)}catch(l){return s.emit("error",l)}s.attachListeners(s.stream),s.stream.on("error",r),s.emit("sslconnect")})}attachListeners(e){EK(e,n=>{const s=n.name==="error"?"errorMessage":n.name;this._emitMessage&&this.emit("message",n),this.emit(s,n)})}requestSsl(){this.stream.write(Rt.requestSsl())}startup(e){this.stream.write(Rt.startup(e))}cancel(e,n){this._send(Rt.cancel(e,n))}password(e){this._send(Rt.password(e))}sendSASLInitialResponseMessage(e,n){this._send(Rt.sendSASLInitialResponseMessage(e,n))}sendSCRAMClientFinalMessage(e){this._send(Rt.sendSCRAMClientFinalMessage(e))}_send(e){return this.stream.writable?this.stream.write(e):!1}query(e){this._send(Rt.query(e))}parse(e){this._send(Rt.parse(e))}bind(e){this._send(Rt.bind(e))}execute(e){this._send(Rt.execute(e))}flush(){this.stream.writable&&this.stream.write(AK)}sync(){this._ending=!0,this._send(TK)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(NK,()=>{this.stream.end()})}close(e){this._send(Rt.close(e))}describe(e){this._send(Rt.describe(e))}sendCopyFromChunk(e){this._send(Rt.copyData(e))}endCopyFrom(){this._send(Rt.copyDone())}sendCopyFail(e){this._send(Rt.copyFail(e))}};var Z2=RK,vu={exports:{}},Rh={exports:{}},Oh,sS;function OK(){if(sS)return Oh;sS=1;const{Transform:t}=se,{StringDecoder:e}=nb,n=Symbol("last"),s=Symbol("decoder");function r(l,u,d){let p;if(this.overflow){if(p=this[s].write(l).split(this.matcher),p.length===1)return d();p.shift(),this.overflow=!1}else this[n]+=this[s].write(l),p=this[n].split(this.matcher);this[n]=p.pop();for(let y=0;y<p.length;y++)try{a(this,this.mapper(p[y]))}catch(m){return d(m)}if(this.overflow=this[n].length>this.maxLength,this.overflow&&!this.skipOverflow){d(new Error("maximum buffer reached"));return}d()}function i(l){if(this[n]+=this[s].end(),this[n])try{a(this,this.mapper(this[n]))}catch(u){return l(u)}l()}function a(l,u){u!==void 0&&l.push(u)}function o(l){return l}function c(l,u,d){switch(l=l||/\r?\n/,u=u||o,d=d||{},arguments.length){case 1:typeof l=="function"?(u=l,l=/\r?\n/):typeof l=="object"&&!(l instanceof RegExp)&&!l[Symbol.split]&&(d=l,l=/\r?\n/);break;case 2:typeof l=="function"?(d=u,u=l,l=/\r?\n/):typeof u=="object"&&(d=u,u=o)}d=Object.assign({},d),d.autoDestroy=!0,d.transform=r,d.flush=i,d.readableObjectMode=!0;const p=new t(d);return p[n]="",p[s]=new e("utf8"),p.matcher=l,p.mapper=u,p.maxLength=d.maxLength,p.skipOverflow=d.skipOverflow||!1,p.overflow=!1,p._destroy=function(y,m){this._writableState.errorEmitted=!1,m(y)},p}return Oh=c,Oh}var rS;function PK(){return rS||(rS=1,function(t){var e={},n=se,s=se.Stream,r=OK(),i=se,a=5432,o=process.platform==="win32",c=process.stderr,l=56,u=7,d=61440,p=32768;function y(k){return(k&d)==p}var m=["host","port","database","user","password"],f=m.length,v=m[f-1];function h(){var k=c instanceof s&&c.writable===!0;if(k){var _=Array.prototype.slice.call(arguments).concat(`
`);c.write(i.format.apply(i,_))}}Object.defineProperty(t.exports,"isWin",{get:function(){return o},set:function(k){o=k}}),t.exports.warnTo=function(k){var _=c;return c=k,_},t.exports.getFileName=function(k){var _=k||e,w=_.PGPASSFILE||(o?n.join(_.APPDATA||"./","postgresql","pgpass.conf"):n.join(_.HOME||"./",".pgpass"));return w},t.exports.usePgPass=function(k,_){return Object.prototype.hasOwnProperty.call(e,"PGPASSWORD")?!1:o?!0:(_=_||"<unkn>",y(k.mode)?k.mode&(l|u)?(h('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',_),!1):!0:(h('WARNING: password file "%s" is not a plain file',_),!1))};var b=t.exports.match=function(k,_){return m.slice(0,-1).reduce(function(w,E,T){return T==1&&Number(k[E]||a)===Number(_[E])?w&&!0:w&&(_[E]==="*"||_[E]===k[E])},!0)};t.exports.getPassword=function(k,_,w){var E,T=_.pipe(r());function I(F){var A=g(F);A&&x(A)&&b(k,A)&&(E=A[v],T.end())}var L=function(){_.destroy(),w(E)},q=function(F){_.destroy(),h("WARNING: error on reading file: %s",F),w(void 0)};_.on("error",q),T.on("data",I).on("end",L).on("error",q)};var g=t.exports.parseLine=function(k){if(k.length<11||k.match(/^\s+#/))return null;for(var _="",w="",E=0,T=0,I={},L=!1,q=function(A,N,B){var O=k.substring(N,B);Object.hasOwnProperty.call(e,"PGPASS_NO_DEESCAPE")||(O=O.replace(/\\([:\\])/g,"$1")),I[m[A]]=O},F=0;F<k.length-1;F+=1){if(_=k.charAt(F+1),w=k.charAt(F),L=E==f-1,L){q(E,T);break}F>=0&&_==":"&&w!=="\\"&&(q(E,T,F+1),T=F+2,E+=1)}return I=Object.keys(I).length===f?I:null,I},x=t.exports.isValidEntry=function(k){for(var _={0:function(L){return L.length>0},1:function(L){return L==="*"?!0:(L=Number(L),isFinite(L)&&L>0&&L<9007199254740992&&Math.floor(L)===L)},2:function(L){return L.length>0},3:function(L){return L.length>0},4:function(L){return L.length>0}},w=0;w<m.length;w+=1){var E=_[w],T=k[m[w]]||"",I=E(T);if(!I)return!1}return!0}}(Rh)),Rh.exports}var iS;function IK(){if(iS)return vu.exports;iS=1;var t=se,e=PK();return vu.exports=function(n,s){var r=e.getFileName();t.stat(r,function(i,a){if(i||!e.usePgPass(a,r))return s(void 0);var o=t.createReadStream(r);e.getPassword(n,o,s)})},vu.exports.warnTo=e.warnTo,vu.exports}const jK=se.EventEmitter,aS=cl,Ph=fW,MK=db,DK=Y2,eI=kW,FK=rf,LK=Z2,BK=V2;let tI=class extends jK{constructor(e){super(),this.connectionParameters=new DK(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;const n=e||{};this._Promise=n.Promise||rt.Promise,this._types=new MK(n.types),this._ending=!1,this._ended=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.enableChannelBinding=!!n.enableChannelBinding,this.connection=n.connection||new LK({stream:n.stream,ssl:this.connectionParameters.ssl,keepAlive:n.keepAlive||!1,keepAliveInitialDelayMillis:n.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=n.binary||FK.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=n.connectionTimeoutMillis||0}_errorAllQueries(e){const n=s=>{process.nextTick(()=>{s.handleError(e,this.connection)})};this.activeQuery&&(n(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(n),this.queryQueue.length=0}_connect(e){const n=this,s=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){const r=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{e(r)});return}this._connecting=!0,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{s._ending=!0,s.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis),this.connectionTimeoutHandle.unref&&this.connectionTimeoutHandle.unref()),this.host&&this.host.indexOf("/")===0?s.connect(this.host+"/.s.PGSQL."+this.port):s.connect(this.port,this.host),s.on("connect",function(){n.ssl?s.requestSsl():s.startup(n.getStartupConf())}),s.on("sslconnect",function(){s.startup(n.getStartupConf())}),this._attachListeners(s),s.once("end",()=>{const r=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(r),this._ended=!0,this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(r):this._handleErrorEvent(r):this._connectionError||this._handleErrorEvent(r)),process.nextTick(()=>{this.emit("end")})})}connect(e){if(e){this._connect(e);return}return new this._Promise((n,s)=>{this._connect(r=>{r?s(r):n()})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_checkPgPass(e){const n=this.connection;if(typeof this.password=="function")this._Promise.resolve().then(()=>this.password()).then(s=>{if(s!==void 0){if(typeof s!="string"){n.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=s}else this.connectionParameters.password=this.password=null;e()}).catch(s=>{n.emit("error",s)});else if(this.password!==null)e();else try{IK()(this.connectionParameters,r=>{r!==void 0&&(this.connectionParameters.password=this.password=r),e()})}catch(s){this.emit("error",s)}}_handleAuthCleartextPassword(e){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._checkPgPass(async()=>{try{const n=await BK.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(n)}catch(n){this.emit("error",n)}})}_handleAuthSASL(e){this._checkPgPass(()=>{try{this.saslSession=Ph.startSession(e.mechanisms,this.enableChannelBinding&&this.connection.stream),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)}catch(n){this.connection.emit("error",n)}})}async _handleAuthSASLContinue(e){try{await Ph.continueSession(this.saslSession,this.password,e.data,this.enableChannelBinding&&this.connection.stream),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}catch(n){this.connection.emit("error",n)}}_handleAuthSASLFinal(e){try{Ph.finalizeSession(this.saslSession,e.data),this.saslSession=null}catch(n){this.connection.emit("error",n)}}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));const{activeQuery:n}=this;this.activeQuery=null,this.readyForQuery=!0,n&&n.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);const n=this.activeQuery;if(!n){this._handleErrorEvent(e);return}this.activeQuery=null,n.handleError(e,this.connection)}_handleRowDescription(e){this.activeQuery.handleRowDescription(e)}_handleDataRow(e){this.activeQuery.handleDataRow(e)}_handlePortalSuspended(e){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(e){if(this.activeQuery==null){const n=new Error("Received unexpected commandComplete message from backend.");this._handleErrorEvent(n);return}this.activeQuery.handleCommandComplete(e,this.connection)}_handleParseComplete(){if(this.activeQuery==null){const e=new Error("Received unexpected parseComplete message from backend.");this._handleErrorEvent(e);return}this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(e){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(e){this.activeQuery.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){const e=this.connectionParameters,n={user:e.user,database:e.database},s=e.application_name||e.fallback_application_name;return s&&(n.application_name=s),e.replication&&(n.replication=""+e.replication),e.statement_timeout&&(n.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(n.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(n.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(n.options=e.options),n}cancel(e,n){if(e.activeQuery===n){const s=this.connection;this.host&&this.host.indexOf("/")===0?s.connect(this.host+"/.s.PGSQL."+this.port):s.connect(this.port,this.host),s.on("connect",function(){s.cancel(e.processID,e.secretKey)})}else e.queryQueue.indexOf(n)!==-1&&e.queryQueue.splice(e.queryQueue.indexOf(n),1)}setTypeParser(e,n,s){return this._types.setTypeParser(e,n,s)}getTypeParser(e,n){return this._types.getTypeParser(e,n)}escapeIdentifier(e){return aS.escapeIdentifier(e)}escapeLiteral(e){return aS.escapeLiteral(e)}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;const e=this.activeQuery.submit(this.connection);e&&process.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(e,n,s){let r,i,a,o,c;if(e==null)throw new TypeError("Client was passed a null or undefined query");return typeof e.submit=="function"?(a=e.query_timeout||this.connectionParameters.query_timeout,i=r=e,typeof n=="function"&&(r.callback=r.callback||n)):(a=e.query_timeout||this.connectionParameters.query_timeout,r=new eI(e,n,s),r.callback||(i=new this._Promise((l,u)=>{r.callback=(d,p)=>d?u(d):l(p)}).catch(l=>{throw Error.captureStackTrace(l),l}))),a&&(c=r.callback,o=setTimeout(()=>{const l=new Error("Query read timeout");process.nextTick(()=>{r.handleError(l,this.connection)}),c(l),r.callback=()=>{};const u=this.queryQueue.indexOf(r);u>-1&&this.queryQueue.splice(u,1),this._pulseQueryQueue()},a),r.callback=(l,u)=>{clearTimeout(o),c(l,u)}),this.binary&&!r.binary&&(r.binary=!0),r._result&&!r._result._types&&(r._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{r.handleError(new Error("Client was closed and is not queryable"),this.connection)}),i):(this.queryQueue.push(r),this._pulseQueryQueue(),i):(process.nextTick(()=>{r.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),i)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting||this._ended)if(e)e();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),e)this.connection.once("end",e);else return new this._Promise(n=>{this.connection.once("end",n)})}};tI.Query=eI;var $K=tI;const zK=cp(XI),UK=se.EventEmitter,oS=function(){},cS=(t,e)=>{const n=t.findIndex(e);return n===-1?void 0:t.splice(n,1)[0]};class qK{constructor(e,n,s){this.client=e,this.idleListener=n,this.timeoutId=s}}class bu{constructor(e){this.callback=e}}function QK(){throw new Error("Release called on client which has already been released to the pool.")}function xu(t,e){if(e)return{callback:e,result:void 0};let n,s;const r=function(a,o){a?n(a):s(o)},i=new t(function(a,o){s=a,n=o}).catch(a=>{throw Error.captureStackTrace(a),a});return{callback:r,result:i}}function VK(t,e){return function n(s){s.client=e,e.removeListener("error",n),e.on("error",()=>{t.log("additional client error after disconnection due to error",s)}),t._remove(e),t.emit("error",s,e)}}let HK=class extends UK{constructor(e,n){super(),this.options=Object.assign({},e),e!=null&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),e!=null&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||n||zK.Client,this.Promise=this.options.Promise||rt.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(n=>{this._remove(n.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;const e=this._pendingQueue.shift();if(this._idle.length){const n=this._idle.pop();clearTimeout(n.timeoutId);const s=n.client;s.ref&&s.ref();const r=n.idleListener;return this._acquireClient(s,e,r,!1)}if(!this._isFull())return this.newClient(e);throw new Error("unexpected condition")}_remove(e,n){const s=cS(this._idle,i=>i.client===e);s!==void 0&&clearTimeout(s.timeoutId),this._clients=this._clients.filter(i=>i!==e);const r=this;e.end(()=>{r.emit("remove",e),typeof n=="function"&&n()})}connect(e){if(this.ending){const r=new Error("Cannot use a pool after calling end on the pool");return e?e(r):this.Promise.reject(r)}const n=xu(this.Promise,e),s=n.result;if(this._isFull()||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new bu(n.callback)),s;const r=(o,c,l)=>{clearTimeout(a),n.callback(o,c,l)},i=new bu(r),a=setTimeout(()=>{cS(this._pendingQueue,o=>o.callback===r),i.timedOut=!0,n.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return a.unref&&a.unref(),this._pendingQueue.push(i),s}return this.newClient(new bu(n.callback)),s}newClient(e){const n=new this.Client(this.options);this._clients.push(n);const s=VK(this,n);this.log("checking client timeout");let r,i=!1;this.options.connectionTimeoutMillis&&(r=setTimeout(()=>{this.log("ending client due to timeout"),i=!0,n.connection?n.connection.stream.destroy():n.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),n.connect(a=>{if(r&&clearTimeout(r),n.on("error",s),a)this.log("client failed to connect",a),this._clients=this._clients.filter(o=>o!==n),i&&(a=new Error("Connection terminated due to connection timeout",{cause:a})),this._pulseQueue(),e.timedOut||e.callback(a,void 0,oS);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){const o=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(n),this._idle.findIndex(l=>l.client===n)!==-1&&this._acquireClient(n,new bu((l,u,d)=>d()),s,!1)},this.options.maxLifetimeSeconds*1e3);o.unref(),n.once("end",()=>clearTimeout(o))}return this._acquireClient(n,e,s,!0)}})}_acquireClient(e,n,s,r){r&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,s),e.removeListener("error",s),n.timedOut?r&&this.options.verify?this.options.verify(e,e.release):e.release():r&&this.options.verify?this.options.verify(e,i=>{if(i)return e.release(i),n.callback(i,void 0,oS);n.callback(void 0,e,e.release)}):n.callback(void 0,e,e.release)}_releaseOnce(e,n){let s=!1;return r=>{s&&QK(),s=!0,this._release(e,n,r)}}_release(e,n,s){if(e.on("error",n),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",s,e),s||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses)return e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e,this._pulseQueue.bind(this));if(this._expired.has(e))return this.log("remove expired client"),this._expired.delete(e),this._remove(e,this._pulseQueue.bind(this));let i;this.options.idleTimeoutMillis&&this._isAboveMin()&&(i=setTimeout(()=>{this.log("remove idle client"),this._remove(e,this._pulseQueue.bind(this))},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&i.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new qK(e,n,i)),this._pulseQueue()}query(e,n,s){if(typeof e=="function"){const i=xu(this.Promise,e);return setImmediate(function(){return i.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),i.result}typeof n=="function"&&(s=n,n=void 0);const r=xu(this.Promise,s);return s=r.callback,this.connect((i,a)=>{if(i)return s(i);let o=!1;const c=l=>{o||(o=!0,a.release(l),s(l))};a.once("error",c),this.log("dispatching query");try{a.query(e,n,(l,u)=>{if(this.log("query dispatched"),a.removeListener("error",c),!o)return o=!0,a.release(l),l?s(l):s(void 0,u)})}catch(l){return a.release(l),s(l)}}),r.result}end(e){if(this.log("ending"),this.ending){const s=new Error("Called end on pool more than once");return e?e(s):this.Promise.reject(s)}this.ending=!0;const n=xu(this.Promise,e);return this._endCallback=n.callback,this._pulseQueue(),n.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,n)=>e+(this._expired.has(n)?1:0),0)}get totalCount(){return this._clients.length}};var GK=HK,Ih={exports:{}};const WK={},KK=Object.freeze(Object.defineProperty({__proto__:null,default:WK},Symbol.toStringTag,{value:"Module"})),YK=cp(KK);var jh={exports:{}},lS;function JK(){if(lS)return jh.exports;lS=1;const t=se.EventEmitter,e=se,n=cl,s=jh.exports=function(i,a,o){t.call(this),i=n.normalizeQueryConfig(i,a,o),this.text=i.text,this.values=i.values,this.name=i.name,this.queryMode=i.queryMode,this.callback=i.callback,this.state="new",this._arrayMode=i.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",(function(c){c==="row"&&(this._emitRowEvents=!0)}).bind(this))};e.inherits(s,t);const r={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};return s.prototype.handleError=function(i){const a=this.native.pq.resultErrorFields();if(a)for(const o in a){const c=r[o]||o;i[c]=a[o]}this.callback?this.callback(i):this.emit("error",i),this.state="error"},s.prototype.then=function(i,a){return this._getPromise().then(i,a)},s.prototype.catch=function(i){return this._getPromise().catch(i)},s.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise((function(i,a){this._once("end",i),this._once("error",a)}).bind(this)),this._promise)},s.prototype.submit=function(i){this.state="running";const a=this;this.native=i.native,i.native.arrayMode=this._arrayMode;let o=function(c,l,u){if(i.native.arrayMode=!1,setImmediate(function(){a.emit("_done")}),c)return a.handleError(c);a._emitRowEvents&&(u.length>1?l.forEach((d,p)=>{d.forEach(y=>{a.emit("row",y,u[p])})}):l.forEach(function(d){a.emit("row",d,u)})),a.state="end",a.emit("end",u),a.callback&&a.callback(null,u)};if(process.domain&&(o=process.domain.bind(o)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));const c=(this.values||[]).map(n.prepareValue);if(i.namedQueries[this.name]){if(this.text&&i.namedQueries[this.name]!==this.text){const l=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return o(l)}return i.native.execute(this.name,c,o)}return i.native.prepare(this.name,this.text,c.length,function(l){return l?o(l):(i.namedQueries[a.name]=a.text,a.native.execute(a.name,c,o))})}else if(this.values){if(!Array.isArray(this.values)){const l=new Error("Query values must be an array");return o(l)}const c=this.values.map(n.prepareValue);i.native.query(this.text,c,o)}else this.queryMode==="extended"?i.native.query(this.text,[],o):i.native.query(this.text,o)},jh.exports}var uS;function XK(){if(uS)return Ih.exports;uS=1;var t;try{t=YK}catch(o){throw o}const e=db,n=se.EventEmitter,s=se,r=Y2,i=JK(),a=Ih.exports=function(o){n.call(this),o=o||{},this._Promise=o.Promise||rt.Promise,this._types=new e(o.types),this.native=new t({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;const c=this.connectionParameters=new r(o);o.nativeConnectionString&&(c.nativeConnectionString=o.nativeConnectionString),this.user=c.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:c.password}),this.database=c.database,this.host=c.host,this.port=c.port,this.namedQueries={}};return a.Query=i,s.inherits(a,n),a.prototype._errorAllQueries=function(o){const c=l=>{process.nextTick(()=>{l.native=this.native,l.handleError(o)})};this._hasActiveQuery()&&(c(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(c),this._queryQueue.length=0},a.prototype._connect=function(o){const c=this;if(this._connecting){process.nextTick(()=>o(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(l,u){if(c.connectionParameters.nativeConnectionString&&(u=c.connectionParameters.nativeConnectionString),l)return o(l);c.native.connect(u,function(d){if(d)return c.native.end(),o(d);c._connected=!0,c.native.on("error",function(p){c._queryable=!1,c._errorAllQueries(p),c.emit("error",p)}),c.native.on("notification",function(p){c.emit("notification",{channel:p.relname,payload:p.extra})}),c.emit("connect"),c._pulseQueryQueue(!0),o()})})},a.prototype.connect=function(o){if(o){this._connect(o);return}return new this._Promise((c,l)=>{this._connect(u=>{u?l(u):c()})})},a.prototype.query=function(o,c,l){let u,d,p,y,m;if(o==null)throw new TypeError("Client was passed a null or undefined query");if(typeof o.submit=="function")p=o.query_timeout||this.connectionParameters.query_timeout,d=u=o,typeof c=="function"&&(o.callback=c);else if(p=o.query_timeout||this.connectionParameters.query_timeout,u=new i(o,c,l),!u.callback){let f,v;d=new this._Promise((h,b)=>{f=h,v=b}).catch(h=>{throw Error.captureStackTrace(h),h}),u.callback=(h,b)=>h?v(h):f(b)}return p&&(m=u.callback,y=setTimeout(()=>{const f=new Error("Query read timeout");process.nextTick(()=>{u.handleError(f,this.connection)}),m(f),u.callback=()=>{};const v=this._queryQueue.indexOf(u);v>-1&&this._queryQueue.splice(v,1),this._pulseQueryQueue()},p),u.callback=(f,v)=>{clearTimeout(y),m(f,v)}),this._queryable?this._ending?(u.native=this.native,process.nextTick(()=>{u.handleError(new Error("Client was closed and is not queryable"))}),d):(this._queryQueue.push(u),this._pulseQueryQueue(),d):(u.native=this.native,process.nextTick(()=>{u.handleError(new Error("Client has encountered a connection error and is not queryable"))}),d)},a.prototype.end=function(o){const c=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,o));let l;return o||(l=new this._Promise(function(u,d){o=p=>p?d(p):u()})),this.native.end(function(){c._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{c.emit("end"),o&&o()})}),l},a.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},a.prototype._pulseQueryQueue=function(o){if(!this._connected||this._hasActiveQuery())return;const c=this._queryQueue.shift();if(!c){o||this.emit("drain");return}this._activeQuery=c,c.submit(this);const l=this;c.once("_done",function(){l._pulseQueryQueue()})},a.prototype.cancel=function(o){this._activeQuery===o?this.native.cancel(function(){}):this._queryQueue.indexOf(o)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(o),1)},a.prototype.ref=function(){},a.prototype.unref=function(){},a.prototype.setTypeParser=function(o,c,l){return this._types.setTypeParser(o,c,l)},a.prototype.getTypeParser=function(o,c){return this._types.getTypeParser(o,c)},Ih.exports}var Mh,dS;function pS(){return dS||(dS=1,Mh=XK()),Mh}(function(t){var e={};const n=$K,s=rf,r=Z2,i=J2,a=cl,o=GK,c=db,{DatabaseError:l}=pb,{escapeIdentifier:u,escapeLiteral:d}=cl,p=m=>class extends o{constructor(v){super(v,m)}},y=function(m){this.defaults=s,this.Client=m,this.Query=this.Client.Query,this.Pool=p(this.Client),this._pools=[],this.Connection=r,this.types=mi,this.DatabaseError=l,this.TypeOverrides=c,this.escapeIdentifier=u,this.escapeLiteral=d,this.Result=i,this.utils=a};typeof e.NODE_PG_FORCE_NATIVE<"u"?t.exports=new y(pS()):(t.exports=new y(n),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){let m=null;try{m=new y(pS())}catch(f){if(f.code!=="MODULE_NOT_FOUND")throw f}return Object.defineProperty(t.exports,"native",{value:m}),m}}))})(M2);var ZK=M2.exports;const Ht=Wg(ZK),eY=Ht.Client,nI=Ht.Pool,tY=Ht.Connection,nY=Ht.types,sY=Ht.Query,rY=Ht.DatabaseError,iY=Ht.escapeIdentifier,aY=Ht.escapeLiteral,oY=Ht.Result,cY=Ht.TypeOverrides,lY=Ht.defaults,{Pool:fS,types:ys}=Ht;var qC,QC;class sI extends(QC=nP,qC=U,QC){constructor(n,s,r,i,a,o,c,l){super({sql:s,params:r});C(this,"rawQueryConfig");C(this,"queryConfig");this.client=n,this.params=r,this.logger=i,this.fields=a,this._isResponseInArrayMode=c,this.customResultMapper=l,this.rawQueryConfig={name:o,text:s,types:{getTypeParser:(u,d)=>u===ys.builtins.TIMESTAMPTZ?p=>p:u===ys.builtins.TIMESTAMP?p=>p:u===ys.builtins.DATE?p=>p:u===ys.builtins.INTERVAL?p=>p:ys.getTypeParser(u,d)}},this.queryConfig={name:o,text:s,rowMode:"array",types:{getTypeParser:(u,d)=>u===ys.builtins.TIMESTAMPTZ?p=>p:u===ys.builtins.TIMESTAMP?p=>p:u===ys.builtins.DATE?p=>p:u===ys.builtins.INTERVAL?p=>p:ys.getTypeParser(u,d)}}}async execute(n={}){return Tt.startActiveSpan("drizzle.execute",async()=>{const s=Nx(this.params,n);this.logger.logQuery(this.rawQueryConfig.text,s);const{fields:r,rawQueryConfig:i,client:a,queryConfig:o,joinsNotNullableMap:c,customResultMapper:l}=this;if(!r&&!l)return Tt.startActiveSpan("drizzle.driver.execute",async d=>(d==null||d.setAttributes({"drizzle.query.name":i.name,"drizzle.query.text":i.text,"drizzle.query.params":JSON.stringify(s)}),a.query(i,s)));const u=await Tt.startActiveSpan("drizzle.driver.execute",d=>(d==null||d.setAttributes({"drizzle.query.name":o.name,"drizzle.query.text":o.text,"drizzle.query.params":JSON.stringify(s)}),a.query(o,s)));return Tt.startActiveSpan("drizzle.mapResponse",()=>l?l(u.rows):u.rows.map(d=>zL(r,d,c)))})}all(n={}){return Tt.startActiveSpan("drizzle.execute",()=>{const s=Nx(this.params,n);return this.logger.logQuery(this.rawQueryConfig.text,s),Tt.startActiveSpan("drizzle.driver.execute",r=>(r==null||r.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(s)}),this.client.query(this.rawQueryConfig,s).then(i=>i.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}}C(sI,qC,"NodePgPreparedQuery");var VC,HC;const ap=class ap extends(HC=sP,VC=U,HC){constructor(n,s,r,i={}){super(s);C(this,"logger");this.client=n,this.schema=r,this.options=i,this.logger=i.logger??new mP}prepareQuery(n,s,r,i,a){return new sI(this.client,n.sql,n.params,this.logger,s,r,i,a)}async transaction(n,s){const r=this.client instanceof fS?new ap(await this.client.connect(),this.dialect,this.schema,this.options):this,i=new zg(this.dialect,r,this.schema);await i.execute(M`begin${s?M` ${i.getTransactionConfigSQL(s)}`:void 0}`);try{const a=await n(i);return await i.execute(M`commit`),a}catch(a){throw await i.execute(M`rollback`),a}finally{this.client instanceof fS&&r.client.release()}}async count(n){const s=await this.execute(n);return Number(s.rows[0].count)}};C(ap,VC,"NodePgSession");let $g=ap;var GC,WC;const op=class op extends(WC=rP,GC=U,WC){async transaction(e){const n=`sp${this.nestedIndex+1}`,s=new op(this.dialect,this.session,this.schema,this.nestedIndex+1);await s.execute(M.raw(`savepoint ${n}`));try{const r=await e(s);return await s.execute(M.raw(`release savepoint ${n}`)),r}catch(r){throw await s.execute(M.raw(`rollback to savepoint ${n}`)),r}}};C(op,GC,"NodePgTransaction");let zg=op;var KC;KC=U;class rI{constructor(e,n,s={}){this.client=e,this.dialect=n,this.options=s}createSession(e){return new $g(this.client,this.dialect,e,{logger:this.options.logger})}}C(rI,KC,"NodePgDriver");var YC,JC;class iI extends(JC=xv,YC=U,JC){}C(iI,YC,"NodePgDatabase");function dc(t,e={}){const n=new kc({casing:e.casing});let s;e.logger===!0?s=new hP:e.logger!==!1&&(s=e.logger);let r;if(e.schema){const c=QB(e.schema,WB);r={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}const a=new rI(t,n,{logger:s}).createSession(r),o=new iI(n,a,r);return o.$client=t,o}function Ug(...t){if(typeof t[0]=="string"){const e=new Ht.Pool({connectionString:t[0]});return dc(e,t[1])}if(QL(t[0])){const{connection:e,client:n,...s}=t[0];if(n)return dc(n,s);const r=typeof e=="string"?new Ht.Pool({connectionString:e}):new Ht.Pool(e);return dc(r,s)}return dc(t[0],t[1])}(t=>{function e(n){return dc({},n)}t.mock=e})(Ug||(Ug={}));var uY={};const dY=pi("role",["CONSUMER","MERCHANT","DRIVER","ADMIN"]),pY=pi("verification_status",["PENDING","APPROVED","REJECTED"]),fY=pi("order_status",["PENDING","CONFIRMED","IN_PROGRESS","DELIVERED","CANCELLED"]),hY=pi("payment_status",["PENDING","COMPLETED","FAILED","REFUNDED"]),sr=Se("users",{id:xe("id").primaryKey(),email:$("email").unique().notNull(),password:$("password"),fullName:$("full_name").notNull(),phone:$("phone"),role:dY("role").default("CONSUMER"),isVerified:Fe("is_verified").default(!1),isActive:Fe("is_active").default(!0),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),mY=Se("identity_verifications",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>sr.id).notNull(),documentType:$("document_type").notNull(),documentNumber:$("document_number").notNull(),documentImageUrl:$("document_image_url"),verificationStatus:pY("verification_status").default("PENDING"),submittedAt:W("submitted_at").defaultNow(),reviewedAt:W("reviewed_at"),reviewedBy:J("reviewed_by").references(()=>sr.id),rejectionReason:$("rejection_reason")}),aI=Se("orders",{id:xe("id").primaryKey(),orderNumber:$("order_number").unique().notNull(),customerId:J("customer_id").references(()=>sr.id).notNull(),merchantId:J("merchant_id").references(()=>sr.id),driverId:J("driver_id").references(()=>sr.id),orderType:$("order_type").notNull(),status:fY("status").default("PENDING"),totalAmount:Ae("total_amount",{precision:10,scale:2}).notNull(),deliveryAddress:$("delivery_address"),orderData:Qe("order_data"),createdAt:W("created_at").defaultNow(),updatedAt:W("updated_at").defaultNow()}),gY=Se("transactions",{id:xe("id").primaryKey(),orderId:J("order_id").references(()=>aI.id),userId:J("user_id").references(()=>sr.id).notNull(),amount:Ae("amount",{precision:10,scale:2}).notNull(),currency:$("currency").default("NGN"),paymentMethod:$("payment_method").notNull(),paymentStatus:hY("payment_status").default("PENDING"),transactionRef:$("transaction_ref").unique(),paymentGatewayRef:$("payment_gateway_ref"),metadata:Qe("metadata"),createdAt:W("created_at").defaultNow()}),yY=Se("notifications",{id:xe("id").primaryKey(),userId:J("user_id").references(()=>sr.id).notNull(),title:$("title").notNull(),message:$("message").notNull(),type:$("type").notNull(),isRead:Fe("is_read").default(!1),metadata:Qe("metadata"),createdAt:W("created_at").defaultNow()}),vY=Se("error_logs",{id:xe("id").primaryKey(),message:$("message").notNull(),stack:$("stack"),url:$("url"),userAgent:$("user_agent"),userId:J("user_id").references(()=>sr.id),severity:$("severity").default("MEDIUM"),source:$("source").default("backend"),timestamp:W("timestamp").defaultNow(),metadata:Qe("metadata")}),bY=new nI({connectionString:uY.DATABASE_URL});Ug(bY,{schema:{users:sr,identityVerifications:mY,orders:aI,transactions:gY,notifications:yY,errorLogs:vY}});var Jd=Fo.Buffer,xY=se,wY=se;function pf(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=Jd.alloc(0),this;if(typeof t.pipe=="function")return this.buffer=Jd.alloc(0),t.pipe(this),this;if(t.length||typeof t=="object")return this.buffer=t,this.writable=!1,process.nextTick((function(){this.emit("end",t),this.readable=!1,this.emit("close")}).bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}wY.inherits(pf,xY);pf.prototype.write=function(e){this.buffer=Jd.concat([this.buffer,Jd.from(e)]),this.emit("data",e)};pf.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1};var oI=pf;function Dh(t){var e=(t/8|0)+(t%8===0?0:1);return e}var SY={ES256:Dh(256),ES384:Dh(384),ES512:Dh(521)};function _Y(t){var e=SY[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}var EY=_Y,Xd=Fo.Buffer,cI=EY,Zd=128,lI=0,kY=32,CY=16,AY=2,uI=CY|kY|lI<<6,ep=AY|lI<<6;function TY(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dI(t){if(Xd.isBuffer(t))return t;if(typeof t=="string")return Xd.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function NY(t,e){t=dI(t);var n=cI(e),s=n+1,r=t.length,i=0;if(t[i++]!==uI)throw new Error('Could not find expected "seq"');var a=t[i++];if(a===(Zd|1)&&(a=t[i++]),r-i<a)throw new Error('"seq" specified length of "'+a+'", only "'+(r-i)+'" remaining');if(t[i++]!==ep)throw new Error('Could not find expected "int" for "r"');var o=t[i++];if(r-i-2<o)throw new Error('"r" specified length of "'+o+'", only "'+(r-i-2)+'" available');if(s<o)throw new Error('"r" specified length of "'+o+'", max of "'+s+'" is acceptable');var c=i;if(i+=o,t[i++]!==ep)throw new Error('Could not find expected "int" for "s"');var l=t[i++];if(r-i!==l)throw new Error('"s" specified length of "'+l+'", expected "'+(r-i)+'"');if(s<l)throw new Error('"s" specified length of "'+l+'", max of "'+s+'" is acceptable');var u=i;if(i+=l,i!==r)throw new Error('Expected to consume entire buffer, but "'+(r-i)+'" bytes remain');var d=n-o,p=n-l,y=Xd.allocUnsafe(d+o+p+l);for(i=0;i<d;++i)y[i]=0;t.copy(y,i,c+Math.max(-d,0),c+o),i=n;for(var m=i;i<m+p;++i)y[i]=0;return t.copy(y,i,u+Math.max(-p,0),u+l),y=y.toString("base64"),y=TY(y),y}function hS(t,e,n){for(var s=0;e+s<n&&t[e+s]===0;)++s;var r=t[e+s]>=Zd;return r&&--s,s}function RY(t,e){t=dI(t);var n=cI(e),s=t.length;if(s!==n*2)throw new TypeError('"'+e+'" signatures must be "'+n*2+'" bytes, saw "'+s+'"');var r=hS(t,0,n),i=hS(t,n,t.length),a=n-r,o=n-i,c=2+a+1+1+o,l=c<Zd,u=Xd.allocUnsafe((l?2:3)+c),d=0;return u[d++]=uI,l?u[d++]=c:(u[d++]=Zd|1,u[d++]=c&255),u[d++]=ep,u[d++]=a,r<0?(u[d++]=0,d+=t.copy(u,d,0,n)):d+=t.copy(u,d,r,n),u[d++]=ep,u[d++]=o,i<0?(u[d++]=0,t.copy(u,d,n)):t.copy(u,d,n+i),u}var OY={derToJose:NY,joseToDer:RY},Fh,mS;function PY(){if(mS)return Fh;mS=1;var t=se.Buffer,e=se.SlowBuffer;Fh=n;function n(i,a){if(!t.isBuffer(i)||!t.isBuffer(a)||i.length!==a.length)return!1;for(var o=0,c=0;c<i.length;c++)o|=i[c]^a[c];return o===0}n.install=function(){t.prototype.equal=e.prototype.equal=function(a){return n(this,a)}};var s=t.prototype.equal,r=e.prototype.equal;return n.restore=function(){t.prototype.equal=s,e.prototype.equal=r},Fh}var So=Fo.Buffer,Hn=se,pI=OY,gS=se,IY=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,pc="secret must be a string or buffer",xa="key must be a string or a buffer",jY="key must be a string, a buffer or an object",mb=typeof Hn.createPublicKey=="function";mb&&(xa+=" or a KeyObject",pc+="or a KeyObject");function fI(t){if(!So.isBuffer(t)&&typeof t!="string"&&(!mb||typeof t!="object"||typeof t.type!="string"||typeof t.asymmetricKeyType!="string"||typeof t.export!="function"))throw as(xa)}function hI(t){if(!So.isBuffer(t)&&typeof t!="string"&&typeof t!="object")throw as(jY)}function MY(t){if(!So.isBuffer(t)){if(typeof t=="string")return t;if(!mb||typeof t!="object"||t.type!=="secret"||typeof t.export!="function")throw as(pc)}}function gb(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mI(t){t=t.toString();var e=4-t.length%4;if(e!==4)for(var n=0;n<e;++n)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}function as(t){var e=[].slice.call(arguments,1),n=gS.format.bind(gS,t).apply(null,e);return new TypeError(n)}function DY(t){return So.isBuffer(t)||typeof t=="string"}function Bl(t){return DY(t)||(t=JSON.stringify(t)),t}function gI(t){return function(n,s){MY(s),n=Bl(n);var r=Hn.createHmac("sha"+t,s),i=(r.update(n),r.digest("base64"));return gb(i)}}var Lh,FY="timingSafeEqual"in Hn?function(e,n){return e.byteLength!==n.byteLength?!1:Hn.timingSafeEqual(e,n)}:function(e,n){return Lh||(Lh=PY()),Lh(e,n)};function LY(t){return function(n,s,r){var i=gI(t)(n,r);return FY(So.from(s),So.from(i))}}function yI(t){return function(n,s){hI(s),n=Bl(n);var r=Hn.createSign("RSA-SHA"+t),i=(r.update(n),r.sign(s,"base64"));return gb(i)}}function vI(t){return function(n,s,r){fI(r),n=Bl(n),s=mI(s);var i=Hn.createVerify("RSA-SHA"+t);return i.update(n),i.verify(r,s,"base64")}}function BY(t){return function(n,s){hI(s),n=Bl(n);var r=Hn.createSign("RSA-SHA"+t),i=(r.update(n),r.sign({key:s,padding:Hn.constants.RSA_PKCS1_PSS_PADDING,saltLength:Hn.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return gb(i)}}function $Y(t){return function(n,s,r){fI(r),n=Bl(n),s=mI(s);var i=Hn.createVerify("RSA-SHA"+t);return i.update(n),i.verify({key:r,padding:Hn.constants.RSA_PKCS1_PSS_PADDING,saltLength:Hn.constants.RSA_PSS_SALTLEN_DIGEST},s,"base64")}}function zY(t){var e=yI(t);return function(){var s=e.apply(null,arguments);return s=pI.derToJose(s,"ES"+t),s}}function UY(t){var e=vI(t);return function(s,r,i){r=pI.joseToDer(r,"ES"+t).toString("base64");var a=e(s,r,i);return a}}function qY(){return function(){return""}}function QY(){return function(e,n){return n===""}}var bI=function(e){var n={hs:gI,rs:yI,ps:BY,es:zY,none:qY},s={hs:LY,rs:vI,ps:$Y,es:UY,none:QY},r=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!r)throw as(IY,e);var i=(r[1]||r[3]).toLowerCase(),a=r[2];return{sign:n[i](a),verify:s[i](a)}},VY=se.Buffer,xI=function(e){return typeof e=="string"?e:typeof e=="number"||VY.isBuffer(e)?e.toString():JSON.stringify(e)},HY=Fo.Buffer,yS=oI,GY=bI,WY=se,vS=xI,yb=se;function bS(t,e){return HY.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function KY(t,e,n){n=n||"utf8";var s=bS(vS(t),"binary"),r=bS(vS(e),n);return yb.format("%s.%s",s,r)}function wI(t){var e=t.header,n=t.payload,s=t.secret||t.privateKey,r=t.encoding,i=GY(e.alg),a=KY(e,n,r),o=i.sign(a,s);return yb.format("%s.%s",a,o)}function ff(t){var e=t.secret||t.privateKey||t.key,n=new yS(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=n,this.payload=new yS(t.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}yb.inherits(ff,WY);ff.prototype.sign=function(){try{var e=wI({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};ff.sign=wI;var YY=ff,SI=Fo.Buffer,xS=oI,JY=bI,XY=se,_I=xI,ZY=se,eJ=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function tJ(t){return Object.prototype.toString.call(t)==="[object Object]"}function nJ(t){if(tJ(t))return t;try{return JSON.parse(t)}catch{return}}function EI(t){var e=t.split(".",1)[0];return nJ(SI.from(e,"base64").toString("binary"))}function sJ(t){return t.split(".",2).join(".")}function kI(t){return t.split(".")[2]}function rJ(t,e){e=e||"utf8";var n=t.split(".")[1];return SI.from(n,"base64").toString(e)}function CI(t){return eJ.test(t)&&!!EI(t)}function AI(t,e,n){if(!e){var s=new Error("Missing algorithm parameter for jws.verify");throw s.code="MISSING_ALGORITHM",s}t=_I(t);var r=kI(t),i=sJ(t),a=JY(e);return a.verify(i,r,n)}function TI(t,e){if(e=e||{},t=_I(t),!CI(t))return null;var n=EI(t);if(!n)return null;var s=rJ(t);return(n.typ==="JWT"||e.json)&&(s=JSON.parse(s,e.encoding)),{header:n,payload:s,signature:kI(t)}}function Lo(t){t=t||{};var e=t.secret||t.publicKey||t.key,n=new xS(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=n,this.signature=new xS(t.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}ZY.inherits(Lo,XY);Lo.prototype.verify=function(){try{var e=AI(this.signature.buffer,this.algorithm,this.key.buffer),n=TI(this.signature.buffer,this.encoding);return this.emit("done",e,n),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(s){this.readable=!1,this.emit("error",s),this.emit("close")}};Lo.decode=TI;Lo.isValid=CI;Lo.verify=AI;var iJ=Lo,aJ=YY,vb=iJ;aJ.sign;vb.verify;vb.decode;vb.isValid;var tp=function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e)};tp.prototype=Object.create(Error.prototype);tp.prototype.constructor=tp;var NI=tp,RI=NI,qg=function(t,e){RI.call(this,t),this.name="NotBeforeError",this.date=e};qg.prototype=Object.create(RI.prototype);qg.prototype.constructor=qg;var OI=NI,Qg=function(t,e){OI.call(this,t),this.name="TokenExpiredError",this.expiredAt=e};Qg.prototype=Object.create(OI.prototype);Qg.prototype.constructor=Qg;var Vg={exports:{}};const oJ="2.0.0",PI=256,cJ=Number.MAX_SAFE_INTEGER||9007199254740991,lJ=16,uJ=PI-6,dJ=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var hf={MAX_LENGTH:PI,MAX_SAFE_COMPONENT_LENGTH:lJ,MAX_SAFE_BUILD_LENGTH:uJ,MAX_SAFE_INTEGER:cJ,RELEASE_TYPES:dJ,SEMVER_SPEC_VERSION:oJ,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Bh={};const pJ=typeof process=="object"&&Bh&&Bh.NODE_DEBUG&&/\bsemver\b/i.test(Bh.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var mf=pJ;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:r}=hf,i=mf;e=t.exports={};const a=e.re=[],o=e.safeRe=[],c=e.src=[],l=e.safeSrc=[],u=e.t={};let d=0;const p="[a-zA-Z0-9-]",y=[["\\s",1],["\\d",r],[p,s]],m=v=>{for(const[h,b]of y)v=v.split(`${h}*`).join(`${h}{0,${b}}`).split(`${h}+`).join(`${h}{1,${b}}`);return v},f=(v,h,b)=>{const g=m(h),x=d++;i(v,x,h),u[v]=x,c[x]=h,l[x]=g,a[x]=new RegExp(h,b?"g":void 0),o[x]=new RegExp(g,b?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),f("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${p}+`),f("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),f("FULL",`^${c[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),f("LOOSE",`^${c[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),f("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",c[u.COERCE],!0),f("COERCERTLFULL",c[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",f("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",f("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Vg,Vg.exports);var $l=Vg.exports;const fJ=Object.freeze({loose:!0}),hJ=Object.freeze({}),mJ=t=>t?typeof t!="object"?fJ:t:hJ;var bb=mJ;const wS=/^[0-9]+$/,II=(t,e)=>{const n=wS.test(t),s=wS.test(e);return n&&s&&(t=+t,e=+e),t===e?0:n&&!s?-1:s&&!n?1:t<e?-1:1},gJ=(t,e)=>II(e,t);var jI={compareIdentifiers:II,rcompareIdentifiers:gJ};const wu=mf,{MAX_LENGTH:SS,MAX_SAFE_INTEGER:Su}=hf,{safeRe:_u,t:Eu}=$l,yJ=bb,{compareIdentifiers:ga}=jI;let vJ=class vs{constructor(e,n){if(n=yJ(n),e instanceof vs){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>SS)throw new TypeError(`version is longer than ${SS} characters`);wu("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const s=e.trim().match(n.loose?_u[Eu.LOOSE]:_u[Eu.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>Su||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Su||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Su||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){const i=+r;if(i>=0&&i<Su)return i}return r}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(wu("SemVer.compare",this.version,this.options,e),!(e instanceof vs)){if(typeof e=="string"&&e===this.version)return 0;e=new vs(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof vs||(e=new vs(e,this.options)),ga(this.major,e.major)||ga(this.minor,e.minor)||ga(this.patch,e.patch)}comparePre(e){if(e instanceof vs||(e=new vs(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const s=this.prerelease[n],r=e.prerelease[n];if(wu("prerelease compare",n,s,r),s===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(s===void 0)return-1;if(s===r)continue;return ga(s,r)}while(++n)}compareBuild(e){e instanceof vs||(e=new vs(e,this.options));let n=0;do{const s=this.build[n],r=e.build[n];if(wu("build compare",n,s,r),s===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(s===void 0)return-1;if(s===r)continue;return ga(s,r)}while(++n)}inc(e,n,s){if(e.startsWith("pre")){if(!n&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(n){const r=`-${n}`.match(this.options.loose?_u[Eu.PRERELEASELOOSE]:_u[Eu.PRERELEASE]);if(!r||r[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,s),this.inc("pre",n,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,s),this.inc("pre",n,s);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const r=Number(s)?1:0;if(this.prerelease.length===0)this.prerelease=[r];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(n===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(r)}}if(n){let i=[n,r];s===!1&&(i=[n]),ga(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var cn=vJ;const _S=cn,bJ=(t,e,n=!1)=>{if(t instanceof _S)return t;try{return new _S(t,e)}catch(s){if(!n)return null;throw s}};var Bo=bJ;const xJ=Bo,wJ=(t,e)=>{const n=xJ(t,e);return n?n.version:null};var SJ=wJ;const _J=Bo,EJ=(t,e)=>{const n=_J(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};var kJ=EJ;const ES=cn,CJ=(t,e,n,s,r)=>{typeof n=="string"&&(r=s,s=n,n=void 0);try{return new ES(t instanceof ES?t.version:t,n).inc(e,s,r).version}catch{return null}};var AJ=CJ;const kS=Bo,TJ=(t,e)=>{const n=kS(t,null,!0),s=kS(e,null,!0),r=n.compare(s);if(r===0)return null;const i=r>0,a=i?n:s,o=i?s:n,c=!!a.prerelease.length;if(!!o.prerelease.length&&!c){if(!o.patch&&!o.minor)return"major";if(o.compareMain(a)===0)return o.minor&&!o.patch?"minor":"patch"}const u=c?"pre":"";return n.major!==s.major?u+"major":n.minor!==s.minor?u+"minor":n.patch!==s.patch?u+"patch":"prerelease"};var NJ=TJ;const RJ=cn,OJ=(t,e)=>new RJ(t,e).major;var PJ=OJ;const IJ=cn,jJ=(t,e)=>new IJ(t,e).minor;var MJ=jJ;const DJ=cn,FJ=(t,e)=>new DJ(t,e).patch;var LJ=FJ;const BJ=Bo,$J=(t,e)=>{const n=BJ(t,e);return n&&n.prerelease.length?n.prerelease:null};var zJ=$J;const CS=cn,UJ=(t,e,n)=>new CS(t,n).compare(new CS(e,n));var hs=UJ;const qJ=hs,QJ=(t,e,n)=>qJ(e,t,n);var VJ=QJ;const HJ=hs,GJ=(t,e)=>HJ(t,e,!0);var WJ=GJ;const AS=cn,KJ=(t,e,n)=>{const s=new AS(t,n),r=new AS(e,n);return s.compare(r)||s.compareBuild(r)};var xb=KJ;const YJ=xb,JJ=(t,e)=>t.sort((n,s)=>YJ(n,s,e));var XJ=JJ;const ZJ=xb,eX=(t,e)=>t.sort((n,s)=>ZJ(s,n,e));var tX=eX;const nX=hs,sX=(t,e,n)=>nX(t,e,n)>0;var gf=sX;const rX=hs,iX=(t,e,n)=>rX(t,e,n)<0;var wb=iX;const aX=hs,oX=(t,e,n)=>aX(t,e,n)===0;var MI=oX;const cX=hs,lX=(t,e,n)=>cX(t,e,n)!==0;var DI=lX;const uX=hs,dX=(t,e,n)=>uX(t,e,n)>=0;var Sb=dX;const pX=hs,fX=(t,e,n)=>pX(t,e,n)<=0;var _b=fX;const hX=MI,mX=DI,gX=gf,yX=Sb,vX=wb,bX=_b,xX=(t,e,n,s)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return hX(t,n,s);case"!=":return mX(t,n,s);case">":return gX(t,n,s);case">=":return yX(t,n,s);case"<":return vX(t,n,s);case"<=":return bX(t,n,s);default:throw new TypeError(`Invalid operator: ${e}`)}};var FI=xX;const wX=cn,SX=Bo,{safeRe:ku,t:Cu}=$l,_X=(t,e)=>{if(t instanceof wX)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?ku[Cu.COERCEFULL]:ku[Cu.COERCE]);else{const c=e.includePrerelease?ku[Cu.COERCERTLFULL]:ku[Cu.COERCERTL];let l;for(;(l=c.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||l.index+l[0].length!==n.index+n[0].length)&&(n=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(n===null)return null;const s=n[2],r=n[3]||"0",i=n[4]||"0",a=e.includePrerelease&&n[5]?`-${n[5]}`:"",o=e.includePrerelease&&n[6]?`+${n[6]}`:"";return SX(`${s}.${r}.${i}${a}${o}`,e)};var EX=_X;class kX{constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const r=this.map.keys().next().value;this.delete(r)}this.map.set(e,n)}return this}}var CX=kX,$h,TS;function ms(){if(TS)return $h;TS=1;const t=/\s+/g;class e{constructor(N,B){if(B=r(B),N instanceof e)return N.loose===!!B.loose&&N.includePrerelease===!!B.includePrerelease?N:new e(N.raw,B);if(N instanceof i)return this.raw=N.value,this.set=[[N]],this.formatted=void 0,this;if(this.options=B,this.loose=!!B.loose,this.includePrerelease=!!B.includePrerelease,this.raw=N.trim().replace(t," "),this.set=this.raw.split("||").map(O=>this.parseRange(O.trim())).filter(O=>O.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const O=this.set[0];if(this.set=this.set.filter(j=>!f(j[0])),this.set.length===0)this.set=[O];else if(this.set.length>1){for(const j of this.set)if(j.length===1&&v(j[0])){this.set=[j];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let N=0;N<this.set.length;N++){N>0&&(this.formatted+="||");const B=this.set[N];for(let O=0;O<B.length;O++)O>0&&(this.formatted+=" "),this.formatted+=B[O].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(N){const O=((this.options.includePrerelease&&y)|(this.options.loose&&m))+":"+N,j=s.get(O);if(j)return j;const D=this.options.loose,H=D?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];N=N.replace(H,q(this.options.includePrerelease)),a("hyphen replace",N),N=N.replace(c[l.COMPARATORTRIM],u),a("comparator trim",N),N=N.replace(c[l.TILDETRIM],d),a("tilde trim",N),N=N.replace(c[l.CARETTRIM],p),a("caret trim",N);let Z=N.split(" ").map($e=>b($e,this.options)).join(" ").split(/\s+/).map($e=>L($e,this.options));D&&(Z=Z.filter($e=>(a("loose invalid filter",$e,this.options),!!$e.match(c[l.COMPARATORLOOSE])))),a("range list",Z);const ie=new Map,Oe=Z.map($e=>new i($e,this.options));for(const $e of Oe){if(f($e))return[$e];ie.set($e.value,$e)}ie.size>1&&ie.has("")&&ie.delete("");const He=[...ie.values()];return s.set(O,He),He}intersects(N,B){if(!(N instanceof e))throw new TypeError("a Range is required");return this.set.some(O=>h(O,B)&&N.set.some(j=>h(j,B)&&O.every(D=>j.every(H=>D.intersects(H,B)))))}test(N){if(!N)return!1;if(typeof N=="string")try{N=new o(N,this.options)}catch{return!1}for(let B=0;B<this.set.length;B++)if(F(this.set[B],N,this.options))return!0;return!1}}$h=e;const n=CX,s=new n,r=bb,i=yf(),a=mf,o=cn,{safeRe:c,t:l,comparatorTrimReplace:u,tildeTrimReplace:d,caretTrimReplace:p}=$l,{FLAG_INCLUDE_PRERELEASE:y,FLAG_LOOSE:m}=hf,f=A=>A.value==="<0.0.0-0",v=A=>A.value==="",h=(A,N)=>{let B=!0;const O=A.slice();let j=O.pop();for(;B&&O.length;)B=O.every(D=>j.intersects(D,N)),j=O.pop();return B},b=(A,N)=>(a("comp",A,N),A=_(A,N),a("caret",A),A=x(A,N),a("tildes",A),A=E(A,N),a("xrange",A),A=I(A,N),a("stars",A),A),g=A=>!A||A.toLowerCase()==="x"||A==="*",x=(A,N)=>A.trim().split(/\s+/).map(B=>k(B,N)).join(" "),k=(A,N)=>{const B=N.loose?c[l.TILDELOOSE]:c[l.TILDE];return A.replace(B,(O,j,D,H,Z)=>{a("tilde",A,O,j,D,H,Z);let ie;return g(j)?ie="":g(D)?ie=`>=${j}.0.0 <${+j+1}.0.0-0`:g(H)?ie=`>=${j}.${D}.0 <${j}.${+D+1}.0-0`:Z?(a("replaceTilde pr",Z),ie=`>=${j}.${D}.${H}-${Z} <${j}.${+D+1}.0-0`):ie=`>=${j}.${D}.${H} <${j}.${+D+1}.0-0`,a("tilde return",ie),ie})},_=(A,N)=>A.trim().split(/\s+/).map(B=>w(B,N)).join(" "),w=(A,N)=>{a("caret",A,N);const B=N.loose?c[l.CARETLOOSE]:c[l.CARET],O=N.includePrerelease?"-0":"";return A.replace(B,(j,D,H,Z,ie)=>{a("caret",A,j,D,H,Z,ie);let Oe;return g(D)?Oe="":g(H)?Oe=`>=${D}.0.0${O} <${+D+1}.0.0-0`:g(Z)?D==="0"?Oe=`>=${D}.${H}.0${O} <${D}.${+H+1}.0-0`:Oe=`>=${D}.${H}.0${O} <${+D+1}.0.0-0`:ie?(a("replaceCaret pr",ie),D==="0"?H==="0"?Oe=`>=${D}.${H}.${Z}-${ie} <${D}.${H}.${+Z+1}-0`:Oe=`>=${D}.${H}.${Z}-${ie} <${D}.${+H+1}.0-0`:Oe=`>=${D}.${H}.${Z}-${ie} <${+D+1}.0.0-0`):(a("no pr"),D==="0"?H==="0"?Oe=`>=${D}.${H}.${Z}${O} <${D}.${H}.${+Z+1}-0`:Oe=`>=${D}.${H}.${Z}${O} <${D}.${+H+1}.0-0`:Oe=`>=${D}.${H}.${Z} <${+D+1}.0.0-0`),a("caret return",Oe),Oe})},E=(A,N)=>(a("replaceXRanges",A,N),A.split(/\s+/).map(B=>T(B,N)).join(" ")),T=(A,N)=>{A=A.trim();const B=N.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return A.replace(B,(O,j,D,H,Z,ie)=>{a("xRange",A,O,j,D,H,Z,ie);const Oe=g(D),He=Oe||g(H),$e=He||g(Z),Kt=$e;return j==="="&&Kt&&(j=""),ie=N.includePrerelease?"-0":"",Oe?j===">"||j==="<"?O="<0.0.0-0":O="*":j&&Kt?(He&&(H=0),Z=0,j===">"?(j=">=",He?(D=+D+1,H=0,Z=0):(H=+H+1,Z=0)):j==="<="&&(j="<",He?D=+D+1:H=+H+1),j==="<"&&(ie="-0"),O=`${j+D}.${H}.${Z}${ie}`):He?O=`>=${D}.0.0${ie} <${+D+1}.0.0-0`:$e&&(O=`>=${D}.${H}.0${ie} <${D}.${+H+1}.0-0`),a("xRange return",O),O})},I=(A,N)=>(a("replaceStars",A,N),A.trim().replace(c[l.STAR],"")),L=(A,N)=>(a("replaceGTE0",A,N),A.trim().replace(c[N.includePrerelease?l.GTE0PRE:l.GTE0],"")),q=A=>(N,B,O,j,D,H,Z,ie,Oe,He,$e,Kt)=>(g(O)?B="":g(j)?B=`>=${O}.0.0${A?"-0":""}`:g(D)?B=`>=${O}.${j}.0${A?"-0":""}`:H?B=`>=${B}`:B=`>=${B}${A?"-0":""}`,g(Oe)?ie="":g(He)?ie=`<${+Oe+1}.0.0-0`:g($e)?ie=`<${Oe}.${+He+1}.0-0`:Kt?ie=`<=${Oe}.${He}.${$e}-${Kt}`:A?ie=`<${Oe}.${He}.${+$e+1}-0`:ie=`<=${ie}`,`${B} ${ie}`.trim()),F=(A,N,B)=>{for(let O=0;O<A.length;O++)if(!A[O].test(N))return!1;if(N.prerelease.length&&!B.includePrerelease){for(let O=0;O<A.length;O++)if(a(A[O].semver),A[O].semver!==i.ANY&&A[O].semver.prerelease.length>0){const j=A[O].semver;if(j.major===N.major&&j.minor===N.minor&&j.patch===N.patch)return!0}return!1}return!0};return $h}var zh,NS;function yf(){if(NS)return zh;NS=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,d){if(d=n(d),u instanceof e){if(u.loose===!!d.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),a("comparator",u,d),this.options=d,this.loose=!!d.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(u){const d=this.options.loose?s[r.COMPARATORLOOSE]:s[r.COMPARATOR],p=u.match(d);if(!p)throw new TypeError(`Invalid comparator: ${u}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new o(p[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(a("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}return i(u,this.operator,this.semver,this.options)}intersects(u,d){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,d).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,d).test(u.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||i(this.semver,"<",u.semver,d)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||i(this.semver,">",u.semver,d)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}zh=e;const n=bb,{safeRe:s,t:r}=$l,i=FI,a=mf,o=cn,c=ms();return zh}const AX=ms(),TX=(t,e,n)=>{try{e=new AX(e,n)}catch{return!1}return e.test(t)};var vf=TX;const NX=ms(),RX=(t,e)=>new NX(t,e).set.map(n=>n.map(s=>s.value).join(" ").trim().split(" "));var OX=RX;const PX=cn,IX=ms(),jX=(t,e,n)=>{let s=null,r=null,i=null;try{i=new IX(e,n)}catch{return null}return t.forEach(a=>{i.test(a)&&(!s||r.compare(a)===-1)&&(s=a,r=new PX(s,n))}),s};var MX=jX;const DX=cn,FX=ms(),LX=(t,e,n)=>{let s=null,r=null,i=null;try{i=new FX(e,n)}catch{return null}return t.forEach(a=>{i.test(a)&&(!s||r.compare(a)===1)&&(s=a,r=new DX(s,n))}),s};var BX=LX;const Uh=cn,$X=ms(),RS=gf,zX=(t,e)=>{t=new $X(t,e);let n=new Uh("0.0.0");if(t.test(n)||(n=new Uh("0.0.0-0"),t.test(n)))return n;n=null;for(let s=0;s<t.set.length;++s){const r=t.set[s];let i=null;r.forEach(a=>{const o=new Uh(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||RS(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),i&&(!n||RS(n,i))&&(n=i)}return n&&t.test(n)?n:null};var UX=zX;const qX=ms(),QX=(t,e)=>{try{return new qX(t,e).range||"*"}catch{return null}};var VX=QX;const HX=cn,LI=yf(),{ANY:GX}=LI,WX=ms(),KX=vf,OS=gf,PS=wb,YX=_b,JX=Sb,XX=(t,e,n,s)=>{t=new HX(t,s),e=new WX(e,s);let r,i,a,o,c;switch(n){case">":r=OS,i=YX,a=PS,o=">",c=">=";break;case"<":r=PS,i=JX,a=OS,o="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(KX(t,e,s))return!1;for(let l=0;l<e.set.length;++l){const u=e.set[l];let d=null,p=null;if(u.forEach(y=>{y.semver===GX&&(y=new LI(">=0.0.0")),d=d||y,p=p||y,r(y.semver,d.semver,s)?d=y:a(y.semver,p.semver,s)&&(p=y)}),d.operator===o||d.operator===c||(!p.operator||p.operator===o)&&i(t,p.semver))return!1;if(p.operator===c&&a(t,p.semver))return!1}return!0};var Eb=XX;const ZX=Eb,eZ=(t,e,n)=>ZX(t,e,">",n);var tZ=eZ;const nZ=Eb,sZ=(t,e,n)=>nZ(t,e,"<",n);var rZ=sZ;const IS=ms(),iZ=(t,e,n)=>(t=new IS(t,n),e=new IS(e,n),t.intersects(e,n));var aZ=iZ;const oZ=vf,cZ=hs;var lZ=(t,e,n)=>{const s=[];let r=null,i=null;const a=t.sort((u,d)=>cZ(u,d,n));for(const u of a)oZ(u,e,n)?(i=u,r||(r=u)):(i&&s.push([r,i]),i=null,r=null);r&&s.push([r,null]);const o=[];for(const[u,d]of s)u===d?o.push(u):!d&&u===a[0]?o.push("*"):d?u===a[0]?o.push(`<=${d}`):o.push(`${u} - ${d}`):o.push(`>=${u}`);const c=o.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e};const jS=ms(),kb=yf(),{ANY:qh}=kb,nc=vf,Cb=hs,uZ=(t,e,n={})=>{if(t===e)return!0;t=new jS(t,n),e=new jS(e,n);let s=!1;e:for(const r of t.set){for(const i of e.set){const a=pZ(r,i,n);if(s=s||a!==null,a)continue e}if(s)return!1}return!0},dZ=[new kb(">=0.0.0-0")],MS=[new kb(">=0.0.0")],pZ=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===qh){if(e.length===1&&e[0].semver===qh)return!0;n.includePrerelease?t=dZ:t=MS}if(e.length===1&&e[0].semver===qh){if(n.includePrerelease)return!0;e=MS}const s=new Set;let r,i;for(const y of t)y.operator===">"||y.operator===">="?r=DS(r,y,n):y.operator==="<"||y.operator==="<="?i=FS(i,y,n):s.add(y.semver);if(s.size>1)return null;let a;if(r&&i){if(a=Cb(r.semver,i.semver,n),a>0)return null;if(a===0&&(r.operator!==">="||i.operator!=="<="))return null}for(const y of s){if(r&&!nc(y,String(r),n)||i&&!nc(y,String(i),n))return null;for(const m of e)if(!nc(y,String(m),n))return!1;return!0}let o,c,l,u,d=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1,p=r&&!n.includePrerelease&&r.semver.prerelease.length?r.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const y of e){if(u=u||y.operator===">"||y.operator===">=",l=l||y.operator==="<"||y.operator==="<=",r){if(p&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===p.major&&y.semver.minor===p.minor&&y.semver.patch===p.patch&&(p=!1),y.operator===">"||y.operator===">="){if(o=DS(r,y,n),o===y&&o!==r)return!1}else if(r.operator===">="&&!nc(r.semver,String(y),n))return!1}if(i){if(d&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===d.major&&y.semver.minor===d.minor&&y.semver.patch===d.patch&&(d=!1),y.operator==="<"||y.operator==="<="){if(c=FS(i,y,n),c===y&&c!==i)return!1}else if(i.operator==="<="&&!nc(i.semver,String(y),n))return!1}if(!y.operator&&(i||r)&&a!==0)return!1}return!(r&&l&&!i&&a!==0||i&&u&&!r&&a!==0||p||d)},DS=(t,e,n)=>{if(!t)return e;const s=Cb(t.semver,e.semver,n);return s>0?t:s<0||e.operator===">"&&t.operator===">="?e:t},FS=(t,e,n)=>{if(!t)return e;const s=Cb(t.semver,e.semver,n);return s<0?t:s>0||e.operator==="<"&&t.operator==="<="?e:t};var fZ=uZ;const Qh=$l,LS=hf,hZ=cn,BS=jI,mZ=Bo,gZ=SJ,yZ=kJ,vZ=AJ,bZ=NJ,xZ=PJ,wZ=MJ,SZ=LJ,_Z=zJ,EZ=hs,kZ=VJ,CZ=WJ,AZ=xb,TZ=XJ,NZ=tX,RZ=gf,OZ=wb,PZ=MI,IZ=DI,jZ=Sb,MZ=_b,DZ=FI,FZ=EX,LZ=yf(),BZ=ms(),$Z=vf,zZ=OX,UZ=MX,qZ=BX,QZ=UX,VZ=VX,HZ=Eb,GZ=tZ,WZ=rZ,KZ=aZ,YZ=lZ,JZ=fZ;var Ab={parse:mZ,valid:gZ,clean:yZ,inc:vZ,diff:bZ,major:xZ,minor:wZ,patch:SZ,prerelease:_Z,compare:EZ,rcompare:kZ,compareLoose:CZ,compareBuild:AZ,sort:TZ,rsort:NZ,gt:RZ,lt:OZ,eq:PZ,neq:IZ,gte:jZ,lte:MZ,cmp:DZ,coerce:FZ,Comparator:LZ,Range:BZ,satisfies:$Z,toComparators:zZ,maxSatisfying:UZ,minSatisfying:qZ,minVersion:QZ,validRange:VZ,outside:HZ,gtr:GZ,ltr:WZ,intersects:KZ,simplifyRange:YZ,subset:JZ,SemVer:hZ,re:Qh.re,src:Qh.src,tokens:Qh.t,SEMVER_SPEC_VERSION:LS.SEMVER_SPEC_VERSION,RELEASE_TYPES:LS.RELEASE_TYPES,compareIdentifiers:BS.compareIdentifiers,rcompareIdentifiers:BS.rcompareIdentifiers};const XZ=Ab;XZ.satisfies(process.version,">=15.7.0");const ZZ=Ab;ZZ.satisfies(process.version,">=16.9.0");var eee=Ab,tee=eee.satisfies(process.version,"^6.12.0 || >=8.0.0");const{KeyObject:qte,createSecretKey:Qte,createPublicKey:Vte}=se;var $S=1/0,BI=9007199254740991,nee=17976931348623157e292,zS=NaN,see="[object Arguments]",ree="[object Function]",iee="[object GeneratorFunction]",aee="[object String]",oee="[object Symbol]",cee=/^\s+|\s+$/g,lee=/^[-+]0x[0-9a-f]+$/i,uee=/^0b[01]+$/i,dee=/^0o[0-7]+$/i,pee=/^(?:0|[1-9]\d*)$/,fee=parseInt;function hee(t,e){for(var n=-1,s=t?t.length:0,r=Array(s);++n<s;)r[n]=e(t[n],n,t);return r}function mee(t,e,n,s){for(var r=t.length,i=n+-1;++i<r;)if(e(t[i],i,t))return i;return-1}function gee(t,e,n){if(e!==e)return mee(t,yee,n);for(var s=n-1,r=t.length;++s<r;)if(t[s]===e)return s;return-1}function yee(t){return t!==t}function vee(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}function bee(t,e){return hee(e,function(n){return t[n]})}function xee(t,e){return function(n){return t(e(n))}}var bf=Object.prototype,Tb=bf.hasOwnProperty,xf=bf.toString,wee=bf.propertyIsEnumerable,See=xee(Object.keys,Object),_ee=Math.max;function Eee(t,e){var n=$I(t)||Nee(t)?vee(t.length,String):[],s=n.length,r=!!s;for(var i in t)Tb.call(t,i)&&!(r&&(i=="length"||Cee(i,s)))&&n.push(i);return n}function kee(t){if(!Aee(t))return See(t);var e=[];for(var n in Object(t))Tb.call(t,n)&&n!="constructor"&&e.push(n);return e}function Cee(t,e){return e=e??BI,!!e&&(typeof t=="number"||pee.test(t))&&t>-1&&t%1==0&&t<e}function Aee(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||bf;return t===n}function Tee(t,e,n,s){t=Nb(t)?t:Bee(t),n=n&&!s?Dee(n):0;var r=t.length;return n<0&&(n=_ee(r+n,0)),Iee(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&gee(t,e,n)>-1}function Nee(t){return Ree(t)&&Tb.call(t,"callee")&&(!wee.call(t,"callee")||xf.call(t)==see)}var $I=Array.isArray;function Nb(t){return t!=null&&Pee(t.length)&&!Oee(t)}function Ree(t){return Rb(t)&&Nb(t)}function Oee(t){var e=Hg(t)?xf.call(t):"";return e==ree||e==iee}function Pee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=BI}function Hg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Rb(t){return!!t&&typeof t=="object"}function Iee(t){return typeof t=="string"||!$I(t)&&Rb(t)&&xf.call(t)==aee}function jee(t){return typeof t=="symbol"||Rb(t)&&xf.call(t)==oee}function Mee(t){if(!t)return t===0?t:0;if(t=Fee(t),t===$S||t===-$S){var e=t<0?-1:1;return e*nee}return t===t?t:0}function Dee(t){var e=Mee(t),n=e%1;return e===e?n?e-n:e:0}function Fee(t){if(typeof t=="number")return t;if(jee(t))return zS;if(Hg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Hg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(cee,"");var n=uee.test(t);return n||dee.test(t)?fee(t.slice(2),n?2:8):lee.test(t)?zS:+t}function Lee(t){return Nb(t)?Eee(t):kee(t)}function Bee(t){return t?bee(t,Lee(t)):[]}var $ee=Tee,zee=Function.prototype,Uee=zee.toString;Uee.call(Object);const qee=tee,Qee=$ee,{KeyObject:Hte,createSecretKey:Gte,createPrivateKey:Wte}=se,zI=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];qee&&zI.splice(3,0,"PS256","PS384","PS512");Qee.bind(null,zI);var Vee={};const Vh="redis://default:ob0XzfYSqIWm028JdW7JkBY8VWkhQp7A@redis-13241.c245.us-east-1-3.ec2.redns.redis-cloud.com:13241";let US=null,qS=null,QS=null;if(Vee.REDIS_DISABLED)console.log("WebSocket using memory store (Redis disabled)");else try{US=new _h.Redis(Vh,{maxRetriesPerRequest:3,lazyConnect:!0}),qS=new _h.Redis(Vh,{maxRetriesPerRequest:3,lazyConnect:!0}),QS=new _h.Redis(Vh,{maxRetriesPerRequest:3,lazyConnect:!0}),console.log("WebSocket connected to Redis Cloud")}catch{console.log("WebSocket using memory store (Redis connection failed)"),US=qS=QS=null}var td=(t=>(t.CONNECTION_ACK="CONNECTION_ACK",t.CHAT_MESSAGE="CHAT_MESSAGE",t.LOCATION_UPDATE="LOCATION_UPDATE",t.ORDER_STATUS_UPDATE="ORDER_STATUS_UPDATE",t.NOTIFICATION="NOTIFICATION",t.DELIVERY_STATUS="DELIVERY_STATUS",t.PAYMENT_CONFIRMATION="PAYMENT_CONFIRMATION",t.SYSTEM_ALERT="SYSTEM_ALERT",t.HEARTBEAT="HEARTBEAT",t.RECONNECT="RECONNECT",t.ERROR="ERROR",t.PING="PING",t.PONG="PONG",t))(td||{});function Hee(){const[t,e]=Q.useState([]);return{notifications:t,markAsRead:a=>{e(o=>o.map(c=>c.id===a?{...c,read:!0}:c))},addNotification:a=>{const o={...a,id:Date.now(),timestamp:new Date,read:!1};e(c=>[o,...c])},removeNotification:a=>{e(o=>o.filter(c=>c.id!==a))},markAllAsRead:()=>{e(a=>a.map(o=>({...o,read:!0})))},unreadCount:t.filter(a=>!a.read).length}}function Gee({notifications:t,unreadCount:e,onMarkAsRead:n,onMarkAllAsRead:s,onRemove:r}){const i=a=>{const c=new Date().getTime()-a.getTime(),l=Math.floor(c/6e4),u=Math.floor(c/36e5),d=Math.floor(c/864e5);return l<1?"Just now":l<60?`${l}m ago`:u<24?`${u}h ago`:`${d}d ago`};return S.jsxs("div",{className:"relative",children:[S.jsxs(Le,{variant:"ghost",size:"icon",className:"relative",children:[S.jsx(XN,{className:"h-5 w-5"}),e>0&&S.jsx(er,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center text-xs",children:e>99?"99+":e})]}),S.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-h-96 overflow-y-auto bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:[S.jsx(ja,{className:"border-b border-gray-200 dark:border-gray-700",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx(Ma,{className:"text-lg",children:"Notifications"}),e>0&&S.jsx(Le,{variant:"ghost",size:"sm",onClick:s,children:"Mark all read"})]})}),S.jsx(cs,{className:"p-0",children:t.length===0?S.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No notifications"}):t.map(a=>S.jsx("div",{className:`p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 ${a.read?"":"bg-blue-50 dark:bg-blue-900/20"}`,children:S.jsxs("div",{className:"flex items-start justify-between",children:[S.jsxs("div",{className:"flex-1 mr-2",children:[S.jsx("h4",{className:"font-medium text-sm",children:a.title}),S.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:a.message}),S.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:i(a.timestamp)})]}),S.jsxs("div",{className:"flex items-center space-x-1",children:[!a.read&&S.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>n(a.id),className:"h-6 w-6 p-0",children:S.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),S.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>r(a.id),className:"h-6 w-6 p-0",children:S.jsx(jF,{className:"h-3 w-3"})})]})]})},a.id))})]})]})}const Wee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJRSURBVHgB7d3hUepAFIbhg2MhlEAJoRJrsAJjBbYAlbB2QAnpJC4jPznLJtlN8pH3mXHuzJXFNa/EJZBoBgAAAAAApunraU3Mbc59JTlf/80ghWBiCCaGYGIIJoZgYggmhmBidjk3ynlSt4sMrlLbkEeYGIKJIZiYd6sk7rKb+E9j8whx9x9SN1jbfMaqFsz+N86XzSc8+Xxj65rPKOwSxRBMDMHEEEwMwcTUXCWmfMaPqw1ziB8/Vsfa5uNaKth16POUzPeojLW2+bhyg30bpiqyDbOCxZ++1jBJqW3IokMMwcQQTAzBxBBMDMHEEEwMwcQQTMxSxxIPI47FHayetc3HtVSw2Y9yP7G2+bjYJYohmBiCiSGYGIKJqblKDDafUOg2pQQDAAAAALyEatfWEDvH+RTHd8641hnTxTEnexU1r9z5QDtxPk1inOdiC+BYohiCiSGYGIKJIZiYLZ3jfDL/daqPuOrzrpJzdP5/n1gpnmst+TdzjvP9eVbn3PctVuOMOzpjGvOf1/1aJewSxRBMDMHEEEwMwcQstUqc3f0Asbt0T6wGveVpWOJK4jzCxBBMDMHEZP0Oy3mBkOtRpZXahrmLjpyrUbeGlCLbcEvnOHfmH/zdJ94mELz7S4zpvPeIzKLP8GDMqt7T8eT7u3h3nBjTDJlPn8EysOgQQzAxBBNDMDEEE7Olc5xTzjb8Zf3O/CtlB6uEv4E5k1LbkF2iGIKJIZiYYsH6cVoT04885GaF8AgTQzAxBBNDMDEEE0MwMQQTQzAAAAAAAPA6/gCyHUeUMx5TIwAAAABJRU5ErkJggg==",Kee="/assets/order_fuel_icon-iiOc8gxU.png",Yee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA3ySURBVHgB7V17UBRHGu+FBQTkERIlETWip56vREHwmShqfFx8xMJXEisRSTTJnVaMnOSf1CXGxPIE9CyrvBMMIkdy0dLzoqRURFQM+ESDKCgoIArRCIIICCy79/uWmbVnRERY3d1hflVdTPf09PR83zdff4+ehTHzQiMehIeHexQUFKw0GAzlKCXnzp1bHhYW5sr1tWMqzAoT8Q8cONClqKjobzU1Nbkgvh6lobKy8kJ+fn74rl27nm/qGhWth4SI2dnZ/iD4DpR6A1G+ocFYBNSgxB49erR/c2OoaDlMhPvyyy/tsrKypoPAaSLhBeiFwrcdBBPGMynhVSY8ATSMIxjp9vT09CUgbL6M0DzkTLiwf//+hWBcB9m4Kh4DCfGxuPrU19evBUHvNEN8Cbg+t2tra1empKS88KjxVUghIcyZM2ce0veipD8Gevm6cOTIkX7N3au9QyKVpO8zMjJM+l6v10vUTAuhl12blJycPK6J+7Z7SIi/du1a1xMnTvzFIOh7joCtgZwJF5KSktR1gYPk4UnfQ3WY9P1TQinu8RWY/Hxzc2kPkDzw6dOn/QycviepbaP0S6BvhFg1rgt4G9R1gfT9yZMnp4Eg6YanDzlHk2Cqtqt1QfJw27Ztc4Wl82eDoO8tAbwVF1NTUxdGRUU5s/YCkvqLFy8OxPNvNjSqA0ujEmX9L7/80osp7A1o8mFgDgaOGzcuHA89EwsiNTVAEplG82yfHfdndnbGoKnW3t5eh/t/n5iYuHbq1KlZTCHQNtGmwUPWHzp0KKWioiId9XsoemZBgBH2YERHT0/PyvLycovO5WlDI/trjdAwhYYrbDFBYvNJHUk4eOzYsfbIYnXU6XR44+0MzAqBtUjToUMHXV5eXhVrVI1WOc+Wgl8DDCD8qzD3wrsA0P93mRXiOQBJn+w1a9Z8C0stjykJ8+bNm47Qcq3ByoGFuCwoKGgYUwAkOhSx+bp79+5VMysHGFABQdEx64amJe0SM5RsfpIwZuXAFPXwCax1niKBjfObMmWK0++//+6D+VafOnXqptCuEc9rmQpzwkRYQmxsbI8JEya8j/X0LSxd13Nzc/8OQyeVcUxQGWA+mIj/888/OwUEBLwBon8ID35y165dHdE82NvbW798+fJrkZGRhUJfTasYQCqALtaYOTYhqj/Ns455tA0i4Y1zT0hI6A21swCH81G6UwhHCKcwMONPn3zySUZlZeW3mzdvrqe2VjEA9LEjJly5ciX3+vXrxVqt1r61RMO6Q8zUd+vWzfdlwLZo/0DqKXL85ptvTvXy8voA1bGgj5aeRSS+wAhtz549Q5YsWXIGDNjL2qKCYIU0YJBNcXFx0W5ubi4ODg6tGgsMqHdxcdHNnz8//LPPPgtnthFi4KVeExMTM/idd95ZCAmfg3pnIraxk0ZTiz+5rFHQ++BZ7dDn5T59+ny0aNGiTNDvWqsZQG9AcXFx0c2bN6uosDZi4sSJJcw2YJL67du3e0yePHkWBHARqkNRSDOYpB5Cmg4t8RX8Wld3d/c1ODeA2h0dHScuXrx43sCBA//RagaQynF1dXVnZgLCC67MumGSesqX+Pj4BE6fPj3UyclpFto8qYOgZmgpI/JQdi+5X79+h+lcWVmZLxblr9DmhXMOfn5+c/r3739TtYJaBl7Xd541a9bbzs7OC1F9hdrEhVaQfHE5rD5+/PhlcQA4uMfBgBs45yX0HwSh+6vKgObBS70W5uQYEH8RiD8VbS7UQVA5dTgsR3FDMaZOQfCC6OjoS3SclZUVACOD1FRXqguMItO0l8qAh8E7U6Jp+TJMy/mQ4PdR7S0GC0jSUa7jcCtKJ0j2+6L+R/v50aNHu4SEhCwYMGDAMjQNokiucA11oazeXpUBUkg8WXKokJqdCD2/GNU3WKPUGlUOrBnK1R7Nz89fD4Ie6N69exiI7yhc2gDL7iVYOstwjnaBe1GjwJwGLM7H9u7duw4hiiSVAY2QOFMEWDh9R44cGQLiv8sE1SHqehC/vKioaGtaWtpGRJCvrFixwu3rr7/uC+tGDG6SpI9kjeanHeeMFeP437t37/5uzpw5RvWkMkAm9dD1LiDoNOh5kvrXUexliywh/datW9+A+LepUldX1wtM6cOPCTXlKDqVuE4HqT8KbDp27Nhe3OO+2LE9M0Ai9WQ6/vjjj6/AHwkF8eeiqTO1c9IrBtAYsoY5UCFl4kCQ5v5gQE+xLpihYvU6xoj76aef4rCA58rn0F4ZIJH6zz///DnEZ4Lnzp0bimogCGjHSW+tYNg7Cd3L09PTL0KK9bNnz7YPDw+f5u/v/xHaX+AXZ6AO9YNJSUn/RP/96F/XxP3bXTRUIvXkUMEh8n/ttdcWwZulMII7nw5B6OAw/uRAuifhr6/QfA3XZK9fv957yJAhH4L4H6Oti7hvSiB+IeqxWMRjp02bdu0RczCiPTFA8uBhYWGdUd6GN78A1VdJyLkwQkVhYeF26Ov1o0aN6tajR49J4nVgyv2+ffuOQlmK6lsojpyaIt2+D1IfDesoCeGG+ibuL0kktQcGyKVeGxgY+PqwYcMWg/hyh4oOz0Idbdq6dWsC+lafPXt2FNpMn1AJup7sem/WuNiK1+WCEVugbuKxjhTL7s3YI3ZvKJ0BEqn/9NNPX1q6dOl7cKhI1xsdKk7X05/KqqqqDQicbaXKiBEjnDt27EjhBjFORWMZmSFKPa4nqd8Dqf8XctWHsSA3cPd+LNoSDTVgsmbbulJdXV0l5HnNEY6WSD3i704zZsx4A/o61NPTczKajF/gyHMPtbW1+V988cUpsY7QgxdyHfRNs2TzAqdyLpHUI9e7DVJ/s6l7Pw5tioYixdYFk6TYhzMCS/asFcAD1OGVb+jUqVNnmfnW6qkx7uGPHDnSe9CgQSGQespQdeMsFTqgnRU0byM1EVbPOXjwoFF9QP+7YU7zUAZzc9UI/gDtl929b9++LZh7qkzqn2izQKsZAMnQhoaGfjxp0qQpOHRgrdwmCILQzmuDr6/vH1jbpF8iecuWLXMmh+rFF1/8ENUg3Mee09cUOEvBguqN+giB6fdRPxkcHFyJtOEQLL5L0DYDxUun09HzMmG3YGZNTc2W8+fPf4/4UCl3b8bauksP8e3JiFuXPW5jFAjWoDfn90kPxtW3ZFxYGFdgOvrJiG86pp9CgD6mb9l+o/78t8tQMxeQRl2MaCVZPgncsKV3795dgRBDKDzbM8J8+GvvQOXGQNcPJ/P1EfduG1rKAEtDxgATAbDIeubm5n6ALqkoOupLBBR4WgniJ6xatYpiNGzPnj3d0ZYijol+VfhzHqWE6ggdiKdonNTk5OQQBNc8ZIQ3b/rURhnAyCOF1AdCNdAXPfTzOA99sY9z0QgHmMzJ1atXz0RzYVPjcy9hCd6KiJSUlIEyUpmN8IowQ+/fv987ICBgNQwB4wd9/FYQAeU7d+5MQeL/ttgwePBg8my9+U6caUmL88ETJ05sQXwocd26dTVCF/Poeg5KYYA3Xlw/JL+NdRnxaaEvyMjIKBDr8fHxrwYFBVF8X4zv8EwrwPoRhyzWNrxlV7lhntjCaQkUwQDaImN4EMMhotFHfX8UA2g4zh4+fHgmYvyOY8aMmQ3T8mOcG07XGATLiIJu6JoIzzcG6il5x44dYvDM7FLPQxEMoEwUvFeyzQvz8vIifHx8BiCkLMbniXC34Cj1RcBtFvrSxqkXxL07gtTnlJaWxv3666/x48ePv8EN/VSkXjJ3pgB4eHjcgiRH/vDDD+9Bev+HhZPiO6J6qYe0+6FPFIi9nAlhY0HqK1GPz8nJ+Wjjxo0RHPFFC+epEp+ghDdAA5VyCQtlDuxz3dChQ3s6ODgYN0kJ52nbJAXUjJumuJDxueLi4pjs7Oz/TJgwoZQfjz0DwotQhAoSN7oSZs6c6Yt4Ty/utClEIhC+vKSkZCeiljHwZk9SYoXr+0yJT1BUNBT2uhaJ9JFQLcZdCNzCTMQnQqfduHFjy8qVK/8LplVwlz5RAM2cUAIDjBHUqKgo39GjR7+LmE0I6g4yX+A3ED4hLS2NdiNclF3/zKWehyLeAKT9ui1YsOAbEH8243YxsMZo5yGonM0xMTGJ/G4EZkGp56EUP6A7VAw5VkZ9LxD/GqQ+HmHlWNq7I7vEolLPQxEMQJDNHhFM8VnIodp3586dzYmJiS3Ky1oSimAA7UhDIXVTBqmPgK7fBl1/Q9bNaqSehyIYAK/3zuXLl7+DXX8a3uwu8ge401Yn9TwUwYCrV6/mbtiwYVVCQgJ5tjyhrVLqeSjCE87MzKxCMdWFv1Yr9TyU4gc0V7dqqP9EwcJQGWBhqAywMFQGWBgqAywMlQEWhsoAC0NlgIWhMsDCUBlgYagMsDBUBlgYKgMsDAkDkEvV2APMykFf5KDY1I/LPQoSBiCtp0V2qQOzcri6urogCW/1gtISSPIBly5duhodHb2pM1AJMCuEB0AfaBQUFPzGFICH/psp/YQ9aG/Vr7ebm5vh8OHD4peJNpWAUTJsck3QPOLYlmBTSXg5NJGRkUPq6+sDYfz0oo+mDQbr//V0gl3j9jetu7t7fl5e3v6IiIh8ZosAvRPFLwttFDXZ2dnf+vv7uzAbBEnRFBQPZrvoUFNTE4S315PZIIgBNu/Q0N5Q+l1mZoNQRCiCvuu14v+o0SwUwQBaCJiNQg3GWRgqAywMpTDAZp9DKWuAoy1bQedRKpjtQg+nOBNW0D1mgyAG7EYpYrYL+nGOQ8HBwTYpRP8HHJydKbCL0ScAAAAASUVORK5CYII=",Jee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAwlSURBVHgB7Z17TFTZHcfPzPCSlzxErMhDBJ+Lur6a1d0Ndhof3bW1tpY/JI3RBlP0r26aNGaTkm27iTVRkopmqWujNbGBZI0xG9QFoazSB6LRikRQRHm/YRhmxhmY2+8PBnYc7+g87mWYO+eTHM/MHIc55/7O73d+53fOPZcxDofD4XA4HA6Hw+FwOBwOh8PhcDgcjhuoHF4LDp95i8A4kqKyy4WCggJ1Xl7eot7e3lSr1aoBVtf/FFPhO+rg4OCh8PDwhsWLF5vYd52AIxHT2nThwoWUffv2/U6tVr+Pt6HMc0hALUh/UalUXzMuNOmprKwMGx8f/7sAkAveYvsbt5uamlYxjuSoDQbD93GBu6UQlj03btw4xjiSokZSDQ4OJtJrwKRk5cqVWYwjKSQhITY2tg55H5wGJhXQVpaUlBQLRQthHMkggVnnzJnTgbwQGlZP75kHOAobHiZlET09PclM2qlCQBNE/8CbIy/ui7t37zaYTKaPoR2Jts/e6t2ZzWbj6tWrfxAfH79MpDhiaGhoMfKnjGOPx55zkP2bdevWVSOrZm5SVlb26Y4dOwrwUuNQFB0aGrpm7969tXq9PuBNIyzYGIYJfXFxsYV5KDRJTFV5eflBrVb7OV7Ot/8c45cFmloPc/lfvA3C+0A2jSq0fwjXowbDRTnyQeYBQUwaXiBRBV4RGCoVjGw1etY7jDPFQaSvILzDuD6jzE0k8eNh9p6zSYE5+40gnqZTFNJHo6OjW7Kzs91WGEkElpaW1opsiHFcJQzalck8sHCSCCw5OdmIbIDmXhyXEDyd80oW2qipqem0zb04b2cM43rzyMiI2z1cKqeDNTY2tm3evJk0bY5DkRUDrA4moJ8FzgSa1EcDi5OAThxpX4BrQc7YOJagHtXV1Y0xN5FMYIiWkKfYi5TiUGTt7++vO3z48O8XLlxIERDN2Jjb9fQrEEwYzc3NXYkO/AnerrEvg7AY5qS6oqIiGvN9t+x06dKlDeg9tSJBe6tOp/tnSUlJQNlLTI7Xou33RK7HeFdX1zeJiYkRzAMkG8Pg2k9p2CtgcFVFRkamItoRyQIIi8WyFlmaSJEJ41dDenq6R16HZALbs2dPD7IeR++HlmxgBmgFO1nK35vtbNy4kYaGGJEiElhjb2+vbwVGDA8PdzlZUwtG2fK8vLyAMYsQ2EInY7U5KCjo8aJFizyaA0kqsDNnznQ7KQqB5mXCkwwIgWGconYmQDBixS8xfDRWVVX5XmAxMTHtTGQcA8HQvCUwA5J5pbOZa9eukfmPFytDxzXC2vQxDz1ESQWGntWJrEukKARzkkyj0RgoGpbKnAisubm5dcGCBWbmIXIITMws0n6RNLiyASEwjF3kcMwTKSKH48n69euZp0gqsKioKGcaRuYysrKyMpYFQLQDLj2ZxDiRIgPSE0Q4pNs84y3QsuPoYWK73obRkB9iPqZkLZvojIh0FItv/BNanz179hPmhaJIPi9CxKPHSRCYYmuZbW1tSt4qMOFIBAcHJzqJxo+SSWReILnA6uvrySSKTUA0aEQGUjBTMA0NDeRsxDjOR20CNKWkpLQwD3emEZK72SEhIRTxoG1zKSK/tRRBYkVvxhkYGEhnIhEOEmB7e3vv2bNnjcwLJNcwTApJw9pEishOLocNV7SGgSVIsSKfW1+8eNFcUFDgVYRecoGZTCZy61tFilSY+S84duxYOFMwaL8zgQ3D+jSxWQht5zoOj/D1dRbM8pF9yBTs2re0tJxz4iE+u3fv3m7mZdvliJ4LnZ2dbWJxNBUttY6PL83Ozvbm/rNZC+27TE1NTXHiIergPXu9A1pqgU30nqNHjzoLAqvRqExMosOY8qC7gKKZcw9Rl5WV1cy8XGWWWmATlZk7dy7tUewXKSeBZvT3989hCgTtovHrtTGaBIjJ9JAnG0df+1tMBlBBEtZzsSKkDFRckRqGcZv2GkaJFVZUVLQyCZBFYDB7A0zctVdDWClJSUlKG8PIcqgwRn2APEGkXI8xvYVJgCzrUwaDgTTshVgZGhVx/vz5ucuWLVNjEc/vtwyMjIyosL6lrqmp2TRv3ryPmPgN/RSua2ASIJt7DS37LbI/i3xuhZadHhoaujM6OkqOo9+6+DD9dAN+KNqUBavxYzRlEXO4puRw4P9VI2Dwi/T09G7mJXKuALfR1m3HQDAaRVr1S3iKOUhMAZCAaMuaqCNFDsfNmzfrtFqt18IiZBPY6dOn+/Pz88ec/EY0Uz5WLDOpMXY9gNDO2T7z+swS2caQ6upqHRN3PAKBKWGZnj59emrr1q0PbZ97vdNXNoEhKk9bkZ+xwGJCIDZhmRsbGz+9ePHil7YyScZqOccwEhjN7LeywEFFexEhrP89efKk8NChQxfgCVOYY+K0BiYBMyEwUeCQjMMhmZi/MP+GBEERjIlgAYRVi1X1i5mZmQ9s5ZIJi5D1YsHdzYFb+w8nu4Erbt++Xd3c3GzCkrrf7leE14smWnVoa3t0dPS9Xbt22c8//etgtI6Ojg/QkDEnyw106oBSl1lka5eskYbc3FwyFRQIFutl7+7fvz+DKRPZtEpWgcXHx5PAaJeQWAPSoWWBMB+TFLljeXrm3PFIi4uLmwqU8rOoXERWgen1+hFkjWJlGKhDTpw48WFRURHd6Cf1WcOKRe6LRPs7PoZwLsNTfCWoiM8pMxiNxsLw8PATxcXFOsxbVKtW+d8hpmFhYQLdUVlaWjrlvss2hsneq48cObK8sLCwAnOu7zn+njB5Rz2ZzS5oo761tZXunfIbTaOFBlvH68P865uUlJQv8RlZFf8953jLli1RaNRn4284nxYaKPg51IBhpM8RlY9n/k5BQUHGy5cvGwTlY2xvb9/MZGSmzA+NZVpo0t9okc+2Zqk0R0Mwm82qkJCQn6F9XzGZmKklegGNKIfj8Wvkt+kDOg6CKQsSlvXy5csjTEmcPHlyLczjcWjcI7IhUh+97isQpadx7K/btm2bz2Rkpnv59PNdsCL9fk5OjhaT56Vsci86LbFrmP95V1Rf0qr6hw8fnsjKypJkK4AzfGGWXnN5KysrYwwGw1z00mDyGJkfgZUGITk5uXvNmjVebxLlcDgcDkfJzKojGOiBc8g0aWlpaixusqqqqtnggKizs7Md6xSwKwvTTwgsKSkJwTwms6OjY093d/dPBwcH38V7usvFF/vvVbY6aeC9Jnd1de1CysHrTVeuXIliASqw6UYj/ratr6+vAgJqReq0pedw8f/1+PHjI3gd6vgduevV1NT0Hib4pfjtZqQOW53aILQ7qNMnWFlQ5D1ubwUX4TBSF0ULnEQ9epHOQ+OmNuLLKTSVrU4Hke471sluVWGE6oSJchwLEKYuTC7S4NvCU7hQZmR/xFgSaf99GVBjQXUrfqvpTUs+tjL651x9fX1gPAQIJiUODf7W1VginUBQW1ubzWTk1q1bURBYteA6w4jO/MiTR3L4Hbg4vxImzZ1L2AT7h/z8fFkOeyYPFX9/EzrGsBsLqhaY6ssZGRkztvvLZ3dAYqmFznN3eQygm+eQbdDpdAuYDFy/fj0U2vUe3b/mxj2GpFlrsawyYxrmM4FBYyLc/H26ipH4niwXhxYf8bejmZvjI7Qsgu5WYTOEzwSGXkzn3lrc+xbrxve8OlzLGfPnzx8PCgqiQ83cunEBAhsIDQ2dsacE+Uxg4eHh/0HWLQiuBTOEyf94x2Kx9DAZKCsrM8Ps1uKlOx3CrNFovsWY527H8xifCQy98jpM0ANXxwt62A6EVV5aWiqLhgHBdnjXv5nrWtYPgV1KSEgwMYUzIaWrV6/+XJiMJLwR9OBRk8n0Gyy/e/S8EjfQ9PT00DNTHtl+903V0iMVCZPhs4BgavK8H5rWTp67MDkZtReUhdxseG9/2r1794wcOUBnEiNuqMXP07Y8i2OdbPWkPYhfCAF2M8d0gBUNXwsv7QydtQiPywwhIYz3sg+vS+hg5wMHDkSxGYQmwp2dnWnoSJ+hXs2ojwmvzajTMNLXqO9uJEWf++iM6Wj99u3b47KystJPnTq1Sq/Xr96wYUM67UDywSnc04Pqzp07o1esWJGKQPCq+/fvv4MJ8hKtVpuISXZAPOHCGf66VMHvtuFwOBwOh8PhcDgcDofD8Yr/AwAoazj1gHDnAAAAAElFTkSuQmCC",Xee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAACACAYAAABDTVbYAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA76SURBVHgB7Z1LcxPZGYbfcyT5hgHBcMuYDJ0aKpPLwppKJZukCnk1q9TALxhr+AGGX4C9yhL4ARnZvwBTWWWFWMwmWeDZzCRVpEpMMMNwFYPBRpc+c76WZHyRrT6fbt3y91SB2pYssLrffr/vPed0KwwZL+GlK6h4GsgYKM/AnFMwadjt+iNA39/5cwqqBPglEzzCPqJov/fA/kzRfq+YRHLlGIolDDEm76U3UM3YLftZYdp+BvR5efR18LzR6eZnuA1lio2N4NH+7Irx1Sut/RX7GRZHcqsrGDIUYs4TTGXsL5G1O3law2RbiaJb2H/HisjYg0DdtX9WTuJhATHlvUj8C/b3yvhGZ1uKoksoZcVkBQUfdxMaK3EXU+yEQ45SQ+WiD1zQUBdND3d2SAr2gFhKIVWwjlREhCnnpzI1mM/tbs9a281isBTt0VewJ7vbIxgpqFy83DwWwiGxVFGZtZt2pw98h+8HnUWXkkgtR0VE6/mzWXIVuzkLozxEFKXMsi3vbo9fXl1EDIi0cJ6Cdjrm6qXYwJ3FlcCJTmF1EX2GyrB1vzKrtD3RDN5ZnKAek0SUAG5GuZyLnHAazf1F+x/7AtF2l1BQX+TDv5HC6O1eu1C9bynP2Sb+iorfiWY3tpSzPdFSFF0oMsKpl2Nl6y76SgzdJRT2w15MILXQbQGt5z0PqFyzp+tZDCdF+7stRElAkRDOc5yds2XN/LAKZjdmPomRpU4FRA7zzgrGGFzBwSAyAhqocOo9jLluNzM4YNRLOCxweqChK8kcoVhbqdSl8dzgApiBCMeWZV4N1evWYS7igEMCsuXbTFj3CVIyY/IIBiYPOAqLsKXvIATUd+EcvLIsLGb+JB4t7PnswSvLwjKQ8q1vwiGXsWMxdKbMQmjJXu4jLtMeo3Bj3LpPvwZS+yIc6mVsLZ43suND8t59NvJT18VlQlOESs30o3TruXCe48NrPtQ8BCeSH1QWx/+W8ExSZyE4YYx/deLyDzfQQ3omnPqcsrINANQsBCeSxys4MvMc6gRQnj4JM5aA4Igy8+O5vXvGjt8ePaDRz9zCAYyZO2X047eY/NMrqBE/+JpEU/n9B/AnUxAcUSiMIXWpF31P14VTj5ord6SfcWfst2uBaHaR1KicP4ra6QkIzvSk7+mqcF6Cpq3jlojGnYnp15jI/LTvayq/OSbi4dF18XRNOHXRqDsyPuNOGNE0qXpHUD13GIIzXRVPV4TTmAlwT0TjjotomojzsOmaeDQ65H1PI6JxhSMaIvWfl0j8+BaCMx5M5U59NnlndCQcCQL4UHrGEU2T1P1X0GsVCM54yia+NIUJHcAWTmPtv4iGAY3THP7LS3RE1cfIN8+gNmoQ3DAGmXco59EBbOFY0VwX0bijJ2vB4GZXCMTzFKpqILhhjLq4nv/wGpiwhEPTaAyGdrVhT0l/9jQQT7cgx0n9t0P3OqgYNV/+auoLMHBO1Sh2rgL3IDhz6I+vMP67NfSC6vk0qlOHILih6OKTKvWpa9Lm5Dj1MAC3IDgzdv5tz0RDJO+XoEvvILhBVyvlhAVOwqnRQirpa5yh0mximp+ghYVKNul33KGwYJ0uduJAaOE8wdSs9DU8SDTd7Gv2gvqdxIPeC3QYUQZX6hdvDEco4VCJZl/ITiAOMlSi0Z9+kXy4JiUbF2PyYUu2UMKREo1Hv0q0nUjKxsZ761dDrbZtKxy6G4CUaDz6VaLthEq25IPXENxJKDMXZkqODvECSdEYkGD6WaLthEo2CQrcqd8TqNJ2VsG+wmkEAh4EZwZRom2j6ktQwMUg2y4o0G2elECAQepMeaBu0yRwHZnLxsTse+zvKRxxGz4Dd5stJMV1eLRxHb3PE+I2DMhtUmeiEwcnHr+VXofN3q7TUjjiNnxGP36DqJFY7d1Un6FmH9dpKZzGTZ0ERwadpO2FJGx8FPy5Vt/fJZwn8OhaaFkIzkSpt9kGJWyy1JoFrdtpNZtA7/5GZQ4Ci5EI9TY70c/WIfBoNZtgl3AM1IG/Zw0HKtEGMUsgLDR/Teaw8VCKbnG/nW3CoVAAcrUaFqlfRv+Mnni+AcEd2/NndoYEevsL1OcQnCGnGf0o+gclRdMCD2O23z1wUzh01RrIrQVZRLm32YYNCaRc46F3JM2bwqmhloXAIg5lWhMp13jQ5M+t5dqWUs2XMo0JzRaIC5Ku8fH998M0W3ucLARnSDS6cS+bOECTPmXiJw+tzYXNbfqLlkbLFBseUZqXFhb9SvocDsog0xwMDYRTQSULgUXqdAyFIwEBC+pzNlAN7jKoG39dgMAicTx+Fz4X4fAxvnkvHAMl9+pkQKKJU3/TJOhzZNIni4TGND02wgEjwmGQmKwirkhAwMM39RBNN2ZDCwySx2MsnDfxidAjhkcBgdaoeRBYJI7F9+CTm1LxsWGapw18DwKLRIRnQ7dDSjU+NV9ntILyILCI8jKCtohw2FizSVvHwTkIziibpsUxUWuiN+Lbnw0cBbqWuqy/4aBGYh7nVuMr+kGTUDhqSzWZasMhzv1NE+lzePhQXke3axeEg4qWyZ081MgQOI7MHuBhjDgOFx33HoeoSqnGRYQjCAxEOILAQIQjCAyscFQJgjN+WSH2JBMQ3LHdbcmO4xgRDgNTjv9BZ5JDIP4BoJQqSanGZDgcR3Y/FxrHKUJwxpTjf9CJ4/DQMEUSzgMIzvhr8S7VzJj0N1x8Xz3QWsIBNn6MXceMJSHwMDYXsI5jihBYxNp1pL9ho7RasamaLkJgUX05grjiT6Yg8EiQ41RQWYHAIs6O4x8S4XAZya2u6F/gcVEGQXlUX8S4T5Aeh4UN0wKjaV5XTVyHQfVFnEs1EQ4PE6TQgXAU1DcQnKFSLY7Jmp8ehcDEqAI9iON0SOVx/FzHSDDAhhI1egyEk0BqGQKLyo/xO3vXjorjcFBAaTz3sEDbgXCOoVhSMvWGRe1F/M7eRko1FkapzcpsS4GubkNwpvJ4NFZ9jj85InPUuPhmqbm5ucdtzCblGpPy/8cRF/wTYxCY6Fphc7O5cRJUu8l4Dod392MknA/i83+NEjR+M56jMc8622oMa+BLEJyp2j4nDuUaTeyU8RsmZrs29PbnpFzjQGtz4lCuSZnGR+naNm1sE46Ua3ziUK5VpyYhMFCqsLVMI1rVFzchOBP1dI1mC8jiNSZb0rQmu/Z0EskbEFhsfBfdM3rt9AQEFsUxvXuCwC7h0GCofShAcGb920ORdB0KBWpnRDgctEJB5Yq72pc99rJagOAMhQTv/he9A7QmvQ0bH7WWWmgpnHpIIK7DYf3baB2kgdtImsbCus3izlBg87m9f0xchwMtNaCgICrUTo9LKMBkL7ch9hSOuA6f118fQxSo9zaHILizn9sEz2NfxHU4kOtsRKDXEbfhs5/bEPsKR1yHz5t/HR1owkZuU/WOQHCnndsEr0EbqqjlZDaBO5SwDXJcp3ruMAQWxXZuQ7QVTv0qODKbgEMwrrPW/0mVNEtAxm2YGCy0cxsiVC1Bswnk4uzukOu8/jqNflP5JBrhROygOWmXVxfDvDSUcOpLq1UOgjMUTa9/179ki0o0CQTcMUE7Ug19jIfuXikosOKRko3B25UjfSnZJBDoAGNClWhNnBefP8XUPfuQgeBE6sw7HP3sGXoFiaY8fULchgGlaKO51W1us54/m7XimFPwl6wbXRtFauYdyvmx3KNLwc/AEZuyXZKUzR0q2d78+yh6hZRobFqmaHQZKANzezT3aNk36u6Gqd5SW457Z+FQymbf8CoEZ2geW/n77s8bI9FIisajpnBprxKt1rhOtFJYrilz1YfaXJfDvk7QU5ydtwXCNQhOqBEfx/76FHqyim5A0TOVaII7xuDqxOVV1voz9tC2DQvmjVzcwxmKqEv/PNGVsID6Gomeedjya4ErGqKjOSEppK6gYWdCeGgu2093jnc0JUfCAD6+PeEfuvxwHh3Q8SUdX8JLV1C5Z9/Ig+DEyEfrODLzAq6YpEb5D6dENAzscboy9uXqp+iQjmch0uBoDbUZmVngTvn7caw5LkEIRCNOw4JEM6pSM+gCXbuI8A844yWQuCPO487Y+beY/PPLtq/bFI3cpsOZpmhaXT+A+X7dQ8TDp514RDR8ui0aoqsLRmiMh8o2SGDgzMb9CZT+caplYBAEAdTTiGicoSCg26IhenK/h0ZgcMO++RcQnNCTNaQ/e7Y5ziPpGR/bd9+c+HL1CnpAT2+UIoOkPEg8R2aeQ/06geonx+V+Ngw6GdwMQ8/3yBNMzSqo63QfMAih8aEWDn+FtIKZg+BCkabRTOZWe9ou9OVUJqFBeCjWp7VPjes9YD0/NWuMuq7kxNMepQpjSF7qdj/T8p9CH5HSbX+sYJZfI5n7Fbbv+PX8GU8hccuWH7KcowXBIjRjFnpZmu2k78WzuE8raLq6WTiJ/Xf8+t/PzhtFa0TEfTaxLkMrN10WoXXln8WAEPepQ8nPG6Tmd7rMXpD7+CYxrw94YjkIl9nKQOOahvvMH8zYms6UWGj2Mq5Q72OPHjrxeDhg0MlmXKXm+9HL7EUkck4SUBLJvP1IshhyqPmnhYCn8agrt408UAIaUFnWikgNENjyLWsfrg2pgFboTHkKq4voAUMtIFV3Z1rOjIgQyZG14SrhOivJXCEB2XRuzhgT6wSufrkms6RU7UYUHGYnkR6SbggoazevxSuFCy7qcNOWZMvWYQYyb28tP5VRBlesiD6PVQpn3cX45va4Ti0OsodpR2zmclAZZw/EWbt5IZoiUiV7lly2B+lSv9wlLMEgqhWQPY1nIykihSJ8tZTQZnkkN5gTjSuxnAT1BPZsCmRBB8NA+yFl+xZzlwYuoyaWvaDrhfnGzCaUmh5UOUdlmFK257POonRqeTxXLCJmDMXswXqoQAeBuoDAjbp/QKggDQuE8kBDF14jUQg79hJVgjEhpGxJ52dVICRkeuFI9r1Xgs/O97/xNQqTMXGV/Rjaabd1V1LphqDSdsedaxwUmweG/dqrN6FoCqBU/9p/pYI5Yyj5Ng2zA5TFuIskLCbvpTdQzfj2M9O+yRhl0krpo/YZb8cr7deq+P7rxrZvHkCbog9d0kisxNFNwvAzelL8ZR7DblMAAAAASUVORK5CYII=",wr={PRIMARY:"#4682b4",TEXT:"#131313"};function Zee(){var N,B;const[,t]=Gi(),[e]=Gi(),{user:n}=Ao(),{notifications:s,markAsRead:r,markAllAsRead:i}=Hee(),[a,o]=Q.useState(!0),{data:c,isLoading:l,error:u}=cx({queryKey:["/api/wallet/balance"],queryFn:async()=>{const O=await fetch("/api/wallet/balance",{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch wallet balance");return O.json()}});c!=null&&c.balance,c!=null&&c.formattedBalance;const{connected:d,orderUpdates:p,connectionError:y}=v$(),{connected:m,notifications:f,connectionError:v}=b$(),{connected:h,chatMessages:b,connectionError:g}=x$(),[x,k]=Q.useState({latitude:0,longitude:0,city:"Unknown",country:"Unknown",loading:!0,error:null}),{data:_}=cx({queryKey:["/api/transactions"],queryFn:async()=>{const O=await fetch("/api/transactions?limit=5");if(!O.ok)throw new Error("Failed to fetch transactions");return O.json()}}),w=(_==null?void 0:_.transactions)||[];Q.useEffect(()=>{(()=>{if(!navigator.geolocation){k(j=>({...j,loading:!1,error:"Geolocation not supported"}));return}navigator.geolocation.getCurrentPosition(async j=>{const{latitude:D,longitude:H}=j.coords;try{const ie=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${D}&longitude=${H}&localityLanguage=en`)).json();k({latitude:D,longitude:H,city:ie.city||ie.locality||"Unknown City",country:ie.countryName||"Unknown Country",loading:!1,error:null})}catch{k({latitude:D,longitude:H,city:"Unknown City",country:"Unknown Country",loading:!1,error:null})}},j=>{k(D=>({...D,loading:!1,error:j.message}))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})})()},[]);const E=()=>{if(x.loading||x.error)return"/attached_assets/image_1752989901533.png";const O=15;return`${x.latitude}${x.longitude}`,`https://api.mapbox.com/styles/v1/mapbox/streets-v11/static/pin-s-l+ff0000(${x.longitude},${x.latitude})/${x.longitude},${x.latitude},${O}/400x160@2x?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw`},T=[{id:"scan",title:"Scan QR",icon:Wee,route:"/qr-scanner",bgColor:"bg-[#4682b4]"},{id:"fuel",title:"Order Fuel",icon:Kee,route:"/fuel-ordering",bgColor:"bg-[#0b1a51]"},{id:"toll",title:"Toll Gates",icon:Yee,route:"/toll-payments",bgColor:"bg-[#010e42]"},{id:"cart",title:"Cart",icon:Jee,route:"/cart",bgColor:"bg-[#4682b4]"}],I=O=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(O),L=O=>new Date(O).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),q=O=>O==="credit"?"":"",F=O=>{switch(O){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},A=O=>{O.actionUrl&&t(O.actionUrl)};return Q.useEffect(()=>{p.length>0&&p.forEach(O=>{O.type===td.ORDER_STATUS_UPDATE&&console.log(`Order status update: ${O.status} for order ${O.orderId}`)})},[p]),Q.useEffect(()=>{f.length>0&&f.forEach(O=>{var j,D;O.type===td.NOTIFICATION&&console.log(`New notification: ${((j=O.payload)==null?void 0:j.title)||"New notification"} - ${((D=O.payload)==null?void 0:D.message)||"No message"}`)})},[f]),Q.useEffect(()=>{b.length>0&&b.forEach(O=>{var j,D;O.type===td.PAYMENT_CONFIRMATION&&console.log(`Payment confirmed for order ${((j=O.payload)==null?void 0:j.orderId)||"unknown"}: ${((D=O.payload)==null?void 0:D.amount)||0}`)})},[b]),S.jsxs("div",{className:"min-h-screen bg-gray-50 w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl mx-auto px-2 sm:px-4",children:[S.jsx("div",{className:"bg-white shadow-sm border-b border-blue-100/50 animate-fade-in",children:S.jsxs("div",{className:"flex items-center justify-between p-4",children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("img",{src:Ky,alt:"Brillprime",className:"w-8 h-8 animate-pulse"}),S.jsxs("div",{className:"animate-slide-up",children:[S.jsxs("h1",{className:"text-lg font-semibold text-[#131313]",children:["Good morning, ",((N=n==null?void 0:n.fullName)==null?void 0:N.split(" ")[0])||"User"]}),S.jsx("p",{className:"text-sm text-gray-600",children:"Welcome back to Brillprime"})]})]}),S.jsxs("div",{className:"flex items-center space-x-3 animate-slide-in-right",children:[d||m||h?S.jsxs(er,{variant:"default",className:"rounded-full px-3 py-1",style:{backgroundColor:"#D1FAE5",color:"#059669"},children:[S.jsx(IF,{className:"w-3 h-3 mr-1"}),"Live"]}):y||v||g?S.jsxs(er,{variant:"default",className:"rounded-full px-3 py-1",style:{backgroundColor:"#FEE2E2",color:"#DC2626"},children:[S.jsx(PF,{className:"w-3 h-3 mr-1"}),"Offline"]}):null,S.jsx(Gee,{notifications:[...s,...f.map(O=>{var j,D,H,Z,ie,Oe;return{id:((j=O.payload)==null?void 0:j.id)||Math.random().toString(),title:((D=O.payload)==null?void 0:D.title)||"Notification",message:((H=O.payload)==null?void 0:H.message)||"",timestamp:new Date(O.timestamp||new Date),type:((Z=O.payload)==null?void 0:Z.type)||"system",isRead:!1,priority:((ie=O.payload)==null?void 0:ie.priority)||"low",actionUrl:(Oe=O.payload)==null?void 0:Oe.actionUrl}})].sort((O,j)=>new Date(j.timestamp).getTime()-new Date(O.timestamp).getTime()),onMarkAsRead:r,onMarkAllAsRead:i,onNotificationClick:A}),S.jsx(Le,{variant:"ghost",size:"icon",onClick:()=>t("/profile"),className:"transition-all duration-300 hover:scale-110",children:S.jsx("div",{className:"w-8 h-8 bg-[#4682b4] rounded-full flex items-center justify-center border-2 border-blue-200/50",children:S.jsx("span",{className:"text-white text-sm font-medium",children:((B=n==null?void 0:n.fullName)==null?void 0:B.charAt(0))||"U"})})})]})]})}),S.jsxs("div",{className:"p-4 space-y-6",children:[S.jsx(ks,{className:"bg-gradient-to-r from-[#4682b4] to-[#0b1a51] text-white rounded-3xl border-2 border-blue-200/30 animate-fade-in-up",children:S.jsxs(cs,{className:"p-6",children:[S.jsx("div",{className:"flex items-center justify-end mb-4",children:S.jsx(Le,{variant:"ghost",size:"icon",onClick:()=>t("/location-setup"),className:"text-white hover:bg-white/20 transition-all duration-300 hover:scale-110",children:S.jsx(cu,{className:"w-5 h-5"})})}),S.jsx("div",{className:"mb-4",children:S.jsxs("div",{className:"h-40 bg-white/10 rounded-3xl overflow-hidden relative mx-2 border border-blue-200/20",children:[x.loading?S.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"w-8 h-8 border-3 border-[#4682b4] border-t-transparent rounded-full animate-spin mx-auto mb-2"}),S.jsx("p",{className:"text-sm text-[#4682b4] font-medium",children:"Getting your location..."})]})}):x.error?S.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx(cu,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),S.jsx("p",{className:"text-sm text-gray-600",children:"Location unavailable"}),S.jsx("p",{className:"text-xs text-gray-500",children:"Using default map"})]})}):S.jsx("img",{src:E(),alt:"Live Location Map",className:"w-full h-full object-cover",onError:O=>{O.target.src="/attached_assets/image_1752989901533.png"}}),S.jsx("div",{className:"absolute bottom-3 left-3 bg-white/95 backdrop-blur-sm rounded-2xl px-3 py-2 shadow-sm border border-blue-200/50 animate-slide-in-left",children:S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),S.jsxs("p",{className:"text-xs text-[#4682b4] font-semibold",children:["Live  ",x.loading?"Loading...":`${x.city}, ${x.country}`]})]})}),S.jsx("div",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm rounded-2xl p-1 shadow-sm border border-blue-200/50 animate-slide-in-right",children:S.jsxs("div",{className:"flex flex-col space-y-1",children:[S.jsx("button",{className:"w-6 h-6 flex items-center justify-center text-[#4682b4] hover:bg-blue-50 rounded text-sm font-bold",children:"+"}),S.jsx("button",{className:"w-6 h-6 flex items-center justify-center text-[#4682b4] hover:bg-blue-50 rounded text-sm font-bold",children:""})]})})]})}),S.jsx("div",{className:"flex space-x-3",children:S.jsxs(Le,{className:"flex-1 bg-white text-[#4682b4] hover:bg-gray-100 rounded-2xl border border-blue-200/50 transition-all duration-300 hover:scale-105",onClick:()=>t("/location-setup"),children:[S.jsx(cu,{className:"w-4 h-4 mr-2"}),"Where are you?"]})})]})}),S.jsxs("div",{className:"animate-fade-in-up",children:[S.jsx("h3",{className:"text-lg font-semibold text-[#131313] mb-4",children:"Quick Actions"}),S.jsx("div",{className:"grid grid-cols-2 gap-3",children:T.map((O,j)=>S.jsx(ks,{className:"card-3d cursor-pointer rounded-3xl border-2 border-blue-100/50 animate-slide-up interactive-element",onClick:()=>t(O.route),style:{animationDelay:`${j*.1}s`},children:S.jsxs(cs,{className:"p-3 flex flex-col items-center text-center",children:[S.jsx("div",{className:`w-10 h-10 ${O.bgColor} rounded-full flex items-center justify-center mb-2 transition-all duration-300 hover:scale-110`,children:S.jsx("img",{src:O.icon,alt:O.title,className:"w-5 h-5"})}),S.jsx("h4",{className:"font-medium text-[#131313] text-sm",children:O.title})]})},O.id))}),S.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[S.jsxs(Le,{variant:"outline",className:"h-16 flex-col space-y-2 border-2 border-orange-200/50 text-orange-600 hover:bg-orange-50 rounded-3xl animate-slide-up",onClick:()=>t("/toll-payments-enhanced"),style:{animationDelay:"0.6s"},children:[S.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center",children:S.jsx("span",{className:"text-white text-xs",children:""})}),S.jsx("span",{className:"text-sm",children:"Pay Tolls"})]}),S.jsxs(Le,{variant:"outline",className:"h-16 flex-col space-y-2 border-2 border-purple-200/50 text-purple-600 hover:bg-purple-50 rounded-3xl animate-slide-up",onClick:()=>t("/qr-scanner?type=delivery"),style:{animationDelay:"0.7s"},children:[S.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center",children:S.jsx("span",{className:"text-white text-xs",children:""})}),S.jsx("span",{className:"text-sm",children:"Verify Delivery"})]})]})]}),S.jsxs("div",{className:"animate-fade-in-up",children:[S.jsx("h3",{className:"text-lg font-semibold text-[#131313] mb-4",children:"Services"}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs(Le,{variant:"outline",className:"service-item-3d h-20 flex-col space-y-2 border-2 border-blue-200/50 text-[#4682b4] hover:bg-[#4682b4]/10 rounded-3xl animate-slide-up",onClick:()=>t("/commodities"),style:{animationDelay:"0.2s"},children:[S.jsx(NF,{className:"w-6 h-6"}),S.jsx("span",{className:"text-sm",children:"Marketplace"})]}),S.jsxs(Le,{variant:"outline",className:"service-item-3d h-20 flex-col space-y-2 border-2 border-blue-200/50 text-[#4682b4] hover:bg-[#4682b4]/10 rounded-3xl animate-slide-up",onClick:()=>t("/order-history"),style:{animationDelay:"0.3s"},children:[S.jsx(ZN,{className:"w-6 h-6"}),S.jsx("span",{className:"text-sm",children:"Order History"})]}),S.jsxs(Le,{variant:"outline",className:"service-item-3d h-20 flex-col space-y-2 border-2 border-blue-200/50 text-[#4682b4] hover:bg-[#4682b4]/10 rounded-3xl animate-slide-up",onClick:()=>t("/merchants"),style:{animationDelay:"0.4s"},children:[S.jsx(cu,{className:"w-6 h-6"}),S.jsx("span",{className:"text-sm",children:"Find Merchants"})]}),S.jsxs(Le,{variant:"outline",className:"service-item-3d h-20 flex-col space-y-2 border-2 border-blue-200/50 text-[#4682b4] hover:bg-[#4682b4]/10 rounded-3xl animate-slide-up",onClick:()=>t("/payment-methods"),style:{animationDelay:"0.5s"},children:[S.jsx(eg,{className:"w-6 h-6"}),S.jsx("span",{className:"text-sm",children:"Payment Cards"})]})]})]}),S.jsxs("div",{className:"animate-fade-in-up",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h3",{className:"text-lg font-semibold text-[#131313]",children:"Recent Transactions"}),S.jsx(Le,{variant:"ghost",className:"text-[#4682b4] hover:text-[#0b1a51] transition-all duration-300 hover:scale-105",onClick:()=>t("/transactions"),children:"View All"})]}),S.jsx("div",{className:"space-y-3",children:w.slice(0,4).map((O,j)=>S.jsx(ks,{className:"card-3d rounded-3xl border-2 border-blue-100/50 animate-slide-up interactive-element",style:{animationDelay:`${j*.1}s`},children:S.jsx(cs,{className:"p-4",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${O.type==="credit"?"bg-green-100":"bg-red-100"}`,children:S.jsx("span",{className:`text-lg ${O.type==="credit"?"text-green-600":"text-red-600"}`,children:q(O.type)})}),S.jsxs("div",{children:[S.jsx("p",{className:"font-medium text-[#131313] text-sm",children:O.description}),S.jsx("p",{className:"text-xs text-gray-600",children:L(O.date)})]})]}),S.jsxs("div",{className:"text-right",children:[S.jsxs("p",{className:`font-semibold ${O.type==="credit"?"text-green-600":"text-red-600"}`,children:[O.type==="credit"?"+":"-",I(O.amount)]}),S.jsx(er,{className:`text-xs ${F(O.status)}`,children:O.status})]})]})})},O.id))})]}),S.jsx(ks,{className:"rounded-3xl border-2 border-blue-100/50 animate-fade-in-up transition-all duration-300 hover:shadow-lg",children:S.jsxs(cs,{className:"p-4",children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsx("h4",{className:"font-medium text-[#131313]",children:"Payment Methods"}),S.jsx(Le,{variant:"ghost",size:"sm",className:"text-[#4682b4] transition-all duration-300 hover:scale-105",onClick:()=>t("/payment-methods"),children:"Manage"})]}),S.jsxs("div",{className:"flex space-x-3",children:[S.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-2xl p-3 flex-1 border border-blue-100/50 transition-all duration-300 hover:scale-105",children:[S.jsx("img",{src:Xee,alt:"Mastercard",className:"w-8 h-5"}),S.jsx("span",{className:"text-sm font-medium",children:" 4532"})]}),S.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-2xl p-3 flex-1 border border-blue-100/50 transition-all duration-300 hover:scale-105",children:[S.jsx("div",{className:"w-8 h-5 bg-[#1A1F71] rounded flex items-center justify-center",children:S.jsx("span",{className:"text-white font-bold text-xs",children:"VISA"})}),S.jsx("span",{className:"text-sm font-medium",children:" 8901"})]})]})]})})]}),S.jsx("div",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-md bg-white border-t-2 border-blue-100 shadow-lg z-50",children:S.jsxs("div",{className:"flex justify-around items-center py-2 px-4",children:[S.jsxs("button",{onClick:()=>t("/consumer-home"),className:"flex flex-col items-center p-2 rounded-lg transition-all duration-300 hover:bg-blue-50",style:{color:e==="/consumer-home"?wr.PRIMARY:wr.TEXT},children:[S.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:S.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:S.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})})}),S.jsx("span",{className:"text-xs font-medium mt-1",children:"Home"})]}),S.jsxs("button",{onClick:()=>t("/search-results"),className:"flex flex-col items-center p-2 rounded-lg transition-all duration-300 hover:bg-blue-50",style:{color:e==="/search-results"?wr.PRIMARY:wr.TEXT},children:[S.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:S.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:S.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})}),S.jsx("span",{className:"text-xs font-medium mt-1",children:"Search"})]}),S.jsxs("button",{onClick:()=>t("/messages"),className:"flex flex-col items-center p-2 rounded-lg transition-all duration-300 hover:bg-blue-50 relative",style:{color:e==="/messages"?wr.PRIMARY:wr.TEXT},children:[S.jsxs("div",{className:"w-8 h-8 flex items-center justify-center relative",children:[S.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:S.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"})}),S.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:S.jsx("span",{className:"text-xs text-white font-bold",children:"3"})})]}),S.jsx("span",{className:"text-xs font-medium mt-1",children:"Messages"})]}),S.jsxs("button",{onClick:()=>t("/profile"),className:"flex flex-col items-center p-2 rounded-lg transition-all duration-300 hover:bg-blue-50",style:{color:e==="/profile"?wr.PRIMARY:wr.TEXT},children:[S.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:S.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:S.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),S.jsx("span",{className:"text-xs font-medium mt-1",children:"Profile"})]})]})})]})}function ete(){const[t,e]=useState("overview"),[n,s]=useState([]),[r,i]=useState(!0),[a,o]=useState(!1),[c,l]=useState(null),[u,d]=useState(!1),[p,y]=useState(!1),[m,f]=useState(null),[v,h]=useState(null);return S.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-gray-50 p-6",children:S.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[S.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Merchant Dashboard"}),S.jsx("p",{className:"text-gray-600 mb-6",children:"Manage your business and accept payments"}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("button",{className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"View Sales"}),S.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Accept Payment"}),S.jsx("button",{className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Manage Inventory"})]})]})})}function tte(){const[t,e]=Q.useState("active"),[n,s]=Q.useState(!1),[r,i]=Q.useState(!1),[a,o]=Q.useState("today"),[c,l]=Q.useState(!1),[u,d]=Q.useState(!1),[p,y]=Q.useState("pickup");return S.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-gray-50 p-6",children:S.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[S.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Driver Dashboard"}),S.jsx("p",{className:"text-gray-600 mb-6",children:"Manage deliveries and track earnings"}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("button",{className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Available Orders"}),S.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Track Delivery"}),S.jsx("button",{className:"w-full bg-orange-600 text-white py-3 px-4 rounded-lg hover:bg-orange-700 transition-colors",children:"View Earnings"})]})]})})}function Hh({title:t,description:e,icon:n,features:s=[],isSelected:r=!1,onSelect:i,className:a}){return S.jsx(ks,{className:xt("cursor-pointer transition-all duration-200 hover:shadow-lg",r&&"ring-2 ring-blue-600 border-blue-600",a),onClick:i,children:S.jsxs(cs,{className:"p-6 text-center",children:[n&&S.jsx("div",{className:"mb-4 flex justify-center",children:n}),S.jsx("h3",{className:"text-xl font-semibold mb-2",children:t}),S.jsx("p",{className:"text-gray-600 mb-4",children:e}),s.length>0&&S.jsx("div",{className:"mb-4",children:S.jsx("ul",{className:"text-sm text-gray-500 space-y-1",children:s.map((o,c)=>S.jsxs("li",{className:"flex items-center justify-center",children:[S.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full mr-2"}),o]},c))})}),S.jsx(Le,{variant:r?"default":"outline",className:"w-full",onClick:o=>{o.stopPropagation(),i==null||i()},children:r?"Selected":"Select Role"})]})})}const nte="/src/assets/images/sign_up_option_logo.png";function ste(){const[t,e]=Q.useState(null),[,n]=Gi(),{setSelectedRole:s}=Ao(),r=()=>{t&&(s(t),n("/signup"))};return S.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white flex flex-col",children:S.jsxs("div",{className:"flex-1 flex flex-col justify-center px-4 sm:px-6 py-6 sm:py-8",children:[S.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[S.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg",children:S.jsx("img",{src:nte,alt:"Sign Up",className:"w-12 h-12 sm:w-16 sm:h-16 object-contain"})}),S.jsx("h1",{className:"text-lg sm:text-xl font-extrabold text-[var(--brill-primary)] mb-3",children:"Choose Your Role"}),S.jsx("p",{className:"text-[var(--brill-text-light)] font-light text-sm",children:"Select how you'll be using Brillprime"})]}),S.jsxs("div",{className:"space-y-4 mb-8",children:[S.jsx(Hh,{title:"Consumer",description:"Order products and services",isSelected:t==="CONSUMER",onSelect:()=>e("CONSUMER")}),S.jsx(Hh,{title:"Merchant",description:"Sell products and manage your business",isSelected:t==="MERCHANT",onSelect:()=>e("MERCHANT")}),S.jsx(Hh,{title:"Driver",description:"Deliver orders and earn money",isSelected:t==="DRIVER",onSelect:()=>e("DRIVER")})]}),S.jsx(Le,{onClick:r,disabled:!t,className:"w-full h-10 sm:h-12 rounded-brill font-medium shadow-lg btn-scale disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base bg-[var(--brill-active)] text-[var(--brill-white)] hover:bg-[var(--brill-secondary)]",children:"Continue"})]})})}function rte({currentStep:t,totalSteps:e,steps:n,className:s}){return S.jsxs("div",{className:xt("w-full",s),children:[S.jsx("div",{className:"flex items-center justify-between mb-2",children:n?n.map((r,i)=>S.jsx("div",{className:xt("flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium",i<t?"bg-blue-600 text-white":i===t?"bg-blue-100 text-blue-600 border-2 border-blue-600":"bg-gray-200 text-gray-500"),children:i+1},i)):Array.from({length:e},(r,i)=>S.jsx("div",{className:xt("flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium",i<t?"bg-blue-600 text-white":i===t?"bg-blue-100 text-blue-600 border-2 border-blue-600":"bg-gray-200 text-gray-500"),children:i+1},i))}),S.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:S.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${t/e*100}%`}})}),n&&S.jsx("div",{className:"flex justify-between mt-2",children:n.map((r,i)=>S.jsx("span",{className:xt("text-xs",i<=t?"text-blue-600":"text-gray-500"),children:r},i))})]})}const ite="/src/assets/images/onboarding_img1.png",ate="/src/assets/images/onboarding_img2.png",ote="/src/assets/images/onboarding_img3.png",Au=[{title:`Welcome to
Brillprime`,description:"Your trusted financial partner for secure transactions and seamless money management",image:ite},{title:`Smart Financial
Management`,description:"Track your expenses, manage multiple accounts, and make informed financial decisions with our advanced analytics",image:ate},{title:`Bank-Level
Security`,description:"Your data is protected with end-to-end encryption, biometric authentication, and advanced fraud detection",image:ote}];function cte(){const[t,e]=Q.useState(1),[n,s]=Q.useState(!1),[,r]=Gi(),i=Au[t-1];Q.useEffect(()=>{const o=Au.map(c=>new Promise((l,u)=>{const d=new Image;d.onload=l,d.onerror=u,d.src=c.image}));Promise.all(o).then(()=>s(!0)).catch(()=>s(!0))},[]);const a=()=>{t<Au.length?e(t+1):(localStorage.setItem("hasSeenOnboarding","true"),r("/role-selection"))};return n?S.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white relative overflow-hidden",children:S.jsxs("div",{className:"px-4 sm:px-6 py-6 sm:py-8 flex flex-col min-h-screen",children:[S.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center text-center",children:[S.jsx("div",{className:"w-48 sm:w-56 md:w-64 h-56 sm:h-64 md:h-72 lg:h-80 mb-6 sm:mb-8 flex items-center justify-center mx-auto",children:S.jsx("img",{src:i.image,alt:"Financial illustration",className:"w-full h-full object-cover rounded-xl shadow-lg"})}),S.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold text-[var(--brill-primary)] mb-3 sm:mb-4 leading-tight whitespace-pre-line px-2",children:i.title}),S.jsx("p",{className:"text-[var(--brill-text-light)] font-light text-sm sm:text-base mb-6 sm:mb-8 max-w-xs sm:max-w-sm leading-relaxed px-2",children:i.description})]}),S.jsxs("div",{className:"flex justify-between items-center pt-6 sm:pt-8 px-2",children:[S.jsx(rte,{totalSteps:3,currentStep:t}),t<Au.length?S.jsx(Le,{onClick:a,className:"w-12 h-12 sm:w-16 sm:h-16 gradient-bg rounded-full text-white shadow-lg btn-scale p-0",children:S.jsx(bF,{className:"h-4 w-4 sm:h-5 sm:w-5"})}):S.jsx(Le,{onClick:a,className:"w-32 sm:w-40 h-10 sm:h-12 gradient-bg rounded-brill text-white font-medium shadow-lg btn-scale text-sm sm:text-base",children:"Get Started"})]})]})}):S.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white flex items-center justify-center",children:S.jsxs("div",{className:"flex space-x-2",children:[S.jsx("div",{className:"w-3 h-3 bg-[var(--brill-primary)] rounded-full animate-bounce"}),S.jsx("div",{className:"w-3 h-3 bg-[var(--brill-primary)] rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),S.jsx("div",{className:"w-3 h-3 bg-[var(--brill-primary)] rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}function lte(){return S.jsx("div",{className:"min-h-screen flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),S.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Page not found"}),S.jsx(eD,{href:"/",children:S.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Go Home"})})]})})}const ute=new yD({defaultOptions:{queries:{staleTime:5*60*1e3,retry:3}}});function dte(){return S.jsx(SD,{client:ute,children:S.jsx(zD,{children:S.jsxs(xN,{children:[S.jsx("div",{className:"min-h-screen bg-white",children:S.jsxs(tD,{children:[S.jsx(Fs,{path:"/",component:UD}),S.jsx(Fs,{path:"/signin",component:w6}),S.jsx(Fs,{path:"/role-selection",component:ste}),S.jsx(Fs,{path:"/onboarding",component:cte}),S.jsx(Fs,{path:"/dashboard",component:F$}),S.jsx(Fs,{path:"/consumer-home",component:Zee}),S.jsx(Fs,{path:"/merchant-dashboard",component:ete}),S.jsx(Fs,{path:"/driver-dashboard",component:tte}),S.jsx(Fs,{component:lte})]})}),S.jsx($D,{})]})})})}console.log("main.tsx loading...");const Gg=document.getElementById("root");console.log("Root element:",Gg);if(Gg){const t=Gh.createRoot(Gg);console.log("Creating React root..."),t.render(S.jsx(Ne.StrictMode,{children:S.jsx(dte,{})})),console.log("React app rendered")}else console.error("Root element not found!");
//# sourceMappingURL=index-DxO361nG.js.map

import{c as y,r as h,e as C,j as e,B as T,D as A,T as P,o as R,p as n,q as c,m as t,s as l,t as a,v as S,n as d,w as D,x as L,y as k,U as j,z as u,E as i,g as $,G as z}from"./index-CVqmz7v7.js";import{C as E}from"./calendar-RsJxqlG8.js";import{S as f}from"./star-CubuygiY.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=y("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),G=()=>{var o;const[x,v]=h.useState("30d"),[N,g]=h.useState("overview"),{data:s,isLoading:p}=C({queryKey:["merchant-analytics",x],queryFn:async()=>{const r=await fetch(`/api/merchant/analytics?range=${x}`,{credentials:"include"});if(!r.ok)throw new Error("Failed to fetch analytics");return r.json()}}),m=r=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(r),w=r=>`${r>=0?"+":""}${r.toFixed(1)}%`;return p?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Track your business performance and insights"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsxs("select",{value:x,onChange:r=>v(r.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"7d",children:"Last 7 days"}),e.jsx("option",{value:"30d",children:"Last 30 days"}),e.jsx("option",{value:"90d",children:"Last 90 days"}),e.jsx("option",{value:"1y",children:"Last year"})]})]}),e.jsxs(T,{variant:"outline",size:"sm",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsxs(P,{value:N,onValueChange:g,children:[e.jsxs(R,{className:"grid w-full grid-cols-4",children:[e.jsx(n,{value:"overview",children:"Overview"}),e.jsx(n,{value:"revenue",children:"Revenue"}),e.jsx(n,{value:"customers",children:"Customers"}),e.jsx(n,{value:"products",children:"Products"})]}),e.jsxs(c,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(t,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:"Total Revenue"}),e.jsx(S,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m((s==null?void 0:s.revenue.total)||0)}),e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[(s==null?void 0:s.revenue.growth)>=0?e.jsx(D,{className:"h-3 w-3 text-green-500 mr-1"}):e.jsx(L,{className:"h-3 w-3 text-red-500 mr-1"}),e.jsx("span",{className:(s==null?void 0:s.revenue.growth)>=0?"text-green-600":"text-red-600",children:w((s==null?void 0:s.revenue.growth)||0)}),e.jsx("span",{className:"ml-1",children:"from last month"})]})]})]}),e.jsxs(t,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:"Total Orders"}),e.jsx(k,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.orders.total.toLocaleString())||0}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[(s==null?void 0:s.orders.thisMonth)||0," this month"]})]})]}),e.jsxs(t,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:"Total Customers"}),e.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.customers.total.toLocaleString())||0}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[(s==null?void 0:s.customers.new)||0," new this month"]})]})]}),e.jsxs(t,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:"Average Rating"}),e.jsx(f,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsxs("div",{className:"text-2xl font-bold flex items-center",children:[(s==null?void 0:s.ratings.average.toFixed(1))||0,e.jsx(f,{className:"h-4 w-4 text-yellow-400 ml-1"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[(s==null?void 0:s.ratings.total)||0," reviews"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(a,{className:"flex items-center",children:[e.jsx(u,{className:"h-5 w-5 mr-2"}),"Revenue Trend"]})}),e.jsx(d,{children:e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Revenue chart visualization would go here"})})]}),e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(a,{className:"flex items-center",children:[e.jsx(F,{className:"h-5 w-5 mr-2"}),"Order Status Distribution"]})}),e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Completed"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${((s==null?void 0:s.orders.completed)||0)/((s==null?void 0:s.orders.total)||1)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium",children:(s==null?void 0:s.orders.completed)||0})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Pending"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${((s==null?void 0:s.orders.pending)||0)/((s==null?void 0:s.orders.total)||1)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium",children:(s==null?void 0:s.orders.pending)||0})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Cancelled"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${((s==null?void 0:s.orders.cancelled)||0)/((s==null?void 0:s.orders.total)||1)*100}%`}})}),e.jsx("span",{className:"text-sm font-medium",children:(s==null?void 0:s.orders.cancelled)||0})]})]})]})})]})]}),e.jsxs(t,{children:[e.jsxs(l,{children:[e.jsx(a,{children:"Best Selling Products"}),e.jsx(i,{children:"Your top performing products this period"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:((o=s==null?void 0:s.products.bestselling)==null?void 0:o.map((r,b)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx($,{variant:"outline",className:"w-8 h-8 rounded-full flex items-center justify-center",children:b+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:r.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[r.sales," units sold"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-medium",children:m(r.revenue)}),e.jsx("p",{className:"text-sm text-gray-500",children:"Revenue"})]})]},r.id)))||e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No sales data available"})})})]})]}),e.jsx(c,{value:"revenue",children:e.jsxs(t,{children:[e.jsxs(l,{children:[e.jsxs(a,{className:"flex items-center",children:[e.jsx(z,{className:"h-5 w-5 mr-2"}),"Revenue Analytics"]}),e.jsx(i,{children:"Detailed revenue breakdown and trends"})]}),e.jsx(d,{children:e.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:"Detailed revenue analytics charts and data would be implemented here"})})]})}),e.jsx(c,{value:"customers",children:e.jsxs(t,{children:[e.jsxs(l,{children:[e.jsxs(a,{className:"flex items-center",children:[e.jsx(j,{className:"h-5 w-5 mr-2"}),"Customer Analytics"]}),e.jsx(i,{children:"Customer behavior and retention insights"})]}),e.jsx(d,{children:e.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:"Customer analytics and segmentation data would be implemented here"})})]})}),e.jsx(c,{value:"products",children:e.jsxs(t,{children:[e.jsxs(l,{children:[e.jsxs(a,{className:"flex items-center",children:[e.jsx(u,{className:"h-5 w-5 mr-2"}),"Product Performance"]}),e.jsx(i,{children:"Product sales and inventory insights"})]}),e.jsx(d,{children:e.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:"Product performance analytics would be implemented here"})})]})})]})]})};export{G as default};
//# sourceMappingURL=merchant-analytics-DKlVoyw-.js.map

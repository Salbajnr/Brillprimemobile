var uj=Object.defineProperty;var tx=t=>{throw TypeError(t)};var dj=(t,e,n)=>e in t?uj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var N=(t,e,n)=>dj(t,typeof e!="symbol"?e+"":e,n),qf=(t,e,n)=>e.has(t)||tx("Cannot "+n);var F=(t,e,n)=>(qf(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>e.has(t)?tx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,r)=>(qf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ie=(t,e,n)=>(qf(t,e,"access private method"),n);var su=(t,e,n,r)=>({set _(s){fe(t,e,s,n)},get _(){return F(t,e,r)}});function pj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const fj=Object.freeze(Object.defineProperty({__proto__:null,get Client(){return xY},get Connection(){return bY},get DatabaseError(){return _Y},get Pool(){return EI},get Query(){return SY},get Result(){return CY},get TypeOverrides(){return AY},get default(){return rn},get defaults(){return TY},get escapeIdentifier(){return EY},get escapeLiteral(){return kY},get types(){return wY}},Symbol.toStringTag,{value:"Module"}));(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function my(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Tl(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var gA={exports:{}},Cp={},yA={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),hj=Symbol.for("react.portal"),mj=Symbol.for("react.fragment"),gj=Symbol.for("react.strict_mode"),yj=Symbol.for("react.profiler"),vj=Symbol.for("react.provider"),xj=Symbol.for("react.context"),bj=Symbol.for("react.forward_ref"),wj=Symbol.for("react.suspense"),Sj=Symbol.for("react.memo"),_j=Symbol.for("react.lazy"),nx=Symbol.iterator;function Ej(t){return t===null||typeof t!="object"?null:(t=nx&&t[nx]||t["@@iterator"],typeof t=="function"?t:null)}var vA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xA=Object.assign,bA={};function Ma(t,e,n){this.props=t,this.context=e,this.refs=bA,this.updater=n||vA}Ma.prototype.isReactComponent={};Ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wA(){}wA.prototype=Ma.prototype;function gy(t,e,n){this.props=t,this.context=e,this.refs=bA,this.updater=n||vA}var yy=gy.prototype=new wA;yy.constructor=gy;xA(yy,Ma.prototype);yy.isPureReactComponent=!0;var rx=Array.isArray,SA=Object.prototype.hasOwnProperty,vy={current:null},_A={key:!0,ref:!0,__self:!0,__source:!0};function EA(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)SA.call(e,r)&&!_A.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Nl,type:t,key:i,ref:o,props:s,_owner:vy.current}}function kj(t,e){return{$$typeof:Nl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nl}function Cj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sx=/\/+/g;function Qf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Cj(""+t.key):e.toString(36)}function Vu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nl:case hj:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Qf(o,0):r,rx(s)?(n="",t!=null&&(n=t.replace(sx,"$&/")+"/"),Vu(s,e,n,"",function(l){return l})):s!=null&&(xy(s)&&(s=kj(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(sx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",rx(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Qf(i,a);o+=Vu(i,e,n,c,s)}else if(c=Ej(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Qf(i,a++),o+=Vu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function iu(t,e,n){if(t==null)return t;var r=[],s=0;return Vu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Aj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gn={current:null},Hu={transition:null},Tj={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:Hu,ReactCurrentOwner:vy};function kA(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:iu,forEach:function(t,e,n){iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return iu(t,function(){e++}),e},toArray:function(t){return iu(t,function(e){return e})||[]},only:function(t){if(!xy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=Ma;Be.Fragment=mj;Be.Profiler=yj;Be.PureComponent=gy;Be.StrictMode=gj;Be.Suspense=wj;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tj;Be.act=kA;Be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xA({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=vy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)SA.call(e,c)&&!_A.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Nl,type:t.type,key:s,ref:i,props:r,_owner:o}};Be.createContext=function(t){return t={$$typeof:xj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vj,_context:t},t.Consumer=t};Be.createElement=EA;Be.createFactory=function(t){var e=EA.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:bj,render:t}};Be.isValidElement=xy;Be.lazy=function(t){return{$$typeof:_j,_payload:{_status:-1,_result:t},_init:Aj}};Be.memo=function(t,e){return{$$typeof:Sj,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=Hu.transition;Hu.transition={};try{t()}finally{Hu.transition=e}};Be.unstable_act=kA;Be.useCallback=function(t,e){return gn.current.useCallback(t,e)};Be.useContext=function(t){return gn.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return gn.current.useDeferredValue(t)};Be.useEffect=function(t,e){return gn.current.useEffect(t,e)};Be.useId=function(){return gn.current.useId()};Be.useImperativeHandle=function(t,e,n){return gn.current.useImperativeHandle(t,e,n)};Be.useInsertionEffect=function(t,e){return gn.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return gn.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return gn.current.useMemo(t,e)};Be.useReducer=function(t,e,n){return gn.current.useReducer(t,e,n)};Be.useRef=function(t){return gn.current.useRef(t)};Be.useState=function(t){return gn.current.useState(t)};Be.useSyncExternalStore=function(t,e,n){return gn.current.useSyncExternalStore(t,e,n)};Be.useTransition=function(){return gn.current.useTransition()};Be.version="18.3.1";yA.exports=Be;var J=yA.exports;const Le=my(J),Nj=pj({__proto__:null,default:Le},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rj=J,Oj=Symbol.for("react.element"),Pj=Symbol.for("react.fragment"),Ij=Object.prototype.hasOwnProperty,jj=Rj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fj={key:!0,ref:!0,__self:!0,__source:!0};function CA(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ij.call(e,r)&&!Fj.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Oj,type:t,key:i,ref:o,props:s,_owner:jj.current}}Cp.Fragment=Pj;Cp.jsx=CA;Cp.jsxs=CA;gA.exports=Cp;var E=gA.exports,fm={},AA={exports:{}},zn={},TA={exports:{}},NA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var X=L.length;L.push(z);e:for(;0<X;){var ne=X-1>>>1,ae=L[ne];if(0<s(ae,z))L[ne]=z,L[X]=ae,X=ne;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],X=L.pop();if(X!==z){L[0]=X;e:for(var ne=0,ae=L.length,De=ae>>>1;ne<De;){var Ge=2*(ne+1)-1,Ve=L[Ge],$t=Ge+1,sr=L[$t];if(0>s(Ve,X))$t<ae&&0>s(sr,Ve)?(L[ne]=sr,L[$t]=X,ne=$t):(L[ne]=Ve,L[Ge]=X,ne=Ge);else if($t<ae&&0>s(sr,X))L[ne]=sr,L[$t]=X,ne=$t;else break e}}return z}function s(L,z){var X=L.sortIndex-z.sortIndex;return X!==0?X:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,p=3,x=!1,y=!1,h=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var z=n(l);z!==null;){if(z.callback===null)r(l);else if(z.startTime<=L)r(l),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(l)}}function _(L){if(h=!1,g(L),!y)if(n(c)!==null)y=!0,V(T);else{var z=n(l);z!==null&&j(_,z.startTime-L)}}function T(L,z){y=!1,h&&(h=!1,m(A),A=-1),x=!0;var X=p;try{for(g(z),d=n(c);d!==null&&(!(d.expirationTime>z)||L&&!q());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,p=d.priorityLevel;var ae=ne(d.expirationTime<=z);z=t.unstable_now(),typeof ae=="function"?d.callback=ae:d===n(c)&&r(c),g(z)}else r(c);d=n(c)}if(d!==null)var De=!0;else{var Ge=n(l);Ge!==null&&j(_,Ge.startTime-z),De=!1}return De}finally{d=null,p=X,x=!1}}var C=!1,S=null,A=-1,P=5,D=-1;function q(){return!(t.unstable_now()-D<P)}function K(){if(S!==null){var L=t.unstable_now();D=L;var z=!0;try{z=S(!0,L)}finally{z?U():(C=!1,S=null)}}else C=!1}var U;if(typeof b=="function")U=function(){b(K)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,I=R.port2;R.port1.onmessage=K,U=function(){I.postMessage(null)}}else U=function(){w(K,0)};function V(L){S=L,C||(C=!0,U())}function j(L,z){A=w(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){y||x||(y=!0,V(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var X=p;p=z;try{return L()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=p;p=L;try{return z()}finally{p=X}},t.unstable_scheduleCallback=function(L,z,X){var ne=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ne+X:ne):X=ne,L){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=X+ae,L={id:u++,callback:z,priorityLevel:L,startTime:X,expirationTime:ae,sortIndex:-1},X>ne?(L.sortIndex=X,e(l,L),n(c)===null&&L===n(l)&&(h?(m(A),A=-1):h=!0,j(_,X-ne))):(L.sortIndex=ae,e(c,L),y||x||(y=!0,V(T))),L},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(L){var z=p;return function(){var X=p;p=z;try{return L.apply(this,arguments)}finally{p=X}}}})(NA);TA.exports=NA;var Mj=TA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dj=J,$n=Mj;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RA=new Set,Uc={};function bo(t,e){va(t,e),va(t+"Capture",e)}function va(t,e){for(Uc[t]=e,t=0;t<e.length;t++)RA.add(e[t])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hm=Object.prototype.hasOwnProperty,Lj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ix={},ox={};function Bj(t){return hm.call(ox,t)?!0:hm.call(ix,t)?!1:Lj.test(t)?ox[t]=!0:(ix[t]=!0,!1)}function $j(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zj(t,e,n,r){if(e===null||typeof e>"u"||$j(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var by=/[\-:]([a-z])/g;function wy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(by,wy);Wt[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(by,wy);Wt[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(by,wy);Wt[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sy(t,e,n,r){var s=Wt.hasOwnProperty(e)?Wt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zj(e,n,s,r)&&(n=null),r||s===null?Bj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ss=Dj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ou=Symbol.for("react.element"),Mo=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),_y=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),OA=Symbol.for("react.provider"),PA=Symbol.for("react.context"),Ey=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),ky=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),IA=Symbol.for("react.offscreen"),ax=Symbol.iterator;function tc(t){return t===null||typeof t!="object"?null:(t=ax&&t[ax]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,Vf;function vc(t){if(Vf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vf=e&&e[1]||""}return`
`+Vf+t}var Hf=!1;function Gf(t,e){if(!t||Hf)return"";Hf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Hf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vc(t):""}function Uj(t){switch(t.tag){case 5:return vc(t.type);case 16:return vc("Lazy");case 13:return vc("Suspense");case 19:return vc("SuspenseList");case 0:case 2:case 15:return t=Gf(t.type,!1),t;case 11:return t=Gf(t.type.render,!1),t;case 1:return t=Gf(t.type,!0),t;default:return""}}function vm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Do:return"Fragment";case Mo:return"Portal";case mm:return"Profiler";case _y:return"StrictMode";case gm:return"Suspense";case ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PA:return(t.displayName||"Context")+".Consumer";case OA:return(t._context.displayName||"Context")+".Provider";case Ey:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ky:return e=t.displayName||null,e!==null?e:vm(t.type)||"Memo";case Fs:e=t._payload,t=t._init;try{return vm(t(e))}catch{}}return null}function qj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vm(e);case 8:return e===_y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qj(t){var e=jA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function au(t){t._valueTracker||(t._valueTracker=Qj(t))}function FA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xm(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MA(t,e){e=e.checked,e!=null&&Sy(t,"checked",e,!1)}function bm(t,e){MA(t,e);var n=hi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wm(t,e.type,n):e.hasOwnProperty("defaultValue")&&wm(t,e.type,hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wm(t,e,n){(e!=="number"||bd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xc=Array.isArray;function Xo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Sm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ux(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(xc(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hi(n)}}function DA(t,e){var n=hi(e.value),r=hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _m(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cu,BA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cu=cu||document.createElement("div"),cu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vj=["Webkit","ms","Moz","O"];Object.keys(Tc).forEach(function(t){Vj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tc[e]=Tc[t]})});function $A(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tc.hasOwnProperty(t)&&Tc[t]?(""+e).trim():e+"px"}function zA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$A(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Hj=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Em(t,e){if(e){if(Hj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function km(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cm=null;function Cy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Am=null,Zo=null,ea=null;function px(t){if(t=Pl(t)){if(typeof Am!="function")throw Error(se(280));var e=t.stateNode;e&&(e=Op(e),Am(t.stateNode,t.type,e))}}function UA(t){Zo?ea?ea.push(t):ea=[t]:Zo=t}function qA(){if(Zo){var t=Zo,e=ea;if(ea=Zo=null,px(t),e)for(t=0;t<e.length;t++)px(e[t])}}function QA(t,e){return t(e)}function VA(){}var Wf=!1;function HA(t,e,n){if(Wf)return t(e,n);Wf=!0;try{return QA(t,e,n)}finally{Wf=!1,(Zo!==null||ea!==null)&&(VA(),qA())}}function Qc(t,e){var n=t.stateNode;if(n===null)return null;var r=Op(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var Tm=!1;if(gs)try{var nc={};Object.defineProperty(nc,"passive",{get:function(){Tm=!0}}),window.addEventListener("test",nc,nc),window.removeEventListener("test",nc,nc)}catch{Tm=!1}function Gj(t,e,n,r,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var Nc=!1,wd=null,Sd=!1,Nm=null,Wj={onError:function(t){Nc=!0,wd=t}};function Kj(t,e,n,r,s,i,o,a,c){Nc=!1,wd=null,Gj.apply(Wj,arguments)}function Yj(t,e,n,r,s,i,o,a,c){if(Kj.apply(this,arguments),Nc){if(Nc){var l=wd;Nc=!1,wd=null}else throw Error(se(198));Sd||(Sd=!0,Nm=l)}}function wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function GA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fx(t){if(wo(t)!==t)throw Error(se(188))}function Jj(t){var e=t.alternate;if(!e){if(e=wo(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return fx(s),t;if(i===r)return fx(s),e;i=i.sibling}throw Error(se(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function WA(t){return t=Jj(t),t!==null?KA(t):null}function KA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KA(t);if(e!==null)return e;t=t.sibling}return null}var YA=$n.unstable_scheduleCallback,hx=$n.unstable_cancelCallback,Xj=$n.unstable_shouldYield,Zj=$n.unstable_requestPaint,Et=$n.unstable_now,e3=$n.unstable_getCurrentPriorityLevel,Ay=$n.unstable_ImmediatePriority,JA=$n.unstable_UserBlockingPriority,_d=$n.unstable_NormalPriority,t3=$n.unstable_LowPriority,XA=$n.unstable_IdlePriority,Ap=null,Dr=null;function n3(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Ap,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:i3,r3=Math.log,s3=Math.LN2;function i3(t){return t>>>=0,t===0?32:31-(r3(t)/s3|0)|0}var lu=64,uu=4194304;function bc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ed(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=bc(a):(i&=o,i!==0&&(r=bc(i)))}else o=n&~s,o!==0?r=bc(o):i!==0&&(r=bc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xr(e),s=1<<n,r|=t[n],e&=~s;return r}function o3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xr(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=o3(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Rm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZA(){var t=lu;return lu<<=1,!(lu&4194240)&&(lu=64),t}function Kf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=n}function c3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ty(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Xe=0;function eT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tT,Ny,nT,rT,sT,Om=!1,du=[],ni=null,ri=null,si=null,Vc=new Map,Hc=new Map,Ds=[],l3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mx(t,e){switch(t){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":Vc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(e.pointerId)}}function rc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Pl(e),e!==null&&Ny(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function u3(t,e,n,r,s){switch(e){case"focusin":return ni=rc(ni,t,e,n,r,s),!0;case"dragenter":return ri=rc(ri,t,e,n,r,s),!0;case"mouseover":return si=rc(si,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vc.set(i,rc(Vc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Hc.set(i,rc(Hc.get(i)||null,t,e,n,r,s)),!0}return!1}function iT(t){var e=ji(t.target);if(e!==null){var n=wo(e);if(n!==null){if(e=n.tag,e===13){if(e=GA(n),e!==null){t.blockedOn=e,sT(t.priority,function(){nT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cm=r,n.target.dispatchEvent(r),Cm=null}else return e=Pl(n),e!==null&&Ny(e),t.blockedOn=n,!1;e.shift()}return!0}function gx(t,e,n){Gu(t)&&n.delete(e)}function d3(){Om=!1,ni!==null&&Gu(ni)&&(ni=null),ri!==null&&Gu(ri)&&(ri=null),si!==null&&Gu(si)&&(si=null),Vc.forEach(gx),Hc.forEach(gx)}function sc(t,e){t.blockedOn===e&&(t.blockedOn=null,Om||(Om=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,d3)))}function Gc(t){function e(s){return sc(s,t)}if(0<du.length){sc(du[0],t);for(var n=1;n<du.length;n++){var r=du[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ni!==null&&sc(ni,t),ri!==null&&sc(ri,t),si!==null&&sc(si,t),Vc.forEach(e),Hc.forEach(e),n=0;n<Ds.length;n++)r=Ds[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ds.length&&(n=Ds[0],n.blockedOn===null);)iT(n),n.blockedOn===null&&Ds.shift()}var ta=Ss.ReactCurrentBatchConfig,kd=!0;function p3(t,e,n,r){var s=Xe,i=ta.transition;ta.transition=null;try{Xe=1,Ry(t,e,n,r)}finally{Xe=s,ta.transition=i}}function f3(t,e,n,r){var s=Xe,i=ta.transition;ta.transition=null;try{Xe=4,Ry(t,e,n,r)}finally{Xe=s,ta.transition=i}}function Ry(t,e,n,r){if(kd){var s=Pm(t,e,n,r);if(s===null)ih(t,e,r,Cd,n),mx(t,r);else if(u3(s,t,e,n,r))r.stopPropagation();else if(mx(t,r),e&4&&-1<l3.indexOf(t)){for(;s!==null;){var i=Pl(s);if(i!==null&&tT(i),i=Pm(t,e,n,r),i===null&&ih(t,e,r,Cd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ih(t,e,r,null,n)}}var Cd=null;function Pm(t,e,n,r){if(Cd=null,t=Cy(r),t=ji(t),t!==null)if(e=wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=GA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cd=t,null}function oT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e3()){case Ay:return 1;case JA:return 4;case _d:case t3:return 16;case XA:return 536870912;default:return 16}default:return 16}}var Ys=null,Oy=null,Wu=null;function aT(){if(Wu)return Wu;var t,e=Oy,n=e.length,r,s="value"in Ys?Ys.value:Ys.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Wu=s.slice(t,1<r?1-r:void 0)}function Ku(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pu(){return!0}function yx(){return!1}function Un(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pu:yx,this.isPropagationStopped=yx,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),e}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Py=Un(Da),Ol=yt({},Da,{view:0,detail:0}),h3=Un(Ol),Yf,Jf,ic,Tp=yt({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ic&&(ic&&t.type==="mousemove"?(Yf=t.screenX-ic.screenX,Jf=t.screenY-ic.screenY):Jf=Yf=0,ic=t),Yf)},movementY:function(t){return"movementY"in t?t.movementY:Jf}}),vx=Un(Tp),m3=yt({},Tp,{dataTransfer:0}),g3=Un(m3),y3=yt({},Ol,{relatedTarget:0}),Xf=Un(y3),v3=yt({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),x3=Un(v3),b3=yt({},Da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),w3=Un(b3),S3=yt({},Da,{data:0}),xx=Un(S3),_3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=k3[t])?!!e[t]:!1}function Iy(){return C3}var A3=yt({},Ol,{key:function(t){if(t.key){var e=_3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ku(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?E3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iy,charCode:function(t){return t.type==="keypress"?Ku(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ku(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),T3=Un(A3),N3=yt({},Tp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bx=Un(N3),R3=yt({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iy}),O3=Un(R3),P3=yt({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),I3=Un(P3),j3=yt({},Tp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F3=Un(j3),M3=[9,13,27,32],jy=gs&&"CompositionEvent"in window,Rc=null;gs&&"documentMode"in document&&(Rc=document.documentMode);var D3=gs&&"TextEvent"in window&&!Rc,cT=gs&&(!jy||Rc&&8<Rc&&11>=Rc),wx=" ",Sx=!1;function lT(t,e){switch(t){case"keyup":return M3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lo=!1;function L3(t,e){switch(t){case"compositionend":return uT(e);case"keypress":return e.which!==32?null:(Sx=!0,wx);case"textInput":return t=e.data,t===wx&&Sx?null:t;default:return null}}function B3(t,e){if(Lo)return t==="compositionend"||!jy&&lT(t,e)?(t=aT(),Wu=Oy=Ys=null,Lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cT&&e.locale!=="ko"?null:e.data;default:return null}}var $3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _x(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$3[t.type]:e==="textarea"}function dT(t,e,n,r){UA(r),e=Ad(e,"onChange"),0<e.length&&(n=new Py("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Oc=null,Wc=null;function z3(t){ST(t,0)}function Np(t){var e=zo(t);if(FA(e))return t}function U3(t,e){if(t==="change")return e}var pT=!1;if(gs){var Zf;if(gs){var eh="oninput"in document;if(!eh){var Ex=document.createElement("div");Ex.setAttribute("oninput","return;"),eh=typeof Ex.oninput=="function"}Zf=eh}else Zf=!1;pT=Zf&&(!document.documentMode||9<document.documentMode)}function kx(){Oc&&(Oc.detachEvent("onpropertychange",fT),Wc=Oc=null)}function fT(t){if(t.propertyName==="value"&&Np(Wc)){var e=[];dT(e,Wc,t,Cy(t)),HA(z3,e)}}function q3(t,e,n){t==="focusin"?(kx(),Oc=e,Wc=n,Oc.attachEvent("onpropertychange",fT)):t==="focusout"&&kx()}function Q3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Np(Wc)}function V3(t,e){if(t==="click")return Np(e)}function H3(t,e){if(t==="input"||t==="change")return Np(e)}function G3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sr=typeof Object.is=="function"?Object.is:G3;function Kc(t,e){if(Sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!hm.call(e,s)||!Sr(t[s],e[s]))return!1}return!0}function Cx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ax(t,e){var n=Cx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cx(n)}}function hT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mT(){for(var t=window,e=bd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bd(t.document)}return e}function Fy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W3(t){var e=mT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hT(n.ownerDocument.documentElement,n)){if(r!==null&&Fy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ax(n,i);var o=Ax(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var K3=gs&&"documentMode"in document&&11>=document.documentMode,Bo=null,Im=null,Pc=null,jm=!1;function Tx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jm||Bo==null||Bo!==bd(r)||(r=Bo,"selectionStart"in r&&Fy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pc&&Kc(Pc,r)||(Pc=r,r=Ad(Im,"onSelect"),0<r.length&&(e=new Py("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bo)))}function fu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $o={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},th={},gT={};gs&&(gT=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Rp(t){if(th[t])return th[t];if(!$o[t])return t;var e=$o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gT)return th[t]=e[n];return t}var yT=Rp("animationend"),vT=Rp("animationiteration"),xT=Rp("animationstart"),bT=Rp("transitionend"),wT=new Map,Nx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,e){wT.set(t,e),bo(e,[t])}for(var nh=0;nh<Nx.length;nh++){var rh=Nx[nh],Y3=rh.toLowerCase(),J3=rh[0].toUpperCase()+rh.slice(1);bi(Y3,"on"+J3)}bi(yT,"onAnimationEnd");bi(vT,"onAnimationIteration");bi(xT,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(bT,"onTransitionEnd");va("onMouseEnter",["mouseout","mouseover"]);va("onMouseLeave",["mouseout","mouseover"]);va("onPointerEnter",["pointerout","pointerover"]);va("onPointerLeave",["pointerout","pointerover"]);bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X3=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function Rx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Yj(r,e,void 0,t),t.currentTarget=null}function ST(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Rx(s,a,l),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Rx(s,a,l),i=c}}}if(Sd)throw t=Nm,Sd=!1,Nm=null,t}function st(t,e){var n=e[Bm];n===void 0&&(n=e[Bm]=new Set);var r=t+"__bubble";n.has(r)||(_T(e,t,2,!1),n.add(r))}function sh(t,e,n){var r=0;e&&(r|=4),_T(n,t,r,e)}var hu="_reactListening"+Math.random().toString(36).slice(2);function Yc(t){if(!t[hu]){t[hu]=!0,RA.forEach(function(n){n!=="selectionchange"&&(X3.has(n)||sh(n,!1,t),sh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hu]||(e[hu]=!0,sh("selectionchange",!1,e))}}function _T(t,e,n,r){switch(oT(e)){case 1:var s=p3;break;case 4:s=f3;break;default:s=Ry}n=s.bind(null,e,n,t),s=void 0,!Tm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ih(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ji(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}HA(function(){var l=i,u=Cy(n),d=[];e:{var p=wT.get(t);if(p!==void 0){var x=Py,y=t;switch(t){case"keypress":if(Ku(n)===0)break e;case"keydown":case"keyup":x=T3;break;case"focusin":y="focus",x=Xf;break;case"focusout":y="blur",x=Xf;break;case"beforeblur":case"afterblur":x=Xf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=vx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=g3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=O3;break;case yT:case vT:case xT:x=x3;break;case bT:x=I3;break;case"scroll":x=h3;break;case"wheel":x=F3;break;case"copy":case"cut":case"paste":x=w3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=bx}var h=(e&4)!==0,w=!h&&t==="scroll",m=h?p!==null?p+"Capture":null:p;h=[];for(var b=l,g;b!==null;){g=b;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=Qc(b,m),_!=null&&h.push(Jc(b,_,g)))),w)break;b=b.return}0<h.length&&(p=new x(p,y,null,n,u),d.push({event:p,listeners:h}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",p&&n!==Cm&&(y=n.relatedTarget||n.fromElement)&&(ji(y)||y[ys]))break e;if((x||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,x?(y=n.relatedTarget||n.toElement,x=l,y=y?ji(y):null,y!==null&&(w=wo(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=l),x!==y)){if(h=vx,_="onMouseLeave",m="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(h=bx,_="onPointerLeave",m="onPointerEnter",b="pointer"),w=x==null?p:zo(x),g=y==null?p:zo(y),p=new h(_,b+"leave",x,n,u),p.target=w,p.relatedTarget=g,_=null,ji(u)===l&&(h=new h(m,b+"enter",y,n,u),h.target=g,h.relatedTarget=w,_=h),w=_,x&&y)t:{for(h=x,m=y,b=0,g=h;g;g=_o(g))b++;for(g=0,_=m;_;_=_o(_))g++;for(;0<b-g;)h=_o(h),b--;for(;0<g-b;)m=_o(m),g--;for(;b--;){if(h===m||m!==null&&h===m.alternate)break t;h=_o(h),m=_o(m)}h=null}else h=null;x!==null&&Ox(d,p,x,h,!1),y!==null&&w!==null&&Ox(d,w,y,h,!0)}}e:{if(p=l?zo(l):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var T=U3;else if(_x(p))if(pT)T=H3;else{T=Q3;var C=q3}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=V3);if(T&&(T=T(t,l))){dT(d,T,n,u);break e}C&&C(t,p,l),t==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&wm(p,"number",p.value)}switch(C=l?zo(l):window,t){case"focusin":(_x(C)||C.contentEditable==="true")&&(Bo=C,Im=l,Pc=null);break;case"focusout":Pc=Im=Bo=null;break;case"mousedown":jm=!0;break;case"contextmenu":case"mouseup":case"dragend":jm=!1,Tx(d,n,u);break;case"selectionchange":if(K3)break;case"keydown":case"keyup":Tx(d,n,u)}var S;if(jy)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Lo?lT(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(cT&&n.locale!=="ko"&&(Lo||A!=="onCompositionStart"?A==="onCompositionEnd"&&Lo&&(S=aT()):(Ys=u,Oy="value"in Ys?Ys.value:Ys.textContent,Lo=!0)),C=Ad(l,A),0<C.length&&(A=new xx(A,t,null,n,u),d.push({event:A,listeners:C}),S?A.data=S:(S=uT(n),S!==null&&(A.data=S)))),(S=D3?L3(t,n):B3(t,n))&&(l=Ad(l,"onBeforeInput"),0<l.length&&(u=new xx("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=S))}ST(d,e)})}function Jc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ad(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qc(t,n),i!=null&&r.unshift(Jc(t,i,s)),i=Qc(t,e),i!=null&&r.push(Jc(t,i,s))),t=t.return}return r}function _o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ox(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,s?(c=Qc(n,i),c!=null&&o.unshift(Jc(n,c,a))):s||(c=Qc(n,i),c!=null&&o.push(Jc(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Z3=/\r\n?/g,eF=/\u0000|\uFFFD/g;function Px(t){return(typeof t=="string"?t:""+t).replace(Z3,`
`).replace(eF,"")}function mu(t,e,n){if(e=Px(e),Px(t)!==e&&n)throw Error(se(425))}function Td(){}var Fm=null,Mm=null;function Dm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lm=typeof setTimeout=="function"?setTimeout:void 0,tF=typeof clearTimeout=="function"?clearTimeout:void 0,Ix=typeof Promise=="function"?Promise:void 0,nF=typeof queueMicrotask=="function"?queueMicrotask:typeof Ix<"u"?function(t){return Ix.resolve(null).then(t).catch(rF)}:Lm;function rF(t){setTimeout(function(){throw t})}function oh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Gc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gc(e)}function ii(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var La=Math.random().toString(36).slice(2),Ir="__reactFiber$"+La,Xc="__reactProps$"+La,ys="__reactContainer$"+La,Bm="__reactEvents$"+La,sF="__reactListeners$"+La,iF="__reactHandles$"+La;function ji(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ys]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jx(t);t!==null;){if(n=t[Ir])return n;t=jx(t)}return e}t=n,n=t.parentNode}return null}function Pl(t){return t=t[Ir]||t[ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function Op(t){return t[Xc]||null}var $m=[],Uo=-1;function wi(t){return{current:t}}function it(t){0>Uo||(t.current=$m[Uo],$m[Uo]=null,Uo--)}function nt(t,e){Uo++,$m[Uo]=t.current,t.current=e}var mi={},sn=wi(mi),Cn=wi(!1),eo=mi;function xa(t,e){var n=t.type.contextTypes;if(!n)return mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function An(t){return t=t.childContextTypes,t!=null}function Nd(){it(Cn),it(sn)}function Fx(t,e,n){if(sn.current!==mi)throw Error(se(168));nt(sn,e),nt(Cn,n)}function ET(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(se(108,qj(t)||"Unknown",s));return yt({},n,r)}function Rd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mi,eo=sn.current,nt(sn,t),nt(Cn,Cn.current),!0}function Mx(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=ET(t,e,eo),r.__reactInternalMemoizedMergedChildContext=t,it(Cn),it(sn),nt(sn,t)):it(Cn),nt(Cn,n)}var ns=null,Pp=!1,ah=!1;function kT(t){ns===null?ns=[t]:ns.push(t)}function oF(t){Pp=!0,kT(t)}function Si(){if(!ah&&ns!==null){ah=!0;var t=0,e=Xe;try{var n=ns;for(Xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ns=null,Pp=!1}catch(s){throw ns!==null&&(ns=ns.slice(t+1)),YA(Ay,Si),s}finally{Xe=e,ah=!1}}return null}var qo=[],Qo=0,Od=null,Pd=0,Yn=[],Jn=0,to=null,cs=1,ls="";function Ri(t,e){qo[Qo++]=Pd,qo[Qo++]=Od,Od=t,Pd=e}function CT(t,e,n){Yn[Jn++]=cs,Yn[Jn++]=ls,Yn[Jn++]=to,to=t;var r=cs;t=ls;var s=32-xr(r)-1;r&=~(1<<s),n+=1;var i=32-xr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,cs=1<<32-xr(e)+s|n<<s|r,ls=i+t}else cs=1<<i|n<<s|r,ls=t}function My(t){t.return!==null&&(Ri(t,1),CT(t,1,0))}function Dy(t){for(;t===Od;)Od=qo[--Qo],qo[Qo]=null,Pd=qo[--Qo],qo[Qo]=null;for(;t===to;)to=Yn[--Jn],Yn[Jn]=null,ls=Yn[--Jn],Yn[Jn]=null,cs=Yn[--Jn],Yn[Jn]=null}var Dn=null,jn=null,lt=!1,pr=null;function AT(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dn=t,jn=ii(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dn=t,jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=to!==null?{id:cs,overflow:ls}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dn=t,jn=null,!0):!1;default:return!1}}function zm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Um(t){if(lt){var e=jn;if(e){var n=e;if(!Dx(t,e)){if(zm(t))throw Error(se(418));e=ii(n.nextSibling);var r=Dn;e&&Dx(t,e)?AT(r,n):(t.flags=t.flags&-4097|2,lt=!1,Dn=t)}}else{if(zm(t))throw Error(se(418));t.flags=t.flags&-4097|2,lt=!1,Dn=t}}}function Lx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dn=t}function gu(t){if(t!==Dn)return!1;if(!lt)return Lx(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dm(t.type,t.memoizedProps)),e&&(e=jn)){if(zm(t))throw TT(),Error(se(418));for(;e;)AT(t,e),e=ii(e.nextSibling)}if(Lx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jn=ii(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jn=null}}else jn=Dn?ii(t.stateNode.nextSibling):null;return!0}function TT(){for(var t=jn;t;)t=ii(t.nextSibling)}function ba(){jn=Dn=null,lt=!1}function Ly(t){pr===null?pr=[t]:pr.push(t)}var aF=Ss.ReactCurrentBatchConfig;function oc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function yu(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bx(t){var e=t._init;return e(t._payload)}function NT(t){function e(m,b){if(t){var g=m.deletions;g===null?(m.deletions=[b],m.flags|=16):g.push(b)}}function n(m,b){if(!t)return null;for(;b!==null;)e(m,b),b=b.sibling;return null}function r(m,b){for(m=new Map;b!==null;)b.key!==null?m.set(b.key,b):m.set(b.index,b),b=b.sibling;return m}function s(m,b){return m=li(m,b),m.index=0,m.sibling=null,m}function i(m,b,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<b?(m.flags|=2,b):g):(m.flags|=2,b)):(m.flags|=1048576,b)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,b,g,_){return b===null||b.tag!==6?(b=hh(g,m.mode,_),b.return=m,b):(b=s(b,g),b.return=m,b)}function c(m,b,g,_){var T=g.type;return T===Do?u(m,b,g.props.children,_,g.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Fs&&Bx(T)===b.type)?(_=s(b,g.props),_.ref=oc(m,b,g),_.return=m,_):(_=nd(g.type,g.key,g.props,null,m.mode,_),_.ref=oc(m,b,g),_.return=m,_)}function l(m,b,g,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==g.containerInfo||b.stateNode.implementation!==g.implementation?(b=mh(g,m.mode,_),b.return=m,b):(b=s(b,g.children||[]),b.return=m,b)}function u(m,b,g,_,T){return b===null||b.tag!==7?(b=Ki(g,m.mode,_,T),b.return=m,b):(b=s(b,g),b.return=m,b)}function d(m,b,g){if(typeof b=="string"&&b!==""||typeof b=="number")return b=hh(""+b,m.mode,g),b.return=m,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ou:return g=nd(b.type,b.key,b.props,null,m.mode,g),g.ref=oc(m,null,b),g.return=m,g;case Mo:return b=mh(b,m.mode,g),b.return=m,b;case Fs:var _=b._init;return d(m,_(b._payload),g)}if(xc(b)||tc(b))return b=Ki(b,m.mode,g,null),b.return=m,b;yu(m,b)}return null}function p(m,b,g,_){var T=b!==null?b.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:a(m,b,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ou:return g.key===T?c(m,b,g,_):null;case Mo:return g.key===T?l(m,b,g,_):null;case Fs:return T=g._init,p(m,b,T(g._payload),_)}if(xc(g)||tc(g))return T!==null?null:u(m,b,g,_,null);yu(m,g)}return null}function x(m,b,g,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,a(b,m,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ou:return m=m.get(_.key===null?g:_.key)||null,c(b,m,_,T);case Mo:return m=m.get(_.key===null?g:_.key)||null,l(b,m,_,T);case Fs:var C=_._init;return x(m,b,g,C(_._payload),T)}if(xc(_)||tc(_))return m=m.get(g)||null,u(b,m,_,T,null);yu(b,_)}return null}function y(m,b,g,_){for(var T=null,C=null,S=b,A=b=0,P=null;S!==null&&A<g.length;A++){S.index>A?(P=S,S=null):P=S.sibling;var D=p(m,S,g[A],_);if(D===null){S===null&&(S=P);break}t&&S&&D.alternate===null&&e(m,S),b=i(D,b,A),C===null?T=D:C.sibling=D,C=D,S=P}if(A===g.length)return n(m,S),lt&&Ri(m,A),T;if(S===null){for(;A<g.length;A++)S=d(m,g[A],_),S!==null&&(b=i(S,b,A),C===null?T=S:C.sibling=S,C=S);return lt&&Ri(m,A),T}for(S=r(m,S);A<g.length;A++)P=x(S,m,A,g[A],_),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?A:P.key),b=i(P,b,A),C===null?T=P:C.sibling=P,C=P);return t&&S.forEach(function(q){return e(m,q)}),lt&&Ri(m,A),T}function h(m,b,g,_){var T=tc(g);if(typeof T!="function")throw Error(se(150));if(g=T.call(g),g==null)throw Error(se(151));for(var C=T=null,S=b,A=b=0,P=null,D=g.next();S!==null&&!D.done;A++,D=g.next()){S.index>A?(P=S,S=null):P=S.sibling;var q=p(m,S,D.value,_);if(q===null){S===null&&(S=P);break}t&&S&&q.alternate===null&&e(m,S),b=i(q,b,A),C===null?T=q:C.sibling=q,C=q,S=P}if(D.done)return n(m,S),lt&&Ri(m,A),T;if(S===null){for(;!D.done;A++,D=g.next())D=d(m,D.value,_),D!==null&&(b=i(D,b,A),C===null?T=D:C.sibling=D,C=D);return lt&&Ri(m,A),T}for(S=r(m,S);!D.done;A++,D=g.next())D=x(S,m,A,D.value,_),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?A:D.key),b=i(D,b,A),C===null?T=D:C.sibling=D,C=D);return t&&S.forEach(function(K){return e(m,K)}),lt&&Ri(m,A),T}function w(m,b,g,_){if(typeof g=="object"&&g!==null&&g.type===Do&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ou:e:{for(var T=g.key,C=b;C!==null;){if(C.key===T){if(T=g.type,T===Do){if(C.tag===7){n(m,C.sibling),b=s(C,g.props.children),b.return=m,m=b;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Fs&&Bx(T)===C.type){n(m,C.sibling),b=s(C,g.props),b.ref=oc(m,C,g),b.return=m,m=b;break e}n(m,C);break}else e(m,C);C=C.sibling}g.type===Do?(b=Ki(g.props.children,m.mode,_,g.key),b.return=m,m=b):(_=nd(g.type,g.key,g.props,null,m.mode,_),_.ref=oc(m,b,g),_.return=m,m=_)}return o(m);case Mo:e:{for(C=g.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===g.containerInfo&&b.stateNode.implementation===g.implementation){n(m,b.sibling),b=s(b,g.children||[]),b.return=m,m=b;break e}else{n(m,b);break}else e(m,b);b=b.sibling}b=mh(g,m.mode,_),b.return=m,m=b}return o(m);case Fs:return C=g._init,w(m,b,C(g._payload),_)}if(xc(g))return y(m,b,g,_);if(tc(g))return h(m,b,g,_);yu(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,b!==null&&b.tag===6?(n(m,b.sibling),b=s(b,g),b.return=m,m=b):(n(m,b),b=hh(g,m.mode,_),b.return=m,m=b),o(m)):n(m,b)}return w}var wa=NT(!0),RT=NT(!1),Id=wi(null),jd=null,Vo=null,By=null;function $y(){By=Vo=jd=null}function zy(t){var e=Id.current;it(Id),t._currentValue=e}function qm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function na(t,e){jd=t,By=Vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kn=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(By!==t)if(t={context:t,memoizedValue:e,next:null},Vo===null){if(jd===null)throw Error(se(308));Vo=t,jd.dependencies={lanes:0,firstContext:t}}else Vo=Vo.next=t;return e}var Fi=null;function Uy(t){Fi===null?Fi=[t]:Fi.push(t)}function OT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Uy(e)):(n.next=s.next,s.next=n),e.interleaved=n,vs(t,r)}function vs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ms=!1;function qy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ps(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,vs(t,n)}return s=r.interleaved,s===null?(e.next=e,Uy(r)):(e.next=s.next,s.next=e),r.interleaved=e,vs(t,n)}function Yu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ty(t,n)}}function $x(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fd(t,e,n,r){var s=t.updateQueue;Ms=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,u=l=c=null,a=i;do{var p=a.lane,x=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,h=a;switch(p=e,x=n,h.tag){case 1:if(y=h.payload,typeof y=="function"){d=y.call(x,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=h.payload,p=typeof y=="function"?y.call(x,d,p):y,p==null)break e;d=yt({},d,p);break e;case 2:Ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else x={eventTime:x,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=x,c=d):u=u.next=x,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ro|=o,t.lanes=o,t.memoizedState=d}}function zx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(se(191,s));s.call(r)}}}var Il={},Lr=wi(Il),Zc=wi(Il),el=wi(Il);function Mi(t){if(t===Il)throw Error(se(174));return t}function Qy(t,e){switch(nt(el,e),nt(Zc,t),nt(Lr,Il),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_m(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_m(e,t)}it(Lr),nt(Lr,e)}function Sa(){it(Lr),it(Zc),it(el)}function IT(t){Mi(el.current);var e=Mi(Lr.current),n=_m(e,t.type);e!==n&&(nt(Zc,t),nt(Lr,n))}function Vy(t){Zc.current===t&&(it(Lr),it(Zc))}var ht=wi(0);function Md(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ch=[];function Hy(){for(var t=0;t<ch.length;t++)ch[t]._workInProgressVersionPrimary=null;ch.length=0}var Ju=Ss.ReactCurrentDispatcher,lh=Ss.ReactCurrentBatchConfig,no=0,gt=null,Ft=null,Ut=null,Dd=!1,Ic=!1,tl=0,cF=0;function Yt(){throw Error(se(321))}function Gy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sr(t[n],e[n]))return!1;return!0}function Wy(t,e,n,r,s,i){if(no=i,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ju.current=t===null||t.memoizedState===null?pF:fF,t=n(r,s),Ic){i=0;do{if(Ic=!1,tl=0,25<=i)throw Error(se(301));i+=1,Ut=Ft=null,e.updateQueue=null,Ju.current=hF,t=n(r,s)}while(Ic)}if(Ju.current=Ld,e=Ft!==null&&Ft.next!==null,no=0,Ut=Ft=gt=null,Dd=!1,e)throw Error(se(300));return t}function Ky(){var t=tl!==0;return tl=0,t}function Nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?gt.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function rr(){if(Ft===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Ut===null?gt.memoizedState:Ut.next;if(e!==null)Ut=e,Ft=t;else{if(t===null)throw Error(se(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Ut===null?gt.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function nl(t,e){return typeof e=="function"?e(t):e}function uh(t){var e=rr(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=Ft,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,l=i;do{var u=l.lane;if((no&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,gt.lanes|=u,ro|=u}l=l.next}while(l!==null&&l!==i);c===null?o=r:c.next=a,Sr(r,e.memoizedState)||(kn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,gt.lanes|=i,ro|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dh(t){var e=rr(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Sr(i,e.memoizedState)||(kn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function jT(){}function FT(t,e){var n=gt,r=rr(),s=e(),i=!Sr(r.memoizedState,s);if(i&&(r.memoizedState=s,kn=!0),r=r.queue,Yy(LT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,rl(9,DT.bind(null,n,r,s,e),void 0,null),Qt===null)throw Error(se(349));no&30||MT(n,e,s)}return s}function MT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DT(t,e,n,r){e.value=n,e.getSnapshot=r,BT(e)&&$T(t)}function LT(t,e,n){return n(function(){BT(e)&&$T(t)})}function BT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sr(t,n)}catch{return!0}}function $T(t){var e=vs(t,1);e!==null&&br(e,t,1,-1)}function Ux(t){var e=Nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:t},e.queue=t,t=t.dispatch=dF.bind(null,gt,t),[e.memoizedState,t]}function rl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zT(){return rr().memoizedState}function Xu(t,e,n,r){var s=Nr();gt.flags|=t,s.memoizedState=rl(1|e,n,void 0,r===void 0?null:r)}function Ip(t,e,n,r){var s=rr();r=r===void 0?null:r;var i=void 0;if(Ft!==null){var o=Ft.memoizedState;if(i=o.destroy,r!==null&&Gy(r,o.deps)){s.memoizedState=rl(e,n,i,r);return}}gt.flags|=t,s.memoizedState=rl(1|e,n,i,r)}function qx(t,e){return Xu(8390656,8,t,e)}function Yy(t,e){return Ip(2048,8,t,e)}function UT(t,e){return Ip(4,2,t,e)}function qT(t,e){return Ip(4,4,t,e)}function QT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VT(t,e,n){return n=n!=null?n.concat([t]):null,Ip(4,4,QT.bind(null,e,t),n)}function Jy(){}function HT(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function GT(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WT(t,e,n){return no&21?(Sr(n,e)||(n=ZA(),gt.lanes|=n,ro|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kn=!0),t.memoizedState=n)}function lF(t,e){var n=Xe;Xe=n!==0&&4>n?n:4,t(!0);var r=lh.transition;lh.transition={};try{t(!1),e()}finally{Xe=n,lh.transition=r}}function KT(){return rr().memoizedState}function uF(t,e,n){var r=ci(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YT(t))JT(e,n);else if(n=OT(t,e,n,r),n!==null){var s=hn();br(n,t,r,s),XT(n,e,r)}}function dF(t,e,n){var r=ci(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YT(t))JT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Sr(a,o)){var c=e.interleaved;c===null?(s.next=s,Uy(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=OT(t,e,s,r),n!==null&&(s=hn(),br(n,t,r,s),XT(n,e,r))}}function YT(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function JT(t,e){Ic=Dd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ty(t,n)}}var Ld={readContext:nr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},pF={readContext:nr,useCallback:function(t,e){return Nr().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:qx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xu(4194308,4,QT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xu(4,2,t,e)},useMemo:function(t,e){var n=Nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uF.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=Nr();return t={current:t},e.memoizedState=t},useState:Ux,useDebugValue:Jy,useDeferredValue:function(t){return Nr().memoizedState=t},useTransition:function(){var t=Ux(!1),e=t[0];return t=lF.bind(null,t[1]),Nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,s=Nr();if(lt){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),Qt===null)throw Error(se(349));no&30||MT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,qx(LT.bind(null,r,i,t),[t]),r.flags|=2048,rl(9,DT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Nr(),e=Qt.identifierPrefix;if(lt){var n=ls,r=cs;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fF={readContext:nr,useCallback:HT,useContext:nr,useEffect:Yy,useImperativeHandle:VT,useInsertionEffect:UT,useLayoutEffect:qT,useMemo:GT,useReducer:uh,useRef:zT,useState:function(){return uh(nl)},useDebugValue:Jy,useDeferredValue:function(t){var e=rr();return WT(e,Ft.memoizedState,t)},useTransition:function(){var t=uh(nl)[0],e=rr().memoizedState;return[t,e]},useMutableSource:jT,useSyncExternalStore:FT,useId:KT,unstable_isNewReconciler:!1},hF={readContext:nr,useCallback:HT,useContext:nr,useEffect:Yy,useImperativeHandle:VT,useInsertionEffect:UT,useLayoutEffect:qT,useMemo:GT,useReducer:dh,useRef:zT,useState:function(){return dh(nl)},useDebugValue:Jy,useDeferredValue:function(t){var e=rr();return Ft===null?e.memoizedState=t:WT(e,Ft.memoizedState,t)},useTransition:function(){var t=dh(nl)[0],e=rr().memoizedState;return[t,e]},useMutableSource:jT,useSyncExternalStore:FT,useId:KT,unstable_isNewReconciler:!1};function ar(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jp={isMounted:function(t){return(t=t._reactInternals)?wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),s=ci(t),i=ps(r,s);i.payload=e,n!=null&&(i.callback=n),e=oi(t,i,s),e!==null&&(br(e,t,s,r),Yu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),s=ci(t),i=ps(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=oi(t,i,s),e!==null&&(br(e,t,s,r),Yu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=ci(t),s=ps(n,r);s.tag=2,e!=null&&(s.callback=e),e=oi(t,s,r),e!==null&&(br(e,t,r,n),Yu(e,t,r))}};function Qx(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Kc(n,r)||!Kc(s,i):!0}function ZT(t,e,n){var r=!1,s=mi,i=e.contextType;return typeof i=="object"&&i!==null?i=nr(i):(s=An(e)?eo:sn.current,r=e.contextTypes,i=(r=r!=null)?xa(t,s):mi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Vx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&jp.enqueueReplaceState(e,e.state,null)}function Vm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},qy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=nr(i):(i=An(e)?eo:sn.current,s.context=xa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&jp.enqueueReplaceState(s,s.state,null),Fd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function _a(t,e){try{var n="",r=e;do n+=Uj(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ph(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mF=typeof WeakMap=="function"?WeakMap:Map;function eN(t,e,n){n=ps(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$d||($d=!0,ng=r),Hm(t,e)},n}function tN(t,e,n){n=ps(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Hm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hm(t,e),typeof r!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Hx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mF;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=NF.bind(null,t,e,n),e.then(t,t))}function Gx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Wx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ps(-1,1),e.tag=2,oi(n,e,1))),n.lanes|=1),t)}var gF=Ss.ReactCurrentOwner,kn=!1;function un(t,e,n,r){e.child=t===null?RT(e,null,n,r):wa(e,t.child,n,r)}function Kx(t,e,n,r,s){n=n.render;var i=e.ref;return na(e,s),r=Wy(t,e,n,r,i,s),n=Ky(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xs(t,e,s)):(lt&&n&&My(e),e.flags|=1,un(t,e,r,s),e.child)}function Yx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!iv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,nN(t,e,i,r,s)):(t=nd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Kc,n(o,r)&&t.ref===e.ref)return xs(t,e,s)}return e.flags|=1,t=li(i,r),t.ref=e.ref,t.return=e,e.child=t}function nN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Kc(i,r)&&t.ref===e.ref)if(kn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(kn=!0);else return e.lanes=t.lanes,xs(t,e,s)}return Gm(t,e,n,r,s)}function rN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Go,On),On|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(Go,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,nt(Go,On),On|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,nt(Go,On),On|=r;return un(t,e,s,n),e.child}function sN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gm(t,e,n,r,s){var i=An(n)?eo:sn.current;return i=xa(e,i),na(e,s),n=Wy(t,e,n,r,i,s),r=Ky(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xs(t,e,s)):(lt&&r&&My(e),e.flags|=1,un(t,e,n,s),e.child)}function Jx(t,e,n,r,s){if(An(n)){var i=!0;Rd(e)}else i=!1;if(na(e,s),e.stateNode===null)Zu(t,e),ZT(e,n,r),Vm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=nr(l):(l=An(n)?eo:sn.current,l=xa(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&Vx(e,o,r,l),Ms=!1;var p=e.memoizedState;o.state=p,Fd(e,r,o,s),c=e.memoizedState,a!==r||p!==c||Cn.current||Ms?(typeof u=="function"&&(Qm(e,n,u,r),c=e.memoizedState),(a=Ms||Qx(e,n,a,r,p,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,PT(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:ar(e.type,a),o.props=l,d=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=nr(c):(c=An(n)?eo:sn.current,c=xa(e,c));var x=n.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==c)&&Vx(e,o,r,c),Ms=!1,p=e.memoizedState,o.state=p,Fd(e,r,o,s);var y=e.memoizedState;a!==d||p!==y||Cn.current||Ms?(typeof x=="function"&&(Qm(e,n,x,r),y=e.memoizedState),(l=Ms||Qx(e,n,l,r,p,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Wm(t,e,n,r,i,s)}function Wm(t,e,n,r,s,i){sN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Mx(e,n,!1),xs(t,e,i);r=e.stateNode,gF.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wa(e,t.child,null,i),e.child=wa(e,null,a,i)):un(t,e,a,i),e.memoizedState=r.state,s&&Mx(e,n,!0),e.child}function iN(t){var e=t.stateNode;e.pendingContext?Fx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fx(t,e.context,!1),Qy(t,e.containerInfo)}function Xx(t,e,n,r,s){return ba(),Ly(s),e.flags|=256,un(t,e,n,r),e.child}var Km={dehydrated:null,treeContext:null,retryLane:0};function Ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function oN(t,e,n){var r=e.pendingProps,s=ht.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),nt(ht,s&1),t===null)return Um(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Dp(o,r,0,null),t=Ki(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ym(n),e.memoizedState=Km,t):Xy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return yF(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=li(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=li(a,i):(i=Ki(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ym(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Km,r}return i=t.child,t=i.sibling,r=li(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xy(t,e){return e=Dp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vu(t,e,n,r){return r!==null&&Ly(r),wa(e,t.child,null,n),t=Xy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yF(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ph(Error(se(422))),vu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Dp({mode:"visible",children:r.children},s,0,null),i=Ki(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&wa(e,t.child,null,o),e.child.memoizedState=Ym(o),e.memoizedState=Km,i);if(!(e.mode&1))return vu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(se(419)),r=ph(i,r,void 0),vu(t,e,o,r)}if(a=(o&t.childLanes)!==0,kn||a){if(r=Qt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vs(t,s),br(r,t,s,-1))}return sv(),r=ph(Error(se(421))),vu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=RF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,jn=ii(s.nextSibling),Dn=e,lt=!0,pr=null,t!==null&&(Yn[Jn++]=cs,Yn[Jn++]=ls,Yn[Jn++]=to,cs=t.id,ls=t.overflow,to=e),e=Xy(e,r.children),e.flags|=4096,e)}function Zx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qm(t.return,e,n)}function fh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function aN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(un(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zx(t,n,e);else if(t.tag===19)Zx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(ht,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Md(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),fh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Md(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}fh(e,!0,n,null,i);break;case"together":fh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ro|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=li(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=li(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vF(t,e,n){switch(e.tag){case 3:iN(e),ba();break;case 5:IT(e);break;case 1:An(e.type)&&Rd(e);break;case 4:Qy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;nt(Id,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?oN(t,e,n):(nt(ht,ht.current&1),t=xs(t,e,n),t!==null?t.sibling:null);nt(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),nt(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,rN(t,e,n)}return xs(t,e,n)}var cN,Jm,lN,uN;cN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jm=function(){};lN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Mi(Lr.current);var i=null;switch(n){case"input":s=xm(t,s),r=xm(t,r),i=[];break;case"select":s=yt({},s,{value:void 0}),r=yt({},r,{value:void 0}),i=[];break;case"textarea":s=Sm(t,s),r=Sm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Td)}Em(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Uc.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Uc.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&st("scroll",t),i||a===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};uN=function(t,e,n,r){n!==r&&(e.flags|=4)};function ac(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xF(t,e,n){var r=e.pendingProps;switch(Dy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return An(e.type)&&Nd(),Jt(e),null;case 3:return r=e.stateNode,Sa(),it(Cn),it(sn),Hy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pr!==null&&(ig(pr),pr=null))),Jm(t,e),Jt(e),null;case 5:Vy(e);var s=Mi(el.current);if(n=e.type,t!==null&&e.stateNode!=null)lN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return Jt(e),null}if(t=Mi(Lr.current),gu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ir]=e,r[Xc]=i,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(s=0;s<wc.length;s++)st(wc[s],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":cx(r,i),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},st("invalid",r);break;case"textarea":ux(r,i),st("invalid",r)}Em(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&mu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&mu(r.textContent,a,t),s=["children",""+a]):Uc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&st("scroll",r)}switch(n){case"input":au(r),lx(r,i,!0);break;case"textarea":au(r),dx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Td)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ir]=e,t[Xc]=r,cN(t,e,!1,!1),e.stateNode=t;e:{switch(o=km(n,r),n){case"dialog":st("cancel",t),st("close",t),s=r;break;case"iframe":case"object":case"embed":st("load",t),s=r;break;case"video":case"audio":for(s=0;s<wc.length;s++)st(wc[s],t);s=r;break;case"source":st("error",t),s=r;break;case"img":case"image":case"link":st("error",t),st("load",t),s=r;break;case"details":st("toggle",t),s=r;break;case"input":cx(t,r),s=xm(t,r),st("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=yt({},r,{value:void 0}),st("invalid",t);break;case"textarea":ux(t,r),s=Sm(t,r),st("invalid",t);break;default:s=r}Em(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?zA(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&BA(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&qc(t,c):typeof c=="number"&&qc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Uc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&st("scroll",t):c!=null&&Sy(t,i,c,o))}switch(n){case"input":au(t),lx(t,r,!1);break;case"textarea":au(t),dx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Xo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Xo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Td)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)uN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=Mi(el.current),Mi(Lr.current),gu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(i=r.nodeValue!==n)&&(t=Dn,t!==null))switch(t.tag){case 3:mu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return Jt(e),null;case 13:if(it(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&jn!==null&&e.mode&1&&!(e.flags&128))TT(),ba(),e.flags|=98560,i=!1;else if(i=gu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(se(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(se(317));i[Ir]=e}else ba(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),i=!1}else pr!==null&&(ig(pr),pr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Bt===0&&(Bt=3):sv())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return Sa(),Jm(t,e),t===null&&Yc(e.stateNode.containerInfo),Jt(e),null;case 10:return zy(e.type._context),Jt(e),null;case 17:return An(e.type)&&Nd(),Jt(e),null;case 19:if(it(ht),i=e.memoizedState,i===null)return Jt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ac(i,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Md(t),o!==null){for(e.flags|=128,ac(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(ht,ht.current&1|2),e.child}t=t.sibling}i.tail!==null&&Et()>Ea&&(e.flags|=128,r=!0,ac(i,!1),e.lanes=4194304)}else{if(!r)if(t=Md(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ac(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lt)return Jt(e),null}else 2*Et()-i.renderingStartTime>Ea&&n!==1073741824&&(e.flags|=128,r=!0,ac(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Et(),e.sibling=null,n=ht.current,nt(ht,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return rv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?On&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function bF(t,e){switch(Dy(e),e.tag){case 1:return An(e.type)&&Nd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sa(),it(Cn),it(sn),Hy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vy(e),null;case 13:if(it(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));ba()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(ht),null;case 4:return Sa(),null;case 10:return zy(e.type._context),null;case 22:case 23:return rv(),null;case 24:return null;default:return null}}var xu=!1,tn=!1,wF=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(t,e,r)}else n.current=null}function Xm(t,e,n){try{n()}catch(r){bt(t,e,r)}}var eb=!1;function SF(t,e){if(Fm=kd,t=mT(),Fy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=t,p=null;t:for(;;){for(var x;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(x=d.firstChild)!==null;)p=d,d=x;for(;;){if(d===t)break t;if(p===n&&++l===s&&(a=o),p===i&&++u===r&&(c=o),(x=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=x}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mm={focusedElem:t,selectionRange:n},kd=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var h=y.memoizedProps,w=y.memoizedState,m=e.stateNode,b=m.getSnapshotBeforeUpdate(e.elementType===e.type?h:ar(e.type,h),w);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(_){bt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return y=eb,eb=!1,y}function jc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xm(e,n,i)}s=s.next}while(s!==r)}}function Fp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dN(t){var e=t.alternate;e!==null&&(t.alternate=null,dN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[Xc],delete e[Bm],delete e[sF],delete e[iF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pN(t){return t.tag===5||t.tag===3||t.tag===4}function tb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Td));else if(r!==4&&(t=t.child,t!==null))for(eg(t,e,n),t=t.sibling;t!==null;)eg(t,e,n),t=t.sibling}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}var Ht=null,ur=!1;function Ts(t,e,n){for(n=n.child;n!==null;)fN(t,e,n),n=n.sibling}function fN(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Ap,n)}catch{}switch(n.tag){case 5:tn||Ho(n,e);case 6:var r=Ht,s=ur;Ht=null,Ts(t,e,n),Ht=r,ur=s,Ht!==null&&(ur?(t=Ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(ur?(t=Ht,n=n.stateNode,t.nodeType===8?oh(t.parentNode,n):t.nodeType===1&&oh(t,n),Gc(t)):oh(Ht,n.stateNode));break;case 4:r=Ht,s=ur,Ht=n.stateNode.containerInfo,ur=!0,Ts(t,e,n),Ht=r,ur=s;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xm(n,e,o),s=s.next}while(s!==r)}Ts(t,e,n);break;case 1:if(!tn&&(Ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bt(n,e,a)}Ts(t,e,n);break;case 21:Ts(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Ts(t,e,n),tn=r):Ts(t,e,n);break;default:Ts(t,e,n)}}function nb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wF),e.forEach(function(r){var s=OF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ht=a.stateNode,ur=!1;break e;case 3:Ht=a.stateNode.containerInfo,ur=!0;break e;case 4:Ht=a.stateNode.containerInfo,ur=!0;break e}a=a.return}if(Ht===null)throw Error(se(160));fN(i,o,s),Ht=null,ur=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){bt(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hN(e,t),e=e.sibling}function hN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ir(e,t),Cr(t),r&4){try{jc(3,t,t.return),Fp(3,t)}catch(h){bt(t,t.return,h)}try{jc(5,t,t.return)}catch(h){bt(t,t.return,h)}}break;case 1:ir(e,t),Cr(t),r&512&&n!==null&&Ho(n,n.return);break;case 5:if(ir(e,t),Cr(t),r&512&&n!==null&&Ho(n,n.return),t.flags&32){var s=t.stateNode;try{qc(s,"")}catch(h){bt(t,t.return,h)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&MA(s,i),km(a,o);var l=km(a,i);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?zA(s,d):u==="dangerouslySetInnerHTML"?BA(s,d):u==="children"?qc(s,d):Sy(s,u,d,l)}switch(a){case"input":bm(s,i);break;case"textarea":DA(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Xo(s,!!i.multiple,x,!1):p!==!!i.multiple&&(i.defaultValue!=null?Xo(s,!!i.multiple,i.defaultValue,!0):Xo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xc]=i}catch(h){bt(t,t.return,h)}}break;case 6:if(ir(e,t),Cr(t),r&4){if(t.stateNode===null)throw Error(se(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(h){bt(t,t.return,h)}}break;case 3:if(ir(e,t),Cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gc(e.containerInfo)}catch(h){bt(t,t.return,h)}break;case 4:ir(e,t),Cr(t);break;case 13:ir(e,t),Cr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(tv=Et())),r&4&&nb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(l=tn)||u,ir(e,t),tn=l):ir(e,t),Cr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(ge=t,u=t.child;u!==null;){for(d=ge=u;ge!==null;){switch(p=ge,x=p.child,p.tag){case 0:case 11:case 14:case 15:jc(4,p,p.return);break;case 1:Ho(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(h){bt(r,n,h)}}break;case 5:Ho(p,p.return);break;case 22:if(p.memoizedState!==null){sb(d);continue}}x!==null?(x.return=p,ge=x):sb(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=$A("display",o))}catch(h){bt(t,t.return,h)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(h){bt(t,t.return,h)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ir(e,t),Cr(t),r&4&&nb(t);break;case 21:break;default:ir(e,t),Cr(t)}}function Cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pN(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qc(s,""),r.flags&=-33);var i=tb(t);tg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tb(t);eg(t,a,o);break;default:throw Error(se(161))}}catch(c){bt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _F(t,e,n){ge=t,mN(t)}function mN(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var s=ge,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||xu;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||tn;a=xu;var l=tn;if(xu=o,(tn=c)&&!l)for(ge=s;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?ib(s):c!==null?(c.return=o,ge=c):ib(s);for(;i!==null;)ge=i,mN(i),i=i.sibling;ge=s,xu=a,tn=l}rb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ge=i):rb(t)}}function rb(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||Fp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ar(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&zx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Gc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}tn||e.flags&512&&Zm(e)}catch(p){bt(e,e.return,p)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function sb(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function ib(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fp(4,e)}catch(c){bt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){bt(e,s,c)}}var i=e.return;try{Zm(e)}catch(c){bt(e,i,c)}break;case 5:var o=e.return;try{Zm(e)}catch(c){bt(e,o,c)}}}catch(c){bt(e,e.return,c)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var EF=Math.ceil,Bd=Ss.ReactCurrentDispatcher,Zy=Ss.ReactCurrentOwner,er=Ss.ReactCurrentBatchConfig,Qe=0,Qt=null,Nt=null,Gt=0,On=0,Go=wi(0),Bt=0,sl=null,ro=0,Mp=0,ev=0,Fc=null,En=null,tv=0,Ea=1/0,ts=null,$d=!1,ng=null,ai=null,bu=!1,Js=null,zd=0,Mc=0,rg=null,ed=-1,td=0;function hn(){return Qe&6?Et():ed!==-1?ed:ed=Et()}function ci(t){return t.mode&1?Qe&2&&Gt!==0?Gt&-Gt:aF.transition!==null?(td===0&&(td=ZA()),td):(t=Xe,t!==0||(t=window.event,t=t===void 0?16:oT(t.type)),t):1}function br(t,e,n,r){if(50<Mc)throw Mc=0,rg=null,Error(se(185));Rl(t,n,r),(!(Qe&2)||t!==Qt)&&(t===Qt&&(!(Qe&2)&&(Mp|=n),Bt===4&&Ls(t,Gt)),Tn(t,r),n===1&&Qe===0&&!(e.mode&1)&&(Ea=Et()+500,Pp&&Si()))}function Tn(t,e){var n=t.callbackNode;a3(t,e);var r=Ed(t,t===Qt?Gt:0);if(r===0)n!==null&&hx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hx(n),e===1)t.tag===0?oF(ob.bind(null,t)):kT(ob.bind(null,t)),nF(function(){!(Qe&6)&&Si()}),n=null;else{switch(eT(r)){case 1:n=Ay;break;case 4:n=JA;break;case 16:n=_d;break;case 536870912:n=XA;break;default:n=_d}n=_N(n,gN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gN(t,e){if(ed=-1,td=0,Qe&6)throw Error(se(327));var n=t.callbackNode;if(ra()&&t.callbackNode!==n)return null;var r=Ed(t,t===Qt?Gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ud(t,r);else{e=r;var s=Qe;Qe|=2;var i=vN();(Qt!==t||Gt!==e)&&(ts=null,Ea=Et()+500,Wi(t,e));do try{AF();break}catch(a){yN(t,a)}while(!0);$y(),Bd.current=i,Qe=s,Nt!==null?e=0:(Qt=null,Gt=0,e=Bt)}if(e!==0){if(e===2&&(s=Rm(t),s!==0&&(r=s,e=sg(t,s))),e===1)throw n=sl,Wi(t,0),Ls(t,r),Tn(t,Et()),n;if(e===6)Ls(t,r);else{if(s=t.current.alternate,!(r&30)&&!kF(s)&&(e=Ud(t,r),e===2&&(i=Rm(t),i!==0&&(r=i,e=sg(t,i))),e===1))throw n=sl,Wi(t,0),Ls(t,r),Tn(t,Et()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:Oi(t,En,ts);break;case 3:if(Ls(t,r),(r&130023424)===r&&(e=tv+500-Et(),10<e)){if(Ed(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Lm(Oi.bind(null,t,En,ts),e);break}Oi(t,En,ts);break;case 4:if(Ls(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EF(r/1960))-r,10<r){t.timeoutHandle=Lm(Oi.bind(null,t,En,ts),r);break}Oi(t,En,ts);break;case 5:Oi(t,En,ts);break;default:throw Error(se(329))}}}return Tn(t,Et()),t.callbackNode===n?gN.bind(null,t):null}function sg(t,e){var n=Fc;return t.current.memoizedState.isDehydrated&&(Wi(t,e).flags|=256),t=Ud(t,e),t!==2&&(e=En,En=n,e!==null&&ig(e)),t}function ig(t){En===null?En=t:En.push.apply(En,t)}function kF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Sr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ls(t,e){for(e&=~ev,e&=~Mp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xr(e),r=1<<n;t[n]=-1,e&=~r}}function ob(t){if(Qe&6)throw Error(se(327));ra();var e=Ed(t,0);if(!(e&1))return Tn(t,Et()),null;var n=Ud(t,e);if(t.tag!==0&&n===2){var r=Rm(t);r!==0&&(e=r,n=sg(t,r))}if(n===1)throw n=sl,Wi(t,0),Ls(t,e),Tn(t,Et()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oi(t,En,ts),Tn(t,Et()),null}function nv(t,e){var n=Qe;Qe|=1;try{return t(e)}finally{Qe=n,Qe===0&&(Ea=Et()+500,Pp&&Si())}}function so(t){Js!==null&&Js.tag===0&&!(Qe&6)&&ra();var e=Qe;Qe|=1;var n=er.transition,r=Xe;try{if(er.transition=null,Xe=1,t)return t()}finally{Xe=r,er.transition=n,Qe=e,!(Qe&6)&&Si()}}function rv(){On=Go.current,it(Go)}function Wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tF(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(Dy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nd();break;case 3:Sa(),it(Cn),it(sn),Hy();break;case 5:Vy(r);break;case 4:Sa();break;case 13:it(ht);break;case 19:it(ht);break;case 10:zy(r.type._context);break;case 22:case 23:rv()}n=n.return}if(Qt=t,Nt=t=li(t.current,null),Gt=On=e,Bt=0,sl=null,ev=Mp=ro=0,En=Fc=null,Fi!==null){for(e=0;e<Fi.length;e++)if(n=Fi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Fi=null}return t}function yN(t,e){do{var n=Nt;try{if($y(),Ju.current=Ld,Dd){for(var r=gt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Dd=!1}if(no=0,Ut=Ft=gt=null,Ic=!1,tl=0,Zy.current=null,n===null||n.return===null){Bt=1,sl=e,Nt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Gt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Gx(o);if(x!==null){x.flags&=-257,Wx(x,o,a,i,e),x.mode&1&&Hx(i,l,e),e=x,c=l;var y=e.updateQueue;if(y===null){var h=new Set;h.add(c),e.updateQueue=h}else y.add(c);break e}else{if(!(e&1)){Hx(i,l,e),sv();break e}c=Error(se(426))}}else if(lt&&a.mode&1){var w=Gx(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Wx(w,o,a,i,e),Ly(_a(c,a));break e}}i=c=_a(c,a),Bt!==4&&(Bt=2),Fc===null?Fc=[i]:Fc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=eN(i,c,e);$x(i,m);break e;case 1:a=c;var b=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ai===null||!ai.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=tN(i,a,e);$x(i,_);break e}}i=i.return}while(i!==null)}bN(n)}catch(T){e=T,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function vN(){var t=Bd.current;return Bd.current=Ld,t===null?Ld:t}function sv(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Qt===null||!(ro&268435455)&&!(Mp&268435455)||Ls(Qt,Gt)}function Ud(t,e){var n=Qe;Qe|=2;var r=vN();(Qt!==t||Gt!==e)&&(ts=null,Wi(t,e));do try{CF();break}catch(s){yN(t,s)}while(!0);if($y(),Qe=n,Bd.current=r,Nt!==null)throw Error(se(261));return Qt=null,Gt=0,Bt}function CF(){for(;Nt!==null;)xN(Nt)}function AF(){for(;Nt!==null&&!Xj();)xN(Nt)}function xN(t){var e=SN(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?bN(t):Nt=e,Zy.current=null}function bN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bF(n,e),n!==null){n.flags&=32767,Nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,Nt=null;return}}else if(n=xF(n,e,On),n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);Bt===0&&(Bt=5)}function Oi(t,e,n){var r=Xe,s=er.transition;try{er.transition=null,Xe=1,TF(t,e,n,r)}finally{er.transition=s,Xe=r}return null}function TF(t,e,n,r){do ra();while(Js!==null);if(Qe&6)throw Error(se(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(c3(t,i),t===Qt&&(Nt=Qt=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bu||(bu=!0,_N(_d,function(){return ra(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=er.transition,er.transition=null;var o=Xe;Xe=1;var a=Qe;Qe|=4,Zy.current=null,SF(t,n),hN(n,t),W3(Mm),kd=!!Fm,Mm=Fm=null,t.current=n,_F(n),Zj(),Qe=a,Xe=o,er.transition=i}else t.current=n;if(bu&&(bu=!1,Js=t,zd=s),i=t.pendingLanes,i===0&&(ai=null),n3(n.stateNode),Tn(t,Et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($d)throw $d=!1,t=ng,ng=null,t;return zd&1&&t.tag!==0&&ra(),i=t.pendingLanes,i&1?t===rg?Mc++:(Mc=0,rg=t):Mc=0,Si(),null}function ra(){if(Js!==null){var t=eT(zd),e=er.transition,n=Xe;try{if(er.transition=null,Xe=16>t?16:t,Js===null)var r=!1;else{if(t=Js,Js=null,zd=0,Qe&6)throw Error(se(331));var s=Qe;for(Qe|=4,ge=t.current;ge!==null;){var i=ge,o=i.child;if(ge.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(ge=l;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:jc(8,u,i)}var d=u.child;if(d!==null)d.return=u,ge=d;else for(;ge!==null;){u=ge;var p=u.sibling,x=u.return;if(dN(u),u===l){ge=null;break}if(p!==null){p.return=x,ge=p;break}ge=x}}}var y=i.alternate;if(y!==null){var h=y.child;if(h!==null){y.child=null;do{var w=h.sibling;h.sibling=null,h=w}while(h!==null)}}ge=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ge=o;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jc(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,ge=m;break e}ge=i.return}}var b=t.current;for(ge=b;ge!==null;){o=ge;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,ge=g;else e:for(o=b;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fp(9,a)}}catch(T){bt(a,a.return,T)}if(a===o){ge=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ge=_;break e}ge=a.return}}if(Qe=s,Si(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Ap,t)}catch{}r=!0}return r}finally{Xe=n,er.transition=e}}return!1}function ab(t,e,n){e=_a(n,e),e=eN(t,e,1),t=oi(t,e,1),e=hn(),t!==null&&(Rl(t,1,e),Tn(t,e))}function bt(t,e,n){if(t.tag===3)ab(t,t,n);else for(;e!==null;){if(e.tag===3){ab(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){t=_a(n,t),t=tN(e,t,1),e=oi(e,t,1),t=hn(),e!==null&&(Rl(e,1,t),Tn(e,t));break}}e=e.return}}function NF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,Qt===t&&(Gt&n)===n&&(Bt===4||Bt===3&&(Gt&130023424)===Gt&&500>Et()-tv?Wi(t,0):ev|=n),Tn(t,e)}function wN(t,e){e===0&&(t.mode&1?(e=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):e=1);var n=hn();t=vs(t,e),t!==null&&(Rl(t,e,n),Tn(t,n))}function RF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wN(t,n)}function OF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),wN(t,n)}var SN;SN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cn.current)kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kn=!1,vF(t,e,n);kn=!!(t.flags&131072)}else kn=!1,lt&&e.flags&1048576&&CT(e,Pd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zu(t,e),t=e.pendingProps;var s=xa(e,sn.current);na(e,n),s=Wy(null,e,r,t,s,n);var i=Ky();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(r)?(i=!0,Rd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qy(e),s.updater=jp,e.stateNode=s,s._reactInternals=e,Vm(e,r,t,n),e=Wm(null,e,r,!0,i,n)):(e.tag=0,lt&&i&&My(e),un(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=IF(r),t=ar(r,t),s){case 0:e=Gm(null,e,r,t,n);break e;case 1:e=Jx(null,e,r,t,n);break e;case 11:e=Kx(null,e,r,t,n);break e;case 14:e=Yx(null,e,r,ar(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),Gm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),Jx(t,e,r,s,n);case 3:e:{if(iN(e),t===null)throw Error(se(387));r=e.pendingProps,i=e.memoizedState,s=i.element,PT(t,e),Fd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=_a(Error(se(423)),e),e=Xx(t,e,r,n,s);break e}else if(r!==s){s=_a(Error(se(424)),e),e=Xx(t,e,r,n,s);break e}else for(jn=ii(e.stateNode.containerInfo.firstChild),Dn=e,lt=!0,pr=null,n=RT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ba(),r===s){e=xs(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return IT(e),t===null&&Um(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Dm(r,s)?o=null:i!==null&&Dm(r,i)&&(e.flags|=32),sN(t,e),un(t,e,o,n),e.child;case 6:return t===null&&Um(e),null;case 13:return oN(t,e,n);case 4:return Qy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wa(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),Kx(t,e,r,s,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,nt(Id,r._currentValue),r._currentValue=o,i!==null)if(Sr(i.value,o)){if(i.children===s.children&&!Cn.current){e=xs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ps(-1,n&-n),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),qm(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(se(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}un(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,na(e,n),s=nr(s),r=r(s),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,s=ar(r,e.pendingProps),s=ar(r.type,s),Yx(t,e,r,s,n);case 15:return nN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),Zu(t,e),e.tag=1,An(r)?(t=!0,Rd(e)):t=!1,na(e,n),ZT(e,r,s),Vm(e,r,s,n),Wm(null,e,r,!0,t,n);case 19:return aN(t,e,n);case 22:return rN(t,e,n)}throw Error(se(156,e.tag))};function _N(t,e){return YA(t,e)}function PF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new PF(t,e,n,r)}function iv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IF(t){if(typeof t=="function")return iv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ey)return 11;if(t===ky)return 14}return 2}function li(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")iv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Do:return Ki(n.children,s,i,e);case _y:o=8,s|=8;break;case mm:return t=Zn(12,n,e,s|2),t.elementType=mm,t.lanes=i,t;case gm:return t=Zn(13,n,e,s),t.elementType=gm,t.lanes=i,t;case ym:return t=Zn(19,n,e,s),t.elementType=ym,t.lanes=i,t;case IA:return Dp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OA:o=10;break e;case PA:o=9;break e;case Ey:o=11;break e;case ky:o=14;break e;case Fs:o=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=Zn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ki(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function Dp(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=IA,t.lanes=n,t.stateNode={isHidden:!1},t}function hh(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function mh(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kf(0),this.expirationTimes=Kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ov(t,e,n,r,s,i,o,a,c){return t=new jF(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Zn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qy(i),t}function FF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EN(t){if(!t)return mi;t=t._reactInternals;e:{if(wo(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(An(n))return ET(t,n,e)}return e}function kN(t,e,n,r,s,i,o,a,c){return t=ov(n,r,!0,t,s,i,o,a,c),t.context=EN(null),n=t.current,r=hn(),s=ci(n),i=ps(r,s),i.callback=e??null,oi(n,i,s),t.current.lanes=s,Rl(t,s,r),Tn(t,r),t}function Lp(t,e,n,r){var s=e.current,i=hn(),o=ci(s);return n=EN(n),e.context===null?e.context=n:e.pendingContext=n,e=ps(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oi(s,e,o),t!==null&&(br(t,s,o,i),Yu(t,s,o)),o}function qd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function av(t,e){cb(t,e),(t=t.alternate)&&cb(t,e)}function MF(){return null}var CN=typeof reportError=="function"?reportError:function(t){console.error(t)};function cv(t){this._internalRoot=t}Bp.prototype.render=cv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));Lp(t,e,null,null)};Bp.prototype.unmount=cv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;so(function(){Lp(null,t,null,null)}),e[ys]=null}};function Bp(t){this._internalRoot=t}Bp.prototype.unstable_scheduleHydration=function(t){if(t){var e=rT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ds.length&&e!==0&&e<Ds[n].priority;n++);Ds.splice(n,0,t),n===0&&iT(t)}};function lv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lb(){}function DF(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=qd(o);i.call(l)}}var o=kN(e,r,t,0,null,!1,!1,"",lb);return t._reactRootContainer=o,t[ys]=o.current,Yc(t.nodeType===8?t.parentNode:t),so(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=qd(c);a.call(l)}}var c=ov(t,0,!1,null,null,!1,!1,"",lb);return t._reactRootContainer=c,t[ys]=c.current,Yc(t.nodeType===8?t.parentNode:t),so(function(){Lp(e,c,n,r)}),c}function zp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=qd(o);a.call(c)}}Lp(e,o,t,s)}else o=DF(n,e,t,s,r);return qd(o)}tT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bc(e.pendingLanes);n!==0&&(Ty(e,n|1),Tn(e,Et()),!(Qe&6)&&(Ea=Et()+500,Si()))}break;case 13:so(function(){var r=vs(t,1);if(r!==null){var s=hn();br(r,t,1,s)}}),av(t,1)}};Ny=function(t){if(t.tag===13){var e=vs(t,134217728);if(e!==null){var n=hn();br(e,t,134217728,n)}av(t,134217728)}};nT=function(t){if(t.tag===13){var e=ci(t),n=vs(t,e);if(n!==null){var r=hn();br(n,t,e,r)}av(t,e)}};rT=function(){return Xe};sT=function(t,e){var n=Xe;try{return Xe=t,e()}finally{Xe=n}};Am=function(t,e,n){switch(e){case"input":if(bm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Op(r);if(!s)throw Error(se(90));FA(r),bm(r,s)}}}break;case"textarea":DA(t,n);break;case"select":e=n.value,e!=null&&Xo(t,!!n.multiple,e,!1)}};QA=nv;VA=so;var LF={usingClientEntryPoint:!1,Events:[Pl,zo,Op,UA,qA,nv]},cc={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BF={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=WA(t),t===null?null:t.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||MF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{Ap=wu.inject(BF),Dr=wu}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LF;zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lv(e))throw Error(se(200));return FF(t,e,null,n)};zn.createRoot=function(t,e){if(!lv(t))throw Error(se(299));var n=!1,r="",s=CN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ov(t,1,!1,null,null,n,!1,r,s),t[ys]=e.current,Yc(t.nodeType===8?t.parentNode:t),new cv(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=WA(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return so(t)};zn.hydrate=function(t,e,n){if(!$p(e))throw Error(se(200));return zp(null,t,e,!0,n)};zn.hydrateRoot=function(t,e,n){if(!lv(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=CN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=kN(e,null,t,1,n??null,s,!1,i,o),t[ys]=e.current,Yc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Bp(e)};zn.render=function(t,e,n){if(!$p(e))throw Error(se(200));return zp(null,t,e,!1,n)};zn.unmountComponentAtNode=function(t){if(!$p(t))throw Error(se(40));return t._reactRootContainer?(so(function(){zp(null,null,t,!1,function(){t._reactRootContainer=null,t[ys]=null})}),!0):!1};zn.unstable_batchedUpdates=nv;zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$p(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return zp(t,e,n,!1,r)};zn.version="18.3.1-next-f1338f8080-20240426";function AN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AN)}catch(t){console.error(t)}}AN(),AA.exports=zn;var $F=AA.exports,ub=$F;fm.createRoot=ub.createRoot,fm.hydrateRoot=ub.hydrateRoot;function zF(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var TN={exports:{}},NN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ka=J;function UF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qF=typeof Object.is=="function"?Object.is:UF,QF=ka.useState,VF=ka.useEffect,HF=ka.useLayoutEffect,GF=ka.useDebugValue;function WF(t,e){var n=e(),r=QF({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return HF(function(){s.value=n,s.getSnapshot=e,gh(s)&&i({inst:s})},[t,n,e]),VF(function(){return gh(s)&&i({inst:s}),t(function(){gh(s)&&i({inst:s})})},[t]),GF(n),n}function gh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qF(t,n)}catch{return!0}}function KF(t,e){return e()}var YF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KF:WF;NN.useSyncExternalStore=ka.useSyncExternalStore!==void 0?ka.useSyncExternalStore:YF;TN.exports=NN;var JF=TN.exports;const XF=Nj.useInsertionEffect,ZF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eM=ZF?J.useLayoutEffect:J.useEffect,tM=XF||eM,RN=t=>{const e=J.useRef([t,(...n)=>e[0](...n)]).current;return tM(()=>{e[0]=t}),e[1]},nM="popstate",uv="pushState",dv="replaceState",rM="hashchange",db=[nM,uv,dv,rM],sM=t=>{for(const e of db)addEventListener(e,t);return()=>{for(const e of db)removeEventListener(e,t)}},ON=(t,e)=>JF.useSyncExternalStore(sM,t,e),iM=()=>location.search,oM=({ssrSearch:t=""}={})=>ON(iM,()=>t),pb=()=>location.pathname,aM=({ssrPath:t}={})=>ON(pb,t?()=>t:pb),cM=(t,{replace:e=!1,state:n=null}={})=>history[e?dv:uv](n,"",t),lM=(t={})=>[aM(t),cM],fb=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[fb]>"u"){for(const t of[uv,dv]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,fb,{value:!0})}const uM=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",PN=(t="")=>t==="/"?"":t,dM=(t,e)=>t[0]==="~"?t.slice(1):PN(e)+t,pM=(t="",e)=>uM(hb(PN(t)),hb(e)),hb=t=>{try{return decodeURI(t)}catch{return t}},IN={hook:lM,searchHook:oM,parser:zF,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},jN=J.createContext(IN),jl=()=>J.useContext(jN),FN={},MN=J.createContext(FN),fM=()=>J.useContext(MN),Up=t=>{const[e,n]=t.hook(t);return[pM(t.base,e),RN((r,s)=>n(dM(r,t.base),s))]},io=()=>Up(jl()),DN=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...c]=o;return a!==void 0?[!0,(()=>{const l=i!==!1?Object.fromEntries(i.map((d,p)=>[d,c[p]])):o.groups;let u={...c};return l&&Object.assign(u,l),u})(),...r?[a]:[]]:[!1,null]},LN=({children:t,...e})=>{var u,d;const n=jl(),r=e.hook?IN:n;let s=r;const[i,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((d=e.hook)==null?void 0:d.hrefs);let a=J.useRef({}),c=a.current,l=c;for(let p in r){const x=p==="base"?r[p]+(e[p]||""):e[p]||r[p];c===l&&x!==l[p]&&(a.current=l={...l}),l[p]=x,(x!==r[p]||x!==s[p])&&(s=l)}return J.createElement(jN.Provider,{value:s,children:t})},mb=({children:t,component:e},n)=>e?J.createElement(e,{params:n}):typeof t=="function"?t(n):t,hM=t=>{let e=J.useRef(FN);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},Wr=({path:t,nest:e,match:n,...r})=>{const s=jl(),[i]=Up(s),[o,a,c]=n??DN(s.parser,t,i,e),l=hM({...fM(),...a});if(!o)return null;const u=c?J.createElement(LN,{base:c},mb(r,l)):mb(r,l);return J.createElement(MN.Provider,{value:l,children:u})},mM=J.forwardRef((t,e)=>{const n=jl(),[r,s]=Up(n),{to:i="",href:o=i,onClick:a,asChild:c,children:l,className:u,replace:d,state:p,...x}=t,y=RN(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(a==null||a(w),w.defaultPrevented||(w.preventDefault(),s(o,t)))}),h=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&J.isValidElement(l)?J.cloneElement(l,{onClick:y,href:h}):J.createElement("a",{...x,onClick:y,href:h,className:u!=null&&u.call?u(r===o):u,children:l,ref:e})}),BN=t=>Array.isArray(t)?t.flatMap(e=>BN(e&&e.type===J.Fragment?e.props.children:e)):[t],gM=({children:t,location:e})=>{const n=jl(),[r]=Up(n);for(const s of BN(t)){let i=0;if(J.isValidElement(s)&&(i=DN(n.parser,s.props.path,e||r,s.props.nest))[0])return J.cloneElement(s,{match:i})}return null};var Ba=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oo=typeof window>"u"||"Deno"in globalThis;function dn(){}function yM(t,e){return typeof t=="function"?t(e):t}function og(t){return typeof t=="number"&&t>=0&&t!==1/0}function $N(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ui(t,e){return typeof t=="function"?t(e):t}function Kn(t,e){return typeof t=="function"?t(e):t}function gb(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==pv(o,e.options))return!1}else if(!il(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function yb(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ao(e.options.mutationKey)!==ao(i))return!1}else if(!il(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function pv(t,e){return((e==null?void 0:e.queryKeyHashFn)||ao)(t)}function ao(t){return JSON.stringify(t,(e,n)=>ag(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function il(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>il(t[n],e[n])):!1}function zN(t,e){if(t===e)return t;const n=vb(t)&&vb(e);if(n||ag(t)&&ag(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=zN(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Qd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function vb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ag(t){if(!xb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!xb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xb(t){return Object.prototype.toString.call(t)==="[object Object]"}function vM(t){return new Promise(e=>{setTimeout(e,t)})}function cg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?zN(t,e):e}function xM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function bM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var fv=Symbol();function UN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===fv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function qN(t,e){return typeof t=="function"?t(...e):!!t}var Bi,$s,oa,lS,wM=(lS=class extends Ba{constructor(){super();we(this,Bi);we(this,$s);we(this,oa);fe(this,oa,e=>{if(!oo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,$s)||this.setEventListener(F(this,oa))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,$s))==null||e.call(this),fe(this,$s,void 0))}setEventListener(e){var n;fe(this,oa,e),(n=F(this,$s))==null||n.call(this),fe(this,$s,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,Bi)!==e&&(fe(this,Bi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,Bi)=="boolean"?F(this,Bi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bi=new WeakMap,$s=new WeakMap,oa=new WeakMap,lS),hv=new wM,aa,zs,ca,uS,SM=(uS=class extends Ba{constructor(){super();we(this,aa,!0);we(this,zs);we(this,ca);fe(this,ca,e=>{if(!oo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,zs)||this.setEventListener(F(this,ca))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,zs))==null||e.call(this),fe(this,zs,void 0))}setEventListener(e){var n;fe(this,ca,e),(n=F(this,zs))==null||n.call(this),fe(this,zs,e(this.setOnline.bind(this)))}setOnline(e){F(this,aa)!==e&&(fe(this,aa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,aa)}},aa=new WeakMap,zs=new WeakMap,ca=new WeakMap,uS),Vd=new SM;function lg(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function _M(t){return Math.min(1e3*2**t,3e4)}function QN(t){return(t??"online")==="online"?Vd.isOnline():!0}var VN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function yh(t){return t instanceof VN}function HN(t){let e=!1,n=0,r=!1,s;const i=lg(),o=h=>{var w;r||(p(new VN(h)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>hv.isFocused()&&(t.networkMode==="always"||Vd.isOnline())&&t.canRun(),u=()=>QN(t.networkMode)&&t.canRun(),d=h=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,h),s==null||s(),i.resolve(h))},p=h=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,h),s==null||s(),i.reject(h))},x=()=>new Promise(h=>{var w;s=m=>{(r||l())&&h(m)},(w=t.onPause)==null||w.call(t)}).then(()=>{var h;s=void 0,r||(h=t.onContinue)==null||h.call(t)}),y=()=>{if(r)return;let h;const w=n===0?t.initialPromise:void 0;try{h=w??t.fn()}catch(m){h=Promise.reject(m)}Promise.resolve(h).then(d).catch(m=>{var C;if(r)return;const b=t.retry??(oo?0:3),g=t.retryDelay??_M,_=typeof g=="function"?g(n,m):g,T=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,m);if(e||!T){p(m);return}n++,(C=t.onFail)==null||C.call(t,n,m),vM(_).then(()=>l()?void 0:x()).then(()=>{e?p(m):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?y():x().then(y),i)}}var EM=t=>setTimeout(t,0);function kM(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=EM;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Dt=kM(),$i,dS,GN=(dS=class{constructor(){we(this,$i)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),og(this.gcTime)&&fe(this,$i,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(oo?1/0:5*60*1e3))}clearGcTimeout(){F(this,$i)&&(clearTimeout(F(this,$i)),fe(this,$i,void 0))}},$i=new WeakMap,dS),la,zi,Wn,Ui,Zt,El,qi,cr,Xr,pS,CM=(pS=class extends GN{constructor(n){super();we(this,cr);we(this,la);we(this,zi);we(this,Wn);we(this,Ui);we(this,Zt);we(this,El);we(this,qi);fe(this,qi,!1),fe(this,El,n.defaultOptions),this.setOptions(n.options),this.observers=[],fe(this,Ui,n.client),fe(this,Wn,F(this,Ui).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,fe(this,la,AM(this.options)),this.state=n.state??F(this,la),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,Zt))==null?void 0:n.promise}setOptions(n){this.options={...F(this,El),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Wn).remove(this)}setData(n,r){const s=cg(this.state.data,n,this.options);return Ie(this,cr,Xr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Ie(this,cr,Xr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,Zt))==null?void 0:s.promise;return(i=F(this,Zt))==null||i.cancel(n),r?r.then(dn).catch(dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,la))}isActive(){return this.observers.some(n=>Kn(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ui(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!$N(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,Zt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,Zt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,Wn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,Zt)&&(F(this,qi)?F(this,Zt).cancel({revert:!0}):F(this,Zt).cancelRetry()),this.scheduleGc()),F(this,Wn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ie(this,cr,Xr).call(this,{type:"invalidate"})}fetch(n,r){var u,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,Zt))return F(this,Zt).continueRetry(),F(this,Zt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const x=this.observers.find(y=>y.options.queryFn);x&&this.setOptions(x.options)}const s=new AbortController,i=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(fe(this,qi,!0),s.signal)})},o=()=>{const x=UN(this.options,r),h=(()=>{const w={client:F(this,Ui),queryKey:this.queryKey,meta:this.meta};return i(w),w})();return fe(this,qi,!1),this.options.persister?this.options.persister(x,h,this):x(h)},c=(()=>{const x={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Ui),state:this.state,fetchFn:o};return i(x),x})();(u=this.options.behavior)==null||u.onFetch(c,this),fe(this,zi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=c.fetchOptions)==null?void 0:d.meta))&&Ie(this,cr,Xr).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const l=x=>{var y,h,w,m;yh(x)&&x.silent||Ie(this,cr,Xr).call(this,{type:"error",error:x}),yh(x)||((h=(y=F(this,Wn).config).onError)==null||h.call(y,x,this),(m=(w=F(this,Wn).config).onSettled)==null||m.call(w,this.state.data,x,this)),this.scheduleGc()};return fe(this,Zt,HN({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:x=>{var y,h,w,m;if(x===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(b){l(b);return}(h=(y=F(this,Wn).config).onSuccess)==null||h.call(y,x,this),(m=(w=F(this,Wn).config).onSettled)==null||m.call(w,x,this.state.error,this),this.scheduleGc()},onError:l,onFail:(x,y)=>{Ie(this,cr,Xr).call(this,{type:"failed",failureCount:x,error:y})},onPause:()=>{Ie(this,cr,Xr).call(this,{type:"pause"})},onContinue:()=>{Ie(this,cr,Xr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),F(this,Zt).start()}},la=new WeakMap,zi=new WeakMap,Wn=new WeakMap,Ui=new WeakMap,Zt=new WeakMap,El=new WeakMap,qi=new WeakMap,cr=new WeakSet,Xr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...WN(s.data,this.options),fetchMeta:n.meta??null};case"success":return fe(this,zi,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return yh(i)&&i.revert&&F(this,zi)?{...F(this,zi),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Dt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,Wn).notify({query:this,type:"updated",action:n})})},pS);function WN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function AM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Rr,fS,TM=(fS=class extends Ba{constructor(e={}){super();we(this,Rr);this.config=e,fe(this,Rr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??pv(s,n);let o=this.get(i);return o||(o=new CM({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,Rr).has(e.queryHash)||(F(this,Rr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,Rr).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,Rr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,Rr).get(e)}getAll(){return[...F(this,Rr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>gb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>gb(e,r)):n}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Rr=new WeakMap,fS),Or,cn,Qi,Pr,Is,hS,NM=(hS=class extends GN{constructor(e){super();we(this,Pr);we(this,Or);we(this,cn);we(this,Qi);this.mutationId=e.mutationId,fe(this,cn,e.mutationCache),fe(this,Or,[]),this.state=e.state||KN(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){F(this,Or).includes(e)||(F(this,Or).push(e),this.clearGcTimeout(),F(this,cn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){fe(this,Or,F(this,Or).filter(n=>n!==e)),this.scheduleGc(),F(this,cn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){F(this,Or).length||(this.state.status==="pending"?this.scheduleGc():F(this,cn).remove(this))}continue(){var e;return((e=F(this,Qi))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,l,u,d,p,x,y,h,w,m,b,g,_,T,C,S,A;const n=()=>{Ie(this,Pr,Is).call(this,{type:"continue"})};fe(this,Qi,HN({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,D)=>{Ie(this,Pr,Is).call(this,{type:"failed",failureCount:P,error:D})},onPause:()=>{Ie(this,Pr,Is).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,cn).canRun(this)}));const r=this.state.status==="pending",s=!F(this,Qi).canStart();try{if(r)n();else{Ie(this,Pr,Is).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=F(this,cn).config).onMutate)==null?void 0:o.call(i,e,this));const D=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));D!==this.state.context&&Ie(this,Pr,Is).call(this,{type:"pending",context:D,variables:e,isPaused:s})}const P=await F(this,Qi).start();return await((u=(l=F(this,cn).config).onSuccess)==null?void 0:u.call(l,P,e,this.state.context,this)),await((p=(d=this.options).onSuccess)==null?void 0:p.call(d,P,e,this.state.context)),await((y=(x=F(this,cn).config).onSettled)==null?void 0:y.call(x,P,null,this.state.variables,this.state.context,this)),await((w=(h=this.options).onSettled)==null?void 0:w.call(h,P,null,e,this.state.context)),Ie(this,Pr,Is).call(this,{type:"success",data:P}),P}catch(P){try{throw await((b=(m=F(this,cn).config).onError)==null?void 0:b.call(m,P,e,this.state.context,this)),await((_=(g=this.options).onError)==null?void 0:_.call(g,P,e,this.state.context)),await((C=(T=F(this,cn).config).onSettled)==null?void 0:C.call(T,void 0,P,this.state.variables,this.state.context,this)),await((A=(S=this.options).onSettled)==null?void 0:A.call(S,void 0,P,e,this.state.context)),P}finally{Ie(this,Pr,Is).call(this,{type:"error",error:P})}}finally{F(this,cn).runNext(this)}}},Or=new WeakMap,cn=new WeakMap,Qi=new WeakMap,Pr=new WeakSet,Is=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Dt.batch(()=>{F(this,Or).forEach(r=>{r.onMutationUpdate(e)}),F(this,cn).notify({mutation:this,type:"updated",action:e})})},hS);function KN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var is,lr,kl,mS,RM=(mS=class extends Ba{constructor(e={}){super();we(this,is);we(this,lr);we(this,kl);this.config=e,fe(this,is,new Set),fe(this,lr,new Map),fe(this,kl,0)}build(e,n,r){const s=new NM({mutationCache:this,mutationId:++su(this,kl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,is).add(e);const n=Su(e);if(typeof n=="string"){const r=F(this,lr).get(n);r?r.push(e):F(this,lr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,is).delete(e)){const n=Su(e);if(typeof n=="string"){const r=F(this,lr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,lr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Su(e);if(typeof n=="string"){const r=F(this,lr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Su(e);if(typeof n=="string"){const s=(r=F(this,lr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dt.batch(()=>{F(this,is).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,is).clear(),F(this,lr).clear()})}getAll(){return Array.from(F(this,is))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>yb(n,r))}findAll(e={}){return this.getAll().filter(n=>yb(e,n))}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Dt.batch(()=>Promise.all(e.map(n=>n.continue().catch(dn))))}},is=new WeakMap,lr=new WeakMap,kl=new WeakMap,mS);function Su(t){var e;return(e=t.options.scope)==null?void 0:e.id}function bb(t){return{onFetch:(e,n)=>{var u,d,p,x,y;const r=e.options,s=(p=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:p.direction,i=((x=e.state.data)==null?void 0:x.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let h=!1;const w=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},m=UN(e.options,e.fetchOptions),b=async(g,_,T)=>{if(h)return Promise.reject();if(_==null&&g.pages.length)return Promise.resolve(g);const S=(()=>{const q={client:e.client,queryKey:e.queryKey,pageParam:_,direction:T?"backward":"forward",meta:e.options.meta};return w(q),q})(),A=await m(S),{maxPages:P}=e.options,D=T?bM:xM;return{pages:D(g.pages,A,P),pageParams:D(g.pageParams,_,P)}};if(s&&i.length){const g=s==="backward",_=g?OM:wb,T={pages:i,pageParams:o},C=_(r,T);a=await b(T,C,g)}else{const g=t??i.length;do{const _=c===0?o[0]??r.initialPageParam:wb(r,a);if(c>0&&_==null)break;a=await b(a,_),c++}while(c<g)}return a};e.options.persister?e.fetchFn=()=>{var h,w;return(w=(h=e.options).persister)==null?void 0:w.call(h,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function wb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function OM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var xt,Us,qs,ua,da,Qs,pa,fa,gS,PM=(gS=class{constructor(t={}){we(this,xt);we(this,Us);we(this,qs);we(this,ua);we(this,da);we(this,Qs);we(this,pa);we(this,fa);fe(this,xt,t.queryCache||new TM),fe(this,Us,t.mutationCache||new RM),fe(this,qs,t.defaultOptions||{}),fe(this,ua,new Map),fe(this,da,new Map),fe(this,Qs,0)}mount(){su(this,Qs)._++,F(this,Qs)===1&&(fe(this,pa,hv.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,xt).onFocus())})),fe(this,fa,Vd.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,xt).onOnline())})))}unmount(){var t,e;su(this,Qs)._--,F(this,Qs)===0&&((t=F(this,pa))==null||t.call(this),fe(this,pa,void 0),(e=F(this,fa))==null||e.call(this),fe(this,fa,void 0))}isFetching(t){return F(this,xt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,Us).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,xt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,xt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ui(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,xt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,xt).get(r.queryHash),i=s==null?void 0:s.state.data,o=yM(e,i);if(o!==void 0)return F(this,xt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Dt.batch(()=>F(this,xt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,xt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,xt);Dt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,xt);return Dt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Dt.batch(()=>F(this,xt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(dn).catch(dn)}invalidateQueries(t,e={}){return Dt.batch(()=>(F(this,xt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Dt.batch(()=>F(this,xt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(dn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(dn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,xt).build(this,e);return n.isStaleByTime(ui(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(dn).catch(dn)}fetchInfiniteQuery(t){return t.behavior=bb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(dn).catch(dn)}ensureInfiniteQueryData(t){return t.behavior=bb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vd.isOnline()?F(this,Us).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,xt)}getMutationCache(){return F(this,Us)}getDefaultOptions(){return F(this,qs)}setDefaultOptions(t){fe(this,qs,t)}setQueryDefaults(t,e){F(this,ua).set(ao(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,ua).values()],n={};return e.forEach(r=>{il(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,da).set(ao(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,da).values()],n={};return e.forEach(r=>{il(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,qs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=pv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===fv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,qs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,xt).clear(),F(this,Us).clear()}},xt=new WeakMap,Us=new WeakMap,qs=new WeakMap,ua=new WeakMap,da=new WeakMap,Qs=new WeakMap,pa=new WeakMap,fa=new WeakMap,gS),bn,$e,Cl,ln,Vi,ha,Vs,Hs,Al,ma,ga,Hi,Gi,Gs,ya,Ye,Sc,ug,dg,pg,fg,hg,mg,gg,YN,yS,IM=(yS=class extends Ba{constructor(e,n){super();we(this,Ye);we(this,bn);we(this,$e);we(this,Cl);we(this,ln);we(this,Vi);we(this,ha);we(this,Vs);we(this,Hs);we(this,Al);we(this,ma);we(this,ga);we(this,Hi);we(this,Gi);we(this,Gs);we(this,ya,new Set);this.options=n,fe(this,bn,e),fe(this,Hs,null),fe(this,Vs,lg()),this.options.experimental_prefetchInRender||F(this,Vs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,$e).addObserver(this),Sb(F(this,$e),this.options)?Ie(this,Ye,Sc).call(this):this.updateResult(),Ie(this,Ye,fg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yg(F(this,$e),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yg(F(this,$e),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ie(this,Ye,hg).call(this),Ie(this,Ye,mg).call(this),F(this,$e).removeObserver(this)}setOptions(e){const n=this.options,r=F(this,$e);if(this.options=F(this,bn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Kn(this.options.enabled,F(this,$e))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ie(this,Ye,gg).call(this),F(this,$e).setOptions(this.options),n._defaulted&&!Qd(this.options,n)&&F(this,bn).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,$e),observer:this});const s=this.hasListeners();s&&_b(F(this,$e),r,this.options,n)&&Ie(this,Ye,Sc).call(this),this.updateResult(),s&&(F(this,$e)!==r||Kn(this.options.enabled,F(this,$e))!==Kn(n.enabled,F(this,$e))||ui(this.options.staleTime,F(this,$e))!==ui(n.staleTime,F(this,$e)))&&Ie(this,Ye,ug).call(this);const i=Ie(this,Ye,dg).call(this);s&&(F(this,$e)!==r||Kn(this.options.enabled,F(this,$e))!==Kn(n.enabled,F(this,$e))||i!==F(this,Gs))&&Ie(this,Ye,pg).call(this,i)}getOptimisticResult(e){const n=F(this,bn).getQueryCache().build(F(this,bn),e),r=this.createResult(n,e);return FM(this,r)&&(fe(this,ln,r),fe(this,ha,this.options),fe(this,Vi,F(this,$e).state)),r}getCurrentResult(){return F(this,ln)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){F(this,ya).add(e)}getCurrentQuery(){return F(this,$e)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=F(this,bn).defaultQueryOptions(e),r=F(this,bn).getQueryCache().build(F(this,bn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ie(this,Ye,Sc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,ln)))}createResult(e,n){var P;const r=F(this,$e),s=this.options,i=F(this,ln),o=F(this,Vi),a=F(this,ha),l=e!==r?e.state:F(this,Cl),{state:u}=e;let d={...u},p=!1,x;if(n._optimisticResults){const D=this.hasListeners(),q=!D&&Sb(e,n),K=D&&_b(e,r,n,s);(q||K)&&(d={...d,...WN(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:y,errorUpdatedAt:h,status:w}=d;x=d.data;let m=!1;if(n.placeholderData!==void 0&&x===void 0&&w==="pending"){let D;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(D=i.data,m=!0):D=typeof n.placeholderData=="function"?n.placeholderData((P=F(this,ga))==null?void 0:P.state.data,F(this,ga)):n.placeholderData,D!==void 0&&(w="success",x=cg(i==null?void 0:i.data,D,n),p=!0)}if(n.select&&x!==void 0&&!m)if(i&&x===(o==null?void 0:o.data)&&n.select===F(this,Al))x=F(this,ma);else try{fe(this,Al,n.select),x=n.select(x),x=cg(i==null?void 0:i.data,x,n),fe(this,ma,x),fe(this,Hs,null)}catch(D){fe(this,Hs,D)}F(this,Hs)&&(y=F(this,Hs),x=F(this,ma),h=Date.now(),w="error");const b=d.fetchStatus==="fetching",g=w==="pending",_=w==="error",T=g&&b,C=x!==void 0,A={status:w,fetchStatus:d.fetchStatus,isPending:g,isSuccess:w==="success",isError:_,isInitialLoading:T,isLoading:T,data:x,dataUpdatedAt:d.dataUpdatedAt,error:y,errorUpdatedAt:h,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!g,isLoadingError:_&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:_&&C,isStale:mv(e,n),refetch:this.refetch,promise:F(this,Vs),isEnabled:Kn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=U=>{A.status==="error"?U.reject(A.error):A.data!==void 0&&U.resolve(A.data)},q=()=>{const U=fe(this,Vs,A.promise=lg());D(U)},K=F(this,Vs);switch(K.status){case"pending":e.queryHash===r.queryHash&&D(K);break;case"fulfilled":(A.status==="error"||A.data!==K.value)&&q();break;case"rejected":(A.status!=="error"||A.error!==K.reason)&&q();break}}return A}updateResult(){const e=F(this,ln),n=this.createResult(F(this,$e),this.options);if(fe(this,Vi,F(this,$e).state),fe(this,ha,this.options),F(this,Vi).data!==void 0&&fe(this,ga,F(this,$e)),Qd(n,e))return;fe(this,ln,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!F(this,ya).size)return!0;const o=new Set(i??F(this,ya));return this.options.throwOnError&&o.add("error"),Object.keys(F(this,ln)).some(a=>{const c=a;return F(this,ln)[c]!==e[c]&&o.has(c)})};Ie(this,Ye,YN).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ie(this,Ye,fg).call(this)}},bn=new WeakMap,$e=new WeakMap,Cl=new WeakMap,ln=new WeakMap,Vi=new WeakMap,ha=new WeakMap,Vs=new WeakMap,Hs=new WeakMap,Al=new WeakMap,ma=new WeakMap,ga=new WeakMap,Hi=new WeakMap,Gi=new WeakMap,Gs=new WeakMap,ya=new WeakMap,Ye=new WeakSet,Sc=function(e){Ie(this,Ye,gg).call(this);let n=F(this,$e).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(dn)),n},ug=function(){Ie(this,Ye,hg).call(this);const e=ui(this.options.staleTime,F(this,$e));if(oo||F(this,ln).isStale||!og(e))return;const r=$N(F(this,ln).dataUpdatedAt,e)+1;fe(this,Hi,setTimeout(()=>{F(this,ln).isStale||this.updateResult()},r))},dg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,$e)):this.options.refetchInterval)??!1},pg=function(e){Ie(this,Ye,mg).call(this),fe(this,Gs,e),!(oo||Kn(this.options.enabled,F(this,$e))===!1||!og(F(this,Gs))||F(this,Gs)===0)&&fe(this,Gi,setInterval(()=>{(this.options.refetchIntervalInBackground||hv.isFocused())&&Ie(this,Ye,Sc).call(this)},F(this,Gs)))},fg=function(){Ie(this,Ye,ug).call(this),Ie(this,Ye,pg).call(this,Ie(this,Ye,dg).call(this))},hg=function(){F(this,Hi)&&(clearTimeout(F(this,Hi)),fe(this,Hi,void 0))},mg=function(){F(this,Gi)&&(clearInterval(F(this,Gi)),fe(this,Gi,void 0))},gg=function(){const e=F(this,bn).getQueryCache().build(F(this,bn),this.options);if(e===F(this,$e))return;const n=F(this,$e);fe(this,$e,e),fe(this,Cl,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},YN=function(e){Dt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(F(this,ln))}),F(this,bn).getQueryCache().notify({query:F(this,$e),type:"observerResultsUpdated"})})},yS);function jM(t,e){return Kn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Sb(t,e){return jM(t,e)||t.state.data!==void 0&&yg(t,e,e.refetchOnMount)}function yg(t,e,n){if(Kn(e.enabled,t)!==!1&&ui(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&mv(t,e)}return!1}function _b(t,e,n,r){return(t!==e||Kn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&mv(t,n)}function mv(t,e){return Kn(e.enabled,t)!==!1&&t.isStaleByTime(ui(e.staleTime,t))}function FM(t,e){return!Qd(t.getCurrentResult(),e)}var Ws,Ks,wn,os,ms,rd,vg,vS,MM=(vS=class extends Ba{constructor(n,r){super();we(this,ms);we(this,Ws);we(this,Ks);we(this,wn);we(this,os);fe(this,Ws,n),this.setOptions(r),this.bindMethods(),Ie(this,ms,rd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=F(this,Ws).defaultMutationOptions(n),Qd(this.options,r)||F(this,Ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,wn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ao(r.mutationKey)!==ao(this.options.mutationKey)?this.reset():((s=F(this,wn))==null?void 0:s.state.status)==="pending"&&F(this,wn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=F(this,wn))==null||n.removeObserver(this)}onMutationUpdate(n){Ie(this,ms,rd).call(this),Ie(this,ms,vg).call(this,n)}getCurrentResult(){return F(this,Ks)}reset(){var n;(n=F(this,wn))==null||n.removeObserver(this),fe(this,wn,void 0),Ie(this,ms,rd).call(this),Ie(this,ms,vg).call(this)}mutate(n,r){var s;return fe(this,os,r),(s=F(this,wn))==null||s.removeObserver(this),fe(this,wn,F(this,Ws).getMutationCache().build(F(this,Ws),this.options)),F(this,wn).addObserver(this),F(this,wn).execute(n)}},Ws=new WeakMap,Ks=new WeakMap,wn=new WeakMap,os=new WeakMap,ms=new WeakSet,rd=function(){var r;const n=((r=F(this,wn))==null?void 0:r.state)??KN();fe(this,Ks,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},vg=function(n){Dt.batch(()=>{var r,s,i,o,a,c,l,u;if(F(this,os)&&this.hasListeners()){const d=F(this,Ks).variables,p=F(this,Ks).context;(n==null?void 0:n.type)==="success"?((s=(r=F(this,os)).onSuccess)==null||s.call(r,n.data,d,p),(o=(i=F(this,os)).onSettled)==null||o.call(i,n.data,null,d,p)):(n==null?void 0:n.type)==="error"&&((c=(a=F(this,os)).onError)==null||c.call(a,n.error,d,p),(u=(l=F(this,os)).onSettled)==null||u.call(l,void 0,n.error,d,p))}this.listeners.forEach(d=>{d(F(this,Ks))})})},vS),JN=J.createContext(void 0),XN=t=>{const e=J.useContext(JN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},DM=({client:t,children:e})=>(J.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.jsx(JN.Provider,{value:t,children:e})),ZN=J.createContext(!1),LM=()=>J.useContext(ZN);ZN.Provider;function BM(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var $M=J.createContext(BM()),zM=()=>J.useContext($M),UM=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},qM=t=>{J.useEffect(()=>{t.clearReset()},[t])},QM=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||qN(n,[t.error,r])),VM=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},HM=(t,e)=>t.isLoading&&t.isFetching&&!e,GM=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Eb=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function WM(t,e,n){var d,p,x,y,h;const r=LM(),s=zM(),i=XN(),o=i.defaultQueryOptions(t);(p=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||p.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",VM(o),UM(o,s),qM(s);const a=!i.getQueryCache().get(o.queryHash),[c]=J.useState(()=>new e(i,o)),l=c.getOptimisticResult(o),u=!r&&t.subscribed!==!1;if(J.useSyncExternalStore(J.useCallback(w=>{const m=u?c.subscribe(Dt.batchCalls(w)):dn;return c.updateResult(),m},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),J.useEffect(()=>{c.setOptions(o)},[o,c]),GM(o,l))throw Eb(o,c,s);if(QM({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((y=(x=i.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||y.call(x,o,l),o.experimental_prefetchInRender&&!oo&&HM(l,r)){const w=a?Eb(o,c,s):(h=i.getQueryCache().get(o.queryHash))==null?void 0:h.promise;w==null||w.catch(dn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function kb(t,e){return WM(t,IM)}function KM(t,e){const n=XN(),[r]=J.useState(()=>new MM(n,t));J.useEffect(()=>{r.setOptions(t)},[r,t]);const s=J.useSyncExternalStore(J.useCallback(o=>r.subscribe(Dt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=J.useCallback((o,a)=>{r.mutate(o,a).catch(dn)},[r]);if(s.error&&qN(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const YM=1,JM=1e6;let vh=0;function XM(){return vh=(vh+1)%Number.MAX_SAFE_INTEGER,vh.toString()}const xh=new Map,Cb=t=>{if(xh.has(t))return;const e=setTimeout(()=>{xh.delete(t),Dc({type:"REMOVE_TOAST",toastId:t})},JM);xh.set(t,e)},ZM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,YM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Cb(n):t.toasts.forEach(r=>{Cb(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},sd=[];let id={toasts:[]};function Dc(t){id=ZM(id,t),sd.forEach(e=>{e(id)})}function eD({...t}){const e=XM(),n=s=>Dc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Dc({type:"DISMISS_TOAST",toastId:e});return Dc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function e2(){const[t,e]=J.useState(id);return J.useEffect(()=>(sd.push(e),()=>{const n=sd.indexOf(e);n>-1&&sd.splice(n,1)}),[t]),{...t,toast:eD,dismiss:n=>Dc({type:"DISMISS_TOAST",toastId:n})}}function tD(){const{toasts:t}=e2();return E.jsx("div",{className:"fixed bottom-0 right-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",children:t.map(({id:e,title:n,description:r,action:s,...i})=>E.jsxs("div",{className:"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",...i,children:[E.jsxs("div",{className:"grid gap-1",children:[n&&E.jsx("div",{className:"text-sm font-semibold",children:n}),r&&E.jsx("div",{className:"text-sm opacity-90",children:r})]}),s]},e))})}const t2=J.createContext(null),_u=async(t,e={})=>{const n=await fetch(`/api${t}`,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e}),r=await n.json();return{success:n.ok,data:n.ok?r:null,error:n.ok?null:r.message||"Request failed",user:r.user}};function nD({children:t}){const[e,n]=J.useState(null),[r,s]=J.useState(!0),[i,o]=J.useState(null),[a,c]=J.useState(!1);J.useEffect(()=>{const w=localStorage.getItem("user");if(w)try{n(JSON.parse(w))}catch(m){console.error("Error parsing stored user:",m),localStorage.removeItem("user")}s(!1)},[]);const l=async(w,m)=>{var b,g;c(!0),o(null);try{const _=await _u("/auth/signin",{method:"POST",body:JSON.stringify({email:w,password:m})});if(!_.success)throw new Error(_.error||"Login failed");const T=_;n(((b=T.data)==null?void 0:b.user)||T.user),localStorage.setItem("user",JSON.stringify(((g=T.data)==null?void 0:g.user)||T.user))}catch(_){o(_.message),console.error("Login error:",_)}finally{c(!1)}},u=async(w,m,b)=>{var g,_;c(!0),o(null);try{const T=await _u("/auth/signup",{method:"POST",body:JSON.stringify({email:w,password:m,role:b})});if(!T.success)throw new Error(T.error||"Signup failed");const C=T;n(((g=C.data)==null?void 0:g.user)||C.user),localStorage.setItem("user",JSON.stringify(((_=C.data)==null?void 0:_.user)||C.user))}catch(T){o(T.message),console.error("Signup error:",T)}finally{c(!1)}},d=()=>{n(null),localStorage.removeItem("user")},p=async()=>{var w;try{const m=await _u("/auth/me");m.success?n(((w=m.data)==null?void 0:w.user)||m.user):(n(null),localStorage.removeItem("user"),o(m.error||"Session expired. Please log in again."))}catch(m){console.error("Failed to refresh user:",m),n(null),localStorage.removeItem("user"),o(m.message||"An error occurred while refreshing user data.")}},x=async w=>{var m,b;if(e){c(!0),o(null);try{const g=await _u(`/users/${e.id}`,{method:"PUT",body:JSON.stringify(w)});if(!g.success)throw new Error(g.error||"Failed to update user");const _=g;n(((m=_.data)==null?void 0:m.user)||_.user),localStorage.setItem("user",JSON.stringify(((b=_.data)==null?void 0:b.user)||_.user))}catch(g){o(g.message),console.error("Update user error:",g)}finally{c(!1)}}},y=()=>{o(null)},h=()=>!!e;return E.jsx(t2.Provider,{value:{user:e,setUser:n,login:l,logout:d,signup:u,isLoading:r||a,refreshUser:p,updateUser:x,error:i,clearError:y,isAuthenticated:h},children:t})}function $a(){const t=J.useContext(t2);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const gv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAABlCAYAAACC2feqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAgiSURBVHgB7Z3PbxtFFMffjB23ElAZKiHBAdwD4pog7nGB0iAKpH9B0/+gPXJom7RCXJu/oOmBA6em0KqhKo3LARUJqam4gCoUA6IFRIrTNG3seGeYt/bau/b+mLHXu154H6m1dz0bV/n2vXnz3ttZBmPAoU+uTuYsmATCg2BWjQOr7bWaa8vzR2swBAzGgMPnrqxKCWUgwqgyzipSWpevn/pwGQxJXejy/KVigU/8A4QJtugsxxdWPn6vqnNB7ELPnPuyHDXG7YrePffFLEh+CYhBqCoBF786feR81MBYhZ6Zv1YS3FqH8C+sqn/YAef48NmrFyTIOSAGhjGosHzueJh1c4gRya3Z6EHysucQZPQ1RCgY34hda3Xm02uloDHxCs3gWNQYxqETSLTdfBGIOCiFiR2b0Oi2lXmGLpHQba+c+qDiHEvJI/9jEEaURNO6NKsC3N4PYhPa4qIcOUhFiu5D5bajryHMUMb2lE+c6T0dm9CcyWi3LcVF5z0mSdRLCYjYkQAnelc/sQiNblsj4VFzu23WFBSEjRAJzGPVsQit47bVAt+bzeHsIyBGBhqe26pjEVrLbQu45bzXCdyI4XFb9dBCYwpTJ0+9VzQ6Fq0VuBFDg7o4EfjQQk/wQuRci5kbd/VFxwMQ8bDd1mdooZWIkXMtk6wTbet6ACIeOIdp+xWGRpYih0zwSvdtgaLtBJGilasYWujrp45MyRybYlIuqtTXWu/n6LbdyXYdD0DESgn/ir9MiWtqLG4oQdFFqy846S6jvXv2CtaeKb+dIHwid2CkjQco+l7YqTmBGK7rhGSrQCSKCn4P5mEAsIaMTh9Tmu5sVy8r8976aKuIIYFIHmOL9mku0O5lUm4brysBkSho0cZCHzp7dY6BvBDwcQ1TnX6ik9tOj4Fctx01B3vfogrn59SPnlPW6xHdEjDLxqLn9P+J0a9+iI5NJytG0XYK5AWbMrLoQi5XHjCWIoFTpACNqlHChMkcJTuyh728NRKaOjazB2tnK7WFpo7NjCLkXXzRFpo6NrOJ016tLzR1bGYSvP0JX7WEbrvtEhCZwt3woSU0JjuAyBzuhg8toRmjjs1M4mr4iBSaGu2zCZNw2d3wESk0tygIyyKciyXPcdQFOndIEuMF3sx4rad6GCo0NdpnEwZsofdcaFEDG+1NyluP7j8Awp+drceRY/KFAuT3FDrHOXW857ln1bk9oIt9a/Lp95f6fnbYRdhoLzWrVRvVX+DHlRtAxA+K/8z+/erPC7D/wKuw7+WXAsf6WXPrfAA6+5G4ubf6Dfz10z0gRg9a+StvvgEvvv6a53zv/jBuAudo0/ujHiqLJpKhrqYBNKzvP/vcY1xsIncw6JpAoU0a7XFubtYbQCSLI/j6t7cBb6AI25UoeI6W+rXnP8llp8rvd3+An29/Nw3F2SLUln23kvS1aHuTNwMo2k6X3UYDpLAmmdxatcX2wVdok5ah7b83tJYOxGiQUkBzt+4coNi+rdi+QpvUnh89IGtOk/rTbe8JNeXyfW+d6B3XJ7Rp7Xlj/Vcg0mG3UQchRN95lfo4A8WZkvtcn9AmLUP1rS3YpPk5FYRlKaF3gj4uMrnrceH9Qhu47c37fwCRPDgvN+pPogaVofhO2Tn0CG3qth+uU5IkaVBknJf9XHYvXHSXyB6hTVuGNigbligmItvjQR5zllseoRln06AJiZwspiK3USI/tsvMHaFNa8/ktpNjQJFtHPfdSYFqbarugrJhyYDRdX1nW4k92N2NkrW2n+rmusPve/aAIlM2bPQ06jvdrNegyNb2YLbQdu1ZWmXda2l+Hi0tV/1EuWoLYqAIxXLJFtq0ZYjWz6MB3XNztxGWCBmUoi20ScsQZsOwkEHEiyPwoHNxOPli3nRvTrLm+HAsGOfh0QjcJd/am1P/S6gvbHgwkm42d8FqNkYusEOeGUTbTVXgpiKGOSimsJpg4R8lcFLiuskzKW+pL76rM/i3O3emVWmsDEQkGDlLleDAyDkNYb00a0bbT/F9b9PjBTOI5Puep81q/vvUsGFQW+h8q7ZJm9VkDcbMdiUSgp6DkUWYBMNdiRjdJ51FBIcKvuoJXTw0qSboEhAZxNJ33VzoFzyIMYKxCtQqVXyrJbSkzWoyCXM9lD1aaOwPljQ/ZxHBRWd7i0ihc9AoA5E9XG4biRRaSHLbWUQKedF9HJ4CLZaLTPBBdtwn0qUqH9307HwQatE5K1cGInNIDou950KFlvR4wSxSVRNu32OpIoSmaDtrqILoRXcQ5hA4R2MRwxKCnlOVLfrmZodAixZCUEkyY0gJC0GfBQotQf8+LCJ9lGtegq2bS0Gf+wtt3y0vaQ/Q7FBTWbCFsAG+QnPRILedIZTLPukXgLnx36yGihiZIcplO/QLTUWMLFFVLvukzsA+oamIkRmqkouDymXXdAb3CU1FjGygRD4aNS+76Xfd5LbHHhV8HVcir5lc4xGaWnrHH1tkjeCrF4/Q1NI73gwqMuIRmooYY0ttGJGR7h4m2NIrrBIQ40a1HXgZzcm9dCyaC4uyYeMGY2vtJdRQIiPd7acAl1Vp395JOCg9FmHz6xMQE616tMqGMdHQfiIOMVKUq+Zq+XSjAjFiu27Kho0Hyp8uKFc9FbfIiO26VTbsGLntFGGsIpl13CTTZfwV1NKbIrbAbGEUFtxLHlt6BSNrTpCa+m0vqmXOed2CRBzkqaU3AdQyCTcFEpwvJ2G9fqg5WjBg3UfEE4OjxKy2324K7K/mXK1/m2touWn7zH8Bvai15PL7l8AAAAAASUVORK5CYII=";function rD(){const[,t]=io(),{user:e,isAuthenticated:n}=$a();return J.useEffect(()=>{const r=setTimeout(()=>{if(console.log("Splash navigation - User:",e,"Role:",e==null?void 0:e.role,"Authenticated:",n()),n()&&e)e.role==="CONSUMER"?(console.log("Splash: Redirecting CONSUMER to /consumer-home"),t("/consumer-home")):e.role==="MERCHANT"?(console.log("Splash: Redirecting MERCHANT to /merchant-dashboard"),t("/merchant-dashboard")):e.role==="DRIVER"?(console.log("Splash: Redirecting DRIVER to /driver-dashboard"),t("/driver-dashboard")):t("/dashboard");else{const s=localStorage.getItem("hasSeenOnboarding");t(s?"/role-selection":"/onboarding")}},2e3);return()=>clearTimeout(r)},[t,e,n]),E.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white flex flex-col items-center justify-center relative overflow-hidden",children:E.jsxs("div",{className:"flex flex-col items-center justify-center",children:[E.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 lg:w-56 lg:h-56 bg-blue-600 rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:E.jsx("img",{src:gv,alt:"Brillprime Logo",className:"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48 object-contain animate-bounce",style:{animationDuration:"2s"},onError:r=>{r.currentTarget.style.display="none",r.currentTarget.parentElement.innerHTML='<div class="text-white text-2xl font-bold">BP</div>'}})}),E.jsxs("div",{className:"mt-8 flex space-x-2",children:[E.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce"}),E.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),E.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]})})}const sD="modulepreload",iD=function(t){return"/"+t},Ab={},bh=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=iD(c),c in Ab)return;Ab[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":sD,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((p,x)=>{d.addEventListener("load",p),d.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var Fl=t=>t.type==="checkbox",Di=t=>t instanceof Date,pn=t=>t==null;const n2=t=>typeof t=="object";var Ct=t=>!pn(t)&&!Array.isArray(t)&&n2(t)&&!Di(t),r2=t=>Ct(t)&&t.target?Fl(t.target)?t.target.checked:t.target.value:t,oD=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,s2=(t,e)=>t.has(oD(e)),aD=t=>{const e=t.constructor&&t.constructor.prototype;return Ct(e)&&e.hasOwnProperty("isPrototypeOf")},yv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jt(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(yv&&(t instanceof Blob||r))&&(n||Ct(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!aD(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=jt(t[s]));else return t;return e}var qp=t=>/^\w*$/.test(t),_t=t=>t===void 0,vv=t=>Array.isArray(t)?t.filter(Boolean):[],xv=t=>vv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(t,e,n)=>{if(!e||!Ct(t))return n;const r=(qp(e)?[e]:xv(e)).reduce((s,i)=>pn(s)?s:s[i],t);return _t(r)||r===t?_t(t[e])?n:t[e]:r},Pn=t=>typeof t=="boolean",Je=(t,e,n)=>{let r=-1;const s=qp(e)?[e]:xv(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let c=n;if(r!==o){const l=t[a];c=Ct(l)||Array.isArray(l)?l:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=c,t=t[a]}};const Hd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Kr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},bv=Le.createContext(null);bv.displayName="HookFormContext";const Qp=()=>Le.useContext(bv),cD=t=>{const{children:e,...n}=t;return Le.createElement(bv.Provider,{value:n},e)};var i2=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==fr.all&&(e._proxyFormState[o]=!r||fr.all),n&&(n[o]=!0),t[o]}});return s};const wv=typeof window<"u"?Le.useLayoutEffect:Le.useEffect;function lD(t){const e=Qp(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=Le.useState(n._formState),c=Le.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return wv(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:l=>{!r&&a({...n._formState,...l})}}),[s,r,i]),Le.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Le.useMemo(()=>i2(o,n,c.current,!1),[o,n])}var Fr=t=>typeof t=="string",o2=(t,e,n,r,s)=>Fr(t)?(r&&e.watch.add(t),le(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),le(n,i))):(r&&(e.watchAll=!0),n),xg=t=>pn(t)||!n2(t);function as(t,e,n=new WeakSet){if(xg(t)||xg(e))return t===e;if(Di(t)&&Di(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Di(o)&&Di(a)||Ct(o)&&Ct(a)||Array.isArray(o)&&Array.isArray(a)?!as(o,a,n):o!==a)return!1}}return!0}function uD(t){const e=Qp(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o,compute:a}=t||{},c=Le.useRef(s),l=Le.useRef(a),u=Le.useRef(void 0);l.current=a;const d=Le.useMemo(()=>n._getWatch(r,c.current),[n,r]),[p,x]=Le.useState(l.current?l.current(d):d);return wv(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:y=>{if(!i){const h=o2(r,n._names,y.values||n._formValues,!1,c.current);if(l.current){const w=l.current(h);as(w,u.current)||(x(w),u.current=w)}else x(h)}}}),[n,i,r,o]),Le.useEffect(()=>n._removeUnmounted()),p}function dD(t){const e=Qp(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:o}=t,a=s2(s._names.array,n),c=Le.useMemo(()=>le(s._formValues,n,le(s._defaultValues,n,o)),[s,n,o]),l=uD({control:s,name:n,defaultValue:c,exact:!0}),u=lD({control:s,name:n,exact:!0}),d=Le.useRef(t),p=Le.useRef(s.register(n,{...t.rules,value:l,...Pn(t.disabled)?{disabled:t.disabled}:{}}));d.current=t;const x=Le.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!le(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!le(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!le(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!le(u.validatingFields,n)},error:{enumerable:!0,get:()=>le(u.errors,n)}}),[u,n]),y=Le.useCallback(b=>p.current.onChange({target:{value:r2(b),name:n},type:Hd.CHANGE}),[n]),h=Le.useCallback(()=>p.current.onBlur({target:{value:le(s._formValues,n),name:n},type:Hd.BLUR}),[n,s._formValues]),w=Le.useCallback(b=>{const g=le(s._fields,n);g&&b&&(g._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:_=>b.setCustomValidity(_),reportValidity:()=>b.reportValidity()})},[s._fields,n]),m=Le.useMemo(()=>({name:n,value:l,...Pn(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:y,onBlur:h,ref:w}),[n,r,u.disabled,y,h,w,l]);return Le.useEffect(()=>{const b=s._options.shouldUnregister||i;s.register(n,{...d.current.rules,...Pn(d.current.disabled)?{disabled:d.current.disabled}:{}});const g=(_,T)=>{const C=le(s._fields,_);C&&C._f&&(C._f.mount=T)};if(g(n,!0),b){const _=jt(le(s._options.defaultValues,n));Je(s._defaultValues,n,_),_t(le(s._formValues,n))&&Je(s._formValues,n,_)}return!a&&s.register(n),()=>{(a?b&&!s._state.action:b)?s.unregister(n):g(n,!1)}},[n,s,a,i]),Le.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),Le.useMemo(()=>({field:m,formState:u,fieldState:x}),[m,u,x])}const pD=t=>t.render(dD(t));var a2=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Lc=t=>Array.isArray(t)?t:[t],Tb=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Sn=t=>Ct(t)&&!Object.keys(t).length,Sv=t=>t.type==="file",hr=t=>typeof t=="function",Gd=t=>{if(!yv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},c2=t=>t.type==="select-multiple",_v=t=>t.type==="radio",fD=t=>_v(t)||Fl(t),wh=t=>Gd(t)&&t.isConnected;function hD(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=_t(t)?r++:t[e[r++]];return t}function mD(t){for(const e in t)if(t.hasOwnProperty(e)&&!_t(t[e]))return!1;return!0}function At(t,e){const n=Array.isArray(e)?e:qp(e)?[e]:xv(e),r=n.length===1?t:hD(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Ct(r)&&Sn(r)||Array.isArray(r)&&mD(r))&&At(t,n.slice(0,-1)),t}var l2=t=>{for(const e in t)if(hr(t[e]))return!0;return!1};function Wd(t,e={}){const n=Array.isArray(t);if(Ct(t)||n)for(const r in t)Array.isArray(t[r])||Ct(t[r])&&!l2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Wd(t[r],e[r])):pn(t[r])||(e[r]=!0);return e}function u2(t,e,n){const r=Array.isArray(t);if(Ct(t)||r)for(const s in t)Array.isArray(t[s])||Ct(t[s])&&!l2(t[s])?_t(e)||xg(n[s])?n[s]=Array.isArray(t[s])?Wd(t[s],[]):{...Wd(t[s])}:u2(t[s],pn(e)?{}:e[s],n[s]):n[s]=!as(t[s],e[s]);return n}var lc=(t,e)=>u2(t,e,Wd(e));const Nb={value:!1,isValid:!1},Rb={value:!0,isValid:!0};var d2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_t(t[0].attributes.value)?_t(t[0].value)||t[0].value===""?Rb:{value:t[0].value,isValid:!0}:Rb:Nb}return Nb},p2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>_t(t)?t:e?t===""?NaN:t&&+t:n&&Fr(t)?new Date(t):r?r(t):t;const Ob={isValid:!1,value:null};var f2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Ob):Ob;function Pb(t){const e=t.ref;return Sv(e)?e.files:_v(e)?f2(t.refs).value:c2(e)?[...e.selectedOptions].map(({value:n})=>n):Fl(e)?d2(t.refs).value:p2(_t(e.value)?t.ref.value:e.value,t)}var gD=(t,e,n,r)=>{const s={};for(const i of t){const o=le(e,i);o&&Je(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Kd=t=>t instanceof RegExp,uc=t=>_t(t)?t:Kd(t)?t.source:Ct(t)?Kd(t.value)?t.value.source:t.value:t,Ib=t=>({isOnSubmit:!t||t===fr.onSubmit,isOnBlur:t===fr.onBlur,isOnChange:t===fr.onChange,isOnAll:t===fr.all,isOnTouch:t===fr.onTouched});const jb="AsyncFunction";var yD=t=>!!t&&!!t.validate&&!!(hr(t.validate)&&t.validate.constructor.name===jb||Ct(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===jb)),vD=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Fb=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Bc=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=le(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Bc(a,e))break}else if(Ct(a)&&Bc(a,e))break}}};function Mb(t,e,n){const r=le(t,n);if(r||qp(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=le(e,i),a=le(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:n}}var xD=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Sn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||fr.all))},bD=(t,e,n)=>!t||!e||t===e||Lc(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),wD=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,SD=(t,e)=>!vv(le(t,e)).length&&At(t,e),_D=(t,e,n)=>{const r=Lc(le(t,n));return Je(r,"root",e[n]),Je(t,n,r),t},od=t=>Fr(t);function Db(t,e,n="validate"){if(od(t)||Array.isArray(t)&&t.every(od)||Pn(t)&&!t)return{type:n,message:od(t)?t:"",ref:e}}var Eo=t=>Ct(t)&&!Kd(t)?t:{value:t,message:""},Lb=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:c,maxLength:l,minLength:u,min:d,max:p,pattern:x,validate:y,name:h,valueAsNumber:w,mount:m}=t._f,b=le(n,h);if(!m||e.has(h))return{};const g=a?a[0]:o,_=K=>{s&&g.reportValidity&&(g.setCustomValidity(Pn(K)?"":K||""),g.reportValidity())},T={},C=_v(o),S=Fl(o),A=C||S,P=(w||Sv(o))&&_t(o.value)&&_t(b)||Gd(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,D=a2.bind(null,h,r,T),q=(K,U,R,I=Kr.maxLength,V=Kr.minLength)=>{const j=K?U:R;T[h]={type:K?I:V,message:j,ref:o,...D(K?I:V,j)}};if(i?!Array.isArray(b)||!b.length:c&&(!A&&(P||pn(b))||Pn(b)&&!b||S&&!d2(a).isValid||C&&!f2(a).isValid)){const{value:K,message:U}=od(c)?{value:!!c,message:c}:Eo(c);if(K&&(T[h]={type:Kr.required,message:U,ref:g,...D(Kr.required,U)},!r))return _(U),T}if(!P&&(!pn(d)||!pn(p))){let K,U;const R=Eo(p),I=Eo(d);if(!pn(b)&&!isNaN(b)){const V=o.valueAsNumber||b&&+b;pn(R.value)||(K=V>R.value),pn(I.value)||(U=V<I.value)}else{const V=o.valueAsDate||new Date(b),j=X=>new Date(new Date().toDateString()+" "+X),L=o.type=="time",z=o.type=="week";Fr(R.value)&&b&&(K=L?j(b)>j(R.value):z?b>R.value:V>new Date(R.value)),Fr(I.value)&&b&&(U=L?j(b)<j(I.value):z?b<I.value:V<new Date(I.value))}if((K||U)&&(q(!!K,R.message,I.message,Kr.max,Kr.min),!r))return _(T[h].message),T}if((l||u)&&!P&&(Fr(b)||i&&Array.isArray(b))){const K=Eo(l),U=Eo(u),R=!pn(K.value)&&b.length>+K.value,I=!pn(U.value)&&b.length<+U.value;if((R||I)&&(q(R,K.message,U.message),!r))return _(T[h].message),T}if(x&&!P&&Fr(b)){const{value:K,message:U}=Eo(x);if(Kd(K)&&!b.match(K)&&(T[h]={type:Kr.pattern,message:U,ref:o,...D(Kr.pattern,U)},!r))return _(U),T}if(y){if(hr(y)){const K=await y(b,n),U=Db(K,g);if(U&&(T[h]={...U,...D(Kr.validate,U.message)},!r))return _(U.message),T}else if(Ct(y)){let K={};for(const U in y){if(!Sn(K)&&!r)break;const R=Db(await y[U](b,n),g,U);R&&(K={...R,...D(U,R.message)},_(R.message),r&&(T[h]=K))}if(!Sn(K)&&(T[h]={ref:g,...K},!r))return T}}return _(!0),T};const ED={mode:fr.onSubmit,reValidateMode:fr.onChange,shouldFocusError:!0};function kD(t={}){let e={...ED,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:hr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Ct(e.defaultValues)||Ct(e.values)?jt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:jt(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,l=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const p={array:Tb(),state:Tb()},x=e.criteriaMode===fr.all,y=M=>Q=>{clearTimeout(l),l=setTimeout(M,Q)},h=async M=>{if(!e.disabled&&(u.isValid||d.isValid||M)){const Q=e.resolver?Sn((await S()).errors):await P(r,!0);Q!==n.isValid&&p.state.next({isValid:Q})}},w=(M,Q)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((M||Array.from(a.mount)).forEach(Y=>{Y&&(Q?Je(n.validatingFields,Y,Q):At(n.validatingFields,Y))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Sn(n.validatingFields)}))},m=(M,Q=[],Y,pe,ce=!0,ie=!0)=>{if(pe&&Y&&!e.disabled){if(o.action=!0,ie&&Array.isArray(le(r,M))){const xe=Y(le(r,M),pe.argA,pe.argB);ce&&Je(r,M,xe)}if(ie&&Array.isArray(le(n.errors,M))){const xe=Y(le(n.errors,M),pe.argA,pe.argB);ce&&Je(n.errors,M,xe),SD(n.errors,M)}if((u.touchedFields||d.touchedFields)&&ie&&Array.isArray(le(n.touchedFields,M))){const xe=Y(le(n.touchedFields,M),pe.argA,pe.argB);ce&&Je(n.touchedFields,M,xe)}(u.dirtyFields||d.dirtyFields)&&(n.dirtyFields=lc(s,i)),p.state.next({name:M,isDirty:q(M,Q),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Je(i,M,Q)},b=(M,Q)=>{Je(n.errors,M,Q),p.state.next({errors:n.errors})},g=M=>{n.errors=M,p.state.next({errors:n.errors,isValid:!1})},_=(M,Q,Y,pe)=>{const ce=le(r,M);if(ce){const ie=le(i,M,_t(Y)?le(s,M):Y);_t(ie)||pe&&pe.defaultChecked||Q?Je(i,M,Q?ie:Pb(ce._f)):R(M,ie),o.mount&&h()}},T=(M,Q,Y,pe,ce)=>{let ie=!1,xe=!1;const k={name:M};if(!e.disabled){if(!Y||pe){(u.isDirty||d.isDirty)&&(xe=n.isDirty,n.isDirty=k.isDirty=q(),ie=xe!==k.isDirty);const f=as(le(s,M),Q);xe=!!le(n.dirtyFields,M),f?At(n.dirtyFields,M):Je(n.dirtyFields,M,!0),k.dirtyFields=n.dirtyFields,ie=ie||(u.dirtyFields||d.dirtyFields)&&xe!==!f}if(Y){const f=le(n.touchedFields,M);f||(Je(n.touchedFields,M,Y),k.touchedFields=n.touchedFields,ie=ie||(u.touchedFields||d.touchedFields)&&f!==Y)}ie&&ce&&p.state.next(k)}return ie?k:{}},C=(M,Q,Y,pe)=>{const ce=le(n.errors,M),ie=(u.isValid||d.isValid)&&Pn(Q)&&n.isValid!==Q;if(e.delayError&&Y?(c=y(()=>b(M,Y)),c(e.delayError)):(clearTimeout(l),c=null,Y?Je(n.errors,M,Y):At(n.errors,M)),(Y?!as(ce,Y):ce)||!Sn(pe)||ie){const xe={...pe,...ie&&Pn(Q)?{isValid:Q}:{},errors:n.errors,name:M};n={...n,...xe},p.state.next(xe)}},S=async M=>{w(M,!0);const Q=await e.resolver(i,e.context,gD(M||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(M),Q},A=async M=>{const{errors:Q}=await S(M);if(M)for(const Y of M){const pe=le(Q,Y);pe?Je(n.errors,Y,pe):At(n.errors,Y)}else n.errors=Q;return Q},P=async(M,Q,Y={valid:!0})=>{for(const pe in M){const ce=M[pe];if(ce){const{_f:ie,...xe}=ce;if(ie){const k=a.array.has(ie.name),f=ce._f&&yD(ce._f);f&&u.validatingFields&&w([pe],!0);const v=await Lb(ce,a.disabled,i,x,e.shouldUseNativeValidation&&!Q,k);if(f&&u.validatingFields&&w([pe]),v[ie.name]&&(Y.valid=!1,Q))break;!Q&&(le(v,ie.name)?k?_D(n.errors,v,ie.name):Je(n.errors,ie.name,v[ie.name]):At(n.errors,ie.name))}!Sn(xe)&&await P(xe,Q,Y)}}return Y.valid},D=()=>{for(const M of a.unMount){const Q=le(r,M);Q&&(Q._f.refs?Q._f.refs.every(Y=>!wh(Y)):!wh(Q._f.ref))&&sr(M)}a.unMount=new Set},q=(M,Q)=>!e.disabled&&(M&&Q&&Je(i,M,Q),!as(X(),s)),K=(M,Q,Y)=>o2(M,a,{...o.mount?i:_t(Q)?s:Fr(M)?{[M]:Q}:Q},Y,Q),U=M=>vv(le(o.mount?i:s,M,e.shouldUnregister?le(s,M,[]):[])),R=(M,Q,Y={})=>{const pe=le(r,M);let ce=Q;if(pe){const ie=pe._f;ie&&(!ie.disabled&&Je(i,M,p2(Q,ie)),ce=Gd(ie.ref)&&pn(Q)?"":Q,c2(ie.ref)?[...ie.ref.options].forEach(xe=>xe.selected=ce.includes(xe.value)):ie.refs?Fl(ie.ref)?ie.refs.forEach(xe=>{(!xe.defaultChecked||!xe.disabled)&&(Array.isArray(ce)?xe.checked=!!ce.find(k=>k===xe.value):xe.checked=ce===xe.value||!!ce)}):ie.refs.forEach(xe=>xe.checked=xe.value===ce):Sv(ie.ref)?ie.ref.value="":(ie.ref.value=ce,ie.ref.type||p.state.next({name:M,values:jt(i)})))}(Y.shouldDirty||Y.shouldTouch)&&T(M,ce,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&z(M)},I=(M,Q,Y)=>{for(const pe in Q){if(!Q.hasOwnProperty(pe))return;const ce=Q[pe],ie=M+"."+pe,xe=le(r,ie);(a.array.has(M)||Ct(ce)||xe&&!xe._f)&&!Di(ce)?I(ie,ce,Y):R(ie,ce,Y)}},V=(M,Q,Y={})=>{const pe=le(r,M),ce=a.array.has(M),ie=jt(Q);Je(i,M,ie),ce?(p.array.next({name:M,values:jt(i)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&Y.shouldDirty&&p.state.next({name:M,dirtyFields:lc(s,i),isDirty:q(M,ie)})):pe&&!pe._f&&!pn(ie)?I(M,ie,Y):R(M,ie,Y),Fb(M,a)&&p.state.next({...n,name:M}),p.state.next({name:o.mount?M:void 0,values:jt(i)})},j=async M=>{o.mount=!0;const Q=M.target;let Y=Q.name,pe=!0;const ce=le(r,Y),ie=f=>{pe=Number.isNaN(f)||Di(f)&&isNaN(f.getTime())||as(f,le(i,Y,f))},xe=Ib(e.mode),k=Ib(e.reValidateMode);if(ce){let f,v;const O=Q.type?Pb(ce._f):r2(M),B=M.type===Hd.BLUR||M.type===Hd.FOCUS_OUT,W=!vD(ce._f)&&!e.resolver&&!le(n.errors,Y)&&!ce._f.deps||wD(B,le(n.touchedFields,Y),n.isSubmitted,k,xe),Z=Fb(Y,a,B);Je(i,Y,O),B?(!Q||!Q.readOnly)&&(ce._f.onBlur&&ce._f.onBlur(M),c&&c(0)):ce._f.onChange&&ce._f.onChange(M);const Oe=T(Y,O,B),ot=!Sn(Oe)||Z;if(!B&&p.state.next({name:Y,type:M.type,values:jt(i)}),W)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?B&&h():B||h()),ot&&p.state.next({name:Y,...Z?{}:Oe});if(!B&&Z&&p.state.next({...n}),e.resolver){const{errors:tt}=await S([Y]);if(ie(O),pe){const at=Mb(n.errors,r,Y),We=Mb(tt,r,at.name||Y);f=We.error,Y=We.name,v=Sn(tt)}}else w([Y],!0),f=(await Lb(ce,a.disabled,i,x,e.shouldUseNativeValidation))[Y],w([Y]),ie(O),pe&&(f?v=!1:(u.isValid||d.isValid)&&(v=await P(r,!0)));pe&&(ce._f.deps&&z(ce._f.deps),C(Y,v,f,Oe))}},L=(M,Q)=>{if(le(n.errors,Q)&&M.focus)return M.focus(),1},z=async(M,Q={})=>{let Y,pe;const ce=Lc(M);if(e.resolver){const ie=await A(_t(M)?M:ce);Y=Sn(ie),pe=M?!ce.some(xe=>le(ie,xe)):Y}else M?(pe=(await Promise.all(ce.map(async ie=>{const xe=le(r,ie);return await P(xe&&xe._f?{[ie]:xe}:xe)}))).every(Boolean),!(!pe&&!n.isValid)&&h()):pe=Y=await P(r);return p.state.next({...!Fr(M)||(u.isValid||d.isValid)&&Y!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:Y}:{},errors:n.errors}),Q.shouldFocus&&!pe&&Bc(r,L,M?ce:a.mount),pe},X=M=>{const Q={...o.mount?i:s};return _t(M)?Q:Fr(M)?le(Q,M):M.map(Y=>le(Q,Y))},ne=(M,Q)=>({invalid:!!le((Q||n).errors,M),isDirty:!!le((Q||n).dirtyFields,M),error:le((Q||n).errors,M),isValidating:!!le(n.validatingFields,M),isTouched:!!le((Q||n).touchedFields,M)}),ae=M=>{M&&Lc(M).forEach(Q=>At(n.errors,Q)),p.state.next({errors:M?n.errors:{}})},De=(M,Q,Y)=>{const pe=(le(r,M,{_f:{}})._f||{}).ref,ce=le(n.errors,M)||{},{ref:ie,message:xe,type:k,...f}=ce;Je(n.errors,M,{...f,...Q,ref:pe}),p.state.next({name:M,errors:n.errors,isValid:!1}),Y&&Y.shouldFocus&&pe&&pe.focus&&pe.focus()},Ge=(M,Q)=>hr(M)?p.state.subscribe({next:Y=>"values"in Y&&M(K(void 0,Q),Y)}):K(M,Q,!0),Ve=M=>p.state.subscribe({next:Q=>{bD(M.name,Q.name,M.exact)&&xD(Q,M.formState||u,ec,M.reRenderRoot)&&M.callback({values:{...i},...n,...Q,defaultValues:s})}}).unsubscribe,$t=M=>(o.mount=!0,d={...d,...M.formState},Ve({...M,formState:d})),sr=(M,Q={})=>{for(const Y of M?Lc(M):a.mount)a.mount.delete(Y),a.array.delete(Y),Q.keepValue||(At(r,Y),At(i,Y)),!Q.keepError&&At(n.errors,Y),!Q.keepDirty&&At(n.dirtyFields,Y),!Q.keepTouched&&At(n.touchedFields,Y),!Q.keepIsValidating&&At(n.validatingFields,Y),!e.shouldUnregister&&!Q.keepDefaultValue&&At(s,Y);p.state.next({values:jt(i)}),p.state.next({...n,...Q.keepDirty?{isDirty:q()}:{}}),!Q.keepIsValid&&h()},Gr=({disabled:M,name:Q})=>{(Pn(M)&&o.mount||M||a.disabled.has(Q))&&(M?a.disabled.add(Q):a.disabled.delete(Q))},Ai=(M,Q={})=>{let Y=le(r,M);const pe=Pn(Q.disabled)||Pn(e.disabled);return Je(r,M,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:M}},name:M,mount:!0,...Q}}),a.mount.add(M),Y?Gr({disabled:Pn(Q.disabled)?Q.disabled:e.disabled,name:M}):_(M,!0,Q.value),{...pe?{disabled:Q.disabled||e.disabled}:{},...e.progressive?{required:!!Q.required,min:uc(Q.min),max:uc(Q.max),minLength:uc(Q.minLength),maxLength:uc(Q.maxLength),pattern:uc(Q.pattern)}:{},name:M,onChange:j,onBlur:j,ref:ce=>{if(ce){Ai(M,Q),Y=le(r,M);const ie=_t(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,xe=fD(ie),k=Y._f.refs||[];if(xe?k.find(f=>f===ie):ie===Y._f.ref)return;Je(r,M,{_f:{...Y._f,...xe?{refs:[...k.filter(wh),ie,...Array.isArray(le(s,M))?[{}]:[]],ref:{type:ie.type,name:M}}:{ref:ie}}}),_(M,!1,void 0,ie)}else Y=le(r,M,{}),Y._f&&(Y._f.mount=!1),(e.shouldUnregister||Q.shouldUnregister)&&!(s2(a.array,M)&&o.action)&&a.unMount.add(M)}}},So=()=>e.shouldFocusError&&Bc(r,L,a.mount),zf=M=>{Pn(M)&&(p.state.next({disabled:M}),Bc(r,(Q,Y)=>{const pe=le(r,Y);pe&&(Q.disabled=pe._f.disabled||M,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(ce=>{ce.disabled=pe._f.disabled||M}))},0,!1))},Za=(M,Q)=>async Y=>{let pe;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let ce=jt(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:ie,values:xe}=await S();n.errors=ie,ce=jt(xe)}else await P(r);if(a.disabled.size)for(const ie of a.disabled)At(ce,ie);if(At(n.errors,"root"),Sn(n.errors)){p.state.next({errors:{}});try{await M(ce,Y)}catch(ie){pe=ie}}else Q&&await Q({...n.errors},Y),So(),setTimeout(So);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sn(n.errors)&&!pe,submitCount:n.submitCount+1,errors:n.errors}),pe)throw pe},Cs=(M,Q={})=>{le(r,M)&&(_t(Q.defaultValue)?V(M,jt(le(s,M))):(V(M,Q.defaultValue),Je(s,M,jt(Q.defaultValue))),Q.keepTouched||At(n.touchedFields,M),Q.keepDirty||(At(n.dirtyFields,M),n.isDirty=Q.defaultValue?q(M,jt(le(s,M))):q()),Q.keepError||(At(n.errors,M),u.isValid&&h()),p.state.next({...n}))},As=(M,Q={})=>{const Y=M?jt(M):s,pe=jt(Y),ce=Sn(M),ie=ce?s:pe;if(Q.keepDefaultValues||(s=Y),!Q.keepValues){if(Q.keepDirtyValues){const xe=new Set([...a.mount,...Object.keys(lc(s,i))]);for(const k of Array.from(xe))le(n.dirtyFields,k)?Je(ie,k,le(i,k)):V(k,le(ie,k))}else{if(yv&&_t(M))for(const xe of a.mount){const k=le(r,xe);if(k&&k._f){const f=Array.isArray(k._f.refs)?k._f.refs[0]:k._f.ref;if(Gd(f)){const v=f.closest("form");if(v){v.reset();break}}}}if(Q.keepFieldsRef)for(const xe of a.mount)V(xe,le(ie,xe));else r={}}i=e.shouldUnregister?Q.keepDefaultValues?jt(s):{}:jt(ie),p.array.next({values:{...ie}}),p.state.next({values:{...ie}})}a={mount:Q.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:Q.keepSubmitCount?n.submitCount:0,isDirty:ce?!1:Q.keepDirty?n.isDirty:!!(Q.keepDefaultValues&&!as(M,s)),isSubmitted:Q.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ce?{}:Q.keepDirtyValues?Q.keepDefaultValues&&i?lc(s,i):n.dirtyFields:Q.keepDefaultValues&&M?lc(s,M):Q.keepDirty?n.dirtyFields:{},touchedFields:Q.keepTouched?n.touchedFields:{},errors:Q.keepErrors?n.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},nu=(M,Q)=>As(hr(M)?M(i):M,Q),Uf=(M,Q={})=>{const Y=le(r,M),pe=Y&&Y._f;if(pe){const ce=pe.refs?pe.refs[0]:pe.ref;ce.focus&&(ce.focus(),Q.shouldSelect&&hr(ce.select)&&ce.select())}},ec=M=>{n={...n,...M}},ru={control:{register:Ai,unregister:sr,getFieldState:ne,handleSubmit:Za,setError:De,_subscribe:Ve,_runSchema:S,_focusError:So,_getWatch:K,_getDirty:q,_setValid:h,_setFieldArray:m,_setDisabledField:Gr,_setErrors:g,_getFieldArray:U,_reset:As,_resetDefaultValues:()=>hr(e.defaultValues)&&e.defaultValues().then(M=>{nu(M,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:zf,_subjects:p,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(M){o=M},get _defaultValues(){return s},get _names(){return a},set _names(M){a=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:$t,trigger:z,register:Ai,handleSubmit:Za,watch:Ge,setValue:V,getValues:X,reset:nu,resetField:Cs,clearErrors:ae,unregister:sr,setError:De,setFocus:Uf,getFieldState:ne};return{...ru,formControl:ru}}function CD(t={}){const e=Le.useRef(void 0),n=Le.useRef(void 0),[r,s]=Le.useState({isDirty:!1,isValidating:!1,isLoading:hr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:hr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!hr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=kD(t);e.current={...a,formState:r}}const i=e.current.control;return i._options=t,wv(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),Le.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Le.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Le.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Le.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Le.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Le.useEffect(()=>{t.values&&!as(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),Le.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=i2(r,i),e.current}const Bb=(t,e,n)=>{if(t&&"reportValidity"in t){const r=le(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},h2=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Bb(r.ref,n,t):r.refs&&r.refs.forEach(s=>Bb(s,n,t))}},AD=(t,e)=>{e.shouldUseNativeValidation&&h2(t,e);const n={};for(const r in t){const s=le(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(TD(e.names||Object.keys(t),r)){const o=Object.assign({},le(n,r));Je(o,"root",i),Je(n,r,o)}else Je(n,r,i)}return n},TD=(t,e)=>t.some(n=>n.startsWith(e+"."));var ND=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var c=n[o].types,l=c&&c[r.code];n[o]=a2(o,e,n,s,l?[].concat(l,r.message):r.message)}t.shift()}return n},RD=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(l){return i.shouldUseNativeValidation&&h2({},i),{errors:{},values:n.raw?r:l}})}catch(l){return a(l)}return c&&c.then?c.then(void 0,a):c}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:AD(ND(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m2=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=J.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>J.createElement("svg",{ref:c,...PD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:m2("lucide",s),...a},[...o.map(([l,u])=>J.createElement(l,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=(t,e)=>{const n=J.forwardRef(({className:r,...s},i)=>J.createElement(ID,{ref:i,iconNode:e,className:m2(`lucide-${OD(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=It("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=It("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=It("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=It("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=It("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=It("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=It("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=It("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=It("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=It("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=It("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=It("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=It("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=It("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=It("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=It("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=It("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=It("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=It("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=It("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),YD="/assets/google_icon-C-x_XCIi.png",JD="/assets/apple_icon-tBQkhHS0.png",XD="/assets/facebook_logo-B-WWC0hT.png";function $b(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ZD(...t){return e=>{let n=!1;const r=t.map(s=>{const i=$b(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():$b(t[s],null)}}}}function eL(t){const e=nL(t),n=J.forwardRef((r,s)=>{const{children:i,...o}=r,a=J.Children.toArray(i),c=a.find(sL);if(c){const l=c.props.children,u=a.map(d=>d===c?J.Children.count(l)>1?J.Children.only(null):J.isValidElement(l)?l.props.children:null:d);return E.jsx(e,{...o,ref:s,children:J.isValidElement(l)?J.cloneElement(l,void 0,u):null})}return E.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var tL=eL("Slot");function nL(t){const e=J.forwardRef((n,r)=>{const{children:s,...i}=n;if(J.isValidElement(s)){const o=oL(s),a=iL(i,s.props);return s.type!==J.Fragment&&(a.ref=r?ZD(r,o):o),J.cloneElement(s,a)}return J.Children.count(s)>1?J.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rL=Symbol("radix.slottable");function sL(t){return J.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rL}function iL(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function oL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function v2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=v2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function aL(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=v2(t))&&(r&&(r+=" "),r+=e);return r}const Ev="-",cL=t=>{const e=uL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ev);return a[0]===""&&a.length!==1&&a.shift(),x2(a,e)||lL(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},x2=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?x2(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ev);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},zb=/^\[(.+)\]$/,lL=t=>{if(zb.test(t)){const e=zb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},uL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return pL(Object.entries(t.classGroups),n).forEach(([i,o])=>{wg(o,r,i,e)}),r},wg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Ub(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(dL(s)){wg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{wg(o,Ub(e,i),n,r)})})},Ub=(t,e)=>{let n=t;return e.split(Ev).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},dL=t=>t.isThemeGetter,pL=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,fL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},b2="!",hL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let l=0,u=0,d;for(let w=0;w<a.length;w++){let m=a[w];if(l===0){if(m===s&&(r||a.slice(w,w+i)===e)){c.push(a.slice(u,w)),u=w+i;continue}if(m==="/"){d=w;continue}}m==="["?l++:m==="]"&&l--}const p=c.length===0?a:a.substring(u),x=p.startsWith(b2),y=x?p.substring(1):p,h=d&&d>u?d-u:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:h}};return n?a=>n({className:a,parseClassName:o}):o},mL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},gL=t=>({cache:fL(t.cacheSize),parseClassName:hL(t),...cL(t)}),yL=/\s+/,vL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(yL);let a="";for(let c=o.length-1;c>=0;c-=1){const l=o[c],{modifiers:u,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:x}=n(l);let y=!!x,h=r(y?p.substring(0,x):p);if(!h){if(!y){a=l+(a.length>0?" "+a:a);continue}if(h=r(p),!h){a=l+(a.length>0?" "+a:a);continue}y=!1}const w=mL(u).join(":"),m=d?w+b2:w,b=m+h;if(i.includes(b))continue;i.push(b);const g=s(h,y);for(let _=0;_<g.length;++_){const T=g[_];i.push(m+T)}a=l+(a.length>0?" "+a:a)}return a};function xL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=w2(e))&&(r&&(r+=" "),r+=n);return r}const w2=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=w2(t[r]))&&(n&&(n+=" "),n+=e);return n};function bL(t,...e){let n,r,s,i=o;function o(c){const l=e.reduce((u,d)=>d(u),t());return n=gL(l),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const l=r(c);if(l)return l;const u=vL(c,n);return s(c,u),u}return function(){return i(xL.apply(null,arguments))}}const rt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},S2=/^\[(?:([a-z-]+):)?(.+)\]$/i,wL=/^\d+\/\d+$/,SL=new Set(["px","full","screen"]),_L=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yr=t=>sa(t)||SL.has(t)||wL.test(t),Ns=t=>za(t,"length",FL),sa=t=>!!t&&!Number.isNaN(Number(t)),Sh=t=>za(t,"number",sa),dc=t=>!!t&&Number.isInteger(Number(t)),TL=t=>t.endsWith("%")&&sa(t.slice(0,-1)),Pe=t=>S2.test(t),Rs=t=>_L.test(t),NL=new Set(["length","size","percentage"]),RL=t=>za(t,NL,_2),OL=t=>za(t,"position",_2),PL=new Set(["image","url"]),IL=t=>za(t,PL,DL),jL=t=>za(t,"",ML),pc=()=>!0,za=(t,e,n)=>{const r=S2.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},FL=t=>EL.test(t)&&!kL.test(t),_2=()=>!1,ML=t=>CL.test(t),DL=t=>AL.test(t),LL=()=>{const t=rt("colors"),e=rt("spacing"),n=rt("blur"),r=rt("brightness"),s=rt("borderColor"),i=rt("borderRadius"),o=rt("borderSpacing"),a=rt("borderWidth"),c=rt("contrast"),l=rt("grayscale"),u=rt("hueRotate"),d=rt("invert"),p=rt("gap"),x=rt("gradientColorStops"),y=rt("gradientColorStopPositions"),h=rt("inset"),w=rt("margin"),m=rt("opacity"),b=rt("padding"),g=rt("saturate"),_=rt("scale"),T=rt("sepia"),C=rt("skew"),S=rt("space"),A=rt("translate"),P=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",Pe,e],K=()=>[Pe,e],U=()=>["",Yr,Ns],R=()=>["auto",sa,Pe],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Pe],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[sa,Pe];return{cacheSize:500,separator:":",theme:{colors:[pc],spacing:[Yr,Ns],blur:["none","",Rs,Pe],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Rs,Pe],borderSpacing:K(),borderWidth:U(),contrast:ne(),grayscale:z(),hueRotate:ne(),invert:z(),gap:K(),gradientColorStops:[t],gradientColorStopPositions:[TL,Ns],inset:q(),margin:q(),opacity:ne(),padding:K(),saturate:ne(),scale:ne(),sepia:z(),skew:ne(),space:K(),translate:K()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[Rs]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Pe]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dc,Pe]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",dc,Pe]}],"grid-cols":[{"grid-cols":[pc]}],"col-start-end":[{col:["auto",{span:["full",dc,Pe]},Pe]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[pc]}],"row-start-end":[{row:["auto",{span:[dc,Pe]},Pe]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,e]}],"min-w":[{"min-w":[Pe,e,"min","max","fit"]}],"max-w":[{"max-w":[Pe,e,"none","full","min","max","fit","prose",{screen:[Rs]},Rs]}],h:[{h:[Pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Rs,Ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sh]}],"font-family":[{font:[pc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",sa,Sh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yr,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yr,Ns]}],"underline-offset":[{"underline-offset":["auto",Yr,Pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),OL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",RL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},IL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Yr,Pe]}],"outline-w":[{outline:[Yr,Ns]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Yr,Ns]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Rs,jL]}],"shadow-color":[{shadow:[pc]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Rs,Pe]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[g]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[dc,Pe]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Yr,Ns,Sh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BL=bL(LL);function Rt(...t){return BL(aL(t))}const E2=J.forwardRef(({className:t,...e},n)=>E.jsx("label",{ref:n,className:Rt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));E2.displayName="Label";const $L=cD,k2=J.createContext({}),_h=({...t})=>E.jsx(k2.Provider,{value:{name:t.name},children:E.jsx(pD,{...t})}),Vp=()=>{const t=J.useContext(k2),e=J.useContext(C2),{getFieldState:n,formState:r}=Qp(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},C2=J.createContext({}),ad=J.forwardRef(({className:t,...e},n)=>{const r=J.useId();return E.jsx(C2.Provider,{value:{id:r},children:E.jsx("div",{ref:n,className:Rt("space-y-2",t),...e})})});ad.displayName="FormItem";const zL=J.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Vp();return E.jsx(E2,{ref:n,className:Rt(r&&"text-destructive",t),htmlFor:s,...e})});zL.displayName="FormLabel";const cd=J.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Vp();return E.jsx(tL,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});cd.displayName="FormControl";const UL=J.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Vp();return E.jsx("p",{ref:n,id:r,className:Rt("text-sm text-muted-foreground",t),...e})});UL.displayName="FormDescription";const Sg=J.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Vp(),o=s?String(s==null?void 0:s.message):e;return o?E.jsx("p",{ref:r,id:i,className:Rt("text-sm font-medium text-destructive",t),...n,children:o}):null});Sg.displayName="FormMessage";const ld=J.forwardRef(({className:t,type:e,...n},r)=>E.jsx("input",{type:e,className:Rt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));ld.displayName="Input";const Ke=J.forwardRef(({className:t,variant:e="default",size:n="default",...r},s)=>{const i={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},o={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return E.jsx("button",{className:Rt("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",i[e],o[n],t),ref:s,...r})});Ke.displayName="Button";function qL({loading:t=!1,loadingText:e,children:n,disabled:r,className:s,...i}){return E.jsxs(Ke,{disabled:t||r,className:Rt("relative",s),...i,children:[t&&E.jsx(LD,{className:"mr-2 h-4 w-4 animate-spin"}),t?e||"Loading...":n]})}class ko{constructor(){N(this,"baseURL","/api/auth")}async signUp(e){const n=await fetch(`${this.baseURL}/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Sign up failed")}return n.json()}async signIn(e){const n=await fetch(`${this.baseURL}/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const s=await n.json();throw new Error(s.message||"Sign in failed")}const r=await n.json();return r.token&&localStorage.setItem("token",r.token),r}async verifyOTP(e){const n=await fetch(`${this.baseURL}/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"OTP verification failed")}return n.json()}async signOut(){localStorage.removeItem("token"),window.location.href="/signin"}getToken(){return localStorage.getItem("token")}isAuthenticated(){return!!this.getToken()}}const QL=async t=>{const e=await fetch("/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"OTP verification failed")}return e.json()},VL=async t=>{const e=await fetch("/api/auth/resend-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});if(!e.ok){const n=await e.json();throw new Error(n.message||"Failed to resend OTP")}return e.json()},HL=async(t,e)=>{const n=await fetch("/api/auth/social-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:t,profile:e})});if(!n.ok){const r=await n.json();throw new Error(r.message||"Social login failed")}return n.json()},GL={signUp:new ko().signUp,signIn:new ko().signIn,verifyOTP:new ko().verifyOTP,signOut:new ko().signOut,getToken:new ko().getToken,isAuthenticated:new ko().isAuthenticated,verifyOtp:QL,resendOtp:VL,socialLogin:HL},G=Symbol.for("drizzle:entityKind");function ee(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,G))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(G in n&&n[G]===e[G])return!0;n=Object.getPrototypeOf(n)}return!1}var xS;xS=G;class kt{constructor(e,n){N(this,"name");N(this,"keyAsName");N(this,"primary");N(this,"notNull");N(this,"default");N(this,"defaultFn");N(this,"onUpdateFn");N(this,"hasDefault");N(this,"isUnique");N(this,"uniqueName");N(this,"uniqueType");N(this,"dataType");N(this,"columnType");N(this,"enumValues");N(this,"generated");N(this,"generatedIdentity");N(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}N(kt,xS,"Column");var bS;bS=G;class A2{constructor(e,n,r){N(this,"config");N(this,"$default",this.$defaultFn);N(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}N(A2,bS,"ColumnBuilder");const di=Symbol.for("drizzle:Name");var wS;wS=G;class T2{constructor(e,n){N(this,"reference");N(this,"_onUpdate","no action");N(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:s,foreignColumns:i}=e();return{name:r,columns:s,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new N2(e,this)}}N(T2,wS,"PgForeignKeyBuilder");var SS;SS=G;class N2{constructor(e,n){N(this,"reference");N(this,"onUpdate");N(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),s=n.map(a=>a.name),i=r.map(a=>a.name),o=[this.table[di],...s,r[0].table[di],...i];return e??`${o.join("_")}_fk`}}N(N2,SS,"PgForeignKey");function WL(t,...e){return t(...e)}function KL(t,e){return`${t[di]}_${e.join("_")}_unique`}function qb(t,e,n){for(let r=e;r<t.length;r++){const s=t[r];if(s==="\\"){r++;continue}if(s==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(s===","||s==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function R2(t,e=0){const n=[];let r=e,s=!1;for(;r<t.length;){const i=t[r];if(i===","){(s||r===e)&&n.push(""),s=!0,r++;continue}if(s=!1,i==="\\"){r+=2;continue}if(i==='"'){const[c,l]=qb(t,r+1,!0);n.push(c),r=l;continue}if(i==="}")return[n,r+1];if(i==="{"){const[c,l]=R2(t,r+1);n.push(c),r=l;continue}const[o,a]=qb(t,r,!1);n.push(o),r=a}return[n,r]}function YL(t){const[e]=R2(t,1);return e}function O2(t){return`{${t.map(e=>Array.isArray(e)?O2(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var _S,ES;class Ue extends(ES=A2,_S=G,ES){constructor(){super(...arguments);N(this,"foreignKeyConfigs",[])}array(n){return new I2(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>WL((o,a)=>{const c=new T2(()=>{const l=o();return{columns:[n],foreignColumns:[l]}});return a.onUpdate&&c.onUpdate(a.onUpdate),a.onDelete&&c.onDelete(a.onDelete),c.build(r)},s,i))}buildExtraConfigColumn(n){return new P2(n,this.config)}}N(Ue,_S,"PgColumnBuilder");var kS,CS;class ke extends(CS=kt,kS=G,CS){constructor(e,n){n.uniqueName||(n.uniqueName=KL(e,[n.name])),super(e,n),this.table=e}}N(ke,kS,"PgColumn");var AS,TS;class P2 extends(TS=ke,AS=G,TS){constructor(){super(...arguments);N(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});N(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}N(P2,AS,"ExtraConfigColumn");var NS,RS;class I2 extends(RS=Ue,NS=G,RS){constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new _g(e,this.config,n)}}N(I2,NS,"PgArrayBuilder");var OS,PS;const bp=class bp extends(PS=ke,OS=G,PS){constructor(n,r,s,i){super(n,r);N(this,"size");this.baseColumn=s,this.range=i,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=YL(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const s=n.map(i=>i===null?null:ee(this.baseColumn,bp)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?s:O2(s)}};N(bp,OS,"PgArray");let _g=bp;const Eg=Symbol.for("drizzle:isPgEnum");function JL(t){return!!t&&typeof t=="function"&&Eg in t&&t[Eg]===!0}var IS,jS;class j2 extends(jS=Ue,IS=G,jS){constructor(e,n){super(e,"string","PgEnumColumn"),this.config.enum=n}build(e){return new F2(e,this.config)}}N(j2,IS,"PgEnumColumnBuilder");var FS,MS;class F2 extends(MS=ke,FS=G,MS){constructor(n,r){super(n,r);N(this,"enum",this.config.enum);N(this,"enumValues",this.config.enum.enumValues);this.enum=r.enum}getSQLType(){return this.enum.enumName}}N(F2,FS,"PgEnumColumn");function _i(t,e){return XL(t,e,void 0)}function XL(t,e,n){const r=Object.assign(s=>new j2(s??"",r),{enumName:t,enumValues:e,schema:n,[Eg]:!0});return r}var DS;DS=G;class Ln{constructor(e,n,r,s=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:s}}}N(Ln,DS,"Subquery");var LS,BS;class kv extends(BS=Ln,LS=G,BS){}N(kv,LS,"WithSubquery");const Lt={startActiveSpan(t,e){return e()}},Ot=Symbol.for("drizzle:ViewBaseConfig"),ud=Symbol.for("drizzle:Schema"),kg=Symbol.for("drizzle:Columns"),Qb=Symbol.for("drizzle:ExtraConfigColumns"),Eh=Symbol.for("drizzle:OriginalName"),kh=Symbol.for("drizzle:BaseName"),Yd=Symbol.for("drizzle:IsAlias"),Vb=Symbol.for("drizzle:ExtraConfigBuilder"),M2=Symbol.for("drizzle:IsDrizzleTable");var $S,zS,US,qS,QS,VS,HS,GS,WS,KS;KS=G,WS=di,GS=Eh,HS=ud,VS=kg,QS=Qb,qS=kh,US=Yd,zS=M2,$S=Vb;class ye{constructor(e,n,r){N(this,WS);N(this,GS);N(this,HS);N(this,VS);N(this,QS);N(this,qS);N(this,US,!1);N(this,zS,!0);N(this,$S);this[di]=this[Eh]=e,this[ud]=n,this[kh]=r}}N(ye,KS,"Table"),N(ye,"Symbol",{Name:di,Schema:ud,OriginalName:Eh,Columns:kg,ExtraConfigColumns:Qb,BaseName:kh,IsAlias:Yd,ExtraConfigBuilder:Vb});function D2(t){return typeof t=="object"&&t!==null&&M2 in t}function us(t){return t[di]}function ol(t){return`${t[ud]??"public"}.${t[di]}`}function L2(t){return t!=null&&typeof t.getSQL=="function"}function ZL(t){var n;const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),(n=r.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var YS;YS=G;class qt{constructor(e){N(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new be([this])}}N(qt,YS,"StringChunk");var JS;JS=G;const Ii=class Ii{constructor(e){N(this,"decoder",B2);N(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return Lt.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:a,inlineParams:c,paramStartIndex:l}=r;return ZL(e.map(u=>{var d;if(ee(u,qt))return{sql:u.value.join(""),params:[]};if(ee(u,Jd))return{sql:i(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const p=[new qt("(")];for(const[x,y]of u.entries())p.push(y),x<u.length-1&&p.push(new qt(", "));return p.push(new qt(")")),this.buildQueryFromSourceParams(p,r)}if(ee(u,Ii))return this.buildQueryFromSourceParams(u.queryChunks,{...r,inlineParams:c||u.shouldInlineParams});if(ee(u,ye)){const p=u[ye.Symbol.Schema],x=u[ye.Symbol.Name];return{sql:p===void 0||u[Yd]?i(x):i(p)+"."+i(x),params:[]}}if(ee(u,kt)){const p=s.getColumnCasing(u);if(n.invokeSource==="indexes")return{sql:i(p),params:[]};const x=u.table[ye.Symbol.Schema];return{sql:u.table[Yd]||x===void 0?i(u.table[ye.Symbol.Name])+"."+i(p):i(x)+"."+i(u.table[ye.Symbol.Name])+"."+i(p),params:[]}}if(ee(u,Ei)){const p=u[Ot].schema,x=u[Ot].name;return{sql:p===void 0||u[Ot].isAlias?i(x):i(p)+"."+i(x),params:[]}}if(ee(u,bs)){if(ee(u.value,co))return{sql:o(l.value++,u),params:[u],typings:["none"]};const p=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(ee(p,Ii))return this.buildQueryFromSourceParams([p],r);if(c)return{sql:this.mapInlineParam(p,r),params:[]};let x=["none"];return a&&(x=[a(u.encoder)]),{sql:o(l.value++,p),params:[p],typings:x}}return ee(u,co)?{sql:o(l.value++,u),params:[u],typings:["none"]}:ee(u,Ii.Aliased)&&u.fieldAlias!==void 0?{sql:i(u.fieldAlias),params:[]}:ee(u,Ln)?u._.isWith?{sql:i(u._.alias),params:[]}:this.buildQueryFromSourceParams([new qt("("),u._.sql,new qt(") "),new Jd(u._.alias)],r):JL(u)?u.schema?{sql:i(u.schema)+"."+i(u.enumName),params:[]}:{sql:i(u.enumName),params:[]}:L2(u)?(d=u.shouldOmitSQLParens)!=null&&d.call(u)?this.buildQueryFromSourceParams([u.getSQL()],r):this.buildQueryFromSourceParams([new qt("("),u.getSQL(),new qt(")")],r):c?{sql:this.mapInlineParam(u,r),params:[]}:{sql:o(l.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Ii.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};N(Ii,JS,"SQL");let be=Ii;var XS;XS=G;class Jd{constructor(e){N(this,"brand");this.value=e}getSQL(){return new be([this])}}N(Jd,XS,"Name");function eB(t){return typeof t=="object"&&t!==null&&"mapToDriverValue"in t&&typeof t.mapToDriverValue=="function"}const B2={mapFromDriverValue:t=>t},$2={mapToDriverValue:t=>t};({...B2,...$2});var ZS;ZS=G;class bs{constructor(e,n=$2){N(this,"brand");this.value=e,this.encoder=n}getSQL(){return new be([this])}}N(bs,ZS,"Param");function $(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new qt(t[0]));for(const[r,s]of e.entries())n.push(s,new qt(t[r+1]));return new be(n)}(t=>{function e(){return new be([])}t.empty=e;function n(c){return new be(c)}t.fromList=n;function r(c){return new be([new qt(c)])}t.raw=r;function s(c,l){const u=[];for(const[d,p]of c.entries())d>0&&l!==void 0&&u.push(l),u.push(p);return new be(u)}t.join=s;function i(c){return new Jd(c)}t.identifier=i;function o(c){return new co(c)}t.placeholder=o;function a(c,l){return new bs(c,l)}t.param=a})($||($={}));(t=>{var n;n=G;const r=class r{constructor(i,o){N(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};N(r,n,"SQL.Aliased");let e=r;t.Aliased=e})(be||(be={}));var e_;e_=G;class co{constructor(e){this.name=e}getSQL(){return new be([this])}}N(co,e_,"Placeholder");function Hb(t,e){return t.map(n=>{if(ee(n,co)){if(!(n.name in e))throw new Error(`No value for placeholder "${n.name}" was provided`);return e[n.name]}if(ee(n,bs)&&ee(n.value,co)){if(!(n.value.name in e))throw new Error(`No value for placeholder "${n.value.name}" was provided`);return n.encoder.mapToDriverValue(e[n.value.name])}return n})}const z2=Symbol.for("drizzle:IsDrizzleView");var t_,n_,r_;r_=G,n_=Ot,t_=z2;class Ei{constructor({name:e,schema:n,selectedFields:r,query:s}){N(this,n_);N(this,t_,!0);this[Ot]={name:e,originalName:e,schema:n,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new be([this])}}N(Ei,r_,"View");function tB(t){return typeof t=="object"&&t!==null&&z2 in t}kt.prototype.getSQL=function(){return new be([this])};ye.prototype.getSQL=function(){return new be([this])};Ln.prototype.getSQL=function(){return new be([this])};var s_;s_=G;class al{constructor(e){this.table=e}get(e,n){return n==="table"?this.table:e[n]}}N(al,s_,"ColumnAliasProxyHandler");var i_;i_=G;class Hp{constructor(e,n){this.alias=e,this.replaceOriginalName=n}get(e,n){if(n===ye.Symbol.IsAlias)return!0;if(n===ye.Symbol.Name)return this.alias;if(this.replaceOriginalName&&n===ye.Symbol.OriginalName)return this.alias;if(n===Ot)return{...e[Ot],name:this.alias,isAlias:!0};if(n===ye.Symbol.Columns){const s=e[ye.Symbol.Columns];if(!s)return s;const i={};return Object.keys(s).map(o=>{i[o]=new Proxy(s[o],new al(new Proxy(e,this)))}),i}const r=e[n];return ee(r,kt)?new Proxy(r,new al(new Proxy(e,this))):r}}N(Hp,i_,"TableAliasProxyHandler");function Ch(t,e){return new Proxy(t,new Hp(e,!1))}function Zr(t,e){return new Proxy(t,new al(new Proxy(t.table,new Hp(e,!1))))}function U2(t,e){return new be.Aliased(Xd(t.sql,e),t.fieldAlias)}function Xd(t,e){return $.join(t.queryChunks.map(n=>ee(n,kt)?Zr(n,e):ee(n,be)?Xd(n,e):ee(n,be.Aliased)?U2(n,e):n))}function nB(t,e,n){const r={},s=t.reduce((i,{path:o,field:a},c)=>{let l;ee(a,kt)?l=a:ee(a,be)?l=a.decoder:l=a.sql.decoder;let u=i;for(const[d,p]of o.entries())if(d<o.length-1)p in u||(u[p]={}),u=u[p];else{const x=e[c],y=u[p]=x===null?null:l.mapFromDriverValue(x);if(n&&ee(a,kt)&&o.length===2){const h=o[0];h in r?typeof r[h]=="string"&&r[h]!==us(a.table)&&(r[h]=!1):r[h]=y===null?us(a.table):!1}}return i},{});if(n&&Object.keys(r).length>0)for(const[i,o]of Object.entries(r))typeof o=="string"&&!n[o]&&(s[i]=null);return s}function lo(t,e){return Object.entries(t).reduce((n,[r,s])=>{if(typeof r!="string")return n;const i=e?[...e,r]:[r];return ee(s,kt)||ee(s,be)||ee(s,be.Aliased)?n.push({path:i,field:s}):ee(s,ye)?n.push(...lo(s[ye.Symbol.Columns],i)):n.push(...lo(s,i)),n},[])}function Cv(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const[s,i]of n.entries())if(i!==r[s])return!1;return!0}function q2(t,e){const n=Object.entries(e).filter(([,r])=>r!==void 0).map(([r,s])=>ee(s,be)||ee(s,kt)?[r,s]:[r,new bs(s,t[ye.Symbol.Columns][r])]);if(n.length===0)throw new Error("No values to set");return Object.fromEntries(n)}function rB(t,e){for(const n of e)for(const r of Object.getOwnPropertyNames(n.prototype))r!=="constructor"&&Object.defineProperty(t.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r)||Object.create(null))}function Q2(t){return t[ye.Symbol.Columns]}function sB(t){return t[Ot].selectedFields}function Pi(t){return ee(t,Ln)?t._.alias:ee(t,Ei)?t[Ot].name:ee(t,be)?void 0:t[ye.Symbol.IsAlias]?t[ye.Symbol.Name]:t[ye.Symbol.BaseName]}function Vt(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}function iB(t){if(typeof t!="object"||t===null||t.constructor.name!=="Object")return!1;if("logger"in t){const e=typeof t.logger;return!(e!=="boolean"&&(e!=="object"||typeof t.logger.logQuery!="function")&&e!=="undefined")}if("schema"in t){const e=typeof t.logger;return!(e!=="object"&&e!=="undefined")}if("casing"in t){const e=typeof t.logger;return!(e!=="string"&&e!=="undefined")}if("mode"in t)return!(t.mode!=="default"||t.mode!=="planetscale"||t.mode!==void 0);if("connection"in t){const e=typeof t.connection;return!(e!=="string"&&e!=="object"&&e!=="undefined")}if("client"in t){const e=typeof t.client;return!(e!=="object"&&e!=="function"&&e!=="undefined")}return Object.keys(t).length===0}var o_,a_;class Ml extends(a_=Ue,o_=G,a_){generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}N(Ml,o_,"PgIntColumnBaseBuilder");var c_,l_;class V2 extends(l_=Ml,c_=G,l_){constructor(e){super(e,"number","PgBigInt53")}build(e){return new H2(e,this.config)}}N(V2,c_,"PgBigInt53Builder");var u_,d_;class H2 extends(d_=ke,u_=G,d_){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}N(H2,u_,"PgBigInt53");var p_,f_;class G2 extends(f_=Ml,p_=G,f_){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new W2(e,this.config)}}N(G2,p_,"PgBigInt64Builder");var h_,m_;class W2 extends(m_=ke,h_=G,m_){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}N(W2,h_,"PgBigInt64");function oB(t,e){const{name:n,config:r}=Vt(t,e);return r.mode==="number"?new V2(n):new G2(n)}var g_,y_;class K2 extends(y_=Ue,g_=G,y_){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Y2(e,this.config)}}N(K2,g_,"PgBigSerial53Builder");var v_,x_;class Y2 extends(x_=ke,v_=G,x_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}N(Y2,v_,"PgBigSerial53");var b_,w_;class J2 extends(w_=Ue,b_=G,w_){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new X2(e,this.config)}}N(J2,b_,"PgBigSerial64Builder");var S_,__;class X2 extends(__=ke,S_=G,__){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}N(X2,S_,"PgBigSerial64");function aB(t,e){const{name:n,config:r}=Vt(t,e);return r.mode==="number"?new K2(n):new J2(n)}var E_,k_;class Z2 extends(k_=Ue,E_=G,k_){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new eR(e,this.config)}}N(Z2,E_,"PgBooleanBuilder");var C_,A_;class eR extends(A_=ke,C_=G,A_){getSQLType(){return"boolean"}}N(eR,C_,"PgBoolean");function He(t){return new Z2(t??"")}var T_,N_;class tR extends(N_=Ue,T_=G,N_){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new nR(e,this.config)}}N(tR,T_,"PgCharBuilder");var R_,O_;class nR extends(O_=ke,R_=G,O_){constructor(){super(...arguments);N(this,"length",this.config.length);N(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}N(nR,R_,"PgChar");function cB(t,e={}){const{name:n,config:r}=Vt(t,e);return new tR(n,r)}var P_,I_;class rR extends(I_=Ue,P_=G,I_){constructor(e){super(e,"string","PgCidr")}build(e){return new sR(e,this.config)}}N(rR,P_,"PgCidrBuilder");var j_,F_;class sR extends(F_=ke,j_=G,F_){getSQLType(){return"cidr"}}N(sR,j_,"PgCidr");function lB(t){return new rR(t??"")}var M_,D_;class iR extends(D_=Ue,M_=G,D_){constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new oR(e,this.config)}}N(iR,M_,"PgCustomColumnBuilder");var L_,B_;class oR extends(B_=ke,L_=G,B_){constructor(n,r){super(n,r);N(this,"sqlName");N(this,"mapTo");N(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}N(oR,L_,"PgCustomColumn");function uB(t){return(e,n)=>{const{name:r,config:s}=Vt(e,n);return new iR(r,s,t)}}var $_,z_;class Ua extends(z_=Ue,$_=G,z_){defaultNow(){return this.default($`now()`)}}N(Ua,$_,"PgDateColumnBaseBuilder");var U_,q_;class aR extends(q_=Ua,U_=G,q_){constructor(e){super(e,"date","PgDate")}build(e){return new Av(e,this.config)}}N(aR,U_,"PgDateBuilder");var Q_,V_;class Av extends(V_=ke,Q_=G,V_){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}N(Av,Q_,"PgDate");var H_,G_;class cR extends(G_=Ua,H_=G,G_){constructor(e){super(e,"string","PgDateString")}build(e){return new Tv(e,this.config)}}N(cR,H_,"PgDateStringBuilder");var W_,K_;class Tv extends(K_=ke,W_=G,K_){getSQLType(){return"date"}}N(Tv,W_,"PgDateString");function dB(t,e){const{name:n,config:r}=Vt(t,e);return(r==null?void 0:r.mode)==="date"?new aR(n):new cR(n)}var Y_,J_;class lR extends(J_=Ue,Y_=G,J_){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new uR(e,this.config)}}N(lR,Y_,"PgDoublePrecisionBuilder");var X_,Z_;class uR extends(Z_=ke,X_=G,Z_){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}N(uR,X_,"PgDoublePrecision");function pB(t){return new lR(t??"")}var eE,tE;class dR extends(tE=Ue,eE=G,tE){constructor(e){super(e,"string","PgInet")}build(e){return new pR(e,this.config)}}N(dR,eE,"PgInetBuilder");var nE,rE;class pR extends(rE=ke,nE=G,rE){getSQLType(){return"inet"}}N(pR,nE,"PgInet");function fB(t){return new dR(t??"")}var sE,iE;class fR extends(iE=Ml,sE=G,iE){constructor(e){super(e,"number","PgInteger")}build(e){return new hR(e,this.config)}}N(fR,sE,"PgIntegerBuilder");var oE,aE;class hR extends(aE=ke,oE=G,aE){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}N(hR,oE,"PgInteger");function oe(t){return new fR(t??"")}var cE,lE;class mR extends(lE=Ue,cE=G,lE){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new gR(e,this.config)}}N(mR,cE,"PgIntervalBuilder");var uE,dE;class gR extends(dE=ke,uE=G,dE){constructor(){super(...arguments);N(this,"fields",this.config.intervalConfig.fields);N(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}N(gR,uE,"PgInterval");function hB(t,e={}){const{name:n,config:r}=Vt(t,e);return new mR(n,r)}var pE,fE;class yR extends(fE=Ue,pE=G,fE){constructor(e){super(e,"json","PgJson")}build(e){return new Nv(e,this.config)}}N(yR,pE,"PgJsonBuilder");var hE,mE;class Nv extends(mE=ke,hE=G,mE){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}N(Nv,hE,"PgJson");function mB(t){return new yR(t??"")}var gE,yE;class vR extends(yE=Ue,gE=G,yE){constructor(e){super(e,"json","PgJsonb")}build(e){return new Rv(e,this.config)}}N(vR,gE,"PgJsonbBuilder");var vE,xE;class Rv extends(xE=ke,vE=G,xE){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}N(Rv,vE,"PgJsonb");function Ze(t){return new vR(t??"")}var bE,wE;class xR extends(wE=Ue,bE=G,wE){constructor(e){super(e,"array","PgLine")}build(e){return new bR(e,this.config)}}N(xR,bE,"PgLineBuilder");var SE,_E;class bR extends(_E=ke,SE=G,_E){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,s]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(s)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}N(bR,SE,"PgLine");var EE,kE;class wR extends(kE=Ue,EE=G,kE){constructor(e){super(e,"json","PgLineABC")}build(e){return new SR(e,this.config)}}N(wR,EE,"PgLineABCBuilder");var CE,AE;class SR extends(AE=ke,CE=G,AE){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,s]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(s)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}N(SR,CE,"PgLineABC");function gB(t,e){const{name:n,config:r}=Vt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new xR(n):new wR(n)}var TE,NE;class _R extends(NE=Ue,TE=G,NE){constructor(e){super(e,"string","PgMacaddr")}build(e){return new ER(e,this.config)}}N(_R,TE,"PgMacaddrBuilder");var RE,OE;class ER extends(OE=ke,RE=G,OE){getSQLType(){return"macaddr"}}N(ER,RE,"PgMacaddr");function yB(t){return new _R(t??"")}var PE,IE;class kR extends(IE=Ue,PE=G,IE){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new CR(e,this.config)}}N(kR,PE,"PgMacaddr8Builder");var jE,FE;class CR extends(FE=ke,jE=G,FE){getSQLType(){return"macaddr8"}}N(CR,jE,"PgMacaddr8");function vB(t){return new kR(t??"")}var ME,DE;class AR extends(DE=Ue,ME=G,DE){constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new Ov(e,this.config)}}N(AR,ME,"PgNumericBuilder");var LE,BE;class Ov extends(BE=ke,LE=G,BE){constructor(n,r){super(n,r);N(this,"precision");N(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}N(Ov,LE,"PgNumeric");function TR(t,e){const{name:n,config:r}=Vt(t,e);return new AR(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const Fe=TR;var $E,zE;class NR extends(zE=Ue,$E=G,zE){constructor(e){super(e,"array","PgPointTuple")}build(e){return new RR(e,this.config)}}N(NR,$E,"PgPointTupleBuilder");var UE,qE;class RR extends(qE=ke,UE=G,qE){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}N(RR,UE,"PgPointTuple");var QE,VE;class OR extends(VE=Ue,QE=G,VE){constructor(e){super(e,"json","PgPointObject")}build(e){return new PR(e,this.config)}}N(OR,QE,"PgPointObjectBuilder");var HE,GE;class PR extends(GE=ke,HE=G,GE){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}N(PR,HE,"PgPointObject");function xB(t,e){const{name:n,config:r}=Vt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new NR(n):new OR(n)}function bB(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function Gb(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let s=0;s<8;s++)r.setUint8(s,t[e+s]);return r.getFloat64(0,!0)}function IR(t){const e=bB(t);let n=0;const r=e[n];n+=1;const s=new DataView(e.buffer),i=s.getUint32(n,r===1);if(n+=4,i&536870912&&(s.getUint32(n,r===1),n+=4),(i&65535)===1){const o=Gb(e,n);n+=8;const a=Gb(e,n);return n+=8,[o,a]}throw new Error("Unsupported geometry type")}var WE,KE;class jR extends(KE=Ue,WE=G,KE){constructor(e){super(e,"array","PgGeometry")}build(e){return new FR(e,this.config)}}N(jR,WE,"PgGeometryBuilder");var YE,JE;class FR extends(JE=ke,YE=G,JE){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return IR(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}N(FR,YE,"PgGeometry");var XE,ZE;class MR extends(ZE=Ue,XE=G,ZE){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new DR(e,this.config)}}N(MR,XE,"PgGeometryObjectBuilder");var ek,tk;class DR extends(tk=ke,ek=G,tk){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=IR(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}N(DR,ek,"PgGeometryObject");function wB(t,e){const{name:n,config:r}=Vt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new jR(n):new MR(n)}var nk,rk;class LR extends(rk=Ue,nk=G,rk){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new BR(e,this.config)}}N(LR,nk,"PgRealBuilder");var sk,ik;class BR extends(ik=ke,sk=G,ik){constructor(n,r){super(n,r);N(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}N(BR,sk,"PgReal");function SB(t){return new LR(t??"")}var ok,ak;class $R extends(ak=Ue,ok=G,ak){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new zR(e,this.config)}}N($R,ok,"PgSerialBuilder");var ck,lk;class zR extends(lk=ke,ck=G,lk){getSQLType(){return"serial"}}N(zR,ck,"PgSerial");function Ae(t){return new $R(t??"")}var uk,dk;class UR extends(dk=Ml,uk=G,dk){constructor(e){super(e,"number","PgSmallInt")}build(e){return new qR(e,this.config)}}N(UR,uk,"PgSmallIntBuilder");var pk,fk;class qR extends(fk=ke,pk=G,fk){constructor(){super(...arguments);N(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}N(qR,pk,"PgSmallInt");function _B(t){return new UR(t??"")}var hk,mk;class QR extends(mk=Ue,hk=G,mk){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new VR(e,this.config)}}N(QR,hk,"PgSmallSerialBuilder");var gk,yk;class VR extends(yk=ke,gk=G,yk){getSQLType(){return"smallserial"}}N(VR,gk,"PgSmallSerial");function EB(t){return new QR(t??"")}var vk,xk;class HR extends(xk=Ue,vk=G,xk){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new GR(e,this.config)}}N(HR,vk,"PgTextBuilder");var bk,wk;class GR extends(wk=ke,bk=G,wk){constructor(){super(...arguments);N(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}N(GR,bk,"PgText");function H(t,e={}){const{name:n,config:r}=Vt(t,e);return new HR(n,r)}var Sk,_k;class WR extends(_k=Ua,Sk=G,_k){constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(e){return new Pv(e,this.config)}}N(WR,Sk,"PgTimeBuilder");var Ek,kk;class Pv extends(kk=ke,Ek=G,kk){constructor(n,r){super(n,r);N(this,"withTimezone");N(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}N(Pv,Ek,"PgTime");function kB(t,e={}){const{name:n,config:r}=Vt(t,e);return new WR(n,r.withTimezone??!1,r.precision)}var Ck,Ak;class KR extends(Ak=Ua,Ck=G,Ak){constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new Iv(e,this.config)}}N(KR,Ck,"PgTimestampBuilder");var Tk,Nk;class Iv extends(Nk=ke,Tk=G,Nk){constructor(n,r){super(n,r);N(this,"withTimezone");N(this,"precision");N(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));N(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}N(Iv,Tk,"PgTimestamp");var Rk,Ok;class YR extends(Ok=Ua,Rk=G,Ok){constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new jv(e,this.config)}}N(YR,Rk,"PgTimestampStringBuilder");var Pk,Ik;class jv extends(Ik=ke,Pk=G,Ik){constructor(n,r){super(n,r);N(this,"withTimezone");N(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}N(jv,Pk,"PgTimestampString");function te(t,e={}){const{name:n,config:r}=Vt(t,e);return(r==null?void 0:r.mode)==="string"?new YR(n,r.withTimezone??!1,r.precision):new KR(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var jk,Fk;class JR extends(Fk=Ue,jk=G,Fk){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default($`gen_random_uuid()`)}build(e){return new Fv(e,this.config)}}N(JR,jk,"PgUUIDBuilder");var Mk,Dk;class Fv extends(Dk=ke,Mk=G,Dk){getSQLType(){return"uuid"}}N(Fv,Mk,"PgUUID");function CB(t){return new JR(t??"")}var Lk,Bk;class XR extends(Bk=Ue,Lk=G,Bk){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new ZR(e,this.config)}}N(XR,Lk,"PgVarcharBuilder");var $k,zk;class ZR extends(zk=ke,$k=G,zk){constructor(){super(...arguments);N(this,"length",this.config.length);N(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}N(ZR,$k,"PgVarchar");function Te(t,e={}){const{name:n,config:r}=Vt(t,e);return new XR(n,r)}var Uk,qk;class eO extends(qk=Ue,Uk=G,qk){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new tO(e,this.config)}}N(eO,Uk,"PgBinaryVectorBuilder");var Qk,Vk;class tO extends(Vk=ke,Qk=G,Vk){constructor(){super(...arguments);N(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}N(tO,Qk,"PgBinaryVector");function AB(t,e){const{name:n,config:r}=Vt(t,e);return new eO(n,r)}var Hk,Gk;class nO extends(Gk=Ue,Hk=G,Gk){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new rO(e,this.config)}}N(nO,Hk,"PgHalfVectorBuilder");var Wk,Kk;class rO extends(Kk=ke,Wk=G,Kk){constructor(){super(...arguments);N(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}N(rO,Wk,"PgHalfVector");function TB(t,e){const{name:n,config:r}=Vt(t,e);return new nO(n,r)}var Yk,Jk;class sO extends(Jk=Ue,Yk=G,Jk){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new iO(e,this.config)}}N(sO,Yk,"PgSparseVectorBuilder");var Xk,Zk;class iO extends(Zk=ke,Xk=G,Zk){constructor(){super(...arguments);N(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}N(iO,Xk,"PgSparseVector");function NB(t,e){const{name:n,config:r}=Vt(t,e);return new sO(n,r)}var eC,tC;class oO extends(tC=Ue,eC=G,tC){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new aO(e,this.config)}}N(oO,eC,"PgVectorBuilder");var nC,rC;class aO extends(rC=ke,nC=G,rC){constructor(){super(...arguments);N(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}N(aO,nC,"PgVector");function RB(t,e){const{name:n,config:r}=Vt(t,e);return new oO(n,r)}var sC,iC;iC=G,sC=Symbol.toStringTag;class ki{constructor(){N(this,sC,"QueryPromise")}catch(e){return this.then(void 0,e)}finally(e){return this.then(n=>(e==null||e(),n),n=>{throw e==null||e(),n})}then(e,n){return this.execute().then(e,n)}}N(ki,iC,"QueryPromise");var oC;oC=G;const wp=class wp{constructor(e){N(this,"config");this.config={...e}}get(e,n){if(n==="_")return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(n===Ot)return{...e[Ot],selectedFields:new Proxy(e[Ot].selectedFields,this)};if(typeof n=="symbol")return e[n];const s=(ee(e,Ln)?e._.selectedFields:ee(e,Ei)?e[Ot].selectedFields:e)[n];if(ee(s,be.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!s.isSelectionField)return s.sql;const i=s.clone();return i.isSelectionField=!0,i}if(ee(s,be)){if(this.config.sqlBehavior==="sql")return s;throw new Error(`You tried to reference "${n}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return ee(s,kt)?this.config.alias?new Proxy(s,new al(new Proxy(s.table,new Hp(this.config.alias,this.config.replaceOriginalName??!1)))):s:typeof s!="object"||s===null?s:new Proxy(s,new wp(this.config))}};N(wp,oC,"SelectionProxyHandler");let en=wp;var aC,cC;class Cg extends(cC=ki,aC=G,cC){constructor(n,r,s,i){super();N(this,"config");N(this,"authToken");N(this,"execute",n=>Lt.startActiveSpan("drizzle.operation",()=>this._prepare().execute(n,this.authToken)));this.session=r,this.dialect=s,this.config={table:n,withList:i}}where(n){return this.config.where=n,this}returning(n=this.config.table[ye.Symbol.Columns]){return this.config.returningFields=n,this.config.returning=lo(n),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){const{typings:n,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(n){return Lt.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,n,!0))}prepare(n){return this._prepare(n)}setToken(n){return this.authToken=n,this}getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new en({alias:us(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}N(Cg,aC,"PgDelete");function OB(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(n=>n.toLowerCase()).join("_")}function PB(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((n,r,s)=>{const i=s===0?r.toLowerCase():`${r[0].toUpperCase()}${r.slice(1)}`;return n+i},"")}function IB(t){return t}var lC;lC=G;class cO{constructor(e){N(this,"cache",{});N(this,"cachedTables",{});N(this,"convert");this.convert=e==="snake_case"?OB:e==="camelCase"?PB:IB}getColumnCasing(e){if(!e.keyAsName)return e.name;const n=e.table[ye.Symbol.Schema]??"public",r=e.table[ye.Symbol.OriginalName],s=`${n}.${r}.${e.name}`;return this.cache[s]||this.cacheTable(e.table),this.cache[s]}cacheTable(e){const n=e[ye.Symbol.Schema]??"public",r=e[ye.Symbol.OriginalName],s=`${n}.${r}`;if(!this.cachedTables[s]){for(const i of Object.values(e[ye.Symbol.Columns])){const o=`${s}.${i.name}`;this.cache[o]=this.convert(i.name)}this.cachedTables[s]=!0}}clearCache(){this.cache={},this.cachedTables={}}}N(cO,lC,"CasingCache");var uC,dC;class Mv extends(dC=Error,uC=G,dC){constructor({message:e,cause:n}){super(e),this.name="DrizzleError",this.cause=n}}N(Mv,uC,"DrizzleError");var pC,fC;class lO extends(fC=Mv,pC=G,fC){constructor(){super({message:"Rollback"})}}N(lO,pC,"TransactionRollbackError");function jB(){return{bigint:oB,bigserial:aB,boolean:He,char:cB,cidr:lB,customType:uB,date:dB,doublePrecision:pB,inet:fB,integer:oe,interval:hB,json:mB,jsonb:Ze,line:gB,macaddr:yB,macaddr8:vB,numeric:TR,point:xB,geometry:wB,real:SB,serial:Ae,smallint:_B,smallserial:EB,text:H,time:kB,timestamp:te,uuid:CB,varchar:Te,bit:AB,halfvec:TB,sparsevec:NB,vector:RB}}const Ag=Symbol.for("drizzle:PgInlineForeignKeys"),Wb=Symbol.for("drizzle:EnableRLS");var hC,mC,gC,yC,vC;class _n extends(vC=ye,yC=G,gC=Ag,mC=Wb,hC=ye.Symbol.ExtraConfigBuilder,vC){constructor(){super(...arguments);N(this,gC,[]);N(this,mC,!1);N(this,hC)}}N(_n,yC,"PgTable"),N(_n,"Symbol",Object.assign({},ye.Symbol,{InlineForeignKeys:Ag,EnableRLS:Wb}));function FB(t,e,n,r,s=t){const i=new _n(t,r,s),o=typeof e=="function"?e(jB()):e,a=Object.fromEntries(Object.entries(o).map(([u,d])=>{const p=d;p.setName(u);const x=p.build(i);return i[Ag].push(...p.buildForeignKeys(x,i)),[u,x]})),c=Object.fromEntries(Object.entries(o).map(([u,d])=>{const p=d;p.setName(u);const x=p.buildExtraConfigColumn(i);return[u,x]})),l=Object.assign(i,a);return l[ye.Symbol.Columns]=a,l[ye.Symbol.ExtraConfigColumns]=c,Object.assign(l,{enableRLS:()=>(l[_n.Symbol.EnableRLS]=!0,l)})}const Ne=(t,e,n)=>FB(t,e,n,void 0);var xC;xC=G;class uO{constructor(e,n){N(this,"columns");N(this,"name");this.columns=e,this.name=n}build(e){return new dO(e,this.columns,this.name)}}N(uO,xC,"PgPrimaryKeyBuilder");var bC;bC=G;class dO{constructor(e,n,r){N(this,"columns");N(this,"name");this.table=e,this.columns=n,this.name=r}getName(){return this.name??`${this.table[_n.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}N(dO,bC,"PgPrimaryKey");function Nn(t,e){return eB(e)&&!L2(t)&&!ee(t,bs)&&!ee(t,co)&&!ee(t,kt)&&!ee(t,ye)&&!ee(t,Ei)?new bs(t,e):t}const pO=(t,e)=>$`${t} = ${Nn(e,t)}`,MB=(t,e)=>$`${t} <> ${Nn(e,t)}`;function Tg(...t){const e=t.filter(n=>n!==void 0);if(e.length!==0)return e.length===1?new be(e):new be([new qt("("),$.join(e,new qt(" and ")),new qt(")")])}function DB(...t){const e=t.filter(n=>n!==void 0);if(e.length!==0)return e.length===1?new be(e):new be([new qt("("),$.join(e,new qt(" or ")),new qt(")")])}function LB(t){return $`not ${t}`}const BB=(t,e)=>$`${t} > ${Nn(e,t)}`,$B=(t,e)=>$`${t} >= ${Nn(e,t)}`,zB=(t,e)=>$`${t} < ${Nn(e,t)}`,UB=(t,e)=>$`${t} <= ${Nn(e,t)}`;function qB(t,e){return Array.isArray(e)?e.length===0?$`false`:$`${t} in ${e.map(n=>Nn(n,t))}`:$`${t} in ${Nn(e,t)}`}function QB(t,e){return Array.isArray(e)?e.length===0?$`true`:$`${t} not in ${e.map(n=>Nn(n,t))}`:$`${t} not in ${Nn(e,t)}`}function VB(t){return $`${t} is null`}function HB(t){return $`${t} is not null`}function GB(t){return $`exists ${t}`}function WB(t){return $`not exists ${t}`}function KB(t,e,n){return $`${t} between ${Nn(e,t)} and ${Nn(n,t)}`}function YB(t,e,n){return $`${t} not between ${Nn(e,t)} and ${Nn(n,t)}`}function JB(t,e){return $`${t} like ${e}`}function XB(t,e){return $`${t} not like ${e}`}function ZB(t,e){return $`${t} ilike ${e}`}function e4(t,e){return $`${t} not ilike ${e}`}function t4(t){return $`${t} asc`}function n4(t){return $`${t} desc`}var wC;wC=G;class Dv{constructor(e,n,r){N(this,"referencedTableName");N(this,"fieldName");this.sourceTable=e,this.referencedTable=n,this.relationName=r,this.referencedTableName=n[ye.Symbol.Name]}}N(Dv,wC,"Relation");var SC;SC=G;class fO{constructor(e,n){this.table=e,this.config=n}}N(fO,SC,"Relations");var _C,EC;const Sp=class Sp extends(EC=Dv,_C=G,EC){constructor(e,n,r,s){super(e,n,r==null?void 0:r.relationName),this.config=r,this.isNullable=s}withFieldName(e){const n=new Sp(this.sourceTable,this.referencedTable,this.config,this.isNullable);return n.fieldName=e,n}};N(Sp,_C,"One");let uo=Sp;var kC,CC;const _p=class _p extends(CC=Dv,kC=G,CC){constructor(e,n,r){super(e,n,r==null?void 0:r.relationName),this.config=r}withFieldName(e){const n=new _p(this.sourceTable,this.referencedTable,this.config);return n.fieldName=e,n}};N(_p,kC,"Many");let Zd=_p;function r4(){return{and:Tg,between:KB,eq:pO,exists:GB,gt:BB,gte:$B,ilike:ZB,inArray:qB,isNull:VB,isNotNull:HB,like:JB,lt:zB,lte:UB,ne:MB,not:LB,notBetween:YB,notExists:WB,notLike:XB,notIlike:e4,notInArray:QB,or:DB,sql:$}}function s4(){return{sql:$,asc:t4,desc:n4}}function i4(t,e){var i;Object.keys(t).length===1&&"default"in t&&!ee(t.default,ye)&&(t=t.default);const n={},r={},s={};for(const[o,a]of Object.entries(t))if(ee(a,ye)){const c=ol(a),l=r[c];n[c]=o,s[o]={tsName:o,dbName:a[ye.Symbol.Name],schema:a[ye.Symbol.Schema],columns:a[ye.Symbol.Columns],relations:(l==null?void 0:l.relations)??{},primaryKey:(l==null?void 0:l.primaryKey)??[]};for(const d of Object.values(a[ye.Symbol.Columns]))d.primary&&s[o].primaryKey.push(d);const u=(i=a[ye.Symbol.ExtraConfigBuilder])==null?void 0:i.call(a,a[ye.Symbol.ExtraConfigColumns]);if(u)for(const d of Object.values(u))ee(d,uO)&&s[o].primaryKey.push(...d.columns)}else if(ee(a,fO)){const c=ol(a.table),l=n[c],u=a.config(e(a.table));let d;for(const[p,x]of Object.entries(u))if(l){const y=s[l];y.relations[p]=x}else c in r||(r[c]={relations:{},primaryKey:d}),r[c].relations[p]=x}return{tables:s,tableNamesMap:n}}function o4(t){return function(n,r){return new uo(t,n,r,(r==null?void 0:r.fields.reduce((s,i)=>s&&i.notNull,!0))??!1)}}function a4(t){return function(n,r){return new Zd(t,n,r)}}function c4(t,e,n){if(ee(n,uo)&&n.config)return{fields:n.config.fields,references:n.config.references};const r=e[ol(n.referencedTable)];if(!r)throw new Error(`Table "${n.referencedTable[ye.Symbol.Name]}" not found in schema`);const s=t[r];if(!s)throw new Error(`Table "${r}" not found in schema`);const i=n.sourceTable,o=e[ol(i)];if(!o)throw new Error(`Table "${i[ye.Symbol.Name]}" not found in schema`);const a=[];for(const c of Object.values(s.relations))(n.relationName&&n!==c&&c.relationName===n.relationName||!n.relationName&&c.referencedTable===n.sourceTable)&&a.push(c);if(a.length>1)throw n.relationName?new Error(`There are multiple relations with name "${n.relationName}" in table "${r}"`):new Error(`There are multiple relations between "${r}" and "${n.sourceTable[ye.Symbol.Name]}". Please specify relation name`);if(a[0]&&ee(a[0],uo)&&a[0].config)return{fields:a[0].config.references,references:a[0].config.fields};throw new Error(`There is not enough information to infer relation "${o}.${n.fieldName}"`)}function l4(t){return{one:o4(t),many:a4(t)}}function Ng(t,e,n,r,s=i=>i){const i={};for(const[o,a]of r.entries())if(a.isJson){const c=e.relations[a.tsKey],l=n[o],u=typeof l=="string"?JSON.parse(l):l;i[a.tsKey]=ee(c,uo)?u&&Ng(t,t[a.relationTableTsKey],u,a.selection,s):u.map(d=>Ng(t,t[a.relationTableTsKey],d,a.selection,s))}else{const c=s(n[o]),l=a.field;let u;ee(l,kt)?u=l:ee(l,be)?u=l.decoder:u=l.sql.decoder,i[a.tsKey]=c===null?null:u.mapFromDriverValue(c)}return i}var AC,TC;class Lv extends(TC=Ei,AC=G,TC){}N(Lv,AC,"PgViewBase");var NC;NC=G;class $c{constructor(e){N(this,"casing");this.casing=new cO(e==null?void 0:e.casing)}async migrate(e,n,r){const s=typeof r=="string"?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",i=typeof r=="string"?"drizzle":r.migrationsSchema??"drizzle",o=$`
			CREATE TABLE IF NOT EXISTS ${$.identifier(i)}.${$.identifier(s)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await n.execute($`CREATE SCHEMA IF NOT EXISTS ${$.identifier(i)}`),await n.execute(o);const c=(await n.all($`select id, hash, created_at from ${$.identifier(i)}.${$.identifier(s)} order by created_at desc limit 1`))[0];await n.transaction(async l=>{for await(const u of e)if(!c||Number(c.created_at)<u.folderMillis){for(const d of u.sql)await l.execute($.raw(d));await l.execute($`insert into ${$.identifier(i)}.${$.identifier(s)} ("hash", "created_at") values(${u.hash}, ${u.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!(e!=null&&e.length))return;const n=[$`with `];for(const[r,s]of e.entries())n.push($`${$.identifier(s._.alias)} as (${s._.sql})`),r<e.length-1&&n.push($`, `);return n.push($` `),$.join(n)}buildDeleteQuery({table:e,where:n,returning:r,withList:s}){const i=this.buildWithCTE(s),o=r?$` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,a=n?$` where ${n}`:void 0;return $`${i}delete from ${e}${a}${o}`}buildUpdateSet(e,n){const r=e[ye.Symbol.Columns],s=Object.keys(r).filter(o=>{var a;return n[o]!==void 0||((a=r[o])==null?void 0:a.onUpdateFn)!==void 0}),i=s.length;return $.join(s.flatMap((o,a)=>{const c=r[o],l=n[o]??$.param(c.onUpdateFn(),c),u=$`${$.identifier(this.casing.getColumnCasing(c))} = ${l}`;return a<i-1?[u,$.raw(", ")]:[u]}))}buildUpdateQuery({table:e,set:n,where:r,returning:s,withList:i,from:o,joins:a}){const c=this.buildWithCTE(i),l=e[_n.Symbol.Name],u=e[_n.Symbol.Schema],d=e[_n.Symbol.OriginalName],p=l===d?void 0:l,x=$`${u?$`${$.identifier(u)}.`:void 0}${$.identifier(d)}${p&&$` ${$.identifier(p)}`}`,y=this.buildUpdateSet(e,n),h=o&&$.join([$.raw(" from "),this.buildFromTable(o)]),w=this.buildJoins(a),m=s?$` returning ${this.buildSelection(s,{isSingleTable:!o})}`:void 0,b=r?$` where ${r}`:void 0;return $`${c}update ${x} set ${y}${h}${w}${b}${m}`}buildSelection(e,{isSingleTable:n=!1}={}){const r=e.length,s=e.flatMap(({field:i},o)=>{const a=[];if(ee(i,be.Aliased)&&i.isSelectionField)a.push($.identifier(i.fieldAlias));else if(ee(i,be.Aliased)||ee(i,be)){const c=ee(i,be.Aliased)?i.sql:i;n?a.push(new be(c.queryChunks.map(l=>ee(l,ke)?$.identifier(this.casing.getColumnCasing(l)):l))):a.push(c),ee(i,be.Aliased)&&a.push($` as ${$.identifier(i.fieldAlias)}`)}else ee(i,kt)&&(n?a.push($.identifier(this.casing.getColumnCasing(i))):a.push(i));return o<r-1&&a.push($`, `),a});return $.join(s)}buildJoins(e){if(!e||e.length===0)return;const n=[];for(const[r,s]of e.entries()){r===0&&n.push($` `);const i=s.table,o=s.lateral?$` lateral`:void 0;if(ee(i,_n)){const a=i[_n.Symbol.Name],c=i[_n.Symbol.Schema],l=i[_n.Symbol.OriginalName],u=a===l?void 0:s.alias;n.push($`${$.raw(s.joinType)} join${o} ${c?$`${$.identifier(c)}.`:void 0}${$.identifier(l)}${u&&$` ${$.identifier(u)}`} on ${s.on}`)}else if(ee(i,Ei)){const a=i[Ot].name,c=i[Ot].schema,l=i[Ot].originalName,u=a===l?void 0:s.alias;n.push($`${$.raw(s.joinType)} join${o} ${c?$`${$.identifier(c)}.`:void 0}${$.identifier(l)}${u&&$` ${$.identifier(u)}`} on ${s.on}`)}else n.push($`${$.raw(s.joinType)} join${o} ${i} on ${s.on}`);r<e.length-1&&n.push($` `)}return $.join(n)}buildFromTable(e){if(ee(e,ye)&&e[ye.Symbol.OriginalName]!==e[ye.Symbol.Name]){let n=$`${$.identifier(e[ye.Symbol.OriginalName])}`;return e[ye.Symbol.Schema]&&(n=$`${$.identifier(e[ye.Symbol.Schema])}.${n}`),$`${n} ${$.identifier(e[ye.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:n,fieldsFlat:r,where:s,having:i,table:o,joins:a,orderBy:c,groupBy:l,limit:u,offset:d,lockingClause:p,distinct:x,setOperators:y}){const h=r??lo(n);for(const R of h)if(ee(R.field,kt)&&us(R.field.table)!==(ee(o,Ln)?o._.alias:ee(o,Lv)?o[Ot].name:ee(o,be)?void 0:us(o))&&!(I=>a==null?void 0:a.some(({alias:V})=>V===(I[ye.Symbol.IsAlias]?us(I):I[ye.Symbol.BaseName])))(R.field.table)){const I=us(R.field.table);throw new Error(`Your "${R.path.join("->")}" field references a column "${I}"."${R.field.name}", but the table "${I}" is not part of the query! Did you forget to join it?`)}const w=!a||a.length===0,m=this.buildWithCTE(e);let b;x&&(b=x===!0?$` distinct`:$` distinct on (${$.join(x.on,$`, `)})`);const g=this.buildSelection(h,{isSingleTable:w}),_=this.buildFromTable(o),T=this.buildJoins(a),C=s?$` where ${s}`:void 0,S=i?$` having ${i}`:void 0;let A;c&&c.length>0&&(A=$` order by ${$.join(c,$`, `)}`);let P;l&&l.length>0&&(P=$` group by ${$.join(l,$`, `)}`);const D=typeof u=="object"||typeof u=="number"&&u>=0?$` limit ${u}`:void 0,q=d?$` offset ${d}`:void 0,K=$.empty();if(p){const R=$` for ${$.raw(p.strength)}`;p.config.of&&R.append($` of ${$.join(Array.isArray(p.config.of)?p.config.of:[p.config.of],$`, `)}`),p.config.noWait?R.append($` no wait`):p.config.skipLocked&&R.append($` skip locked`),K.append(R)}const U=$`${m}select${b} ${g} from ${_}${T}${C}${P}${S}${A}${D}${q}${K}`;return y.length>0?this.buildSetOperations(U,y):U}buildSetOperations(e,n){const[r,...s]=n;if(!r)throw new Error("Cannot pass undefined values to any set operator");return s.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:r}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:r}),s)}buildSetOperationQuery({leftSelect:e,setOperator:{type:n,isAll:r,rightSelect:s,limit:i,orderBy:o,offset:a}}){const c=$`(${e.getSQL()}) `,l=$`(${s.getSQL()})`;let u;if(o&&o.length>0){const y=[];for(const h of o)if(ee(h,ke))y.push($.identifier(h.name));else if(ee(h,be)){for(let w=0;w<h.queryChunks.length;w++){const m=h.queryChunks[w];ee(m,ke)&&(h.queryChunks[w]=$.identifier(m.name))}y.push($`${h}`)}else y.push($`${h}`);u=$` order by ${$.join(y,$`, `)} `}const d=typeof i=="object"||typeof i=="number"&&i>=0?$` limit ${i}`:void 0,p=$.raw(`${n} ${r?"all ":""}`),x=a?$` offset ${a}`:void 0;return $`${c}${p}${l}${u}${d}${x}`}buildInsertQuery({table:e,values:n,onConflict:r,returning:s,withList:i,select:o,overridingSystemValue_:a}){const c=[],l=e[ye.Symbol.Columns],u=Object.entries(l).filter(([m,b])=>!b.shouldDisableInsert()),d=u.map(([,m])=>$.identifier(this.casing.getColumnCasing(m)));if(o){const m=n;ee(m,be)?c.push(m):c.push(m.getSQL())}else{const m=n;c.push($.raw("values "));for(const[b,g]of m.entries()){const _=[];for(const[T,C]of u){const S=g[T];if(S===void 0||ee(S,bs)&&S.value===void 0)if(C.defaultFn!==void 0){const A=C.defaultFn(),P=ee(A,be)?A:$.param(A,C);_.push(P)}else if(!C.default&&C.onUpdateFn!==void 0){const A=C.onUpdateFn(),P=ee(A,be)?A:$.param(A,C);_.push(P)}else _.push($`default`);else _.push(S)}c.push(_),b<m.length-1&&c.push($`, `)}}const p=this.buildWithCTE(i),x=$.join(c),y=s?$` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,h=r?$` on conflict ${r}`:void 0,w=a===!0?$`overriding system value `:void 0;return $`${p}insert into ${e} ${d} ${w}${x}${h}${y}`}buildRefreshMaterializedViewQuery({view:e,concurrently:n,withNoData:r}){const s=n?$` concurrently`:void 0,i=r?$` with no data`:void 0;return $`refresh materialized view${s} ${e}${i}`}prepareTyping(e){return ee(e,Rv)||ee(e,Nv)?"json":ee(e,Ov)?"decimal":ee(e,Pv)?"time":ee(e,Iv)||ee(e,jv)?"timestamp":ee(e,Av)||ee(e,Tv)?"date":ee(e,Fv)?"uuid":"none"}sqlToQuery(e,n){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:n})}buildRelationalQueryWithoutPK({fullSchema:e,schema:n,tableNamesMap:r,table:s,tableConfig:i,queryConfig:o,tableAlias:a,nestedQueryRelation:c,joinOn:l}){let u=[],d,p,x=[],y;const h=[];if(o===!0)u=Object.entries(i.columns).map(([b,g])=>({dbKey:g.name,tsKey:b,field:Zr(g,a),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{const m=Object.fromEntries(Object.entries(i.columns).map(([S,A])=>[S,Zr(A,a)]));if(o.where){const S=typeof o.where=="function"?o.where(m,r4()):o.where;y=S&&Xd(S,a)}const b=[];let g=[];if(o.columns){let S=!1;for(const[A,P]of Object.entries(o.columns))P!==void 0&&A in i.columns&&(!S&&P===!0&&(S=!0),g.push(A));g.length>0&&(g=S?g.filter(A=>{var P;return((P=o.columns)==null?void 0:P[A])===!0}):Object.keys(i.columns).filter(A=>!g.includes(A)))}else g=Object.keys(i.columns);for(const S of g){const A=i.columns[S];b.push({tsKey:S,value:A})}let _=[];o.with&&(_=Object.entries(o.with).filter(S=>!!S[1]).map(([S,A])=>({tsKey:S,queryConfig:A,relation:i.relations[S]})));let T;if(o.extras){T=typeof o.extras=="function"?o.extras(m,{sql:$}):o.extras;for(const[S,A]of Object.entries(T))b.push({tsKey:S,value:U2(A,a)})}for(const{tsKey:S,value:A}of b)u.push({dbKey:ee(A,be.Aliased)?A.fieldAlias:i.columns[S].name,tsKey:S,field:ee(A,kt)?Zr(A,a):A,relationTableTsKey:void 0,isJson:!1,selection:[]});let C=typeof o.orderBy=="function"?o.orderBy(m,s4()):o.orderBy??[];Array.isArray(C)||(C=[C]),x=C.map(S=>ee(S,kt)?Zr(S,a):Xd(S,a)),d=o.limit,p=o.offset;for(const{tsKey:S,queryConfig:A,relation:P}of _){const D=c4(n,r,P),q=ol(P.referencedTable),K=r[q],U=`${a}_${S}`,R=Tg(...D.fields.map((j,L)=>pO(Zr(D.references[L],U),Zr(j,a)))),I=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:n,tableNamesMap:r,table:e[K],tableConfig:n[K],queryConfig:ee(P,uo)?A===!0?{limit:1}:{...A,limit:1}:A,tableAlias:U,joinOn:R,nestedQueryRelation:P}),V=$`${$.identifier(U)}.${$.identifier("data")}`.as(S);h.push({on:$`true`,table:new Ln(I.sql,{},U),alias:U,joinType:"left",lateral:!0}),u.push({dbKey:S,tsKey:S,field:V,relationTableTsKey:K,isJson:!0,selection:I.selection})}}if(u.length===0)throw new Mv({message:`No fields selected for table "${i.tsName}" ("${a}")`});let w;if(y=Tg(l,y),c){let m=$`json_build_array(${$.join(u.map(({field:_,tsKey:T,isJson:C})=>C?$`${$.identifier(`${a}_${T}`)}.${$.identifier("data")}`:ee(_,be.Aliased)?_.sql:_),$`, `)})`;ee(c,Zd)&&(m=$`coalesce(json_agg(${m}${x.length>0?$` order by ${$.join(x,$`, `)}`:void 0}), '[]'::json)`);const b=[{dbKey:"data",tsKey:"data",field:m.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:u}];d!==void 0||p!==void 0||x.length>0?(w=this.buildSelectQuery({table:Ch(s,a),fields:{},fieldsFlat:[{path:[],field:$.raw("*")}],where:y,limit:d,offset:p,orderBy:x,setOperators:[]}),y=void 0,d=void 0,p=void 0,x=[]):w=Ch(s,a),w=this.buildSelectQuery({table:ee(w,_n)?w:new Ln(w,{},a),fields:{},fieldsFlat:b.map(({field:_})=>({path:[],field:ee(_,kt)?Zr(_,a):_})),joins:h,where:y,limit:d,offset:p,orderBy:x,setOperators:[]})}else w=this.buildSelectQuery({table:Ch(s,a),fields:{},fieldsFlat:u.map(({field:m})=>({path:[],field:ee(m,kt)?Zr(m,a):m})),joins:h,where:y,limit:d,offset:p,orderBy:x,setOperators:[]});return{tableTsKey:i.tsName,sql:w,selection:u}}}N($c,NC,"PgDialect");var RC;RC=G;class hO{getSelectedFields(){return this._.selectedFields}}N(hO,RC,"TypedQueryBuilder");var OC;OC=G;class In{constructor(e){N(this,"fields");N(this,"session");N(this,"dialect");N(this,"withList",[]);N(this,"distinct");N(this,"authToken");this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}setToken(e){return this.authToken=e,this}from(e){const n=!!this.fields,r=e;let s;return this.fields?s=this.fields:ee(r,Ln)?s=Object.fromEntries(Object.keys(r._.selectedFields).map(i=>[i,r[i]])):ee(r,Lv)?s=r[Ot].selectedFields:ee(r,be)?s={}:s=Q2(r),new Bv({table:r,fields:s,isPartialSelect:n,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}}N(In,OC,"PgSelectBuilder");var PC,IC;class mO extends(IC=hO,PC=G,IC){constructor({table:n,fields:r,isPartialSelect:s,session:i,dialect:o,withList:a,distinct:c}){super();N(this,"_");N(this,"config");N(this,"joinsNotNullableMap");N(this,"tableName");N(this,"isPartialSelect");N(this,"session");N(this,"dialect");N(this,"leftJoin",this.createJoin("left"));N(this,"rightJoin",this.createJoin("right"));N(this,"innerJoin",this.createJoin("inner"));N(this,"fullJoin",this.createJoin("full"));N(this,"union",this.createSetOperator("union",!1));N(this,"unionAll",this.createSetOperator("union",!0));N(this,"intersect",this.createSetOperator("intersect",!1));N(this,"intersectAll",this.createSetOperator("intersect",!0));N(this,"except",this.createSetOperator("except",!1));N(this,"exceptAll",this.createSetOperator("except",!0));this.config={withList:a,table:n,fields:{...r},distinct:c,setOperators:[]},this.isPartialSelect=s,this.session=i,this.dialect=o,this._={selectedFields:r},this.tableName=Pi(n),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}createJoin(n){return(r,s)=>{var a;const i=this.tableName,o=Pi(r);if(typeof o=="string"&&((a=this.config.joins)!=null&&a.some(c=>c.alias===o)))throw new Error(`Alias "${o}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof i=="string"&&(this.config.fields={[i]:this.config.fields}),typeof o=="string"&&!ee(r,be))){const c=ee(r,Ln)?r._.selectedFields:ee(r,Ei)?r[Ot].selectedFields:r[ye.Symbol.Columns];this.config.fields[o]=c}if(typeof s=="function"&&(s=s(new Proxy(this.config.fields,new en({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:s,table:r,joinType:n,alias:o}),typeof o=="string")switch(n){case"left":{this.joinsNotNullableMap[o]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([c])=>[c,!1])),this.joinsNotNullableMap[o]=!0;break}case"inner":{this.joinsNotNullableMap[o]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([c])=>[c,!1])),this.joinsNotNullableMap[o]=!1;break}}return this}}createSetOperator(n,r){return s=>{const i=typeof s=="function"?s(u4()):s;if(!Cv(this.getSelectedFields(),i.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:n,isAll:r,rightSelect:i}),this}}addSetOperators(n){return this.config.setOperators.push(...n),this}where(n){return typeof n=="function"&&(n=n(new Proxy(this.config.fields,new en({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=n,this}having(n){return typeof n=="function"&&(n=n(new Proxy(this.config.fields,new en({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=n,this}groupBy(...n){if(typeof n[0]=="function"){const r=n[0](new Proxy(this.config.fields,new en({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(r)?r:[r]}else this.config.groupBy=n;return this}orderBy(...n){if(typeof n[0]=="function"){const r=n[0](new Proxy(this.config.fields,new en({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(r)?r:[r];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=s:this.config.orderBy=s}else{const r=n;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}return this}limit(n){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=n:this.config.limit=n,this}offset(n){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=n:this.config.offset=n,this}for(n,r={}){return this.config.lockingClause={strength:n,config:r},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){const{typings:n,...r}=this.dialect.sqlToQuery(this.getSQL());return r}as(n){return new Proxy(new Ln(this.getSQL(),this.config.fields,n),new en({alias:n,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new en({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}N(mO,PC,"PgSelectQueryBuilder");var jC,FC;class Bv extends(FC=mO,jC=G,FC){constructor(){super(...arguments);N(this,"authToken");N(this,"execute",n=>Lt.startActiveSpan("drizzle.operation",()=>this._prepare().execute(n,this.authToken)))}_prepare(n){const{session:r,config:s,dialect:i,joinsNotNullableMap:o,authToken:a}=this;if(!r)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");return Lt.startActiveSpan("drizzle.prepareQuery",()=>{const c=lo(s.fields),l=r.prepareQuery(i.sqlToQuery(this.getSQL()),c,n,!0);return l.joinsNotNullableMap=o,l.setToken(a)})}prepare(n){return this._prepare(n)}setToken(n){return this.authToken=n,this}}N(Bv,jC,"PgSelect");rB(Bv,[ki]);function qa(t,e){return(n,r,...s)=>{const i=[r,...s].map(o=>({type:t,isAll:e,rightSelect:o}));for(const o of i)if(!Cv(n.getSelectedFields(),o.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return n.addSetOperators(i)}}const u4=()=>({union:d4,unionAll:p4,intersect:f4,intersectAll:h4,except:m4,exceptAll:g4}),d4=qa("union",!1),p4=qa("union",!0),f4=qa("intersect",!1),h4=qa("intersect",!0),m4=qa("except",!1),g4=qa("except",!0);var MC;MC=G;class $v{constructor(e){N(this,"dialect");N(this,"dialectConfig");N(this,"$with",(e,n)=>{const r=this;return{as:i=>(typeof i=="function"&&(i=i(r)),new Proxy(new kv(i.getSQL(),n??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new en({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});this.dialect=ee(e,$c)?e:void 0,this.dialectConfig=ee(e,$c)?void 0:e}with(...e){const n=this;function r(o){return new In({fields:o??void 0,session:void 0,dialect:n.getDialect(),withList:e})}function s(o){return new In({fields:o??void 0,session:void 0,dialect:n.getDialect(),distinct:!0})}function i(o,a){return new In({fields:a??void 0,session:void 0,dialect:n.getDialect(),distinct:{on:o}})}return{select:r,selectDistinct:s,selectDistinctOn:i}}select(e){return new In({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new In({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,n){return new In({fields:n??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new $c(this.dialectConfig)),this.dialect}}N($v,MC,"PgQueryBuilder");var DC;DC=G;class Rg{constructor(e,n,r,s,i){N(this,"authToken");this.table=e,this.session=n,this.dialect=r,this.withList=s,this.overridingSystemValue_=i}setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");const n=e.map(r=>{const s={},i=this.table[ye.Symbol.Columns];for(const o of Object.keys(r)){const a=r[o];s[o]=ee(a,be)?a:new bs(a,i[o])}return s});return new Og(this.table,n,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){const n=typeof e=="function"?e(new $v):e;if(!ee(n,be)&&!Cv(this.table[kg],n._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new Og(this.table,n,this.session,this.dialect,this.withList,!0)}}N(Rg,DC,"PgInsertBuilder");var LC,BC;class Og extends(BC=ki,LC=G,BC){constructor(n,r,s,i,o,a,c){super();N(this,"config");N(this,"authToken");N(this,"execute",n=>Lt.startActiveSpan("drizzle.operation",()=>this._prepare().execute(n,this.authToken)));this.session=s,this.dialect=i,this.config={table:n,values:r,withList:o,select:a,overridingSystemValue_:c}}returning(n=this.config.table[ye.Symbol.Columns]){return this.config.returningFields=n,this.config.returning=lo(n),this}onConflictDoNothing(n={}){if(n.target===void 0)this.config.onConflict=$`do nothing`;else{let r="";r=Array.isArray(n.target)?n.target.map(i=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(i))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(n.target));const s=n.where?$` where ${n.where}`:void 0;this.config.onConflict=$`(${$.raw(r)})${s} do nothing`}return this}onConflictDoUpdate(n){if(n.where&&(n.targetWhere||n.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');const r=n.where?$` where ${n.where}`:void 0,s=n.targetWhere?$` where ${n.targetWhere}`:void 0,i=n.setWhere?$` where ${n.setWhere}`:void 0,o=this.dialect.buildUpdateSet(this.config.table,q2(this.config.table,n.set));let a="";return a=Array.isArray(n.target)?n.target.map(c=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(c))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(n.target)),this.config.onConflict=$`(${$.raw(a)})${s} do update set ${o}${r}${i}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){const{typings:n,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(n){return Lt.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,n,!0))}prepare(n){return this._prepare(n)}setToken(n){return this.authToken=n,this}getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new en({alias:us(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}N(Og,LC,"PgInsert");var $C,zC;class gO extends(zC=ki,$C=G,zC){constructor(n,r,s){super();N(this,"config");N(this,"authToken");N(this,"execute",n=>Lt.startActiveSpan("drizzle.operation",()=>this._prepare().execute(n,this.authToken)));this.session=r,this.dialect=s,this.config={view:n}}concurrently(){if(this.config.withNoData!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(this.config.concurrently!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){const{typings:n,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(n){return Lt.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,n,!0))}prepare(n){return this._prepare(n)}setToken(n){return this.authToken=n,this}}N(gO,$C,"PgRefreshMaterializedView");var UC;UC=G;class Pg{constructor(e,n,r,s){N(this,"authToken");this.table=e,this.session=n,this.dialect=r,this.withList=s}setToken(e){return this.authToken=e,this}set(e){return new yO(this.table,q2(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}}N(Pg,UC,"PgUpdateBuilder");var qC,QC;class yO extends(QC=ki,qC=G,QC){constructor(n,r,s,i,o){super();N(this,"config");N(this,"tableName");N(this,"joinsNotNullableMap");N(this,"leftJoin",this.createJoin("left"));N(this,"rightJoin",this.createJoin("right"));N(this,"innerJoin",this.createJoin("inner"));N(this,"fullJoin",this.createJoin("full"));N(this,"authToken");N(this,"execute",n=>this._prepare().execute(n,this.authToken));this.session=s,this.dialect=i,this.config={set:r,table:n,withList:o,joins:[]},this.tableName=Pi(n),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}from(n){const r=n,s=Pi(r);return typeof s=="string"&&(this.joinsNotNullableMap[s]=!0),this.config.from=r,this}getTableLikeFields(n){return ee(n,_n)?n[ye.Symbol.Columns]:ee(n,Ln)?n._.selectedFields:n[Ot].selectedFields}createJoin(n){return(r,s)=>{const i=Pi(r);if(typeof i=="string"&&this.config.joins.some(o=>o.alias===i))throw new Error(`Alias "${i}" is already used in this query`);if(typeof s=="function"){const o=this.config.from&&!ee(this.config.from,be)?this.getTableLikeFields(this.config.from):void 0;s=s(new Proxy(this.config.table[ye.Symbol.Columns],new en({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),o&&new Proxy(o,new en({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:s,table:r,joinType:n,alias:i}),typeof i=="string")switch(n){case"left":{this.joinsNotNullableMap[i]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([o])=>[o,!1])),this.joinsNotNullableMap[i]=!0;break}case"inner":{this.joinsNotNullableMap[i]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([o])=>[o,!1])),this.joinsNotNullableMap[i]=!1;break}}return this}}where(n){return this.config.where=n,this}returning(n){if(!n&&(n=Object.assign({},this.config.table[ye.Symbol.Columns]),this.config.from)){const r=Pi(this.config.from);if(typeof r=="string"&&this.config.from&&!ee(this.config.from,be)){const s=this.getTableLikeFields(this.config.from);n[r]=s}for(const s of this.config.joins){const i=Pi(s.table);if(typeof i=="string"&&!ee(s.table,be)){const o=this.getTableLikeFields(s.table);n[i]=o}}}return this.config.returningFields=n,this.config.returning=lo(n),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){const{typings:n,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(n){const r=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,n,!0);return r.joinsNotNullableMap=this.joinsNotNullableMap,r}prepare(n){return this._prepare(n)}setToken(n){return this.authToken=n,this}getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new en({alias:us(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}N(yO,qC,"PgUpdate");var VC,HC,GC;const zc=class zc extends(GC=be,HC=G,VC=Symbol.toStringTag,GC){constructor(n){super(zc.buildEmbeddedCount(n.source,n.filters).queryChunks);N(this,"sql");N(this,"token");N(this,VC,"PgCountBuilder");N(this,"session");this.params=n,this.mapWith(Number),this.session=n.session,this.sql=zc.buildCount(n.source,n.filters)}static buildEmbeddedCount(n,r){return $`(select count(*) from ${n}${$.raw(" where ").if(r)}${r})`}static buildCount(n,r){return $`select count(*) as count from ${n}${$.raw(" where ").if(r)}${r};`}setToken(n){return this.token=n,this}then(n,r){return Promise.resolve(this.session.count(this.sql,this.token)).then(n,r)}catch(n){return this.then(void 0,n)}finally(n){return this.then(r=>(n==null||n(),r),r=>{throw n==null||n(),r})}};N(zc,HC,"PgCountBuilder");let Ig=zc;var WC;WC=G;class vO{constructor(e,n,r,s,i,o,a){this.fullSchema=e,this.schema=n,this.tableNamesMap=r,this.table=s,this.tableConfig=i,this.dialect=o,this.session=a}findMany(e){return new jg(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new jg(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}N(vO,WC,"PgRelationalQueryBuilder");var KC,YC;class jg extends(YC=ki,KC=G,YC){constructor(n,r,s,i,o,a,c,l,u){super();N(this,"authToken");this.fullSchema=n,this.schema=r,this.tableNamesMap=s,this.table=i,this.tableConfig=o,this.dialect=a,this.session=c,this.config=l,this.mode=u}_prepare(n){return Lt.startActiveSpan("drizzle.prepareQuery",()=>{const{query:r,builtQuery:s}=this._toSQL();return this.session.prepareQuery(s,void 0,n,!0,(i,o)=>{const a=i.map(c=>Ng(this.schema,this.tableConfig,c,r.selection,o));return this.mode==="first"?a[0]:a})})}prepare(n){return this._prepare(n)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){const n=this._getQuery(),r=this.dialect.sqlToQuery(n.sql);return{query:n,builtQuery:r}}toSQL(){return this._toSQL().builtQuery}setToken(n){return this.authToken=n,this}execute(){return Lt.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}N(jg,KC,"PgRelationalQuery");var JC,XC;class xO extends(XC=ki,JC=G,XC){constructor(e,n,r,s){super(),this.execute=e,this.sql=n,this.query=r,this.mapBatchResult=s}getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,n){return n?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}N(xO,JC,"PgRaw");var ZC;ZC=G;class zv{constructor(e,n,r){N(this,"query");N(this,"$with",(e,n)=>{const r=this;return{as:i=>(typeof i=="function"&&(i=i(new $v(r.dialect))),new Proxy(new kv(i.getSQL(),n??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new en({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});N(this,"authToken");if(this.dialect=e,this.session=n,this._=r?{schema:r.schema,fullSchema:r.fullSchema,tableNamesMap:r.tableNamesMap,session:n}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:n},this.query={},this._.schema)for(const[s,i]of Object.entries(this._.schema))this.query[s]=new vO(r.fullSchema,this._.schema,this._.tableNamesMap,r.fullSchema[s],i,e,n)}$count(e,n){return new Ig({source:e,filters:n,session:this.session})}with(...e){const n=this;function r(l){return new In({fields:l??void 0,session:n.session,dialect:n.dialect,withList:e})}function s(l){return new In({fields:l??void 0,session:n.session,dialect:n.dialect,withList:e,distinct:!0})}function i(l,u){return new In({fields:u??void 0,session:n.session,dialect:n.dialect,withList:e,distinct:{on:l}})}function o(l){return new Pg(l,n.session,n.dialect,e)}function a(l){return new Rg(l,n.session,n.dialect,e)}function c(l){return new Cg(l,n.session,n.dialect,e)}return{select:r,selectDistinct:s,selectDistinctOn:i,update:o,insert:a,delete:c}}select(e){return new In({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new In({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,n){return new In({fields:n??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new Pg(e,this.session,this.dialect)}insert(e){return new Rg(e,this.session,this.dialect)}delete(e){return new Cg(e,this.session,this.dialect)}refreshMaterializedView(e){return new gO(e,this.session,this.dialect)}execute(e){const n=typeof e=="string"?$.raw(e):e.getSQL(),r=this.dialect.sqlToQuery(n),s=this.session.prepareQuery(r,void 0,void 0,!1);return new xO(()=>s.execute(void 0,this.authToken),n,r,i=>s.mapResult(i,!0))}transaction(e,n){return this.session.transaction(e,n)}}N(zv,ZC,"PgDatabase");var eA;eA=G;class bO{constructor(e){N(this,"authToken");N(this,"joinsNotNullableMap");this.query=e}getQuery(){return this.query}mapResult(e,n){return e}setToken(e){return this.authToken=e,this}}N(bO,eA,"PgPreparedQuery");var tA;tA=G;class wO{constructor(e){this.dialect=e}execute(e,n){return Lt.startActiveSpan("drizzle.operation",()=>Lt.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(n).execute(void 0,n))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,n){const r=await this.execute(e,n);return Number(r[0].count)}}N(wO,tA,"PgSession");var nA,rA;class SO extends(rA=zv,nA=G,rA){constructor(e,n,r,s=0){super(e,n,r),this.schema=r,this.nestedIndex=s}rollback(){throw new lO}getTransactionConfigSQL(e){const n=[];return e.isolationLevel&&n.push(`isolation level ${e.isolationLevel}`),e.accessMode&&n.push(e.accessMode),typeof e.deferrable=="boolean"&&n.push(e.deferrable?"deferrable":"not deferrable"),$.raw(n.join(" "))}setTransaction(e){return this.session.execute($`set transaction ${this.getTransactionConfigSQL(e)}`)}}N(SO,nA,"PgTransaction");var qe;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(qe||(qe={}));var Fg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Fg||(Fg={}));const me=qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rs=t=>{switch(typeof t){case"undefined":return me.undefined;case"string":return me.string;case"number":return Number.isNaN(t)?me.nan:me.number;case"boolean":return me.boolean;case"function":return me.function;case"bigint":return me.bigint;case"symbol":return me.symbol;case"object":return Array.isArray(t)?me.array:t===null?me.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?me.promise:typeof Map<"u"&&t instanceof Map?me.map:typeof Set<"u"&&t instanceof Set?me.set:typeof Date<"u"&&t instanceof Date?me.date:me.object;default:return me.unknown}},re=qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),y4=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Bn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}static assert(e){if(!(e instanceof Bn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Bn.create=t=>new Bn(t);const Ca=(t,e)=>{let n;switch(t.code){case re.invalid_type:t.received===me.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,qe.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:n=`Unrecognized key(s) in object: ${qe.joinValues(t.keys,", ")}`;break;case re.invalid_union:n="Invalid input";break;case re.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${qe.joinValues(t.options)}`;break;case re.invalid_enum_value:n=`Invalid enum value. Expected ${qe.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:n="Invalid function arguments";break;case re.invalid_return_type:n="Invalid function return type";break;case re.invalid_date:n="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:qe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case re.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case re.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case re.custom:n="Invalid input";break;case re.invalid_intersection_types:n="Intersection results could not be merged";break;case re.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:n="Number must be finite";break;default:n=e.defaultError,qe.assertNever(t)}return{message:n}};let _O=Ca;function v4(t){_O=t}function ep(){return _O}const tp=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},x4=[];function ue(t,e){const n=ep(),r=tp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Ca?void 0:Ca].filter(s=>!!s)});t.common.issues.push(r)}class on{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Se;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return on.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Se;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Se=Object.freeze({status:"aborted"}),Wo=t=>({status:"dirty",value:t}),mn=t=>({status:"valid",value:t}),Mg=t=>t.status==="aborted",Dg=t=>t.status==="dirty",po=t=>t.status==="valid",cl=t=>typeof Promise<"u"&&t instanceof Promise;var ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ve||(ve={}));class Ur{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Kb=(t,e)=>{if(po(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Bn(t.common.issues);return this._error=n,this._error}}};function Re(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:c??n??a.defaultError}},description:s}}class Me{get description(){return this._def.description}_getType(e){return rs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:rs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new on,ctx:{common:e.parent.common,data:e.data,parsedType:rs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(cl(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rs(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Kb(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rs(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return po(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>po(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rs(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(cl(s)?s:Promise.resolve(s));return Kb(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:re.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new _r({schema:this,typeName:_e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Br.create(this,this._def)}nullable(){return xi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wr.create(this)}promise(){return Ta.create(this,this._def)}or(e){return pl.create([this,e],this._def)}and(e){return fl.create(this,e,this._def)}transform(e){return new _r({...Re(this._def),schema:this,typeName:_e.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new vl({...Re(this._def),innerType:this,defaultValue:n,typeName:_e.ZodDefault})}brand(){return new Uv({typeName:_e.ZodBranded,type:this,...Re(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new xl({...Re(this._def),innerType:this,catchValue:n,typeName:_e.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Dl.create(this,e)}readonly(){return bl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const b4=/^c[^\s-]{8,}$/i,w4=/^[0-9a-z]+$/,S4=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_4=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,E4=/^[a-z0-9_-]{21}$/i,k4=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,C4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,A4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,T4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ah;const N4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,R4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,O4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,P4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,I4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,j4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,EO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",F4=new RegExp(`^${EO}$`);function kO(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function M4(t){return new RegExp(`^${kO(t)}$`)}function CO(t){let e=`${EO}T${kO(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function D4(t,e){return!!((e==="v4"||!e)&&N4.test(t)||(e==="v6"||!e)&&O4.test(t))}function L4(t,e){if(!k4.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function B4(t,e){return!!((e==="v4"||!e)&&R4.test(t)||(e==="v6"||!e)&&P4.test(t))}class yr extends Me{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==me.string){const i=this._getOrReturnCtx(e);return ue(i,{code:re.invalid_type,expected:me.string,received:i.parsedType}),Se}const r=new on;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:re.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:re.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?ue(s,{code:re.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ue(s,{code:re.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")A4.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"email",code:re.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Ah||(Ah=new RegExp(T4,"u")),Ah.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"emoji",code:re.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")_4.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"uuid",code:re.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")E4.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"nanoid",code:re.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")b4.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cuid",code:re.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")w4.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cuid2",code:re.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")S4.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"ulid",code:re.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ue(s,{validation:"url",code:re.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"regex",code:re.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ue(s,{code:re.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ue(s,{code:re.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ue(s,{code:re.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?CO(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:re.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?F4.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:re.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?M4(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:re.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?C4.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"duration",code:re.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?D4(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"ip",code:re.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?L4(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"jwt",code:re.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?B4(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cidr",code:re.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?I4.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"base64",code:re.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?j4.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"base64url",code:re.invalid_string,message:i.message}),r.dirty()):qe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:re.invalid_string,...ve.errToObj(r)})}_addCheck(e){return new yr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ve.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ve.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ve.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ve.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ve.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ve.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ve.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ve.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ve.errToObj(n)})}nonempty(e){return this.min(1,ve.errToObj(e))}trim(){return new yr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}yr.create=t=>new yr({checks:[],typeName:_e.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Re(t)});function $4(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class gi extends Me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==me.number){const i=this._getOrReturnCtx(e);return ue(i,{code:re.invalid_type,expected:me.number,received:i.parsedType}),Se}let r;const s=new on;for(const i of this._def.checks)i.kind==="int"?qe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{code:re.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:re.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:re.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?$4(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ue(r,{code:re.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{code:re.not_finite,message:i.message}),s.dirty()):qe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,r,s){return new gi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ve.toString(s)}]})}_addCheck(e){return new gi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&qe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}gi.create=t=>new gi({checks:[],typeName:_e.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Re(t)});class yi extends Me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==me.bigint)return this._getInvalidInput(e);let r;const s=new on;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:re.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:re.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:re.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):qe.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ue(n,{code:re.invalid_type,expected:me.bigint,received:n.parsedType}),Se}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,r,s){return new yi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ve.toString(s)}]})}_addCheck(e){return new yi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}yi.create=t=>new yi({checks:[],typeName:_e.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Re(t)});class ll extends Me{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==me.boolean){const r=this._getOrReturnCtx(e);return ue(r,{code:re.invalid_type,expected:me.boolean,received:r.parsedType}),Se}return mn(e.data)}}ll.create=t=>new ll({typeName:_e.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Re(t)});class fo extends Me{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==me.date){const i=this._getOrReturnCtx(e);return ue(i,{code:re.invalid_type,expected:me.date,received:i.parsedType}),Se}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ue(i,{code:re.invalid_date}),Se}const r=new on;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:re.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:re.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):qe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new fo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}fo.create=t=>new fo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:_e.ZodDate,...Re(t)});class np extends Me{_parse(e){if(this._getType(e)!==me.symbol){const r=this._getOrReturnCtx(e);return ue(r,{code:re.invalid_type,expected:me.symbol,received:r.parsedType}),Se}return mn(e.data)}}np.create=t=>new np({typeName:_e.ZodSymbol,...Re(t)});class ul extends Me{_parse(e){if(this._getType(e)!==me.undefined){const r=this._getOrReturnCtx(e);return ue(r,{code:re.invalid_type,expected:me.undefined,received:r.parsedType}),Se}return mn(e.data)}}ul.create=t=>new ul({typeName:_e.ZodUndefined,...Re(t)});class dl extends Me{_parse(e){if(this._getType(e)!==me.null){const r=this._getOrReturnCtx(e);return ue(r,{code:re.invalid_type,expected:me.null,received:r.parsedType}),Se}return mn(e.data)}}dl.create=t=>new dl({typeName:_e.ZodNull,...Re(t)});class Aa extends Me{constructor(){super(...arguments),this._any=!0}_parse(e){return mn(e.data)}}Aa.create=t=>new Aa({typeName:_e.ZodAny,...Re(t)});class Yi extends Me{constructor(){super(...arguments),this._unknown=!0}_parse(e){return mn(e.data)}}Yi.create=t=>new Yi({typeName:_e.ZodUnknown,...Re(t)});class ws extends Me{_parse(e){const n=this._getOrReturnCtx(e);return ue(n,{code:re.invalid_type,expected:me.never,received:n.parsedType}),Se}}ws.create=t=>new ws({typeName:_e.ZodNever,...Re(t)});class rp extends Me{_parse(e){if(this._getType(e)!==me.undefined){const r=this._getOrReturnCtx(e);return ue(r,{code:re.invalid_type,expected:me.void,received:r.parsedType}),Se}return mn(e.data)}}rp.create=t=>new rp({typeName:_e.ZodVoid,...Re(t)});class wr extends Me{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==me.array)return ue(n,{code:re.invalid_type,expected:me.array,received:n.parsedType}),Se;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(ue(n,{code:o?re.too_big:re.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ue(n,{code:re.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ue(n,{code:re.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Ur(n,o,n.path,a)))).then(o=>on.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Ur(n,o,n.path,a)));return on.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new wr({...this._def,minLength:{value:e,message:ve.toString(n)}})}max(e,n){return new wr({...this._def,maxLength:{value:e,message:ve.toString(n)}})}length(e,n){return new wr({...this._def,exactLength:{value:e,message:ve.toString(n)}})}nonempty(e){return this.min(1,e)}}wr.create=(t,e)=>new wr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:_e.ZodArray,...Re(e)});function Po(t){if(t instanceof ft){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Br.create(Po(r))}return new ft({...t._def,shape:()=>e})}else return t instanceof wr?new wr({...t._def,type:Po(t.element)}):t instanceof Br?Br.create(Po(t.unwrap())):t instanceof xi?xi.create(Po(t.unwrap())):t instanceof qr?qr.create(t.items.map(e=>Po(e))):t}class ft extends Me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=qe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==me.object){const l=this._getOrReturnCtx(e);return ue(l,{code:re.invalid_type,expected:me.object,received:l.parsedType}),Se}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ws&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Ur(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof ws){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(ue(s,{code:re.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Ur(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key,p=await u.value;l.push({key:d,value:p,alwaysSet:u.alwaysSet})}return l}).then(l=>on.mergeObjectSync(r,l)):on.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return ve.errToObj,new ft({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ve.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new ft({...this._def,unknownKeys:"strip"})}passthrough(){return new ft({...this._def,unknownKeys:"passthrough"})}extend(e){return new ft({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ft({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_e.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ft({...this._def,catchall:e})}pick(e){const n={};for(const r of qe.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ft({...this._def,shape:()=>n})}omit(e){const n={};for(const r of qe.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new ft({...this._def,shape:()=>n})}deepPartial(){return Po(this)}partial(e){const n={};for(const r of qe.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new ft({...this._def,shape:()=>n})}required(e){const n={};for(const r of qe.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Br;)i=i._def.innerType;n[r]=i}return new ft({...this._def,shape:()=>n})}keyof(){return AO(qe.objectKeys(this.shape))}}ft.create=(t,e)=>new ft({shape:()=>t,unknownKeys:"strip",catchall:ws.create(),typeName:_e.ZodObject,...Re(e)});ft.strictCreate=(t,e)=>new ft({shape:()=>t,unknownKeys:"strict",catchall:ws.create(),typeName:_e.ZodObject,...Re(e)});ft.lazycreate=(t,e)=>new ft({shape:t,unknownKeys:"strip",catchall:ws.create(),typeName:_e.ZodObject,...Re(e)});class pl extends Me{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Bn(a.ctx.common.issues));return ue(n,{code:re.invalid_union,unionErrors:o}),Se}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Bn(c));return ue(n,{code:re.invalid_union,unionErrors:a}),Se}}get options(){return this._def.options}}pl.create=(t,e)=>new pl({options:t,typeName:_e.ZodUnion,...Re(e)});const es=t=>t instanceof ml?es(t.schema):t instanceof _r?es(t.innerType()):t instanceof gl?[t.value]:t instanceof vi?t.options:t instanceof yl?qe.objectValues(t.enum):t instanceof vl?es(t._def.innerType):t instanceof ul?[void 0]:t instanceof dl?[null]:t instanceof Br?[void 0,...es(t.unwrap())]:t instanceof xi?[null,...es(t.unwrap())]:t instanceof Uv||t instanceof bl?es(t.unwrap()):t instanceof xl?es(t._def.innerType):[];class Gp extends Me{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==me.object)return ue(n,{code:re.invalid_type,expected:me.object,received:n.parsedType}),Se;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ue(n,{code:re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Se)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=es(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Gp({typeName:_e.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Re(r)})}}function Lg(t,e){const n=rs(t),r=rs(e);if(t===e)return{valid:!0,data:t};if(n===me.object&&r===me.object){const s=qe.objectKeys(e),i=qe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=Lg(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===me.array&&r===me.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=Lg(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===me.date&&r===me.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class fl extends Me{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Mg(i)||Mg(o))return Se;const a=Lg(i.value,o.value);return a.valid?((Dg(i)||Dg(o))&&n.dirty(),{status:n.value,value:a.data}):(ue(r,{code:re.invalid_intersection_types}),Se)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}fl.create=(t,e,n)=>new fl({left:t,right:e,typeName:_e.ZodIntersection,...Re(n)});class qr extends Me{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.array)return ue(r,{code:re.invalid_type,expected:me.array,received:r.parsedType}),Se;if(r.data.length<this._def.items.length)return ue(r,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Se;!this._def.rest&&r.data.length>this._def.items.length&&(ue(r,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Ur(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>on.mergeArray(n,o)):on.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new qr({...this._def,rest:e})}}qr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qr({items:t,typeName:_e.ZodTuple,rest:null,...Re(e)})};class hl extends Me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.object)return ue(r,{code:re.invalid_type,expected:me.object,received:r.parsedType}),Se;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Ur(r,a,r.path,a)),value:o._parse(new Ur(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?on.mergeObjectAsync(n,s):on.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Me?new hl({keyType:e,valueType:n,typeName:_e.ZodRecord,...Re(r)}):new hl({keyType:yr.create(),valueType:e,typeName:_e.ZodRecord,...Re(n)})}}class sp extends Me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.map)return ue(r,{code:re.invalid_type,expected:me.map,received:r.parsedType}),Se;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new Ur(r,a,r.path,[l,"key"])),value:i._parse(new Ur(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Se;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Se;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}sp.create=(t,e,n)=>new sp({valueType:e,keyType:t,typeName:_e.ZodMap,...Re(n)});class ho extends Me{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.set)return ue(r,{code:re.invalid_type,expected:me.set,received:r.parsedType}),Se;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ue(r,{code:re.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ue(r,{code:re.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Se;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new Ur(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new ho({...this._def,minSize:{value:e,message:ve.toString(n)}})}max(e,n){return new ho({...this._def,maxSize:{value:e,message:ve.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ho.create=(t,e)=>new ho({valueType:t,minSize:null,maxSize:null,typeName:_e.ZodSet,...Re(e)});class ia extends Me{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==me.function)return ue(n,{code:re.invalid_type,expected:me.function,received:n.parsedType}),Se;function r(a,c){return tp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ep(),Ca].filter(l=>!!l),issueData:{code:re.invalid_arguments,argumentsError:c}})}function s(a,c){return tp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ep(),Ca].filter(l=>!!l),issueData:{code:re.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ta){const a=this;return mn(async function(...c){const l=new Bn([]),u=await a._def.args.parseAsync(c,i).catch(x=>{throw l.addIssue(r(c,x)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(x=>{throw l.addIssue(s(d,x)),l})})}else{const a=this;return mn(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new Bn([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new Bn([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ia({...this._def,args:qr.create(e).rest(Yi.create())})}returns(e){return new ia({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new ia({args:e||qr.create([]).rest(Yi.create()),returns:n||Yi.create(),typeName:_e.ZodFunction,...Re(r)})}}class ml extends Me{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ml.create=(t,e)=>new ml({getter:t,typeName:_e.ZodLazy,...Re(e)});class gl extends Me{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ue(n,{received:n.data,code:re.invalid_literal,expected:this._def.value}),Se}return{status:"valid",value:e.data}}get value(){return this._def.value}}gl.create=(t,e)=>new gl({value:t,typeName:_e.ZodLiteral,...Re(e)});function AO(t,e){return new vi({values:t,typeName:_e.ZodEnum,...Re(e)})}class vi extends Me{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ue(n,{expected:qe.joinValues(r),received:n.parsedType,code:re.invalid_type}),Se}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ue(n,{received:n.data,code:re.invalid_enum_value,options:r}),Se}return mn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return vi.create(e,{...this._def,...n})}exclude(e,n=this._def){return vi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}vi.create=AO;class yl extends Me{_parse(e){const n=qe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==me.string&&r.parsedType!==me.number){const s=qe.objectValues(n);return ue(r,{expected:qe.joinValues(s),received:r.parsedType,code:re.invalid_type}),Se}if(this._cache||(this._cache=new Set(qe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=qe.objectValues(n);return ue(r,{received:r.data,code:re.invalid_enum_value,options:s}),Se}return mn(e.data)}get enum(){return this._def.values}}yl.create=(t,e)=>new yl({values:t,typeName:_e.ZodNativeEnum,...Re(e)});class Ta extends Me{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==me.promise&&n.common.async===!1)return ue(n,{code:re.invalid_type,expected:me.promise,received:n.parsedType}),Se;const r=n.parsedType===me.promise?n.data:Promise.resolve(n.data);return mn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ta.create=(t,e)=>new Ta({type:t,typeName:_e.ZodPromise,...Re(e)});class _r extends Me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ue(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Se;const c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?Se:c.status==="dirty"||n.value==="dirty"?Wo(c.value):c});{if(n.value==="aborted")return Se;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Se:a.status==="dirty"||n.value==="dirty"?Wo(a.value):a}}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Se:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Se:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!po(o))return Se;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>po(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):Se);qe.assertNever(s)}}_r.create=(t,e,n)=>new _r({schema:t,typeName:_e.ZodEffects,effect:e,...Re(n)});_r.createWithPreprocess=(t,e,n)=>new _r({schema:e,effect:{type:"preprocess",transform:t},typeName:_e.ZodEffects,...Re(n)});class Br extends Me{_parse(e){return this._getType(e)===me.undefined?mn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Br.create=(t,e)=>new Br({innerType:t,typeName:_e.ZodOptional,...Re(e)});class xi extends Me{_parse(e){return this._getType(e)===me.null?mn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xi.create=(t,e)=>new xi({innerType:t,typeName:_e.ZodNullable,...Re(e)});class vl extends Me{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===me.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}vl.create=(t,e)=>new vl({innerType:t,typeName:_e.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Re(e)});class xl extends Me{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return cl(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Bn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Bn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}xl.create=(t,e)=>new xl({innerType:t,typeName:_e.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Re(e)});class ip extends Me{_parse(e){if(this._getType(e)!==me.nan){const r=this._getOrReturnCtx(e);return ue(r,{code:re.invalid_type,expected:me.nan,received:r.parsedType}),Se}return{status:"valid",value:e.data}}}ip.create=t=>new ip({typeName:_e.ZodNaN,...Re(t)});const z4=Symbol("zod_brand");class Uv extends Me{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Dl extends Me{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Se:i.status==="dirty"?(n.dirty(),Wo(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Se:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Dl({in:e,out:n,typeName:_e.ZodPipeline})}}class bl extends Me{_parse(e){const n=this._def.innerType._parse(e),r=s=>(po(s)&&(s.value=Object.freeze(s.value)),s);return cl(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}bl.create=(t,e)=>new bl({innerType:t,typeName:_e.ZodReadonly,...Re(e)});function Yb(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function qv(t,e={},n){return t?Aa.create().superRefine((r,s)=>{const i=t(r);if(i instanceof Promise)return i.then(o=>{if(!o){const a=Yb(e,r),c=a.fatal??n??!0;s.addIssue({code:"custom",...a,fatal:c})}});if(!i){const o=Yb(e,r),a=o.fatal??n??!0;s.addIssue({code:"custom",...o,fatal:a})}}):Aa.create()}const U4={object:ft.lazycreate};var _e;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(_e||(_e={}));const q4=(t,e={message:`Input not instance of ${t.name}`})=>qv(n=>n instanceof t,e),wl=yr.create,Qv=gi.create,Q4=ip.create,V4=yi.create,Vv=ll.create,H4=fo.create,G4=np.create,W4=ul.create,TO=dl.create,op=Aa.create,K4=Yi.create,Y4=ws.create,J4=rp.create,NO=wr.create,Hv=ft.create,X4=ft.strictCreate,Gv=pl.create,Z4=Gp.create,e6=fl.create,t6=qr.create,RO=hl.create,n6=sp.create,r6=ho.create,s6=ia.create,i6=ml.create,o6=gl.create,a6=vi.create,c6=yl.create,l6=Ta.create,Jb=_r.create,u6=Br.create,d6=xi.create,p6=_r.createWithPreprocess,f6=Dl.create,h6=()=>wl().optional(),m6=()=>Qv().optional(),g6=()=>Vv().optional(),y6={string:t=>yr.create({...t,coerce:!0}),number:t=>gi.create({...t,coerce:!0}),boolean:t=>ll.create({...t,coerce:!0}),bigint:t=>yi.create({...t,coerce:!0}),date:t=>fo.create({...t,coerce:!0})},v6=Se,x6=Object.freeze(Object.defineProperty({__proto__:null,BRAND:z4,DIRTY:Wo,EMPTY_PATH:x4,INVALID:Se,NEVER:v6,OK:mn,ParseStatus:on,Schema:Me,ZodAny:Aa,ZodArray:wr,ZodBigInt:yi,ZodBoolean:ll,ZodBranded:Uv,ZodCatch:xl,ZodDate:fo,ZodDefault:vl,ZodDiscriminatedUnion:Gp,ZodEffects:_r,ZodEnum:vi,ZodError:Bn,get ZodFirstPartyTypeKind(){return _e},ZodFunction:ia,ZodIntersection:fl,ZodIssueCode:re,ZodLazy:ml,ZodLiteral:gl,ZodMap:sp,ZodNaN:ip,ZodNativeEnum:yl,ZodNever:ws,ZodNull:dl,ZodNullable:xi,ZodNumber:gi,ZodObject:ft,ZodOptional:Br,ZodParsedType:me,ZodPipeline:Dl,ZodPromise:Ta,ZodReadonly:bl,ZodRecord:hl,ZodSchema:Me,ZodSet:ho,ZodString:yr,ZodSymbol:np,ZodTransformer:_r,ZodTuple:qr,ZodType:Me,ZodUndefined:ul,ZodUnion:pl,ZodUnknown:Yi,ZodVoid:rp,addIssueToContext:ue,any:op,array:NO,bigint:V4,boolean:Vv,coerce:y6,custom:qv,date:H4,datetimeRegex:CO,defaultErrorMap:Ca,discriminatedUnion:Z4,effect:Jb,enum:a6,function:s6,getErrorMap:ep,getParsedType:rs,instanceof:q4,intersection:e6,isAborted:Mg,isAsync:cl,isDirty:Dg,isValid:po,late:U4,lazy:i6,literal:o6,makeIssue:tp,map:n6,nan:Q4,nativeEnum:c6,never:Y4,null:TO,nullable:d6,number:Qv,object:Hv,get objectUtil(){return Fg},oboolean:g6,onumber:m6,optional:u6,ostring:h6,pipeline:f6,preprocess:p6,promise:l6,quotelessJson:y4,record:RO,set:r6,setErrorMap:v4,strictObject:X4,string:wl,symbol:G4,transformer:Jb,tuple:t6,undefined:W4,union:Gv,unknown:K4,get util(){return qe},void:J4},Symbol.toStringTag,{value:"Module"}));var sA;sA=G;class OO{write(e){console.log(e)}}N(OO,sA,"ConsoleLogWriter");var iA;iA=G;class PO{constructor(e){N(this,"writer");this.writer=(e==null?void 0:e.writer)??new OO}logQuery(e,n){const r=n.map(i=>{try{return JSON.stringify(i)}catch{return String(i)}}),s=r.length?` -- params: [${r.join(", ")}]`:"";this.writer.write(`Query: ${e}${s}`)}}N(PO,iA,"DefaultLogger");var oA;oA=G;class IO{logQuery(){}}N(IO,oA,"NoopLogger");const pt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function St(t,e){return e.includes(t.columnType)}function b6(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const w6=Gv([wl(),Qv(),Vv(),TO()]),S6=Gv([w6,RO(op()),NO(op())]),_6=qv(t=>t instanceof Buffer);function jO(t,e){const n=(e==null?void 0:e.zodInstance)??x6,r=(e==null?void 0:e.coerce)??{};let s;return b6(t)&&(s=t.enumValues.length?n.enum(t.enumValues):n.string()),s||(St(t,["PgGeometry","PgPointTuple"])?s=n.tuple([n.number(),n.number()]):St(t,["PgGeometryObject","PgPointObject"])?s=n.object({x:n.number(),y:n.number()}):St(t,["PgHalfVector","PgVector"])?(s=n.array(n.number()),s=t.dimensions?s.length(t.dimensions):s):St(t,["PgLine"])?s=n.tuple([n.number(),n.number(),n.number()]):St(t,["PgLineABC"])?s=n.object({a:n.number(),b:n.number(),c:n.number()}):St(t,["PgArray"])?(s=n.array(jO(t.baseColumn,n)),s=t.size?s.length(t.size):s):t.dataType==="array"?s=n.array(n.any()):t.dataType==="number"?s=E6(t,n,r):t.dataType==="bigint"?s=k6(t,n,r):t.dataType==="boolean"?s=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?s=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?s=C6(t,n,r):t.dataType==="json"?s=S6:t.dataType==="custom"?s=n.any():t.dataType==="buffer"&&(s=_6)),s||(s=n.any()),s}function E6(t,e,n){let r=t.getSQLType().includes("unsigned"),s,i,o=!1;St(t,["MySqlTinyInt","SingleStoreTinyInt"])?(s=r?0:pt.INT8_MIN,i=r?pt.INT8_UNSIGNED_MAX:pt.INT8_MAX,o=!0):St(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=r?0:pt.INT16_MIN,i=r?pt.INT16_UNSIGNED_MAX:pt.INT16_MAX,o=!0):St(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=r?0:pt.INT24_MIN,i=r?pt.INT24_UNSIGNED_MAX:pt.INT24_MAX,o=St(t,["MySqlMediumInt","SingleStoreMediumInt"])):St(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=r?0:pt.INT32_MIN,i=r?pt.INT32_UNSIGNED_MAX:pt.INT32_MAX,o=!0):St(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=r?0:pt.INT48_MIN,i=r?pt.INT48_UNSIGNED_MAX:pt.INT48_MAX):St(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||St(t,["MySqlSerial","SingleStoreSerial"]),s=r?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):St(t,["MySqlYear","SingleStoreYear"])?(s=1901,i=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let a=n===!0||n!=null&&n.number?e.coerce.number():e.number();return a=a.min(s).max(i),o?a.int():a}function k6(t,e,n){const r=t.getSQLType().includes("unsigned"),s=r?0n:pt.INT64_MIN,i=r?pt.INT64_UNSIGNED_MAX:pt.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(s).max(i)}function C6(t,e,n){if(St(t,["PgUUID"]))return e.string().uuid();let r,s,i=!1;St(t,["PgVarchar","SQLiteText"])?r=t.length:St(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??pt.INT16_UNSIGNED_MAX:St(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=pt.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=pt.INT24_UNSIGNED_MAX:t.textType==="text"?r=pt.INT16_UNSIGNED_MAX:r=pt.INT8_UNSIGNED_MAX),St(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,i=!0),St(t,["PgBinaryVector"])&&(s=/^[01]+$/,r=t.dimensions);let o=n===!0||n!=null&&n.string?e.coerce.string():e.string();return o=s?o.regex(s):o,r&&i?o.length(r):r?o.max(r):o}function FO(t){return D2(t)?Q2(t):sB(t)}function MO(t,e,n,r){const s={};for(const[i,o]of Object.entries(t)){if(!ee(o,kt)&&!ee(o,be)&&!ee(o,be.Aliased)&&typeof o=="object"){const d=D2(o)||tB(o)?FO(o):o;s[i]=MO(d,e[i]??{},n,r);continue}const a=e[i];if(a!==void 0&&typeof a!="function"){s[i]=a;continue}const c=ee(o,kt)?o:void 0,l=c?jO(c,r):op(),u=typeof a=="function"?a(l):l;n.never(c)||(s[i]=u,c&&(n.nullable(c)&&(s[i]=s[i].nullable()),n.optional(c)&&(s[i]=s[i].optional())))}return Hv(s)}const A6={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Ll=(t,e)=>{const n=FO(t);return MO(n,{},A6)},T6=_i("role",["CONSUMER","MERCHANT","DRIVER","ADMIN"]),Wp=_i("verification_status",["PENDING","APPROVED","REJECTED"]),DO=_i("order_status",["PENDING","CONFIRMED","IN_PROGRESS","DELIVERED","CANCELLED"]),N6=_i("payment_status",["PENDING","COMPLETED","FAILED","REFUNDED"]),Ce=Ne("users",{id:Ae("id").primaryKey(),email:Te("email",{length:255}).unique().notNull(),fullName:Te("full_name",{length:255}).notNull(),phone:Te("phone",{length:20}),password:H("password"),role:T6("role").default("CONSUMER"),isVerified:He("is_verified").default(!1),isActive:He("is_active").default(!0),profilePicture:H("profile_picture"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow(),emailVerified:He("email_verified").default(!1),phoneVerified:He("phone_verified").default(!1),dateOfBirth:te("date_of_birth"),address:H("address"),city:Te("city",{length:100}),state:Te("state",{length:100}),country:Te("country",{length:100}).default("Nigeria"),referralCode:Te("referral_code",{length:20}).unique(),referredBy:oe("referred_by").references(()=>Ce.id),mfaEnabled:He("mfa_enabled").default(!1),mfaMethod:Te("mfa_method",{length:10}),mfaSecret:H("mfa_secret"),mfaBackupCodes:Ze("mfa_backup_codes"),biometricHash:H("biometric_hash"),biometricType:Te("biometric_type",{length:20}),lastLoginAt:te("last_login_at"),loginAttempts:oe("login_attempts").default(0),accountLockedUntil:te("account_locked_until")});Ne("mfa_tokens",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id).notNull(),token:H("token").notNull(),method:Te("method",{length:10}).notNull(),expiresAt:te("expires_at").notNull(),isUsed:He("is_used").default(!1),usedAt:te("used_at"),createdAt:te("created_at").defaultNow()});Ne("verification_documents",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id).notNull(),documentType:Te("document_type",{length:30}).notNull(),documentNumber:Te("document_number",{length:50}),fileName:H("file_name").notNull(),fileSize:oe("file_size"),mimeType:Te("mime_type",{length:100}),expiryDate:te("expiry_date"),status:Wp("status").default("PENDING"),validationScore:Fe("validation_score",{precision:3,scale:2}),extractedData:Ze("extracted_data"),rejectionReason:H("rejection_reason"),reviewedBy:oe("reviewed_by").references(()=>Ce.id),reviewedAt:te("reviewed_at"),uploadedAt:te("uploaded_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});Ne("security_logs",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id),action:Te("action",{length:50}).notNull(),details:Ze("details"),ipAddress:Te("ip_address",{length:45}),userAgent:H("user_agent"),severity:Te("severity",{length:20}).default("INFO"),timestamp:te("timestamp").defaultNow()});Ne("trusted_devices",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id).notNull(),deviceToken:H("device_token").unique().notNull(),deviceName:Te("device_name",{length:100}),deviceType:Te("device_type",{length:50}),browserInfo:H("browser_info"),lastUsedAt:te("last_used_at"),expiresAt:te("expires_at").notNull(),isActive:He("is_active").default(!0),createdAt:te("created_at").defaultNow()});const R6=Ne("products",{id:Ae("id").primaryKey(),name:H("name").notNull(),description:H("description"),price:Fe("price",{precision:10,scale:2}).notNull(),unit:H("unit").notNull(),categoryName:H("category_name").notNull(),sellerId:oe("seller_id").references(()=>Ce.id).notNull(),images:Ze("images").default([]),rating:Fe("rating",{precision:3,scale:2}).default("0"),reviewCount:oe("review_count").default(0),inStock:He("in_stock").default(!0),stockLevel:oe("stock_level").default(0),lowStockThreshold:oe("low_stock_threshold").default(10),isActive:He("is_active").default(!0),totalSold:oe("total_sold").default(0),totalViews:oe("total_views").default(0),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});Ne("categories",{id:Ae("id").primaryKey(),name:H("name").unique().notNull(),description:H("description"),icon:H("icon"),isActive:He("is_active").default(!0),createdAt:te("created_at").defaultNow()});const Bl=Ne("orders",{id:Ae("id").primaryKey(),orderNumber:H("order_number").unique().notNull(),customerId:oe("customer_id").references(()=>Ce.id).notNull(),merchantId:oe("merchant_id").references(()=>Ce.id),driverId:oe("driver_id").references(()=>Ce.id),orderType:H("order_type").notNull(),status:DO("status").default("PENDING"),totalAmount:Fe("total_amount",{precision:10,scale:2}).notNull(),deliveryAddress:H("delivery_address"),deliveryLatitude:Fe("delivery_latitude",{precision:10,scale:8}),deliveryLongitude:Fe("delivery_longitude",{precision:11,scale:8}),orderData:Ze("order_data"),pickupAddress:H("pickup_address"),deliveryFee:Fe("delivery_fee",{precision:10,scale:2}),urgentOrder:He("urgent_order").default(!1),estimatedPreparationTime:oe("estimated_preparation_time"),notes:H("notes"),paymentStatus:H("payment_status").default("PENDING"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()}),LO=Ne("transactions",{id:Ae("id").primaryKey(),orderId:oe("order_id").references(()=>Bl.id),userId:oe("user_id").references(()=>Ce.id).notNull(),amount:Fe("amount",{precision:10,scale:2}).notNull(),currency:H("currency").default("NGN"),paymentMethod:H("payment_method").notNull(),paymentStatus:N6("payment_status").default("PENDING"),transactionRef:H("transaction_ref").unique(),paymentGatewayRef:H("payment_gateway_ref"),metadata:Ze("metadata"),createdAt:te("created_at").defaultNow()}),O6=Ne("fuel_orders",{id:Ae("id").primaryKey(),customerId:oe("customer_id").references(()=>Ce.id).notNull(),driverId:oe("driver_id").references(()=>Ce.id),stationId:H("station_id").notNull(),fuelType:H("fuel_type").notNull(),quantity:Fe("quantity",{precision:8,scale:2}).notNull(),unitPrice:Fe("unit_price",{precision:10,scale:2}).notNull(),totalAmount:Fe("total_amount",{precision:10,scale:2}).notNull(),deliveryAddress:H("delivery_address").notNull(),deliveryLatitude:Fe("delivery_latitude",{precision:10,scale:8}).notNull(),deliveryLongitude:Fe("delivery_longitude",{precision:11,scale:8}).notNull(),scheduledDeliveryTime:te("scheduled_delivery_time"),status:H("status").default("PENDING"),notes:H("notes"),estimatedDeliveryTime:H("estimated_delivery_time"),acceptedAt:te("accepted_at"),pickedUpAt:te("picked_up_at"),deliveredAt:te("delivered_at"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});Ne("driver_profiles",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id).notNull(),vehicleType:H("vehicle_type"),vehicleModel:H("vehicle_model"),plateNumber:H("plate_number"),licenseNumber:H("license_number"),licenseExpiry:te("license_expiry"),vehicleYear:oe("vehicle_year"),vehicleColor:Te("vehicle_color",{length:30}),isAvailable:He("is_available").default(!0),currentLatitude:Fe("current_latitude",{precision:10,scale:8}),currentLongitude:Fe("current_longitude",{precision:11,scale:8}),rating:Fe("rating",{precision:3,scale:2}).default("5.00"),totalTrips:oe("total_trips").default(0),earnings:Fe("earnings",{precision:10,scale:2}).default("0.00"),kycData:Ze("kyc_data"),kycStatus:Te("kyc_status",{length:20}).default("PENDING"),kycSubmittedAt:te("kyc_submitted_at"),kycApprovedAt:te("kyc_approved_at"),kycApprovedBy:oe("kyc_approved_by").references(()=>Ce.id),verificationLevel:Te("verification_level",{length:20}).default("BASIC"),backgroundCheckStatus:Te("background_check_status",{length:20}).default("PENDING"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});Ne("merchant_profiles",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id).notNull(),businessName:H("business_name"),businessAddress:H("business_address"),businessLatitude:Fe("business_latitude",{precision:10,scale:8}),businessLongitude:Fe("business_longitude",{precision:11,scale:8}),businessType:H("business_type"),isOpen:He("is_open").default(!0),rating:Fe("rating",{precision:3,scale:2}).default("5.0"),totalOrders:oe("total_orders").default(0),revenue:Fe("revenue",{precision:10,scale:2}).default("0"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});Ne("identity_verifications",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id).notNull(),documentType:H("document_type").notNull(),documentNumber:H("document_number").notNull(),documentImageUrl:H("document_image_url"),verificationStatus:Wp("verification_status").default("PENDING"),submittedAt:te("submitted_at").defaultNow(),reviewedAt:te("reviewed_at"),reviewedBy:oe("reviewed_by").references(()=>Ce.id),rejectionReason:H("rejection_reason")});Ne("driver_verifications",{id:Ae("id").primaryKey(),driverId:oe("driver_id").references(()=>Ce.id).notNull(),licenseImageUrl:H("license_image_url"),vehicleRegistrationUrl:H("vehicle_registration_url"),insuranceUrl:H("insurance_url"),verificationStatus:Wp("verification_status").default("PENDING"),submittedAt:te("submitted_at").defaultNow(),reviewedAt:te("reviewed_at"),reviewedBy:oe("reviewed_by").references(()=>Ce.id),rejectionReason:H("rejection_reason")});Ne("user_locations",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id).notNull(),latitude:Fe("latitude",{precision:10,scale:8}).notNull(),longitude:Fe("longitude",{precision:11,scale:8}).notNull(),address:H("address"),isDefault:He("is_default").default(!1),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});Ne("order_tracking",{id:Ae("id").primaryKey(),orderId:oe("order_id").references(()=>Bl.id).notNull(),driverId:oe("driver_id").references(()=>Ce.id),status:DO("status").notNull(),latitude:Fe("latitude",{precision:10,scale:8}),longitude:Fe("longitude",{precision:11,scale:8}),address:H("address"),notes:H("notes"),estimatedArrival:te("estimated_arrival"),actualArrival:te("actual_arrival"),metadata:Ze("metadata"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});Ne("wallets",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id).notNull(),balance:Fe("balance",{precision:10,scale:2}).default("0"),currency:H("currency").default("NGN"),isActive:He("is_active").default(!0),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});Ne("payment_methods",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id).notNull(),type:H("type").notNull(),provider:H("provider"),last4:H("last4"),expiryMonth:H("expiry_month"),expiryYear:H("expiry_year"),isDefault:He("is_default").default(!1),isActive:He("is_active").default(!0),metadata:Ze("metadata"),createdAt:te("created_at").defaultNow()});Ne("escrow_transactions",{id:Ae("id").primaryKey(),orderId:oe("order_id").references(()=>Bl.id),customerId:oe("customer_id").references(()=>Ce.id).notNull(),merchantId:oe("merchant_id").references(()=>Ce.id),amount:Fe("amount",{precision:10,scale:2}).notNull(),currency:H("currency").default("NGN"),status:H("status").default("PENDING"),paymentMethod:H("payment_method"),paymentReference:H("payment_reference"),escrowReleaseDate:te("escrow_release_date"),releasedAt:te("released_at"),releasedBy:oe("released_by").references(()=>Ce.id),disputeId:oe("dispute_id"),failureReason:H("failure_reason"),customerDetails:Ze("customer_details"),metadata:Ze("metadata"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});const Qr=Ne("admin_users",{id:Ae("id").primaryKey(),username:H("username").unique().notNull(),email:H("email").unique().notNull(),password:H("password").notNull(),fullName:H("full_name").notNull(),role:H("role").default("ADMIN"),permissions:Ze("permissions").default([]),isActive:He("is_active").default(!0),lastLogin:te("last_login"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});Ne("compliance_documents",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id),documentType:H("document_type").notNull(),documentUrl:H("document_url").notNull(),verificationStatus:Wp("verification_status").default("PENDING"),submittedAt:te("submitted_at").defaultNow(),reviewedAt:te("reviewed_at"),reviewedBy:oe("reviewed_by").references(()=>Qr.id),expiryDate:te("expiry_date"),notes:H("notes")});const P6=Ne("content_reports",{id:Ae("id").primaryKey(),reportedBy:oe("reported_by").references(()=>Ce.id).notNull(),reportedUserId:oe("reported_user_id").references(()=>Ce.id),reportedContentId:oe("reported_content_id"),contentType:H("content_type"),reason:H("reason").notNull(),description:H("description"),status:H("status").default("PENDING"),reviewedBy:oe("reviewed_by").references(()=>Qr.id),reviewedAt:te("reviewed_at"),action:H("action"),createdAt:te("created_at").defaultNow()});Ne("moderation_responses",{id:Ae("id").primaryKey(),reportId:oe("report_id").references(()=>P6.id).notNull(),moderatorId:oe("moderator_id").references(()=>Qr.id).notNull(),action:H("action").notNull(),reason:H("reason"),notes:H("notes"),createdAt:te("created_at").defaultNow()});Ne("vendor_violations",{id:Ae("id").primaryKey(),vendorId:oe("vendor_id").references(()=>Ce.id).notNull(),violationType:H("violation_type").notNull(),description:H("description").notNull(),severity:H("severity").default("MEDIUM"),status:H("status").default("ACTIVE"),reportedBy:oe("reported_by").references(()=>Ce.id),reviewedBy:oe("reviewed_by").references(()=>Qr.id),penaltyApplied:H("penalty_applied"),resolvedAt:te("resolved_at"),createdAt:te("created_at").defaultNow()});Ne("admin_payment_actions",{id:Ae("id").primaryKey(),transactionId:oe("transaction_id").references(()=>LO.id).notNull(),adminId:oe("admin_id").references(()=>Qr.id).notNull(),actionType:H("action_type").notNull(),amount:Fe("amount",{precision:10,scale:2}),reason:H("reason").notNull(),status:H("status").default("PENDING"),processedAt:te("processed_at"),metadata:Ze("metadata"),createdAt:te("created_at").defaultNow()});Ne("fraud_alerts",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id),alertType:H("alert_type").notNull(),severity:H("severity").default("MEDIUM"),description:H("description").notNull(),data:Ze("data"),status:H("status").default("PENDING"),reviewedBy:oe("reviewed_by").references(()=>Qr.id),reviewedAt:te("reviewed_at"),action:H("action"),createdAt:te("created_at").defaultNow()});Ne("suspicious_activities",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id),activityType:H("activity_type").notNull(),description:H("description").notNull(),ipAddress:H("ip_address"),userAgent:H("user_agent"),riskScore:oe("risk_score"),metadata:Ze("metadata"),flagged:He("flagged").default(!1),reviewedBy:oe("reviewed_by").references(()=>Qr.id),reviewedAt:te("reviewed_at"),createdAt:te("created_at").defaultNow()});Ne("account_flags",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id).notNull(),flagType:H("flag_type").notNull(),reason:H("reason").notNull(),severity:H("severity").default("MEDIUM"),isActive:He("is_active").default(!0),flaggedBy:oe("flagged_by").references(()=>Qr.id),resolvedBy:oe("resolved_by").references(()=>Qr.id),resolvedAt:te("resolved_at"),expiresAt:te("expires_at"),metadata:Ze("metadata"),createdAt:te("created_at").defaultNow()});Ne("delivery_requests",{id:Ae("id").primaryKey(),orderId:oe("order_id").references(()=>Bl.id).notNull(),merchantId:oe("merchant_id").references(()=>Ce.id).notNull(),customerId:oe("customer_id").references(()=>Ce.id).notNull(),driverId:oe("driver_id").references(()=>Ce.id),deliveryType:H("delivery_type").notNull(),pickupAddress:H("pickup_address").notNull(),pickupLatitude:Fe("pickup_latitude",{precision:10,scale:8}),pickupLongitude:Fe("pickup_longitude",{precision:11,scale:8}),deliveryAddress:H("delivery_address").notNull(),deliveryLatitude:Fe("delivery_latitude",{precision:10,scale:8}),deliveryLongitude:Fe("delivery_longitude",{precision:11,scale:8}),deliveryFee:Fe("delivery_fee",{precision:10,scale:2}).notNull(),distance:Fe("distance",{precision:8,scale:2}),estimatedTime:oe("estimated_time"),orderValue:Fe("order_value",{precision:10,scale:2}),urgentDelivery:He("urgent_delivery").default(!1),customerName:H("customer_name"),customerPhone:H("customer_phone"),merchantName:H("merchant_name"),status:H("status").default("PENDING"),acceptedAt:te("accepted_at"),pickedUpAt:te("picked_up_at"),deliveredAt:te("delivered_at"),expiresAt:te("expires_at"),metadata:Ze("metadata"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});Ne("vendor_posts",{id:Ae("id").primaryKey(),vendorId:oe("vendor_id").references(()=>Ce.id).notNull(),title:H("title").notNull(),content:H("content").notNull(),images:Ze("images").default([]),postType:H("post_type").default("GENERAL"),isActive:He("is_active").default(!0),likes:oe("likes").default(0),shares:oe("shares").default(0),views:oe("views").default(0),metadata:Ze("metadata"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});const I6=Ne("conversations",{id:Ae("id").primaryKey(),participantIds:Ze("participant_ids").notNull(),conversationType:H("conversation_type").default("DIRECT"),title:H("title"),isActive:He("is_active").default(!0),lastMessageId:oe("last_message_id"),lastMessageAt:te("last_message_at"),metadata:Ze("metadata"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});Ne("chat_messages",{id:Ae("id").primaryKey(),conversationId:oe("conversation_id").references(()=>I6.id).notNull(),senderId:oe("sender_id").references(()=>Ce.id).notNull(),messageType:H("message_type").default("TEXT"),content:H("content"),attachments:Ze("attachments").default([]),isEdited:He("is_edited").default(!1),editedAt:te("edited_at"),isDeleted:He("is_deleted").default(!1),deletedAt:te("deleted_at"),readBy:Ze("read_by").default([]),metadata:Ze("metadata"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});Ne("toll_gates",{id:Ae("id").primaryKey(),name:Te("name",{length:255}).notNull(),location:Te("location",{length:255}).notNull(),latitude:Fe("latitude",{precision:10,scale:8}).notNull(),longitude:Fe("longitude",{precision:11,scale:8}).notNull(),qrCode:Te("qr_code",{length:255}).unique().notNull(),tariff:Fe("tariff",{precision:10,scale:2}).notNull(),operationalHours:Te("operational_hours",{length:100}),status:Te("status",{length:20}).default("ACTIVE"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()});const j6=Ne("support_tickets",{id:Ae("id").primaryKey(),ticketNumber:Te("ticket_number",{length:20}).unique().notNull(),userId:oe("user_id").references(()=>Ce.id),userRole:Te("user_role",{length:20}).notNull(),name:Te("name",{length:255}).notNull(),email:Te("email",{length:255}).notNull(),subject:Te("subject",{length:500}).notNull(),message:H("message").notNull(),status:Te("status",{length:20}).default("OPEN"),priority:Te("priority",{length:20}).default("NORMAL"),assignedTo:oe("assigned_to").references(()=>Qr.id),adminNotes:H("admin_notes"),resolution:H("resolution"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow(),resolvedAt:te("resolved_at")});Ne("support_responses",{id:Ae("id").primaryKey(),ticketId:oe("ticket_id").references(()=>j6.id).notNull(),responderId:oe("responder_id").notNull(),responderType:Te("responder_type",{length:20}).notNull(),message:H("message").notNull(),attachments:H("attachments"),createdAt:te("created_at").defaultNow()});Ne("audit_logs",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id),action:Te("action",{length:100}).notNull(),resource:Te("resource",{length:50}).notNull(),resourceId:Te("resource_id",{length:255}),oldValues:H("old_values"),newValues:H("new_values"),ipAddress:Te("ip_address",{length:45}).notNull(),userAgent:H("user_agent"),sessionId:Te("session_id",{length:255}),success:He("success").notNull(),errorMessage:H("error_message"),metadata:H("metadata"),createdAt:te("created_at").defaultNow().notNull()});Ne("push_tokens",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id).notNull(),token:H("token").notNull(),platform:Te("platform",{length:10}).notNull(),deviceInfo:H("device_info"),isActive:He("is_active").default(!0).notNull(),lastUsed:te("last_used").defaultNow().notNull(),createdAt:te("created_at").defaultNow().notNull(),updatedAt:te("updated_at").defaultNow().notNull()});Ne("notifications",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>Ce.id).notNull(),title:Te("title",{length:255}).notNull(),body:H("body").notNull(),category:Te("category",{length:50}).default("general").notNull(),data:H("data"),isRead:He("is_read").default(!1).notNull(),createdAt:te("created_at").defaultNow().notNull(),updatedAt:te("updated_at").defaultNow().notNull()});const F6=Hv({email:wl().email("Please enter a valid email address"),password:wl().min(6,"Password must be at least 6 characters")});Ll(R6).omit({id:!0,createdAt:!0,updatedAt:!0,rating:!0,reviewCount:!0,totalSold:!0,totalViews:!0});Ll(Ce).omit({id:!0,createdAt:!0,updatedAt:!0,lastLoginAt:!0,loginAttempts:!0,accountLockedUntil:!0});Ll(Bl).omit({id:!0,createdAt:!0,updatedAt:!0,orderNumber:!0});Ll(LO).omit({id:!0,createdAt:!0});Ll(O6).omit({id:!0,createdAt:!0,updatedAt:!0,acceptedAt:!0,pickedUpAt:!0,deliveredAt:!0});function M6(){const[t,e]=J.useState(!1),[n,r]=J.useState(""),[s,i]=J.useState(""),[o,a]=J.useState(!1),[,c]=io(),{toast:l}=e2(),{signin:u}=$a(),d=T=>console.log("User updated:",T),p=T=>console.log("Loading:",T),x=T=>console.log("Error:",T),y=T=>console.log("Show modal:",T),h=CD({resolver:RD(F6),defaultValues:{email:"",password:""}}),w=KM({mutationFn:({email:T,password:C})=>GL.signIn({email:T,password:C}),onSuccess:T=>{console.log("Sign in successful:",T),T.user&&(console.log("Setting user data:",T.user,"Role:",T.user.role),d(T.user),T.user.role==="CONSUMER"?(console.log("Navigating CONSUMER to /consumer-home"),c("/consumer-home")):T.user.role==="MERCHANT"?(console.log("Navigating MERCHANT to /merchant-dashboard"),c("/merchant-dashboard")):T.user.role==="DRIVER"?(console.log("Navigating DRIVER to /driver-dashboard"),sessionStorage.getItem("selectedDriverTier")?(sessionStorage.setItem("promptKYCVerification","true"),c("/driver-dashboard")):c("/driver-tier-selection")):c("/dashboard"))},onError:T=>{console.error("Sign in error:",T),l({title:"Sign In Failed",description:T.message})}}),m=T=>{w.mutate(T)},b=async()=>{try{p(!0);const{socialAuth:T}=await bh(async()=>{const{socialAuth:C}=await import("./social-auth-B25nWjSb.js");return{socialAuth:C}},[]);T.setCallbacks(async C=>{try{console.log("Google login success:",C);const S=await fetch("/api/auth/social-login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({provider:C.provider,socialId:C.id,email:C.email,name:C.name,picture:C.picture||""})}),A=await S.json();if(!S.ok)throw new Error(A.message||"Social login failed");d(A.user),l({title:"Welcome back!",description:A.isNewUser?"Account created successfully!":"Signed in successfully!"}),A.user.role==="CONSUMER"?c("/consumer-home"):A.user.role==="MERCHANT"?c("/merchant-dashboard"):A.user.role==="DRIVER"?sessionStorage.getItem("selectedDriverTier")?(sessionStorage.setItem("promptKYCVerification","true"),c("/driver-dashboard")):c("/driver-tier-selection"):c("/dashboard")}catch(S){console.error("Google backend authentication failed:",S),console.error("Google signin error:",S)}finally{p(!1)}},C=>{console.error("Google login error:",C),console.error("Google sign-in failed. Please try again.")}),await T.signInWithGoogle()}catch(T){console.error("Google login initialization error:",T),x("Google sign-in is not available at the moment."),y(!0),p(!1)}},g=async()=>{try{p(!0);const{socialAuth:T}=await bh(async()=>{const{socialAuth:C}=await import("./social-auth-B25nWjSb.js");return{socialAuth:C}},[]);T.setCallbacks(async C=>{try{console.log("Apple login success:",C);const S=await fetch("/api/auth/social-login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({provider:C.provider,socialId:C.id,email:C.email,name:C.name,picture:C.picture||""})}),A=await S.json();if(!S.ok)throw new Error(A.message||"Social login failed");d(A.user),l({title:"Welcome back!",description:A.isNewUser?"Account created successfully!":"Signed in successfully!"}),A.user.role==="CONSUMER"?c("/consumer-home"):A.user.role==="MERCHANT"?c("/merchant-dashboard"):A.user.role==="DRIVER"?sessionStorage.getItem("selectedDriverTier")?(sessionStorage.setItem("promptKYCVerification","true"),c("/driver-dashboard")):c("/driver-tier-selection"):c("/dashboard")}catch(S){console.error("Apple backend authentication failed:",S),x(S instanceof Error?S.message:"Apple sign-in failed. Please try again."),y(!0)}finally{p(!1)}},C=>{console.error("Apple login error:",C),x("Apple sign-in failed. Please try again."),y(!0),p(!1)}),await T.signInWithApple()}catch(T){console.error("Apple login initialization error:",T),x("Apple sign-in is not available at the moment."),y(!0),p(!1)}},_=async()=>{try{p(!0);const{socialAuth:T}=await bh(async()=>{const{socialAuth:C}=await import("./social-auth-B25nWjSb.js");return{socialAuth:C}},[]);T.setCallbacks(async C=>{try{console.log("Facebook login success:",C);const S=await fetch("/api/auth/social-login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({provider:C.provider,socialId:C.id,email:C.email,name:C.name,picture:C.picture||""})}),A=await S.json();if(!S.ok)throw new Error(A.message||"Social login failed");d(A.user),l({title:"Welcome back!",description:A.isNewUser?"Account created successfully!":"Signed in successfully!"}),A.user.role==="CONSUMER"?c("/consumer-home"):A.user.role==="MERCHANT"?c("/merchant-dashboard"):A.user.role==="DRIVER"?sessionStorage.getItem("selectedDriverTier")?(sessionStorage.setItem("promptKYCVerification","true"),c("/driver-dashboard")):c("/driver-tier-selection"):c("/dashboard")}catch(S){console.error("Facebook backend authentication failed:",S),x(S instanceof Error?S.message:"Facebook sign-in failed. Please try again."),y(!0)}finally{p(!1)}},C=>{console.error("Facebook login error:",C),x("Facebook sign-in failed. Please try again."),y(!0),p(!1)}),await T.signInWithFacebook()}catch(T){console.error("Facebook login initialization error:",T),x("Facebook sign-in is not available at the moment."),y(!0),p(!1)}};return E.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white",children:E.jsxs("div",{className:"px-4 sm:px-6 py-6 sm:py-8 pt-12 sm:pt-16",children:[E.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[E.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg",children:E.jsx("img",{src:gv,alt:"Brillprime Logo",className:"w-12 h-12 sm:w-16 sm:h-16 object-contain"})}),E.jsx("h1",{className:"text-lg sm:text-xl font-extrabold text-[var(--brill-primary)] mb-2",children:"Welcome Back"}),E.jsx("p",{className:"text-[var(--brill-text-light)] font-light text-sm",children:"Sign in to your account"})]}),E.jsx($L,{...h,children:E.jsxs("form",{onSubmit:h.handleSubmit(m),className:"space-y-4 mb-6",children:[E.jsx(_h,{control:h.control,name:"email",render:({field:T})=>E.jsxs(ad,{children:[E.jsx(cd,{children:E.jsxs("div",{className:"relative",children:[E.jsx(ld,{type:"email",placeholder:"Email Address",className:"h-14 pl-12 border-[var(--brill-secondary)] rounded-brill font-medium placeholder:text-[var(--brill-text-light)] focus-visible:ring-[var(--brill-secondary)]",...T}),E.jsx($D,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[var(--brill-text-light)] h-5 w-5"})]})}),E.jsx(Sg,{className:"text-xs"})]})}),E.jsx(_h,{control:h.control,name:"password",render:({field:T})=>E.jsxs(ad,{children:[E.jsx(cd,{children:E.jsxs("div",{className:"relative",children:[E.jsx(ld,{type:t?"text":"password",placeholder:"Password",className:"h-14 pl-12 pr-12 border-[var(--brill-secondary)] rounded-brill font-medium placeholder:text-[var(--brill-text-light)] focus-visible:ring-[var(--brill-secondary)]",...T}),E.jsx(BD,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[var(--brill-text-light)] h-5 w-5"}),E.jsx(Ke,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>e(!t),children:t?E.jsx(MD,{className:"h-4 w-4 text-[var(--brill-text-light)]"}):E.jsx(DD,{className:"h-4 w-4 text-[var(--brill-text-light)]"})})]})}),E.jsx(Sg,{className:"text-xs"})]})}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx(_h,{control:h.control,name:"rememberMe",render:({field:T})=>E.jsxs(ad,{className:"flex flex-row items-center space-x-2 space-y-0",children:[E.jsx(cd,{children:E.jsx(ld,{type:"checkbox",checked:T.value,onChange:T.onChange,className:"h-4 w-4 border-[var(--brill-secondary)] focus-visible:ring-[var(--brill-secondary)]"})}),E.jsx("label",{htmlFor:T.name,className:"text-sm font-medium text-[var(--brill-text-light)] leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Remember me"})]})}),E.jsx(Ke,{type:"button",variant:"link",onClick:()=>c("/forgot-password"),className:"text-[var(--brill-secondary)] text-sm font-medium p-0 h-auto",children:"Forgot Password?"})]}),E.jsx(qL,{type:"submit",loading:w.isPending,loadingText:"Signing In...",className:"w-full h-14 mt-6",children:"Sign In"})]})}),E.jsxs("div",{className:"space-y-4 mb-6",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("span",{className:"w-full border-t border-gray-300"})}),E.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:E.jsx("span",{className:"bg-white px-2 text-[var(--brill-text-light)]",children:"Or continue with"})})]}),E.jsxs("div",{className:"flex justify-center gap-4",children:[E.jsx(Ke,{type:"button",variant:"outline",onClick:b,className:"h-12 w-12 rounded-full border-2 border-[var(--brill-secondary)] hover:bg-gray-50 p-0 flex items-center justify-center",children:E.jsx("img",{src:YD,alt:"Google",className:"w-5 h-5"})}),E.jsx(Ke,{type:"button",variant:"outline",onClick:g,className:"h-12 w-12 rounded-full border-2 border-[var(--brill-secondary)] hover:bg-gray-50 p-0 flex items-center justify-center",children:E.jsx("img",{src:JD,alt:"Apple",className:"w-5 h-5"})}),E.jsx(Ke,{type:"button",variant:"outline",onClick:_,className:"h-12 w-12 rounded-full border-2 border-[var(--brill-secondary)] hover:bg-gray-50 p-0 flex items-center justify-center",children:E.jsx("img",{src:XD,alt:"Facebook",className:"w-5 h-5"})})]})]}),E.jsx("div",{className:"text-center",children:E.jsxs("p",{className:"text-[var(--brill-text-light)] text-sm",children:["Don't have an account?"," ",E.jsx(Ke,{variant:"link",className:"text-[var(--brill-secondary)] font-medium p-0 h-auto",onClick:()=>c("/role-selection"),children:"Sign Up"})]})})]})})}const Mr=J.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:Rt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Mr.displayName="Card";const Ko=J.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:Rt("flex flex-col space-y-1.5 p-6",t),...e}));Ko.displayName="CardHeader";const Yo=J.forwardRef(({className:t,...e},n)=>E.jsx("h3",{ref:n,className:Rt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Yo.displayName="CardTitle";const BO=J.forwardRef(({className:t,...e},n)=>E.jsx("p",{ref:n,className:Rt("text-sm text-muted-foreground",t),...e}));BO.displayName="CardDescription";const vr=J.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:Rt("p-6 pt-0",t),...e}));vr.displayName="CardContent";const D6=J.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:Rt("flex items-center p-6 pt-0",t),...e}));D6.displayName="CardFooter";const ds=J.forwardRef(({className:t,variant:e="default",...n},r)=>{const s={default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"};return E.jsx("div",{ref:r,className:Rt("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",s[e],t),...n})});ds.displayName="Badge";const Vr=Object.create(null);Vr.open="0";Vr.close="1";Vr.ping="2";Vr.pong="3";Vr.message="4";Vr.upgrade="5";Vr.noop="6";const dd=Object.create(null);Object.keys(Vr).forEach(t=>{dd[Vr[t]]=t});const Bg={type:"error",data:"parser error"},$O=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",zO=typeof ArrayBuffer=="function",UO=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Kp=({type:t,data:e},n,r)=>$O&&e instanceof Blob?n?r(e):Xb(e,r):zO&&(e instanceof ArrayBuffer||UO(e))?n?r(e):Xb(new Blob([e]),r):r(Vr[t]+(e||"")),Xb=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function Zb(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Th;function L6(t,e){if($O&&t.data instanceof Blob)return t.data.arrayBuffer().then(Zb).then(e);if(zO&&(t.data instanceof ArrayBuffer||UO(t.data)))return e(Zb(t.data));Kp(t,!1,n=>{Th||(Th=new TextEncoder),e(Th.encode(n))})}const ew="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_c=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<ew.length;t++)_c[ew.charCodeAt(t)]=t;const B6=t=>{let e=t.length*.75,n=t.length,r,s=0,i,o,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<n;r+=4)i=_c[t.charCodeAt(r)],o=_c[t.charCodeAt(r+1)],a=_c[t.charCodeAt(r+2)],c=_c[t.charCodeAt(r+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|c&63;return l},$6=typeof ArrayBuffer=="function",Yp=(t,e)=>{if(typeof t!="string")return{type:"message",data:qO(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:z6(t.substring(1),e)}:dd[n]?t.length>1?{type:dd[n],data:t.substring(1)}:{type:dd[n]}:Bg},z6=(t,e)=>{if($6){const n=B6(t);return qO(n,e)}else return{base64:!0,data:t}},qO=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},QO="",VO=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((i,o)=>{Kp(i,!1,a=>{r[o]=a,++s===n&&e(r.join(QO))})})},HO=(t,e)=>{const n=t.split(QO),r=[];for(let s=0;s<n.length;s++){const i=Yp(n[s],e);if(r.push(i),i.type==="error")break}return r};function GO(){return new TransformStream({transform(t,e){L6(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let Nh;function ku(t){return t.reduce((e,n)=>e+n.length,0)}function Cu(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function WO(t,e){Nh||(Nh=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(ku(n)<1)break;const c=Cu(n,1);i=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(ku(n)<2)break;const c=Cu(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(ku(n)<8)break;const c=Cu(n,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(Bg);break}s=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(ku(n)<s)break;const c=Cu(n,s);a.enqueue(Yp(i?c:Nh.decode(c),e)),r=0}if(s===0||s>t){a.enqueue(Bg);break}}}})}const Wv=4,U6=Object.freeze(Object.defineProperty({__proto__:null,createPacketDecoderStream:WO,createPacketEncoderStream:GO,decodePacket:Yp,decodePayload:HO,encodePacket:Kp,encodePayload:VO,protocol:Wv},Symbol.toStringTag,{value:"Module"}));function Pt(t){if(t)return q6(t)}function q6(t){for(var e in Pt.prototype)t[e]=Pt.prototype[e];return t}Pt.prototype.on=Pt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Pt.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Pt.prototype.off=Pt.prototype.removeListener=Pt.prototype.removeAllListeners=Pt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Pt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};Pt.prototype.emitReserved=Pt.prototype.emit;Pt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Pt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Jp=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Xn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Q6="arraybuffer";function KO(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const V6=Xn.setTimeout,H6=Xn.clearTimeout;function Xp(t,e){e.useNativeTimers?(t.setTimeoutFn=V6.bind(Xn),t.clearTimeoutFn=H6.bind(Xn)):(t.setTimeoutFn=Xn.setTimeout.bind(Xn),t.clearTimeoutFn=Xn.clearTimeout.bind(Xn))}const G6=1.33;function W6(t){return typeof t=="string"?K6(t):Math.ceil((t.byteLength||t.size)*G6)}function K6(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function YO(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Y6(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function J6(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class X6 extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}let Kv=class extends Pt{constructor(e){super(),this.writable=!1,Xp(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new X6(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Yp(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Y6(e);return n.length?"?"+n:""}},Z6=class extends Kv{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};HO(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,VO(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=YO()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}},JO=!1;try{JO=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const e$=JO;function t$(){}class n$ extends Z6{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class $r extends Pt{constructor(e,n,r){super(),this.createRequest=e,Xp(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=KO(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=$r.requestsCount++,$r.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=t$,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete $r.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}$r.requestsCount=0;$r.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",tw);else if(typeof addEventListener=="function"){const t="onpagehide"in Xn?"pagehide":"unload";addEventListener(t,tw,!1)}}function tw(){for(let t in $r.requests)$r.requests.hasOwnProperty(t)&&$r.requests[t].abort()}const r$=function(){const t=XO({xdomain:!1});return t&&t.responseType!==null}();class s$ extends n${constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=r$&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new $r(XO,this.uri(),e)}}function XO(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||e$))return new XMLHttpRequest}catch{}if(!e)try{return new Xn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ZO=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class i$ extends Kv{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=ZO?{}:KO(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;Kp(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&Jp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=YO()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Rh=Xn.WebSocket||Xn.MozWebSocket;class o$ extends i${createSocket(e,n,r){return ZO?new Rh(e,n,r):n?new Rh(e,n):new Rh(e)}doWrite(e,n){this.ws.send(n)}}class a$ extends Kv{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=WO(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=GO();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&Jp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const c$={websocket:o$,webtransport:a$,polling:s$},l$=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,u$=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $g(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=l$.exec(t||""),i={},o=14;for(;o--;)i[u$[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=d$(i,i.path),i.queryKey=p$(i,i.query),i}function d$(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function p$(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const zg=typeof addEventListener=="function"&&typeof removeEventListener=="function",pd=[];zg&&addEventListener("offline",()=>{pd.forEach(t=>t())},!1);class pi extends Pt{constructor(e,n){if(super(),this.binaryType=Q6,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=$g(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=$g(n.host).host);Xp(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=J6(this.opts.query)),zg&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pd.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Wv,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&pi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",pi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=W6(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Jp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(pi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),zg&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=pd.indexOf(this._offlineEventListener);r!==-1&&pd.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}pi.protocol=Wv;class f$ extends pi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;pi.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;pi.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function i(){r||(r=!0,u(),n.close(),n=null)}const o=d=>{const p=new Error("probe error: "+d);p.transport=n.name,i(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function c(){o("socket closed")}function l(d){n&&d.name!==n.name&&i()}const u=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let h$=class extends f${constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>c$[s]).filter(s=>!!s)),super(e,r)}};function m$(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=$g(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const g$=typeof ArrayBuffer=="function",y$=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,eP=Object.prototype.toString,v$=typeof Blob=="function"||typeof Blob<"u"&&eP.call(Blob)==="[object BlobConstructor]",x$=typeof File=="function"||typeof File<"u"&&eP.call(File)==="[object FileConstructor]";function Yv(t){return g$&&(t instanceof ArrayBuffer||y$(t))||v$&&t instanceof Blob||x$&&t instanceof File}function fd(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(fd(t[n]))return!0;return!1}if(Yv(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return fd(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&fd(t[n]))return!0;return!1}function b$(t){const e=[],n=t.data,r=t;return r.data=Ug(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Ug(t,e){if(!t)return t;if(Yv(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Ug(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Ug(t[r],e));return n}return t}function w$(t,e){return t.data=qg(t.data,e),delete t.attachments,t}function qg(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=qg(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=qg(t[n],e));return t}const S$=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],_$=5;var ze;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(ze||(ze={}));class E${constructor(e){this.replacer=e}encode(e){return(e.type===ze.EVENT||e.type===ze.ACK)&&fd(e)?this.encodeAsBinary({type:e.type===ze.EVENT?ze.BINARY_EVENT:ze.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===ze.BINARY_EVENT||e.type===ze.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=b$(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function nw(t){return Object.prototype.toString.call(t)==="[object Object]"}class Jv extends Pt{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===ze.BINARY_EVENT;r||n.type===ze.BINARY_ACK?(n.type=r?ze.EVENT:ze.ACK,this.reconstructor=new k$(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Yv(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(ze[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===ze.BINARY_EVENT||r.type===ze.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(i,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(i,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(Jv.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case ze.CONNECT:return nw(n);case ze.DISCONNECT:return n===void 0;case ze.CONNECT_ERROR:return typeof n=="string"||nw(n);case ze.EVENT:case ze.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&S$.indexOf(n[0])===-1);case ze.ACK:case ze.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class k${constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=w$(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const tP=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Jv,Encoder:E$,get PacketType(){return ze},protocol:_$},Symbol.toStringTag,{value:"Module"}));function dr(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const C$=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});let nP=class extends Pt{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[dr(e,"open",this.onopen.bind(this)),dr(e,"packet",this.onpacket.bind(this)),dr(e,"error",this.onerror.bind(this)),dr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,i;if(C$.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:ze.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,d=n.pop();this._registerAckCallback(u,d),o.id=u}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ze.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ze.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ze.EVENT:case ze.BINARY_EVENT:this.onevent(e);break;case ze.ACK:case ze.BINARY_ACK:this.onack(e);break;case ze.DISCONNECT:this.ondisconnect();break;case ze.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:ze.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ze.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}};function Qa(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Qa.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Qa.prototype.reset=function(){this.attempts=0};Qa.prototype.setMin=function(t){this.ms=t};Qa.prototype.setMax=function(t){this.max=t};Qa.prototype.setJitter=function(t){this.jitter=t};class Qg extends Pt{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Xp(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Qa({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||tP;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new h$(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=dr(n,"open",function(){r.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=dr(n,"error",i);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(dr(e,"ping",this.onping.bind(this)),dr(e,"data",this.ondata.bind(this)),dr(e,"error",this.onerror.bind(this)),dr(e,"close",this.onclose.bind(this)),dr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Jp(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new nP(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const fc={};function hd(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=m$(t,e.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=fc[s]&&i in fc[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return a?c=new Qg(r,e):(fc[s]||(fc[s]=new Qg(r,e)),c=fc[s]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(hd,{Manager:Qg,Socket:nP,io:hd,connect:hd});function Zp(){const[t,e]=J.useState(null),[n,r]=J.useState(!1),{user:s}=$a(),i=J.useRef(0),o=5;return J.useEffect(()=>{if(!s){t&&(t.disconnect(),e(null),r(!1));return}const u=window.location.origin,d=hd(u,{transports:["websocket","polling"],autoConnect:!0,reconnection:!0,reconnectionAttempts:o,reconnectionDelay:1e3});return d.on("connect",()=>{console.log("WebSocket connected"),r(!0),i.current=0,d.emit("join_user_room",s.id),s.role==="ADMIN"&&(d.emit("join_admin_room","user_management"),d.emit("join_admin_room","transaction_monitoring"),d.emit("join_admin_room","kyc_verification"))}),d.on("disconnect",()=>{console.log("WebSocket disconnected"),r(!1)}),d.on("connect_error",p=>{console.error("WebSocket connection error:",p),i.current+=1,i.current>=o&&console.error("Max reconnection attempts reached")}),d.on("CONNECTION_ACK",p=>{console.log("Connection acknowledged:",p)}),e(d),()=>{d.disconnect()}},[s]),{socket:t,connected:n,emit:(u,d)=>{t&&n?t.emit(u,d):console.warn("Socket not connected, cannot emit event:",u)},on:(u,d)=>{t&&t.on(u,d)},off:(u,d)=>{t&&(d?t.off(u,d):t.off(u))}}}function A$(){const{connected:t,on:e,off:n}=Zp(),[r,s]=J.useState([]),[i,o]=J.useState({});return J.useEffect(()=>{if(!t)return;const a=u=>{console.log("Order update received:",u),o(d=>({...d,[u.orderId]:u})),s(d=>d.map(p=>p.id===u.orderId?{...p,status:u.status,...u}:p))},c=u=>{console.log("New order received:",u),s(d=>[u,...d])},l=u=>{console.log("Order status changed:",u),o(d=>({...d,[u.orderId]:u}))};return e("order_update",a),e("new_order",c),e("order_status_changed",l),()=>{n("order_update",a),n("new_order",c),n("order_status_changed",l)}},[t,e,n]),{orders:r,setOrders:s,orderUpdates:i,connected:t,connectionError:t?null:"WebSocket disconnected"}}function rP(){const{connected:t,on:e,off:n}=Zp(),[r,s]=J.useState([]);return J.useEffect(()=>{if(!t)return;const o=c=>{console.log("New notification:",c),s(l=>[c,...l])},a=c=>{console.log("Order notification:",c),s(l=>[{id:Date.now(),title:"Order Update",message:c.message,type:c.type,isRead:!1,createdAt:new Date().toISOString(),...c},...l])};return e("notification",o),e("order_notification",a),()=>{n("notification",o),n("order_notification",a)}},[t,e,n]),{notifications:r,markAsRead:o=>{s(a=>a.map(c=>c.id===o?{...c,isRead:!0}:c))}}}function T$(t){const{connected:e,on:n,off:r,emit:s}=Zp(),[i,o]=J.useState([]),[a,c]=J.useState([]);return J.useEffect(()=>{if(!e||!t)return;s("join_conversation",t);const p=h=>{console.log("New message:",h),o(w=>[...w,h])},x=h=>{c(w=>[...w.filter(m=>m.userId!==h.userId),h]),setTimeout(()=>{c(w=>w.filter(m=>m.userId!==h.userId))},3e3)},y=h=>{c(w=>w.filter(m=>m.userId!==h.userId))};return n("new_message",p),n("user_typing",x),n("user_stopped_typing",y),()=>{r("new_message",p),r("user_typing",x),r("user_stopped_typing",y)}},[e,t,n,r,s]),{messages:i,typing:a,sendMessage:(p,x="TEXT")=>{t&&e&&s("send_message",{conversationId:t,content:p,messageType:x})},startTyping:(p,x)=>{t&&e&&s("typing_start",{conversationId:t,userId:p,userName:x})},stopTyping:p=>{t&&e&&s("typing_stop",{conversationId:t,userId:p})}}}const N$=A$,R$=rP,O$=T$,P$="/api";async function de(t,e={}){try{const n=await fetch(`${P$}${t}`,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e}),r=await n.json();if(!n.ok)throw new Error(r.message||`HTTP ${n.status}: Request failed`);return r}catch(n){if(console.error(`API Error (${t}):`,n),t!=="/analytics/log-error")try{await fetch("/api/analytics/log-error",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:t,error:n.message,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href})})}catch(r){console.error("Failed to log error:",r)}return{success:!1,error:n.message||"Network error occurred"}}}class I${constructor(){N(this,"ws",null);N(this,"reconnectAttempts",0);N(this,"maxReconnectAttempts",5);N(this,"listeners",new Map)}connect(){const n=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}`;this.ws=new WebSocket(n),this.ws.onopen=()=>{console.log("WebSocket connected"),this.reconnectAttempts=0},this.ws.onmessage=r=>{try{const s=JSON.parse(r.data);this.emit(s.type,s.payload)}catch(s){console.error("WebSocket message parsing error:",s)}},this.ws.onclose=()=>{console.log("WebSocket disconnected"),this.reconnect()},this.ws.onerror=r=>{console.error("WebSocket error:",r)}}reconnect(){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,setTimeout(()=>this.connect(),1e3*this.reconnectAttempts))}on(e,n){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(n)}emit(e,n){(this.listeners.get(e)||[]).forEach(s=>s(n))}disconnect(){this.ws&&(this.ws.close(),this.ws=null)}}const nn=new I$,sP={login:async t=>{const e=await de("/auth/login",{method:"POST",body:JSON.stringify(t)});return e.success&&nn.connect(),e},register:async t=>{const e=await de("/auth/register",{method:"POST",body:JSON.stringify(t)});return e.success&&nn.connect(),e},logout:async()=>{const t=await de("/auth/logout",{method:"POST"});return nn.disconnect(),t},getCurrentUser:()=>de("/auth/me"),verifyOtp:t=>de("/auth/verify-otp",{method:"POST",body:JSON.stringify(t)}),resendOtp:t=>de("/auth/resend-otp",{method:"POST",body:JSON.stringify({phone:t})}),validateSession:()=>de("/auth/validate-session")},j$={getStatus:()=>de("/verification-enhanced/status"),uploadDocument:async t=>(await fetch("/api/verification-enhanced/documents/upload",{method:"POST",credentials:"include",body:t})).json(),verifyBiometric:t=>de("/verification-enhanced/biometric/verify",{method:"POST",body:JSON.stringify(t)}),submitKyc:t=>de("/verification-enhanced/kyc/enhanced",{method:"POST",body:JSON.stringify(t)}),subscribeToUpdates:t=>{nn.on("verification_update",t)}},F$={getStatus:()=>de("/mfa/status"),setup:t=>de("/mfa/setup",{method:"POST",body:JSON.stringify(t)}),generateToken:t=>de("/mfa/generate-token",{method:"POST",body:JSON.stringify(t)}),verify:t=>de("/mfa/verify",{method:"POST",body:JSON.stringify(t)}),disable:t=>de("/mfa/disable",{method:"POST",body:JSON.stringify({confirmationToken:t})})},M$={initializePayment:t=>de("/payments/initialize",{method:"POST",body:JSON.stringify(t)}),verifyPayment:t=>de(`/payments/verify/${t}`),getPaymentMethods:()=>de("/payments/methods"),addPaymentMethod:t=>de("/payments/methods",{method:"POST",body:JSON.stringify(t)}),deletePaymentMethod:t=>de(`/payments/methods/${t}`,{method:"DELETE"}),subscribeToPaymentUpdates:t=>{nn.on("payment_update",t)}},D$={getBalance:()=>de("/wallet/balance"),getTransactions:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,r])=>{r!==void 0&&e.append(n,r.toString())}),de(`/wallet/transactions?${e}`)},fundWallet:t=>de("/wallet/fund",{method:"POST",body:JSON.stringify({amount:t})}),withdraw:t=>de("/withdrawal/initiate",{method:"POST",body:JSON.stringify(t)}),transfer:t=>de("/wallet/transfer",{method:"POST",body:JSON.stringify(t)}),subscribeToWalletUpdates:t=>{nn.on("wallet_update",t)}},L$={getOrders:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,r])=>{r!==void 0&&e.append(n,r.toString())}),de(`/orders?${e}`)},getOrder:t=>de(`/orders/${t}`),createOrder:t=>de("/orders",{method:"POST",body:JSON.stringify(t)}),updateOrderStatus:(t,e,n)=>de(`/orders/${t}/status`,{method:"PUT",body:JSON.stringify({status:e,location:n})}),cancelOrder:(t,e)=>de(`/orders/${t}/cancel`,{method:"PUT",body:JSON.stringify({reason:e})}),subscribeToOrderUpdates:(t,e)=>{nn.on(`order_${t}_update`,e)},bulkUpdateOrders:t=>de("/orders/bulk-update",{method:"PUT",body:JSON.stringify({updates:t})})},B$={getProducts:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,r])=>{r!==void 0&&e.append(n,r.toString())}),de(`/products?${e}`)},getProduct:t=>de(`/products/${t}`),getCategories:()=>de("/products/categories"),createProduct:t=>de("/products",{method:"POST",body:JSON.stringify(t)}),updateProduct:(t,e)=>de(`/products/${t}`,{method:"PUT",body:JSON.stringify(e)}),deleteProduct:t=>de(`/products/${t}`,{method:"DELETE"}),subscribeToInventoryUpdates:(t,e)=>{nn.on(`product_${t}_inventory`,e)}},$$={updateLocation:t=>de("/drivers/location/update",{method:"POST",body:JSON.stringify({...t,timestamp:new Date().toISOString()})}),toggleAvailability:()=>de("/drivers/availability/toggle",{method:"POST"}),getActiveOrders:()=>de("/drivers/orders/active"),acceptOrder:t=>de(`/drivers/orders/${t}/accept`,{method:"POST"}),completeDelivery:(t,e)=>de(`/drivers/orders/${t}/complete`,{method:"POST",body:JSON.stringify(e)}),getEarnings:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,r])=>{r!==void 0&&e.append(n,r.toString())}),de(`/drivers/earnings?${e}`)},subscribeToDriverUpdates:t=>{nn.on("driver_update",t)},getPerformanceMetrics:()=>de("/drivers/performance")},z$={getOrderTracking:t=>de(`/tracking/order/${t}`),getDriverLocation:t=>de(`/tracking/driver/${t}`),updateDeliveryStatus:(t,e,n)=>de(`/tracking/order/${t}/status`,{method:"POST",body:JSON.stringify({status:e,location:n,timestamp:new Date().toISOString()})}),subscribeToOrderTracking:(t,e)=>{nn.on(`tracking_${t}`,e)},subscribeToDriverTracking:(t,e)=>{nn.on(`driver_location_${t}`,e)},getMultipleOrderTracking:t=>de("/tracking/orders/batch",{method:"POST",body:JSON.stringify({orderIds:t})})},U$={createTicket:t=>{var n;const e=new FormData;return e.append("subject",t.subject),e.append("message",t.message),t.priority&&e.append("priority",t.priority),t.category&&e.append("category",t.category),(n=t.attachments)==null||n.forEach((r,s)=>{e.append(`attachment_${s}`,r)}),fetch("/api/support/tickets",{method:"POST",credentials:"include",body:e}).then(r=>r.json())},getTickets:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,r])=>{r!==void 0&&e.append(n,r.toString())}),de(`/support/tickets?${e}`)},getTicket:t=>de(`/support/tickets/${t}`),addResponse:(t,e,n)=>{const r=new FormData;return r.append("message",e),n==null||n.forEach((s,i)=>{r.append(`attachment_${i}`,s)}),fetch(`/api/support/tickets/${t}/responses`,{method:"POST",credentials:"include",body:r}).then(s=>s.json())},subscribeToTicketUpdates:(t,e)=>{nn.on(`ticket_${t}_update`,e)}},q$={getNotifications:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,r])=>{r!==void 0&&e.append(n,r.toString())}),de(`/notifications?${e}`)},markAsRead:t=>de(`/notifications/${t}/read`,{method:"PUT"}),markAllAsRead:()=>de("/notifications/read-all",{method:"PUT"}),deleteNotification:t=>de(`/notifications/${t}`,{method:"DELETE"}),subscribeToNotifications:t=>{nn.on("new_notification",t)},getPreferences:()=>de("/notifications/preferences"),updatePreferences:t=>de("/notifications/preferences",{method:"PUT",body:JSON.stringify(t)})},Q$={getDashboardStats:t=>{const e=t?`?timeRange=${t}`:"";return de(`/analytics/dashboard${e}`)},getOrderStats:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,r])=>{r!==void 0&&e.append(n,r.toString())}),de(`/analytics/orders?${e}`)},getRevenueStats:(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([n,r])=>{r!==void 0&&e.append(n,r.toString())}),de(`/analytics/revenue?${e}`)},getCustomerStats:()=>de("/analytics/customers"),getPopularProducts:t=>de(`/analytics/products/popular${t?`?limit=${t}`:""}`),subscribeToAnalytics:t=>{nn.on("analytics_update",t)},getPerformanceMetrics:()=>de("/analytics/performance"),customQuery:t=>de("/analytics/custom",{method:"POST",body:JSON.stringify(t)})},V$={getStations:t=>{const e=t?`?lat=${t.lat}&lng=${t.lng}&radius=${t.radius||5}`:"";return de(`/fuel/stations${e}`)},createFuelOrder:t=>de("/fuel/orders",{method:"POST",body:JSON.stringify(t)}),getFuelOrders:()=>de("/fuel/orders"),getFuelOrder:t=>de(`/fuel/orders/${t}`),cancelFuelOrder:t=>de(`/fuel/orders/${t}/cancel`,{method:"PUT"})},H$={getTollGates:t=>t?de("/toll/gates/route",{method:"POST",body:JSON.stringify(t)}):de("/toll/gates"),calculateTollFee:t=>de("/toll/calculate",{method:"POST",body:JSON.stringify(t)}),payToll:t=>de("/toll/pay",{method:"POST",body:JSON.stringify(t)}),getTollHistory:()=>de("/toll/history")};typeof window<"u"&&sP.getCurrentUser().then(t=>{t.success&&nn.connect()});const G$={auth:sP,verification:j$,mfa:F$,payment:M$,wallet:D$,order:L$,product:B$,driver:$$,tracking:z$,support:U$,notification:q$,analytics:Q$,fuel:V$,toll:H$,wsManager:nn,getDashboardData:()=>de("/dashboard")};function W$(){var y,h;const[,t]=io(),{user:e,logout:n,loading:r}=$a(),{connected:s}=Zp(),{notifications:i}=rP(),[o,a]=J.useState(null),[c,l]=J.useState(!0),[u,d]=J.useState(null);J.useEffect(()=>{if(!e){t("/signin");return}(async()=>{l(!0),d(null);try{const m=await G$.getDashboardData();m.success&&m.data?a(m.data):d(m.error||"Failed to load dashboard data")}catch(m){d("Failed to load dashboard data"),console.error("Dashboard error:",m)}finally{l(!1)}})()},[e,t]);const p=()=>{e&&(e.role==="CONSUMER"?t("/consumer-home"):e.role==="MERCHANT"?t("/merchant-dashboard"):e.role==="DRIVER"&&t("/driver-dashboard"))},x=()=>!(o!=null&&o.recentActivity)||o.recentActivity.length===0?E.jsx("p",{className:"text-gray-500",children:"No recent activity."}):o.recentActivity.map(w=>E.jsxs("div",{className:"flex items-center justify-between mb-3 last:mb-0",children:[E.jsxs("div",{className:"flex items-center",children:[w.type==="order"&&E.jsx(zD,{className:"h-5 w-5 text-blue-500 mr-2"}),w.type==="payment"&&E.jsx(bg,{className:"h-5 w-5 text-green-500 mr-2"}),w.type==="delivery"&&E.jsx(y2,{className:"h-5 w-5 text-yellow-500 mr-2"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.description}),E.jsx("p",{className:"text-xs text-gray-500",children:w.time})]})]}),w.type==="order"&&E.jsx(ds,{variant:"outline",children:"New"}),w.type==="payment"&&E.jsx(ds,{variant:"secondary",children:"Completed"}),w.type==="delivery"&&E.jsx(ds,{variant:"outline",children:"Pending"})]},w.id));return E.jsx("div",{className:"w-full min-h-screen bg-gray-50 p-6",children:E.jsxs(Mr,{className:"w-full max-w-xl mx-auto shadow-lg",children:[E.jsxs(Ko,{className:"flex flex-row items-center justify-between bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-t-lg p-6",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx(HD,{className:"h-8 w-8 mr-4"}),E.jsxs("div",{children:[E.jsx(Yo,{className:"text-2xl font-bold",children:(e==null?void 0:e.name)||"Dashboard"}),E.jsx(BO,{className:"text-blue-100",children:(e==null?void 0:e.role)||"User"})]})]}),E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx(ds,{variant:"outline",className:"text-white border-white",children:s?"Online":"Offline"}),E.jsxs(Ke,{variant:"ghost",className:"text-white hover:text-blue-200 p-0",onClick:()=>t("/notifications"),children:[E.jsx(g2,{className:"h-6 w-6"}),i.length>0&&E.jsx("span",{className:"ml-1 bg-red-500 text-white rounded-full px-2 py-0.5 text-xs",children:i.length})]}),E.jsx(Ke,{variant:"ghost",className:"text-white hover:text-red-300 p-0",onClick:n,children:E.jsx(UD,{className:"h-6 w-6"})})]})]}),E.jsxs(vr,{className:"p-6",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsxs("p",{className:"text-lg text-gray-700 mb-1",children:["Welcome back, ",(e==null?void 0:e.name)||"Valued User","!"]}),E.jsx("p",{className:"text-sm text-gray-500",children:"Your financial hub."})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[E.jsxs(Mr,{className:"border-gray-200",children:[E.jsxs(Ko,{className:"flex flex-row items-center justify-between pb-2",children:[E.jsx(Yo,{className:"text-base font-normal text-muted-foreground",children:"Total Orders"}),E.jsx(qD,{className:"h-4 w-4 text-muted-foreground"})]}),E.jsxs(vr,{children:[c?E.jsx("p",{className:"text-2xl font-bold",children:"Loading..."}):u?E.jsx("p",{className:"text-2xl font-bold text-red-600",children:"Error"}):E.jsx("p",{className:"text-2xl font-bold",children:(o==null?void 0:o.stats.totalOrders)??0}),E.jsxs("p",{className:"text-xs text-muted-foreground",children:[(o==null?void 0:o.stats.pendingOrders)??0," pending"]})]})]}),E.jsxs(Mr,{className:"border-gray-200",children:[E.jsxs(Ko,{className:"flex flex-row items-center justify-between pb-2",children:[E.jsx(Yo,{className:"text-base font-normal text-muted-foreground",children:(e==null?void 0:e.role)==="MERCHANT"?"Total Earnings":(e==null?void 0:e.role)==="DRIVER"?"Total Earned":"Total Spent"}),E.jsx(VD,{className:"h-4 w-4 text-muted-foreground"})]}),E.jsxs(vr,{children:[c?E.jsx("p",{className:"text-2xl font-bold",children:"Loading..."}):u?E.jsx("p",{className:"text-2xl font-bold text-red-600",children:"Error"}):E.jsxs("p",{className:"text-2xl font-bold",children:["$",((y=o==null?void 0:o.stats.totalEarnings)==null?void 0:y.toLocaleString())??((h=o==null?void 0:o.stats.totalSpent)==null?void 0:h.toLocaleString())??0]}),E.jsx("p",{className:"text-xs text-muted-foreground",children:(e==null?void 0:e.role)==="MERCHANT"?`${(o==null?void 0:o.stats.completedOrders)??0} completed`:""})]})]}),E.jsxs(Mr,{className:"border-gray-200",children:[E.jsxs(Ko,{className:"flex flex-row items-center justify-between pb-2",children:[E.jsx(Yo,{className:"text-base font-normal text-muted-foreground",children:"Payment Status"}),E.jsx(bg,{className:"h-4 w-4 text-muted-foreground"})]}),E.jsxs(vr,{children:[c?E.jsx("p",{className:"text-2xl font-bold",children:"Loading..."}):u?E.jsx("p",{className:"text-2xl font-bold text-red-600",children:"Error"}):E.jsx("p",{className:`text-2xl font-bold ${(o==null?void 0:o.stats.pendingOrders)??!1?"text-yellow-600":"text-green-600"}`,children:(o==null?void 0:o.stats.pendingOrders)??!1?"Pending":"Cleared"}),E.jsxs("p",{className:"text-xs text-muted-foreground",children:[(o==null?void 0:o.stats.pendingOrders)??0," pending"]})]})]})]}),E.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Recent Activity"}),c?E.jsx("div",{className:"flex justify-center items-center h-20",children:E.jsx("p",{className:"text-gray-600",children:"Loading activity..."})}):u?E.jsxs("div",{className:"flex flex-col justify-center items-center h-20",children:[E.jsx(FD,{className:"h-6 w-6 text-red-500 mb-2"}),E.jsx("p",{className:"text-red-600",children:"Error loading activity."})]}):x()]}),E.jsx("div",{className:"mt-8",children:E.jsxs(Ke,{className:"w-full py-3 px-4 rounded-lg text-lg",onClick:p,disabled:r||c,children:["Go to ",(e==null?void 0:e.role)||"Main"," Dashboard"]})})]})]})})}var Vg={exports:{}};const K$={},Y$=Object.freeze(Object.defineProperty({__proto__:null,default:K$},Symbol.toStringTag,{value:"Module"})),he=Tl(Y$);var Xv={exports:{}},Zv={exports:{}};Zv.exports=iP;Zv.exports.preferredCharsets=iP;var J$=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function X$(t){for(var e=t.split(","),n=0,r=0;n<e.length;n++){var s=Z$(e[n].trim(),n);s&&(e[r++]=s)}return e.length=r,e}function Z$(t,e){var n=J$.exec(t);if(!n)return null;var r=n[1],s=1;if(n[2])for(var i=n[2].split(";"),o=0;o<i.length;o++){var a=i[o].trim().split("=");if(a[0]==="q"){s=parseFloat(a[1]);break}}return{charset:r,q:s,i:e}}function e8(t,e,n){for(var r={o:-1,q:0,s:0},s=0;s<e.length;s++){var i=t8(t,e[s],n);i&&(r.s-i.s||r.q-i.q||r.o-i.o)<0&&(r=i)}return r}function t8(t,e,n){var r=0;if(e.charset.toLowerCase()===t.toLowerCase())r|=1;else if(e.charset!=="*")return null;return{i:n,o:e.i,q:e.q,s:r}}function iP(t,e){var n=X$(t===void 0?"*":t||"");if(!e)return n.filter(sw).sort(rw).map(n8);var r=e.map(function(i,o){return e8(i,n,o)});return r.filter(sw).sort(rw).map(function(i){return e[r.indexOf(i)]})}function rw(t,e){return e.q-t.q||e.s-t.s||t.o-e.o||t.i-e.i||0}function n8(t){return t.charset}function sw(t){return t.q>0}var r8=Zv.exports,e0={exports:{}};e0.exports=aP;e0.exports.preferredEncodings=aP;var s8=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function i8(t){for(var e=t.split(","),n=!1,r=1,s=0,i=0;s<e.length;s++){var o=o8(e[s].trim(),s);o&&(e[i++]=o,n=n||oP("identity",o),r=Math.min(r,o.q||1))}return n||(e[i++]={encoding:"identity",q:r,i:s}),e.length=i,e}function o8(t,e){var n=s8.exec(t);if(!n)return null;var r=n[1],s=1;if(n[2])for(var i=n[2].split(";"),o=0;o<i.length;o++){var a=i[o].trim().split("=");if(a[0]==="q"){s=parseFloat(a[1]);break}}return{encoding:r,q:s,i:e}}function a8(t,e,n){for(var r={o:-1,q:0,s:0},s=0;s<e.length;s++){var i=oP(t,e[s],n);i&&(r.s-i.s||r.q-i.q||r.o-i.o)<0&&(r=i)}return r}function oP(t,e,n){var r=0;if(e.encoding.toLowerCase()===t.toLowerCase())r|=1;else if(e.encoding!=="*")return null;return{i:n,o:e.i,q:e.q,s:r}}function aP(t,e){var n=i8(t||"");if(!e)return n.filter(ow).sort(iw).map(c8);var r=e.map(function(i,o){return a8(i,n,o)});return r.filter(ow).sort(iw).map(function(i){return e[r.indexOf(i)]})}function iw(t,e){return e.q-t.q||e.s-t.s||t.o-e.o||t.i-e.i||0}function c8(t){return t.encoding}function ow(t){return t.q>0}var l8=e0.exports,t0={exports:{}};t0.exports=lP;t0.exports.preferredLanguages=lP;var u8=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function d8(t){for(var e=t.split(","),n=0,r=0;n<e.length;n++){var s=cP(e[n].trim(),n);s&&(e[r++]=s)}return e.length=r,e}function cP(t,e){var n=u8.exec(t);if(!n)return null;var r=n[1],s=n[2],i=r;s&&(i+="-"+s);var o=1;if(n[3])for(var a=n[3].split(";"),c=0;c<a.length;c++){var l=a[c].split("=");l[0]==="q"&&(o=parseFloat(l[1]))}return{prefix:r,suffix:s,q:o,i:e,full:i}}function p8(t,e,n){for(var r={o:-1,q:0,s:0},s=0;s<e.length;s++){var i=f8(t,e[s],n);i&&(r.s-i.s||r.q-i.q||r.o-i.o)<0&&(r=i)}return r}function f8(t,e,n){var r=cP(t);if(!r)return null;var s=0;if(e.full.toLowerCase()===r.full.toLowerCase())s|=4;else if(e.prefix.toLowerCase()===r.full.toLowerCase())s|=2;else if(e.full.toLowerCase()===r.prefix.toLowerCase())s|=1;else if(e.full!=="*")return null;return{i:n,o:e.i,q:e.q,s}}function lP(t,e){var n=d8(t===void 0?"*":t||"");if(!e)return n.filter(cw).sort(aw).map(h8);var r=e.map(function(i,o){return p8(i,n,o)});return r.filter(cw).sort(aw).map(function(i){return e[r.indexOf(i)]})}function aw(t,e){return e.q-t.q||e.s-t.s||t.o-e.o||t.i-e.i||0}function h8(t){return t.full}function cw(t){return t.q>0}var m8=t0.exports,n0={exports:{}};n0.exports=dP;n0.exports.preferredMediaTypes=dP;var g8=/^\s*([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/;function y8(t){for(var e=S8(t),n=0,r=0;n<e.length;n++){var s=uP(e[n].trim(),n);s&&(e[r++]=s)}return e.length=r,e}function uP(t,e){var n=g8.exec(t);if(!n)return null;var r=Object.create(null),s=1,i=n[2],o=n[1];if(n[3])for(var a=_8(n[3]).map(w8),c=0;c<a.length;c++){var l=a[c],u=l[0].toLowerCase(),d=l[1],p=d&&d[0]==='"'&&d[d.length-1]==='"'?d.substr(1,d.length-2):d;if(u==="q"){s=parseFloat(p);break}r[u]=p}return{type:o,subtype:i,params:r,q:s,i:e}}function v8(t,e,n){for(var r={o:-1,q:0,s:0},s=0;s<e.length;s++){var i=x8(t,e[s],n);i&&(r.s-i.s||r.q-i.q||r.o-i.o)<0&&(r=i)}return r}function x8(t,e,n){var r=uP(t),s=0;if(!r)return null;if(e.type.toLowerCase()==r.type.toLowerCase())s|=4;else if(e.type!="*")return null;if(e.subtype.toLowerCase()==r.subtype.toLowerCase())s|=2;else if(e.subtype!="*")return null;var i=Object.keys(e.params);if(i.length>0)if(i.every(function(o){return e.params[o]=="*"||(e.params[o]||"").toLowerCase()==(r.params[o]||"").toLowerCase()}))s|=1;else return null;return{i:n,o:e.i,q:e.q,s}}function dP(t,e){var n=y8(t===void 0?"*/*":t||"");if(!e)return n.filter(uw).sort(lw).map(b8);var r=e.map(function(i,o){return v8(i,n,o)});return r.filter(uw).sort(lw).map(function(i){return e[r.indexOf(i)]})}function lw(t,e){return e.q-t.q||e.s-t.s||t.o-e.o||t.i-e.i||0}function b8(t){return t.type+"/"+t.subtype}function uw(t){return t.q>0}function pP(t){for(var e=0,n=0;(n=t.indexOf('"',n))!==-1;)e++,n++;return e}function w8(t){var e=t.indexOf("="),n,r;return e===-1?n=t:(n=t.substr(0,e),r=t.substr(e+1)),[n,r]}function S8(t){for(var e=t.split(","),n=1,r=0;n<e.length;n++)pP(e[r])%2==0?e[++r]=e[n]:e[r]+=","+e[n];return e.length=r+1,e}function _8(t){for(var e=t.split(";"),n=1,r=0;n<e.length;n++)pP(e[r])%2==0?e[++r]=e[n]:e[r]+=";"+e[n];e.length=r+1;for(var n=0;n<e.length;n++)e[n]=e[n].trim();return e}var E8=n0.exports;/*!
 * negotiator
 * Copyright(c) 2012 Federico Romero
 * Copyright(c) 2012-2014 Isaac Z. Schlueter
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var k8=r8,C8=l8,A8=m8,T8=E8;Xv.exports=et;Xv.exports.Negotiator=et;function et(t){if(!(this instanceof et))return new et(t);this.request=t}et.prototype.charset=function(e){var n=this.charsets(e);return n&&n[0]};et.prototype.charsets=function(e){return k8(this.request.headers["accept-charset"],e)};et.prototype.encoding=function(e){var n=this.encodings(e);return n&&n[0]};et.prototype.encodings=function(e){return C8(this.request.headers["accept-encoding"],e)};et.prototype.language=function(e){var n=this.languages(e);return n&&n[0]};et.prototype.languages=function(e){return A8(this.request.headers["accept-language"],e)};et.prototype.mediaType=function(e){var n=this.mediaTypes(e);return n&&n[0]};et.prototype.mediaTypes=function(e){return T8(this.request.headers.accept,e)};et.prototype.preferredCharset=et.prototype.charset;et.prototype.preferredCharsets=et.prototype.charsets;et.prototype.preferredEncoding=et.prototype.encoding;et.prototype.preferredEncodings=et.prototype.encodings;et.prototype.preferredLanguage=et.prototype.language;et.prototype.preferredLanguages=et.prototype.languages;et.prototype.preferredMediaType=et.prototype.mediaType;et.prototype.preferredMediaTypes=et.prototype.mediaTypes;var N8=Xv.exports,fP={};const R8={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */var O8=R8;/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */(function(t){var e=O8,n=he.extname,r=/^\s*([^;\s]*)(?:;|\s|$)/,s=/^text\//i;t.charset=i,t.charsets={lookup:i},t.contentType=o,t.extension=a,t.extensions=Object.create(null),t.lookup=c,t.types=Object.create(null),l(t.extensions,t.types);function i(u){if(!u||typeof u!="string")return!1;var d=r.exec(u),p=d&&e[d[1].toLowerCase()];return p&&p.charset?p.charset:d&&s.test(d[1])?"UTF-8":!1}function o(u){if(!u||typeof u!="string")return!1;var d=u.indexOf("/")===-1?t.lookup(u):u;if(!d)return!1;if(d.indexOf("charset")===-1){var p=t.charset(d);p&&(d+="; charset="+p.toLowerCase())}return d}function a(u){if(!u||typeof u!="string")return!1;var d=r.exec(u),p=d&&t.extensions[d[1].toLowerCase()];return!p||!p.length?!1:p[0]}function c(u){if(!u||typeof u!="string")return!1;var d=n("x."+u).toLowerCase().substr(1);return d&&t.types[d]||!1}function l(u,d){var p=["nginx","apache",void 0,"iana"];Object.keys(e).forEach(function(y){var h=e[y],w=h.extensions;if(!(!w||!w.length)){u[y]=w;for(var m=0;m<w.length;m++){var b=w[m];if(d[b]){var g=p.indexOf(e[d[b]].source),_=p.indexOf(h.source);if(d[b]!=="application/octet-stream"&&(g>_||g===_&&d[b].substr(0,12)==="application/"))continue}d[b]=y}}})}})(fP);/*!
 * accepts
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var P8=N8,I8=fP,r0=Fn;function Fn(t){if(!(this instanceof Fn))return new Fn(t);this.headers=t.headers,this.negotiator=new P8(t)}Fn.prototype.type=Fn.prototype.types=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;n++)e[n]=arguments[n]}if(!e||e.length===0)return this.negotiator.mediaTypes();if(!this.headers.accept)return e[0];var r=e.map(j8),s=this.negotiator.mediaTypes(r.filter(F8)),i=s[0];return i?e[r.indexOf(i)]:!1};Fn.prototype.encoding=Fn.prototype.encodings=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;n++)e[n]=arguments[n]}return!e||e.length===0?this.negotiator.encodings():this.negotiator.encodings(e)[0]||!1};Fn.prototype.charset=Fn.prototype.charsets=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;n++)e[n]=arguments[n]}return!e||e.length===0?this.negotiator.charsets():this.negotiator.charsets(e)[0]||!1};Fn.prototype.lang=Fn.prototype.langs=Fn.prototype.language=Fn.prototype.languages=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;n++)e[n]=arguments[n]}return!e||e.length===0?this.negotiator.languages():this.negotiator.languages(e)[0]||!1};function j8(t){return t.indexOf("/")===-1?I8.lookup(t):t}function F8(t){return typeof t=="string"}var hP={},mo={},mP={exports:{}};/*!
 * base64id v0.1.0
 */(function(t,e){var n=he,r=function(){};r.prototype.getRandomBytes=function(s){var i=4096,o=this;if(s=s||12,s>i)return n.randomBytes(s);var a=parseInt(i/s),c=parseInt(a*.85);if(!c||(this.bytesBufferIndex==null&&(this.bytesBufferIndex=-1),this.bytesBufferIndex==a&&(this.bytesBuffer=null,this.bytesBufferIndex=-1),(this.bytesBufferIndex==-1||this.bytesBufferIndex>c)&&(this.isGeneratingBytes||(this.isGeneratingBytes=!0,n.randomBytes(i,function(u,d){o.bytesBuffer=d,o.bytesBufferIndex=0,o.isGeneratingBytes=!1})),this.bytesBufferIndex==-1)))return n.randomBytes(s);var l=this.bytesBuffer.slice(s*this.bytesBufferIndex,s*(this.bytesBufferIndex+1));return this.bytesBufferIndex++,l},r.prototype.generateId=function(){var s=Buffer.alloc(15);return s.writeInt32BE?(this.sequenceNumber=this.sequenceNumber+1|0,s.writeInt32BE(this.sequenceNumber,11),n.randomBytes?this.getRandomBytes(12).copy(s):[0,4,8].forEach(function(i){s.writeInt32BE(Math.random()*Math.pow(2,32)|0,i)}),s.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")):Math.abs(Math.random()*Math.random()*Date.now()|0).toString()+Math.abs(Math.random()*Math.random()*Date.now()|0).toString()},t.exports=new r})(mP);var gP=mP.exports,ef={},$l={},_s={};const tf=Tl(U6);var yP={};/*! https://mths.be/utf8js v2.1.2 by @mathias */var Bs=String.fromCharCode;function vP(t){for(var e=[],n=0,r=t.length,s,i;n<r;)s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<r?(i=t.charCodeAt(n++),(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)):e.push(s);return e}function M8(t){for(var e=t.length,n=-1,r,s="";++n<e;)r=t[n],r>65535&&(r-=65536,s+=Bs(r>>>10&1023|55296),r=56320|r&1023),s+=Bs(r);return s}function xP(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function Oh(t,e){return Bs(t>>e&63|128)}function D8(t,e){if(!(t&4294967168))return Bs(t);var n="";return t&4294965248?t&4294901760?t&4292870144||(n=Bs(t>>18&7|240),n+=Oh(t,12),n+=Oh(t,6)):(xP(t,e)||(t=65533),n=Bs(t>>12&15|224),n+=Oh(t,6)):n=Bs(t>>6&31|192),n+=Bs(t&63|128),n}function L8(t,e){e=e||{};for(var n=e.strict!==!1,r=vP(t),s=r.length,i=-1,o,a="";++i<s;)o=r[i],a+=D8(o,n);return a}function Co(){if(Xs>=cp)throw Error("Invalid byte index");var t=ap[Xs]&255;if(Xs++,(t&192)==128)return t&63;throw Error("Invalid continuation byte")}function B8(t){var e,n,r,s,i;if(Xs>cp)throw Error("Invalid byte index");if(Xs==cp)return!1;if(e=ap[Xs]&255,Xs++,!(e&128))return e;if((e&224)==192){if(n=Co(),i=(e&31)<<6|n,i>=128)return i;throw Error("Invalid continuation byte")}if((e&240)==224){if(n=Co(),r=Co(),i=(e&15)<<12|n<<6|r,i>=2048)return xP(i,t)?i:65533;throw Error("Invalid continuation byte")}if((e&248)==240&&(n=Co(),r=Co(),s=Co(),i=(e&7)<<18|n<<12|r<<6|s,i>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}var ap,cp,Xs;function $8(t,e){e=e||{};var n=e.strict!==!1;ap=vP(t),cp=ap.length,Xs=0;for(var r=[],s;(s=B8(n))!==!1;)r.push(s);return M8(r)}var z8={version:"2.1.2",encode:L8,decode:$8};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.packets=t.protocol=void 0,t.encodePacket=o,t.encodeBase64Packet=c,t.decodePacket=l,t.decodeBase64Packet=d,t.encodePayload=p,t.decodePayload=h,t.encodePayloadAsBinary=g,t.decodePayloadAsBinary=T;var e=z8;t.protocol=3;const n=C=>{for(const S of C)if(S.data instanceof ArrayBuffer||ArrayBuffer.isView(S.data))return!0;return!1};t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6};var r=Object.keys(t.packets),s={type:"error",data:"parser error"};const i=Buffer.concat([]);function o(C,S,A,P){if(typeof S=="function"&&(P=S,S=null),typeof A=="function"&&(P=A,A=null),Buffer.isBuffer(C.data))return a(C,S,P);if(C.data&&(C.data.buffer||C.data)instanceof ArrayBuffer)return a({type:C.type,data:b(C.data)},S,P);var D=t.packets[C.type];return C.data!==void 0&&(D+=A?e.encode(String(C.data),{strict:!1}):String(C.data)),P(""+D)}function a(C,S,A){if(!S)return c(C,A);var P=C.data,D=Buffer.allocUnsafe(1);return D[0]=t.packets[C.type],A(Buffer.concat([D,P]))}function c(C,S){var A=Buffer.isBuffer(C.data)?C.data:b(C.data),P="b"+t.packets[C.type];return P+=A.toString("base64"),S(P)}function l(C,S,A){if(C===void 0)return s;var P;if(typeof C=="string")return P=C.charAt(0),P==="b"?d(C.slice(1),S):A&&(C=u(C),C===!1)||Number(P)!=P||!r[P]?s:C.length>1?{type:r[P],data:C.slice(1)}:{type:r[P]};if(S==="arraybuffer"){var D=new Uint8Array(C);return P=D[0],{type:r[P],data:D.buffer.slice(1)}}return C instanceof ArrayBuffer&&(C=b(C)),P=C[0],{type:r[P],data:C.slice(1)}}function u(C){try{C=e.decode(C,{strict:!1})}catch{return!1}return C}function d(C,S){var A=r[C.charAt(0)],P=Buffer.from(C.slice(1),"base64");if(S==="arraybuffer"){for(var D=new Uint8Array(P.length),q=0;q<D.length;q++)D[q]=P[q];P=D.buffer}return{type:A,data:P}}function p(C,S,A){if(typeof S=="function"&&(A=S,S=null),S&&n(C))return g(C,A);if(!C.length)return A("0:");function P(D,q){o(D,S,!1,function(K){q(null,x(K))})}y(C,P,function(D,q){return A(q.join(""))})}function x(C){return C.length+":"+C}function y(C,S,A){const P=new Array(C.length);let D=0;for(let q=0;q<C.length;q++)S(C[q],(K,U)=>{P[q]=U,++D===C.length&&A(null,P)})}function h(C,S,A){if(typeof C!="string")return T(C,S,A);if(typeof S=="function"&&(A=S,S=null),C==="")return A(s,0,1);for(var P="",D,q,K,U=0,R=C.length;U<R;U++){var I=C.charAt(U);if(I!==":"){P+=I;continue}if(P===""||P!=(D=Number(P))||(q=C.slice(U+1,U+1+D),P!=q.length))return A(s,0,1);if(q.length){if(K=l(q,S,!1),s.type===K.type&&s.data===K.data)return A(s,0,1);var V=A(K,U+D,R);if(V===!1)return}U+=D,P=""}if(P!=="")return A(s,0,1)}function w(C){for(var S="",A=0,P=C.length;A<P;A++)S+=String.fromCharCode(C[A]);return S}function m(C){for(var S=Buffer.allocUnsafe(C.length),A=0,P=C.length;A<P;A++)S.writeUInt8(C.charCodeAt(A),A);return S}function b(C){var S=C.byteLength||C.length,A=C.byteOffset||0;return Buffer.from(C.buffer||C,A,S)}function g(C,S){if(!C.length)return S(i);y(C,_,function(A,P){return S(Buffer.concat(P))})}function _(C,S){function A(P){var D=""+P.length,q;if(typeof P=="string"){q=Buffer.allocUnsafe(D.length+2),q[0]=0;for(var K=0;K<D.length;K++)q[K+1]=parseInt(D[K],10);return q[q.length-1]=255,S(null,Buffer.concat([q,m(P)]))}q=Buffer.allocUnsafe(D.length+2),q[0]=1;for(var K=0;K<D.length;K++)q[K+1]=parseInt(D[K],10);q[q.length-1]=255,S(null,Buffer.concat([q,P]))}o(C,!0,!0,A)}function T(C,S,A){typeof S=="function"&&(A=S,S=null);for(var P=C,D=[],q;P.length>0;){var K="",U=P[0]===0;for(q=1;P[q]!==255;q++){if(K.length>310)return A(s,0,1);K+=""+P[q]}P=P.slice(K.length+1);var R=parseInt(K,10),I=P.slice(1,R+1);U&&(I=w(I)),D.push(I),P=P.slice(R+1)}var V=D.length;for(q=0;q<V;q++){var j=D[q];A(l(j,S,!0),q,V)}}})(yP);var Hg={exports:{}},Na=1e3,Ra=Na*60,Oa=Ra*60,go=Oa*24,U8=go*7,q8=go*365.25,nf=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Q8(t);if(n==="number"&&isFinite(t))return e.long?H8(t):V8(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Q8(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*q8;case"weeks":case"week":case"w":return n*U8;case"days":case"day":case"d":return n*go;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Oa;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ra;case"seconds":case"second":case"secs":case"sec":case"s":return n*Na;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function V8(t){var e=Math.abs(t);return e>=go?Math.round(t/go)+"d":e>=Oa?Math.round(t/Oa)+"h":e>=Ra?Math.round(t/Ra)+"m":e>=Na?Math.round(t/Na)+"s":t+"ms"}function H8(t){var e=Math.abs(t);return e>=go?Au(t,e,go,"day"):e>=Oa?Au(t,e,Oa,"hour"):e>=Ra?Au(t,e,Ra,"minute"):e>=Na?Au(t,e,Na,"second"):t+" ms"}function Au(t,e,n,r){var s=e>=n*1.5;return Math.round(t/n)+" "+r+(s?"s":"")}function G8(t){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=s,n.enabled=o,n.humanize=nf,n.destroy=l,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){let d,p=null,x,y;function h(...w){if(!h.enabled)return;const m=h,b=Number(new Date),g=b-(d||b);m.diff=g,m.prev=d,m.curr=b,d=b,w[0]=n.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let _=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(C,S)=>{if(C==="%%")return"%";_++;const A=n.formatters[S];if(typeof A=="function"){const P=w[_];C=A.call(m,P),w.splice(_,1),_--}return C}),n.formatArgs.call(m,w),(m.log||n.log).apply(m,w)}return h.namespace=u,h.useColors=n.useColors(),h.color=n.selectColor(u),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(x!==n.namespaces&&(x=n.namespaces,y=n.enabled(u)),y),set:w=>{p=w}}),typeof n.init=="function"&&n.init(h),h}function r(u,d){const p=n(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}function s(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let d;const p=(typeof u=="string"?u:"").split(/[\s,]+/),x=p.length;for(d=0;d<x;d++)p[d]&&(u=p[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...n.names.map(a),...n.skips.map(a).map(d=>"-"+d)].join(",");return n.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let d,p;for(d=0,p=n.skips.length;d<p;d++)if(n.skips[d].test(u))return!1;for(d=0,p=n.names.length;d<p;d++)if(n.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var W8=G8;(function(t,e){var n={};e.formatArgs=s,e.save=i,e.load=o,e.useColors=r,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,p=0;l[0].replace(/%[a-zA-Z%]/g,x=>{x!=="%%"&&(d++,x==="%c"&&(p=d))}),l.splice(p,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=n.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=W8(e);const{formatters:c}=t.exports;c.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Hg,Hg.exports);var Es=Hg.exports;Object.defineProperty(_s,"__esModule",{value:!0});_s.Transport=void 0;const K8=he,Y8=tf,J8=yP,X8=Es,dw=(0,X8.default)("engine:transport");function Z8(){}class ez extends K8.EventEmitter{get readyState(){return this._readyState}set readyState(e){dw("readyState updated from %s to %s (%s)",this._readyState,e,this.name),this._readyState=e}constructor(e){super(),this.writable=!1,this._readyState="open",this.discarded=!1,this.protocol=e._query.EIO==="4"?4:3,this.parser=this.protocol===4?Y8:J8,this.supportsBinary=!(e._query&&e._query.b64)}discard(){this.discarded=!0}onRequest(e){}close(e){this.readyState==="closed"||this.readyState==="closing"||(this.readyState="closing",this.doClose(e||Z8))}onError(e,n){if(this.listeners("error").length){const r=new Error(e);r.type="TransportError",r.description=n,this.emit("error",r)}else dw("ignored transport error %s (%s)",e,n)}onPacket(e){this.emit("packet",e)}onData(e){this.onPacket(this.parser.decodePacket(e))}onClose(){this.readyState="closed",this.emit("close")}}_s.Transport=ez;Object.defineProperty($l,"__esModule",{value:!0});$l.Polling=void 0;const tz=_s,pw=he,nz=r0,rz=Es,Rn=(0,rz.default)("engine:polling"),sz={gzip:pw.createGzip,deflate:pw.createDeflate};let iz=class extends tz.Transport{constructor(e){super(e),this.closeTimeout=30*1e3}get name(){return"polling"}onRequest(e){const n=e.res;e.res=null,e.method==="GET"?this.onPollRequest(e,n):e.method==="POST"?this.onDataRequest(e,n):(n.writeHead(500),n.end())}onPollRequest(e,n){if(this.req){Rn("request overlap"),this.onError("overlap from client"),n.writeHead(400),n.end();return}Rn("setting request"),this.req=e,this.res=n;const r=()=>{this.onError("poll connection closed prematurely")},s=()=>{e.removeListener("close",r),this.req=this.res=null};e.cleanup=s,e.on("close",r),this.writable=!0,this.emit("ready"),this.writable&&this.shouldClose&&(Rn("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,n){if(this.dataReq){this.onError("data request overlap from client"),n.writeHead(400),n.end();return}const r=e.headers["content-type"]==="application/octet-stream";if(r&&this.protocol===4)return this.onError("invalid content");this.dataReq=e,this.dataRes=n;let s=r?Buffer.concat([]):"";const i=()=>{e.removeListener("data",a),e.removeListener("end",c),e.removeListener("close",o),this.dataReq=this.dataRes=s=null},o=()=>{i(),this.onError("data request connection closed prematurely")},a=l=>{let u;r?(s=Buffer.concat([s,l]),u=s.length):(s+=l,u=Buffer.byteLength(s)),u>this.maxHttpBufferSize&&(n.writeHead(413).end(),i())},c=()=>{this.onData(s);const l={"Content-Type":"text/html","Content-Length":"2"};n.writeHead(200,this.headers(e,l)),n.end("ok"),i()};e.on("close",o),r||e.setEncoding("utf8"),e.on("data",a),e.on("end",c)}onData(e){Rn('received "%s"',e);const n=r=>{if(r.type==="close")return Rn("got xhr close packet"),this.onClose(),!1;this.onPacket(r)};this.protocol===3?this.parser.decodePayload(e,n):this.parser.decodePayload(e).forEach(n)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(Rn("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);const n=r=>{const s=e.some(i=>i.options&&i.options.compress);this.write(r,{compress:s})};this.protocol===3?this.parser.encodePayload(e,this.supportsBinary,n):this.parser.encodePayload(e,n)}write(e,n){Rn('writing "%s"',e),this.doWrite(e,n,()=>{this.req.cleanup(),this.emit("drain")})}doWrite(e,n,r){const s=typeof e=="string",o={"Content-Type":s?"text/plain; charset=UTF-8":"application/octet-stream"},a=u=>{o["Content-Length"]=typeof u=="string"?Buffer.byteLength(u):u.length,this.res.writeHead(200,this.headers(this.req,o)),this.res.end(u),r()};if(!this.httpCompression||!n.compress){a(e);return}if((s?Buffer.byteLength(e):e.length)<this.httpCompression.threshold){a(e);return}const l=nz(this.req).encodings(["gzip","deflate"]);if(!l){a(e);return}this.compress(e,l,(u,d)=>{if(u){this.res.writeHead(500),this.res.end(),r(u);return}o["Content-Encoding"]=l,a(d)})}compress(e,n,r){Rn("compressing");const s=[];let i=0;sz[n](this.httpCompression).on("error",r).on("data",function(o){s.push(o),i+=o.length}).on("end",function(){r(null,Buffer.concat(s,i))}).end(e)}doClose(e){Rn("closing");let n;this.dataReq&&(Rn("aborting ongoing data request"),this.dataReq.destroy());const r=()=>{clearTimeout(n),e(),this.onClose()};this.writable?(Rn("transport writable - closing right away"),this.send([{type:"close"}]),r()):this.discarded?(Rn("transport discarded - closing right away"),r()):(Rn("transport not writable - buffering orderly close"),this.shouldClose=r,n=setTimeout(r,this.closeTimeout))}headers(e,n={}){const r=e.headers["user-agent"];return r&&(~r.indexOf(";MSIE")||~r.indexOf("Trident/"))&&(n["X-XSS-Protection"]="0"),n["cache-control"]="no-store",this.emit("headers",n,e),n}};$l.Polling=iz;var rf={};Object.defineProperty(rf,"__esModule",{value:!0});rf.JSONP=void 0;const oz=$l,az=he,cz=/\\\\n/g,lz=/(\\)?\\n/g;class uz extends oz.Polling{constructor(e){super(e),this.head="___eio["+(e._query.j||"").replace(/[^0-9]/g,"")+"](",this.foot=");"}onData(e){e=az.parse(e).d,typeof e=="string"&&(e=e.replace(lz,function(n,r){return r?n:`
`}),super.onData(e.replace(cz,"\\n")))}doWrite(e,n,r){const s=JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029");e=this.head+s+this.foot,super.doWrite(e,n,r)}}rf.JSONP=uz;var sf={};Object.defineProperty(sf,"__esModule",{value:!0});sf.WebSocket=void 0;const dz=_s,pz=Es,fw=(0,pz.default)("engine:ws");let fz=class extends dz.Transport{constructor(e){super(e),this._doSend=n=>{this.socket.send(n,this._onSent)},this._doSendLast=n=>{this.socket.send(n,this._onSentLast)},this._onSent=n=>{n&&this.onError("write error",n.stack)},this._onSentLast=n=>{n?this.onError("write error",n.stack):(this.emit("drain"),this.writable=!0,this.emit("ready"))},this.socket=e.websocket,this.socket.on("message",(n,r)=>{const s=r?n:n.toString();fw('received "%s"',s),super.onData(s)}),this.socket.once("close",this.onClose.bind(this)),this.socket.on("error",this.onError.bind(this)),this.writable=!0,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}send(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n+1===e.length;this._canSendPreEncodedFrame(r)?this.socket._sender.sendFrame(r.options.wsPreEncodedFrame,s?this._onSentLast:this._onSent):this.parser.encodePacket(r,this.supportsBinary,s?this._doSendLast:this._doSend)}}_canSendPreEncodedFrame(e){var n,r,s;return!this.perMessageDeflate&&typeof((r=(n=this.socket)===null||n===void 0?void 0:n._sender)===null||r===void 0?void 0:r.sendFrame)=="function"&&((s=e.options)===null||s===void 0?void 0:s.wsPreEncodedFrame)!==void 0}doClose(e){fw("closing"),this.socket.close(),e&&e()}};sf.WebSocket=fz;var zl={};Object.defineProperty(zl,"__esModule",{value:!0});zl.WebTransport=void 0;const hz=_s,mz=Es,gz=tf,Ao=(0,mz.default)("engine:webtransport");let yz=class extends hz.Transport{constructor(e,n,r){super({_query:{EIO:"4"}}),this.session=e;const s=(0,gz.createPacketEncoderStream)();s.readable.pipeTo(n.writable).catch(()=>{Ao("the stream was closed")}),this.writer=s.writable.getWriter(),(async()=>{try{for(;;){const{value:i,done:o}=await r.read();if(o){Ao("session is closed");break}Ao("received chunk: %o",i),this.onPacket(i)}}catch(i){Ao("error while reading: %s",i.message)}})(),e.closed.then(()=>this.onClose()),this.writable=!0}get name(){return"webtransport"}async send(e){this.writable=!1;try{for(let n=0;n<e.length;n++){const r=e[n];await this.writer.write(r)}}catch(n){Ao("error while writing: %s",n.message)}this.emit("drain"),this.writable=!0,this.emit("ready")}doClose(e){Ao("closing WebTransport session"),this.session.close(),e&&e()}};zl.WebTransport=yz;Object.defineProperty(ef,"__esModule",{value:!0});const vz=$l,xz=rf,bz=sf,wz=zl;ef.default={polling:bP,websocket:bz.WebSocket,webtransport:wz.WebTransport};function bP(t){return typeof t._query.j=="string"?new xz.JSONP(t):new vz.Polling(t)}bP.upgradesTo=["websocket","webtransport"];var Ul={};Object.defineProperty(Ul,"__esModule",{value:!0});Ul.Socket=void 0;const Sz=he,_z=Es,Jr=he,wt=(0,_z.default)("engine:socket");let Ez=class extends Sz.EventEmitter{get readyState(){return this._readyState}set readyState(e){wt("readyState updated from %s to %s",this._readyState,e),this._readyState=e}constructor(e,n,r,s,i){super(),this._readyState="opening",this.upgrading=!1,this.upgraded=!1,this.writeBuffer=[],this.packetsFn=[],this.sentCallbackFn=[],this.cleanupFn=[],this.id=e,this.server=n,this.request=s,this.protocol=i,s&&(s.websocket&&s.websocket._socket?this.remoteAddress=s.websocket._socket.remoteAddress:this.remoteAddress=s.connection.remoteAddress),this.pingTimeoutTimer=null,this.pingIntervalTimer=null,this.setTransport(r),this.onOpen()}onOpen(){this.readyState="open",this.transport.sid=this.id,this.sendPacket("open",JSON.stringify({sid:this.id,upgrades:this.getAvailableUpgrades(),pingInterval:this.server.opts.pingInterval,pingTimeout:this.server.opts.pingTimeout,maxPayload:this.server.opts.maxHttpBufferSize})),this.server.opts.initialPacket&&this.sendPacket("message",this.server.opts.initialPacket),this.emit("open"),this.protocol===3?this.resetPingTimeout():this.schedulePing()}onPacket(e){if(this.readyState!=="open")return wt("packet received with closed socket");switch(wt(`received packet ${e.type}`),this.emit("packet",e),e.type){case"ping":if(this.transport.protocol!==3){this.onError(new Error("invalid heartbeat direction"));return}wt("got ping"),this.pingTimeoutTimer.refresh(),this.sendPacket("pong"),this.emit("heartbeat");break;case"pong":if(this.transport.protocol===3){this.onError(new Error("invalid heartbeat direction"));return}wt("got pong"),(0,Jr.clearTimeout)(this.pingTimeoutTimer),this.pingIntervalTimer.refresh(),this.emit("heartbeat");break;case"error":this.onClose("parse error");break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}}onError(e){wt("transport error"),this.onClose("transport error",e)}schedulePing(){this.pingIntervalTimer=(0,Jr.setTimeout)(()=>{wt("writing ping packet - expecting pong within %sms",this.server.opts.pingTimeout),this.sendPacket("ping"),this.resetPingTimeout()},this.server.opts.pingInterval)}resetPingTimeout(){(0,Jr.clearTimeout)(this.pingTimeoutTimer),this.pingTimeoutTimer=(0,Jr.setTimeout)(()=>{this.readyState!=="closed"&&this.onClose("ping timeout")},this.protocol===3?this.server.opts.pingInterval+this.server.opts.pingTimeout:this.server.opts.pingTimeout)}setTransport(e){const n=this.onError.bind(this),r=()=>this.flush(),s=this.onPacket.bind(this),i=this.onDrain.bind(this),o=this.onClose.bind(this,"transport close");this.transport=e,this.transport.once("error",n),this.transport.on("ready",r),this.transport.on("packet",s),this.transport.on("drain",i),this.transport.once("close",o),this.cleanupFn.push(function(){e.removeListener("error",n),e.removeListener("ready",r),e.removeListener("packet",s),e.removeListener("drain",i),e.removeListener("close",o)})}onDrain(){if(this.sentCallbackFn.length>0){wt("executing batch send callback");const e=this.sentCallbackFn.shift();if(e)for(let n=0;n<e.length;n++)e[n](this.transport)}}_maybeUpgrade(e){wt('might upgrade socket transport from "%s" to "%s"',this.transport.name,e.name),this.upgrading=!0;const n=(0,Jr.setTimeout)(()=>{wt("client did not complete upgrade - closing transport"),o(),e.readyState==="open"&&e.close()},this.server.opts.upgradeTimeout);let r;const s=u=>{u.type==="ping"&&u.data==="probe"?(wt("got probe ping packet, sending pong"),e.send([{type:"pong",data:"probe"}]),this.emit("upgrading",e),clearInterval(r),r=setInterval(i,100)):u.type==="upgrade"&&this.readyState!=="closed"?(wt("got upgrade packet - upgrading"),o(),this.transport.discard(),this.upgraded=!0,this.clearTransport(),this.setTransport(e),this.emit("upgrade",e),this.flush(),this.readyState==="closing"&&e.close(()=>{this.onClose("forced close")})):(o(),e.close())},i=()=>{this.transport.name==="polling"&&this.transport.writable&&(wt("writing a noop packet to polling for fast upgrade"),this.transport.send([{type:"noop"}]))},o=()=>{this.upgrading=!1,clearInterval(r),(0,Jr.clearTimeout)(n),e.removeListener("packet",s),e.removeListener("close",c),e.removeListener("error",a),this.removeListener("close",l)},a=u=>{wt("client did not complete upgrade - %s",u),o(),e.close(),e=null},c=()=>{a("transport closed")},l=()=>{a("socket closed")};e.on("packet",s),e.once("close",c),e.once("error",a),this.once("close",l)}clearTransport(){let e;const n=this.cleanupFn.length;for(let r=0;r<n;r++)e=this.cleanupFn.shift(),e();this.transport.on("error",function(){wt("error triggered by discarded transport")}),this.transport.close(),(0,Jr.clearTimeout)(this.pingTimeoutTimer)}onClose(e,n){this.readyState!=="closed"&&(this.readyState="closed",(0,Jr.clearTimeout)(this.pingIntervalTimer),(0,Jr.clearTimeout)(this.pingTimeoutTimer),process.nextTick(()=>{this.writeBuffer=[]}),this.packetsFn=[],this.sentCallbackFn=[],this.clearTransport(),this.emit("close",e,n))}send(e,n,r){return this.sendPacket("message",e,n,r),this}write(e,n,r){return this.sendPacket("message",e,n,r),this}sendPacket(e,n,r={},s){if(typeof r=="function"&&(s=r,r={}),this.readyState!=="closing"&&this.readyState!=="closed"){wt('sending packet "%s" (%s)',e,n),r.compress=r.compress!==!1;const i={type:e,options:r};n&&(i.data=n),this.emit("packetCreate",i),this.writeBuffer.push(i),typeof s=="function"&&this.packetsFn.push(s),this.flush()}}flush(){if(this.readyState!=="closed"&&this.transport.writable&&this.writeBuffer.length){wt("flushing buffer to transport"),this.emit("flush",this.writeBuffer),this.server.emit("flush",this,this.writeBuffer);const e=this.writeBuffer;this.writeBuffer=[],this.packetsFn.length?(this.sentCallbackFn.push(this.packetsFn),this.packetsFn=[]):this.sentCallbackFn.push(null),this.transport.send(e),this.emit("drain"),this.server.emit("drain",this)}}getAvailableUpgrades(){const e=[],n=this.server.upgrades(this.transport.name);for(let r=0;r<n.length;++r){const s=n[r];this.server.opts.transports.indexOf(s)!==-1&&e.push(s)}return e}close(e){if(e&&(this.readyState==="open"||this.readyState==="closing"))return this.closeTransport(e);if(this.readyState==="open"){if(this.readyState="closing",this.writeBuffer.length){wt("there are %d remaining packets in the buffer, waiting for the 'drain' event",this.writeBuffer.length),this.once("drain",()=>{wt("all packets have been sent, closing the transport"),this.closeTransport(e)});return}wt("the buffer is empty, closing the transport right away"),this.closeTransport(e)}}closeTransport(e){wt("closing the transport (discard? %s)",!!e),e&&this.transport.discard(),this.transport.close(this.onClose.bind(this,"forced close"))}};Ul.Socket=Ez;var s0={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */s0.parse=Oz;s0.serialize=Pz;var kz=Object.prototype.toString,Cz=Object.prototype.hasOwnProperty,Az=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,Tz=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,Nz=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Rz=/^[\u0020-\u003A\u003D-\u007E]*$/;function Oz(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");var n={},r=t.length;if(r<2)return n;var s=e&&e.decode||Iz,i=0,o=0,a=0;do{if(o=t.indexOf("=",i),o===-1)break;if(a=t.indexOf(";",i),a===-1)a=r;else if(o>a){i=t.lastIndexOf(";",o-1)+1;continue}var c=hw(t,i,o),l=mw(t,o,c),u=t.slice(c,l);if(!Cz.call(n,u)){var d=hw(t,o+1,a),p=mw(t,a,d);t.charCodeAt(d)===34&&t.charCodeAt(p-1)===34&&(d++,p--);var x=t.slice(d,p);n[u]=Fz(x,s)}i=a+1}while(i<r);return n}function hw(t,e,n){do{var r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function mw(t,e,n){for(;e>n;){var r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function Pz(t,e,n){var r=n&&n.encode||encodeURIComponent;if(typeof r!="function")throw new TypeError("option encode is invalid");if(!Az.test(t))throw new TypeError("argument name is invalid");var s=r(e);if(!Tz.test(s))throw new TypeError("argument val is invalid");var i=t+"="+s;if(!n)return i;if(n.maxAge!=null){var o=Math.floor(n.maxAge);if(!isFinite(o))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+o}if(n.domain){if(!Nz.test(n.domain))throw new TypeError("option domain is invalid");i+="; Domain="+n.domain}if(n.path){if(!Rz.test(n.path))throw new TypeError("option path is invalid");i+="; Path="+n.path}if(n.expires){var a=n.expires;if(!jz(a)||isNaN(a.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+a.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority){var c=typeof n.priority=="string"?n.priority.toLowerCase():n.priority;switch(c){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(n.sameSite){var l=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(l){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return i}function Iz(t){return t.indexOf("%")!==-1?decodeURIComponent(t):t}function jz(t){return kz.call(t)==="[object Date]"}function Fz(t,e){try{return e(t)}catch{return t}}var Mz=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},wP={exports:{}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var gw=Object.getOwnPropertySymbols,Dz=Object.prototype.hasOwnProperty,Lz=Object.prototype.propertyIsEnumerable;function Bz(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function $z(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var zz=$z()?Object.assign:function(t,e){for(var n,r=Bz(t),s,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var o in n)Dz.call(n,o)&&(r[o]=n[o]);if(gw){s=gw(n);for(var a=0;a<s.length;a++)Lz.call(n,s[a])&&(r[s[a]]=n[s[a]])}}return r},i0={exports:{}};/*!
 * vary
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */i0.exports=qz;i0.exports.append=SP;var Uz=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function SP(t,e){if(typeof t!="string")throw new TypeError("header argument is required");if(!e)throw new TypeError("field argument is required");for(var n=Array.isArray(e)?e:yw(String(e)),r=0;r<n.length;r++)if(!Uz.test(n[r]))throw new TypeError("field argument contains an invalid header name");if(t==="*")return t;var s=t,i=yw(t.toLowerCase());if(n.indexOf("*")!==-1||i.indexOf("*")!==-1)return"*";for(var o=0;o<n.length;o++){var a=n[o].toLowerCase();i.indexOf(a)===-1&&(i.push(a),s=s?s+", "+n[o]:n[o])}return s}function yw(t){for(var e=0,n=[],r=0,s=0,i=t.length;s<i;s++)switch(t.charCodeAt(s)){case 32:r===e&&(r=e=s+1);break;case 44:n.push(t.substring(r,e)),r=e=s+1;break;default:e=s+1;break}return n.push(t.substring(r,e)),n}function qz(t,e){if(!t||!t.getHeader||!t.setHeader)throw new TypeError("res argument is required");var n=t.getHeader("Vary")||"",r=Array.isArray(n)?n.join(", "):String(n);(n=SP(r,e))&&t.setHeader("Vary",n)}var Qz=i0.exports;(function(){var t=zz,e=Qz,n={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function r(y){return typeof y=="string"||y instanceof String}function s(y,h){if(Array.isArray(h)){for(var w=0;w<h.length;++w)if(s(y,h[w]))return!0;return!1}else return r(h)?y===h:h instanceof RegExp?h.test(y):!!h}function i(y,h){var w=h.headers.origin,m=[],b;return!y.origin||y.origin==="*"?m.push([{key:"Access-Control-Allow-Origin",value:"*"}]):r(y.origin)?(m.push([{key:"Access-Control-Allow-Origin",value:y.origin}]),m.push([{key:"Vary",value:"Origin"}])):(b=s(w,y.origin),m.push([{key:"Access-Control-Allow-Origin",value:b?w:!1}]),m.push([{key:"Vary",value:"Origin"}])),m}function o(y){var h=y.methods;return h.join&&(h=y.methods.join(",")),{key:"Access-Control-Allow-Methods",value:h}}function a(y){return y.credentials===!0?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function c(y,h){var w=y.allowedHeaders||y.headers,m=[];return w?w.join&&(w=w.join(",")):(w=h.headers["access-control-request-headers"],m.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),w&&w.length&&m.push([{key:"Access-Control-Allow-Headers",value:w}]),m}function l(y){var h=y.exposedHeaders;if(h)h.join&&(h=h.join(","));else return null;return h&&h.length?{key:"Access-Control-Expose-Headers",value:h}:null}function u(y){var h=(typeof y.maxAge=="number"||y.maxAge)&&y.maxAge.toString();return h&&h.length?{key:"Access-Control-Max-Age",value:h}:null}function d(y,h){for(var w=0,m=y.length;w<m;w++){var b=y[w];b&&(Array.isArray(b)?d(b,h):b.key==="Vary"&&b.value?e(h,b.value):b.value&&h.setHeader(b.key,b.value))}}function p(y,h,w,m){var b=[],g=h.method&&h.method.toUpperCase&&h.method.toUpperCase();g==="OPTIONS"?(b.push(i(y,h)),b.push(a(y)),b.push(o(y)),b.push(c(y,h)),b.push(u(y)),b.push(l(y)),d(b,w),y.preflightContinue?m():(w.statusCode=y.optionsSuccessStatus,w.setHeader("Content-Length","0"),w.end())):(b.push(i(y,h)),b.push(a(y)),b.push(l(y)),d(b,w),m())}function x(y){var h=null;return typeof y=="function"?h=y:h=function(w,m){m(null,y)},function(m,b,g){h(m,function(_,T){if(_)g(_);else{var C=t({},n,T),S=null;C.origin&&typeof C.origin=="function"?S=C.origin:C.origin&&(S=function(A,P){P(null,C.origin)}),S?S(m.headers.origin,function(A,P){A||!P?g(A):(C.origin=P,p(C,m,b,g))}):g()}})}}wP.exports=x})();var _P=wP.exports;Object.defineProperty(mo,"__esModule",{value:!0});mo.Server=mo.BaseServer=void 0;const Vz=he,Hz=he,vw=gP,md=ef,Gz=he,xw=Ul,Wz=Es,Kz=s0,Yz=Mz,bw=zl,Jz=tf,je=(0,Wz.default)("engine"),Jo=Symbol("responseHeaders");function Xz(t){try{const e=JSON.parse(t);if(typeof e.sid=="string")return e.sid}catch{}}class of extends Gz.EventEmitter{constructor(e={}){super(),this.middlewares=[],this.clients={},this.clientsCount=0,this.opts=Object.assign({wsEngine:Yz.Server,pingTimeout:2e4,pingInterval:25e3,upgradeTimeout:1e4,maxHttpBufferSize:1e6,transports:["polling","websocket"],allowUpgrades:!0,httpCompression:{threshold:1024},cors:!1,allowEIO3:!1},e),e.cookie&&(this.opts.cookie=Object.assign({name:"io",path:"/",httpOnly:e.cookie.path!==!1,sameSite:"lax"},e.cookie)),this.opts.cors&&this.use(_P(this.opts.cors)),e.perMessageDeflate&&(this.opts.perMessageDeflate=Object.assign({threshold:1024},e.perMessageDeflate)),this.init()}_computePath(e){let n=(e.path||"/engine.io").replace(/\/$/,"");return e.addTrailingSlash!==!1&&(n+="/"),n}upgrades(e){return this.opts.allowUpgrades?md.default[e].upgradesTo||[]:[]}verify(e,n,r){const s=e._query.transport;if(!~this.opts.transports.indexOf(s)||s==="webtransport")return je('unknown transport "%s"',s),r(dt.errors.UNKNOWN_TRANSPORT,{transport:s});if(eU(e.headers.origin)){const a=e.headers.origin;return e.headers.origin=null,je("origin header invalid"),r(dt.errors.BAD_REQUEST,{name:"INVALID_ORIGIN",origin:a})}const o=e._query.sid;if(o){if(!this.clients.hasOwnProperty(o))return je('unknown sid "%s"',o),r(dt.errors.UNKNOWN_SID,{sid:o});const a=this.clients[o].transport.name;if(!n&&a!==s)return je("bad request: unexpected transport without upgrade"),r(dt.errors.BAD_REQUEST,{name:"TRANSPORT_MISMATCH",transport:s,previousTransport:a})}else return e.method!=="GET"?r(dt.errors.BAD_HANDSHAKE_METHOD,{method:e.method}):s==="websocket"&&!n?(je("invalid transport upgrade"),r(dt.errors.BAD_REQUEST,{name:"TRANSPORT_HANDSHAKE_ERROR"})):this.opts.allowRequest?this.opts.allowRequest(e,(a,c)=>{if(!c)return r(dt.errors.FORBIDDEN,{message:a});r()}):r();r()}use(e){this.middlewares.push(e)}_applyMiddlewares(e,n,r){if(this.middlewares.length===0)return je("no middleware to apply, skipping"),r();const s=i=>{je("applying middleware n°%d",i+1),this.middlewares[i](e,n,o=>{if(o)return r(o);i+1<this.middlewares.length?s(i+1):r()})};s(0)}close(){je("closing all open clients");for(let e in this.clients)this.clients.hasOwnProperty(e)&&this.clients[e].close(!0);return this.cleanup(),this}generateId(e){return vw.generateId()}async handshake(e,n,r){const s=n._query.EIO==="4"?4:3;if(s===3&&!this.opts.allowEIO3){je("unsupported protocol version"),this.emit("connection_error",{req:n,code:dt.errors.UNSUPPORTED_PROTOCOL_VERSION,message:dt.errorMessages[dt.errors.UNSUPPORTED_PROTOCOL_VERSION],context:{protocol:s}}),r(dt.errors.UNSUPPORTED_PROTOCOL_VERSION);return}let i;try{i=await this.generateId(n)}catch(c){je("error while generating an id"),this.emit("connection_error",{req:n,code:dt.errors.BAD_REQUEST,message:dt.errorMessages[dt.errors.BAD_REQUEST],context:{name:"ID_GENERATION_ERROR",error:c}}),r(dt.errors.BAD_REQUEST);return}je('handshaking client "%s"',i);try{var o=this.createTransport(e,n);e==="polling"?(o.maxHttpBufferSize=this.opts.maxHttpBufferSize,o.httpCompression=this.opts.httpCompression):e==="websocket"&&(o.perMessageDeflate=this.opts.perMessageDeflate)}catch(c){je('error handshaking to transport "%s"',e),this.emit("connection_error",{req:n,code:dt.errors.BAD_REQUEST,message:dt.errorMessages[dt.errors.BAD_REQUEST],context:{name:"TRANSPORT_HANDSHAKE_ERROR",error:c}}),r(dt.errors.BAD_REQUEST);return}const a=new xw.Socket(i,this,o,n,s);return o.on("headers",(c,l)=>{!l._query.sid&&(this.opts.cookie&&(c["Set-Cookie"]=[(0,Kz.serialize)(this.opts.cookie.name,i,this.opts.cookie)]),this.emit("initial_headers",c,l)),this.emit("headers",c,l)}),o.onRequest(n),this.clients[i]=a,this.clientsCount++,a.once("close",()=>{delete this.clients[i],this.clientsCount--}),this.emit("connection",a),o}async onWebTransportSession(e){const n=setTimeout(()=>{je("the client failed to establish a bidirectional stream in the given period"),e.close()},this.opts.upgradeTimeout),s=await e.incomingBidirectionalStreams.getReader().read();if(s.done){je("session is closed");return}const i=s.value,o=(0,Jz.createPacketDecoderStream)(this.opts.maxHttpBufferSize,"nodebuffer"),a=i.readable.pipeThrough(o).getReader(),{value:c,done:l}=await a.read();if(l){je("stream is closed");return}if(clearTimeout(n),c.type!=="open")return je("invalid WebTransport handshake"),e.close();if(c.data===void 0){const p=new bw.WebTransport(e,i,a),x=vw.generateId();je('handshaking client "%s" (WebTransport)',x);const y=new xw.Socket(x,this,p,null,4);this.clients[x]=y,this.clientsCount++,y.once("close",()=>{delete this.clients[x],this.clientsCount--}),this.emit("connection",y);return}const u=Xz(c.data);if(!u)return je("invalid WebTransport handshake"),e.close();const d=this.clients[u];if(!d)je("upgrade attempt for closed client"),e.close();else if(d.upgrading)je("transport has already been trying to upgrade"),e.close();else if(d.upgraded)je("transport had already been upgraded"),e.close();else{je("upgrading existing transport");const p=new bw.WebTransport(e,i,a);d._maybeUpgrade(p)}}}mo.BaseServer=of;of.errors={UNKNOWN_TRANSPORT:0,UNKNOWN_SID:1,BAD_HANDSHAKE_METHOD:2,BAD_REQUEST:3,FORBIDDEN:4,UNSUPPORTED_PROTOCOL_VERSION:5};of.errorMessages={0:"Transport unknown",1:"Session ID unknown",2:"Bad handshake method",3:"Bad request",4:"Forbidden",5:"Unsupported protocol version"};class Zz{constructor(e,n){this.req=e,this.socket=n,e[Jo]={}}setHeader(e,n){this.req[Jo][e]=n}getHeader(e){return this.req[Jo][e]}removeHeader(e){delete this.req[Jo][e]}write(){}writeHead(){}end(){this.socket.destroy()}}let dt=class Ec extends of{init(){~this.opts.transports.indexOf("websocket")&&(this.ws&&this.ws.close(),this.ws=new this.opts.wsEngine({noServer:!0,clientTracking:!1,perMessageDeflate:this.opts.perMessageDeflate,maxPayload:this.opts.maxHttpBufferSize}),typeof this.ws.on=="function"&&this.ws.on("headers",(e,n)=>{const r=n[Jo]||{};delete n[Jo],!n._query.sid&&this.emit("initial_headers",r,n),this.emit("headers",r,n),je("writing headers: %j",r),Object.keys(r).forEach(i=>{e.push(`${i}: ${r[i]}`)})}))}cleanup(){this.ws&&(je("closing webSocketServer"),this.ws.close())}prepare(e){e._query||(e._query=~e.url.indexOf("?")?Vz.parse((0,Hz.parse)(e.url).query):{})}createTransport(e,n){return new md.default[e](n)}handleRequest(e,n){je('handling "%s" http request "%s"',e.method,e.url),this.prepare(e),e.res=n;const r=(s,i)=>{if(s!==void 0){this.emit("connection_error",{req:e,code:s,message:Ec.errorMessages[s],context:i}),ww(n,s,i);return}if(e._query.sid)je("setting new request for existing client"),this.clients[e._query.sid].transport.onRequest(e);else{const o=(a,c)=>ww(n,a,c);this.handshake(e._query.transport,e,o)}};this._applyMiddlewares(e,n,s=>{s?r(Ec.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(e,!1,r)})}handleUpgrade(e,n,r){this.prepare(e);const s=new Zz(e,n),i=(o,a)=>{if(o!==void 0){this.emit("connection_error",{req:e,code:o,message:Ec.errorMessages[o],context:a}),Sw(n,o,a);return}const c=Buffer.from(r);r=null,s.writeHead(),this.ws.handleUpgrade(e,n,c,l=>{this.onWebSocket(e,n,l)})};this._applyMiddlewares(e,s,o=>{o?i(Ec.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(e,!0,i)})}onWebSocket(e,n,r){if(r.on("error",i),md.default[e._query.transport]!==void 0&&!md.default[e._query.transport].prototype.handlesUpgrades){je("transport doesnt handle upgraded requests"),r.close();return}const s=e._query.sid;if(e.websocket=r,s){const o=this.clients[s];if(!o)je("upgrade attempt for closed client"),r.close();else if(o.upgrading)je("transport has already been trying to upgrade"),r.close();else if(o.upgraded)je("transport had already been upgraded"),r.close();else{je("upgrading existing transport"),r.removeListener("error",i);const a=this.createTransport(e._query.transport,e);a.perMessageDeflate=this.opts.perMessageDeflate,o._maybeUpgrade(a)}}else{const o=(a,c)=>Sw(n,a,c);this.handshake(e._query.transport,e,o)}function i(){je("websocket error before upgrade")}}attach(e,n={}){const r=this._computePath(n),s=n.destroyUpgradeTimeout||1e3;function i(a){return r===a.url.slice(0,r.length)}const o=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("close",this.close.bind(this)),e.on("listening",this.init.bind(this)),e.on("request",(a,c)=>{if(i(a))je('intercepting request for path "%s"',r),this.handleRequest(a,c);else{let l=0;const u=o.length;for(;l<u;l++)o[l].call(e,a,c)}}),~this.opts.transports.indexOf("websocket")&&e.on("upgrade",(a,c,l)=>{i(a)?this.handleUpgrade(a,c,l):n.destroyUpgrade!==!1&&setTimeout(function(){if(c.writable&&c.bytesWritten<=0)return c.on("error",u=>{je("error while destroying upgrade: %s",u.message)}),c.end()},s)})}};mo.Server=dt;function ww(t,e,n){const r=e===dt.errors.FORBIDDEN?403:400,s=n&&n.message?n.message:dt.errorMessages[e];t.writeHead(r,{"Content-Type":"application/json"}),t.end(JSON.stringify({code:e,message:s}))}function Sw(t,e,n={}){if(t.on("error",()=>{je("ignoring error from closed connection")}),t.writable){const r=n.message||dt.errorMessages[e],s=Buffer.byteLength(r);t.write(`HTTP/1.1 400 Bad Request\r
Connection: close\r
Content-type: text/html\r
Content-Length: `+s+`\r
\r
`+r)}t.destroy()}const hc=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];function eU(t){if(t+="",t.length<1)return!1;if(!hc[t.charCodeAt(0)])return je('invalid header, index 0, char "%s"',t.charCodeAt(0)),!0;if(t.length<2)return!1;if(!hc[t.charCodeAt(1)])return je('invalid header, index 1, char "%s"',t.charCodeAt(1)),!0;if(t.length<3)return!1;if(!hc[t.charCodeAt(2)])return je('invalid header, index 2, char "%s"',t.charCodeAt(2)),!0;if(t.length<4)return!1;if(!hc[t.charCodeAt(3)])return je('invalid header, index 3, char "%s"',t.charCodeAt(3)),!0;for(let e=4;e<t.length;++e)if(!hc[t.charCodeAt(e)])return je('invalid header, index "%i", char "%s"',e,t.charCodeAt(e)),!0;return!1}var af={},o0={},cf={};Object.defineProperty(cf,"__esModule",{value:!0});cf.Polling=void 0;const tU=_s,_w=he,nU=r0,rU=Es,qn=(0,rU.default)("engine:polling"),sU={gzip:_w.createGzip,deflate:_w.createDeflate};class iU extends tU.Transport{constructor(e){super(e),this.closeTimeout=30*1e3}get name(){return"polling"}onRequest(e){const n=e.res;e.res=null,e.getMethod()==="get"?this.onPollRequest(e,n):e.getMethod()==="post"?this.onDataRequest(e,n):(n.writeStatus("500 Internal Server Error"),n.end())}onPollRequest(e,n){if(this.req){qn("request overlap"),this.onError("overlap from client"),n.writeStatus("500 Internal Server Error"),n.end();return}qn("setting request"),this.req=e,this.res=n;const r=()=>{this.writable=!1,this.onError("poll connection closed prematurely")},s=()=>{this.req=this.res=null};e.cleanup=s,n.onAborted(r),this.writable=!0,this.emit("ready"),this.writable&&this.shouldClose&&(qn("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,n){if(this.dataReq){this.onError("data request overlap from client"),n.writeStatus("500 Internal Server Error"),n.end();return}const r=Number(e.headers["content-length"]);if(!r){this.onError("content-length header required"),n.writeStatus("411 Length Required").end();return}if(r>this.maxHttpBufferSize){this.onError("payload too large"),n.writeStatus("413 Payload Too Large").end();return}if(e.headers["content-type"]==="application/octet-stream"&&this.protocol===4)return this.onError("invalid content");this.dataReq=e,this.dataRes=n;let i,o=0;const a={"Content-Type":"text/html"};this.headers(e,a);for(let l in a)n.writeHeader(l,String(a[l]));const c=l=>{this.onData(l.toString()),this.onDataRequestCleanup(),n.cork(()=>{n.end("ok")})};n.onAborted(()=>{this.onDataRequestCleanup(),this.onError("data request connection closed prematurely")}),n.onData((l,u)=>{const d=o+l.byteLength;if(d>r){this.onError("content-length mismatch"),n.close();return}if(!i){if(u){c(Buffer.from(l));return}i=Buffer.allocUnsafe(r)}if(Buffer.from(l).copy(i,o),u){if(d!=r){this.onError("content-length mismatch"),n.writeStatus("400 Content-Length Mismatch").end(),this.onDataRequestCleanup();return}c(i);return}o=d})}onDataRequestCleanup(){this.dataReq=this.dataRes=null}onData(e){qn('received "%s"',e);const n=r=>{if(r.type==="close")return qn("got xhr close packet"),this.onClose(),!1;this.onPacket(r)};this.protocol===3?this.parser.decodePayload(e,n):this.parser.decodePayload(e).forEach(n)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(qn("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);const n=r=>{const s=e.some(i=>i.options&&i.options.compress);this.write(r,{compress:s})};this.protocol===3?this.parser.encodePayload(e,this.supportsBinary,n):this.parser.encodePayload(e,n)}write(e,n){qn('writing "%s"',e),this.doWrite(e,n,()=>{this.req.cleanup(),this.emit("drain")})}doWrite(e,n,r){const s=typeof e=="string",o={"Content-Type":s?"text/plain; charset=UTF-8":"application/octet-stream"},a=u=>{this.headers(this.req,o),this.res.cork(()=>{Object.keys(o).forEach(d=>{this.res.writeHeader(d,String(o[d]))}),this.res.end(u)}),r()};if(!this.httpCompression||!n.compress){a(e);return}if((s?Buffer.byteLength(e):e.length)<this.httpCompression.threshold){a(e);return}const l=nU(this.req).encodings(["gzip","deflate"]);if(!l){a(e);return}this.compress(e,l,(u,d)=>{if(u){this.res.writeStatus("500 Internal Server Error"),this.res.end(),r(u);return}o["Content-Encoding"]=l,a(d)})}compress(e,n,r){qn("compressing");const s=[];let i=0;sU[n](this.httpCompression).on("error",r).on("data",function(o){s.push(o),i+=o.length}).on("end",function(){r(null,Buffer.concat(s,i))}).end(e)}doClose(e){qn("closing");let n;const r=()=>{clearTimeout(n),e(),this.onClose()};this.writable?(qn("transport writable - closing right away"),this.send([{type:"close"}]),r()):this.discarded?(qn("transport discarded - closing right away"),r()):(qn("transport not writable - buffering orderly close"),this.shouldClose=r,n=setTimeout(r,this.closeTimeout))}headers(e,n){n=n||{};const r=e.headers["user-agent"];return r&&(~r.indexOf(";MSIE")||~r.indexOf("Trident/"))&&(n["X-XSS-Protection"]="0"),n["cache-control"]="no-store",this.emit("headers",n,e),n}}cf.Polling=iU;var lf={};Object.defineProperty(lf,"__esModule",{value:!0});lf.WebSocket=void 0;const oU=_s,aU=Es,Ew=(0,aU.default)("engine:ws");let cU=class extends oU.Transport{constructor(e){super(e),this.writable=!1,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}send(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n+1===e.length,i=o=>{const a=typeof o!="string",c=this.perMessageDeflate&&Buffer.byteLength(o)>this.perMessageDeflate.threshold;Ew('writing "%s"',o),this.socket.send(o,a,c),s&&(this.emit("drain"),this.writable=!0,this.emit("ready"))};r.options&&typeof r.options.wsPreEncoded=="string"?i(r.options.wsPreEncoded):this.parser.encodePacket(r,this.supportsBinary,i)}}doClose(e){Ew("closing"),e&&e(),this.socket.end()}};lf.WebSocket=cU;Object.defineProperty(o0,"__esModule",{value:!0});const lU=cf,uU=lf;o0.default={polling:lU.Polling,websocket:uU.WebSocket};Object.defineProperty(af,"__esModule",{value:!0});af.uServer=void 0;const dU=Es,Ti=mo,pU=o0,Os=(0,dU.default)("engine:uws");class fU extends Ti.BaseServer{init(){}cleanup(){}prepare(e,n){e.method=e.getMethod().toUpperCase(),e.url=e.getUrl();const r=new URLSearchParams(e.getQuery());e._query=Object.fromEntries(r.entries()),e.headers={},e.forEach((s,i)=>{e.headers[s]=i}),e.connection={remoteAddress:Buffer.from(n.getRemoteAddressAsText()).toString()},n.onAborted(()=>{Os("response has been aborted")})}createTransport(e,n){return new pU.default[e](n)}attach(e,n={}){const r=this._computePath(n);e.any(r,this.handleRequest.bind(this)).ws(r,{compression:n.compression,idleTimeout:n.idleTimeout,maxBackpressure:n.maxBackpressure,maxPayloadLength:this.opts.maxHttpBufferSize,upgrade:this.handleUpgrade.bind(this),open:s=>{const i=s.getUserData().transport;i.socket=s,i.writable=!0,i.emit("ready")},message:(s,i,o)=>{s.getUserData().transport.onData(o?i:Buffer.from(i).toString())},close:(s,i,o)=>{s.getUserData().transport.onClose(i,o)}})}_applyMiddlewares(e,n,r){if(this.middlewares.length===0)return r();e.res=new hU(n),super._applyMiddlewares(e,e.res,s=>{e.res.writeHead(),r(s)})}handleRequest(e,n){Os('handling "%s" http request "%s"',n.getMethod(),n.getUrl()),this.prepare(n,e),n.res=e;const r=(s,i)=>{if(s!==void 0){this.emit("connection_error",{req:n,code:s,message:Ti.Server.errorMessages[s],context:i}),this.abortRequest(n.res,s,i);return}if(n._query.sid)Os("setting new request for existing client"),this.clients[n._query.sid].transport.onRequest(n);else{const o=(a,c)=>this.abortRequest(e,a,c);this.handshake(n._query.transport,n,o)}};this._applyMiddlewares(n,e,s=>{s?r(Ti.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(n,!1,r)})}handleUpgrade(e,n,r){Os("on upgrade"),this.prepare(n,e),n.res=e;const s=async(i,o)=>{if(i!==void 0){this.emit("connection_error",{req:n,code:i,message:Ti.Server.errorMessages[i],context:o}),this.abortRequest(e,i,o);return}const a=n._query.sid;let c;if(a){const l=this.clients[a];if(l){if(l.upgrading)return Os("transport has already been trying to upgrade"),e.close();if(l.upgraded)return Os("transport had already been upgraded"),e.close();Os("upgrading existing transport"),c=this.createTransport(n._query.transport,n),l._maybeUpgrade(c)}else return Os("upgrade attempt for closed client"),e.close()}else if(c=await this.handshake(n._query.transport,n,(l,u)=>this.abortRequest(e,l,u)),!c)return;n.res.writeStatus("101 Switching Protocols"),e.upgrade({transport:c},n.getHeader("sec-websocket-key"),n.getHeader("sec-websocket-protocol"),n.getHeader("sec-websocket-extensions"),r)};this._applyMiddlewares(n,e,i=>{i?s(Ti.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(n,!0,s)})}abortRequest(e,n,r){const s=n===Ti.Server.errors.FORBIDDEN?"403 Forbidden":"400 Bad Request",i=r&&r.message?r.message:Ti.Server.errorMessages[n];e.writeStatus(s),e.writeHeader("Content-Type","application/json"),e.end(JSON.stringify({code:n,message:i}))}}af.uServer=fU;class hU{constructor(e){this.res=e,this.statusWritten=!1,this.headers=[],this.isAborted=!1}set statusCode(e){e&&this.writeStatus(e===200?"200 OK":"204 No Content")}writeHead(e){this.statusCode=e}setHeader(e,n){Array.isArray(n)?n.forEach(r=>{this.writeHeader(e,r)}):this.writeHeader(e,n)}removeHeader(){}getHeader(){}writeStatus(e){if(!this.isAborted)return this.res.writeStatus(e),this.statusWritten=!0,this.writeBufferedHeaders(),this}writeHeader(e,n){this.isAborted||e!=="Content-Length"&&(this.statusWritten?this.res.writeHeader(e,n):this.headers.push([e,n]))}writeBufferedHeaders(){this.headers.forEach(([e,n])=>{this.res.writeHeader(e,n)})}end(e){this.isAborted||this.res.cork(()=>{this.statusWritten||this.writeBufferedHeaders(),this.res.end(e)})}onData(e){this.isAborted||this.res.onData(e)}onAborted(e){this.isAborted||this.res.onAborted(()=>{this.isAborted=!0,e()})}cork(e){this.isAborted||this.res.cork(e)}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.protocol=t.Transport=t.Socket=t.uServer=t.parser=t.transports=t.Server=void 0,t.listen=c,t.attach=l;const e=he,n=mo;Object.defineProperty(t,"Server",{enumerable:!0,get:function(){return n.Server}});const r=ef;t.transports=r.default;const s=tf;t.parser=s;var i=af;Object.defineProperty(t,"uServer",{enumerable:!0,get:function(){return i.uServer}});var o=Ul;Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return o.Socket}});var a=_s;Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return a.Transport}}),t.protocol=s.protocol;function c(u,d,p){typeof d=="function"&&(p=d,d={});const x=(0,e.createServer)(function(h,w){w.writeHead(501),w.end("Not Implemented")}),y=l(x,d);return y.httpServer=x,x.listen(u,p),y}function l(u,d){const p=new n.Server(d);return p.attach(u,d),p}})(hP);var uf={};const df=Tl(tP);var Gg={exports:{}};function mU(t){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=s,n.enabled=o,n.humanize=nf,n.destroy=l,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){let d,p=null,x,y;function h(...w){if(!h.enabled)return;const m=h,b=Number(new Date),g=b-(d||b);m.diff=g,m.prev=d,m.curr=b,d=b,w[0]=n.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let _=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(C,S)=>{if(C==="%%")return"%";_++;const A=n.formatters[S];if(typeof A=="function"){const P=w[_];C=A.call(m,P),w.splice(_,1),_--}return C}),n.formatArgs.call(m,w),(m.log||n.log).apply(m,w)}return h.namespace=u,h.useColors=n.useColors(),h.color=n.selectColor(u),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(x!==n.namespaces&&(x=n.namespaces,y=n.enabled(u)),y),set:w=>{p=w}}),typeof n.init=="function"&&n.init(h),h}function r(u,d){const p=n(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}function s(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let d;const p=(typeof u=="string"?u:"").split(/[\s,]+/),x=p.length;for(d=0;d<x;d++)p[d]&&(u=p[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...n.names.map(a),...n.skips.map(a).map(d=>"-"+d)].join(",");return n.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let d,p;for(d=0,p=n.skips.length;d<p;d++)if(n.skips[d].test(u))return!1;for(d=0,p=n.names.length;d<p;d++)if(n.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var gU=mU;(function(t,e){var n={};e.formatArgs=s,e.save=i,e.load=o,e.useColors=r,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,p=0;l[0].replace(/%[a-zA-Z%]/g,x=>{x!=="%%"&&(d++,x==="%c"&&(p=d))}),l.splice(p,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=n.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=gU(e);const{formatters:c}=t.exports;c.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Gg,Gg.exports);var Va=Gg.exports;Object.defineProperty(uf,"__esModule",{value:!0});uf.Client=void 0;const Tu=df,yU=Va,vU=he,or=yU("socket.io:client");let xU=class{constructor(e,n){this.sockets=new Map,this.nsps=new Map,this.server=e,this.conn=n,this.encoder=e.encoder,this.decoder=new e._parser.Decoder,this.id=n.id,this.setup()}get request(){return this.conn.request}setup(){this.onclose=this.onclose.bind(this),this.ondata=this.ondata.bind(this),this.onerror=this.onerror.bind(this),this.ondecoded=this.ondecoded.bind(this),this.decoder.on("decoded",this.ondecoded),this.conn.on("data",this.ondata),this.conn.on("error",this.onerror),this.conn.on("close",this.onclose),this.connectTimeout=setTimeout(()=>{this.nsps.size===0?(or("no namespace joined yet, close the client"),this.close()):or("the client has already joined a namespace, nothing to do")},this.server._connectTimeout)}connect(e,n={}){if(this.server._nsps.has(e))return or("connecting to namespace %s",e),this.doConnect(e,n);this.server._checkNamespace(e,n,r=>{r?this.doConnect(e,n):(or("creation of namespace %s was denied",e),this._packet({type:Tu.PacketType.CONNECT_ERROR,nsp:e,data:{message:"Invalid namespace"}}))})}doConnect(e,n){const r=this.server.of(e);r._add(this,n,s=>{this.sockets.set(s.id,s),this.nsps.set(r.name,s),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)})}_disconnect(){for(const e of this.sockets.values())e.disconnect();this.sockets.clear(),this.close()}_remove(e){if(this.sockets.has(e.id)){const n=this.sockets.get(e.id).nsp.name;this.sockets.delete(e.id),this.nsps.delete(n)}else or("ignoring remove for %s",e.id)}close(){this.conn.readyState==="open"&&(or("forcing transport close"),this.conn.close(),this.onclose("forced server close"))}_packet(e,n={}){if(this.conn.readyState!=="open"){or("ignoring packet write %j",e);return}const r=n.preEncoded?e:this.encoder.encode(e);this.writeToEngine(r,n)}writeToEngine(e,n){if(n.volatile&&!this.conn.transport.writable){or("volatile packet is discarded since the transport is not currently writable");return}const r=Array.isArray(e)?e:[e];for(const s of r)this.conn.write(s,n)}ondata(e){try{this.decoder.add(e)}catch(n){or("invalid packet format"),this.onerror(n)}}ondecoded(e){let n,r;if(this.conn.protocol===3){const i=vU.parse(e.nsp,!0);n=i.pathname,r=i.query}else n=e.nsp,r=e.data;const s=this.nsps.get(n);!s&&e.type===Tu.PacketType.CONNECT?this.connect(n,r):s&&e.type!==Tu.PacketType.CONNECT&&e.type!==Tu.PacketType.CONNECT_ERROR?process.nextTick(function(){s._onpacket(e)}):(or("invalid state (packet type: %s)",e.type),this.close())}onerror(e){for(const n of this.sockets.values())n._onerror(e);this.conn.close()}onclose(e,n){or("client close with reason %s",e),this.destroy();for(const r of this.sockets.values())r._onclose(e,n);this.sockets.clear(),this.decoder.destroy()}destroy(){this.conn.removeListener("data",this.ondata),this.conn.removeListener("error",this.onerror),this.conn.removeListener("close",this.onclose),this.decoder.removeListener("decoded",this.ondecoded),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)}};uf.Client=xU;var a0={},ql={},Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.StrictEventEmitter=void 0;const bU=he;class wU extends bU.EventEmitter{on(e,n){return super.on(e,n)}once(e,n){return super.once(e,n)}emit(e,...n){return super.emit(e,...n)}emitReserved(e,...n){return super.emit(e,...n)}emitUntyped(e,...n){return super.emit(e,...n)}listeners(e){return super.listeners(e)}}Ha.StrictEventEmitter=wU;var yo={},Ql={};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.RESERVED_EVENTS=void 0;Ql.RESERVED_EVENTS=new Set(["connect","connect_error","disconnect","disconnecting","newListener","removeListener"]);Object.defineProperty(yo,"__esModule",{value:!0});yo.RemoteSocket=yo.BroadcastOperator=void 0;const SU=Ql,_U=df;class ss{constructor(e,n=new Set,r=new Set,s={}){this.adapter=e,this.rooms=n,this.exceptRooms=r,this.flags=s}to(e){const n=new Set(this.rooms);return Array.isArray(e)?e.forEach(r=>n.add(r)):n.add(e),new ss(this.adapter,n,this.exceptRooms,this.flags)}in(e){return this.to(e)}except(e){const n=new Set(this.exceptRooms);return Array.isArray(e)?e.forEach(r=>n.add(r)):n.add(e),new ss(this.adapter,this.rooms,n,this.flags)}compress(e){const n=Object.assign({},this.flags,{compress:e});return new ss(this.adapter,this.rooms,this.exceptRooms,n)}get volatile(){const e=Object.assign({},this.flags,{volatile:!0});return new ss(this.adapter,this.rooms,this.exceptRooms,e)}get local(){const e=Object.assign({},this.flags,{local:!0});return new ss(this.adapter,this.rooms,this.exceptRooms,e)}timeout(e){const n=Object.assign({},this.flags,{timeout:e});return new ss(this.adapter,this.rooms,this.exceptRooms,n)}emit(e,...n){if(SU.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);const r=[e,...n],s={type:_U.PacketType.EVENT,data:r};if(!(typeof r[r.length-1]=="function"))return this.adapter.broadcast(s,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags}),!0;const o=r.pop();let a=!1,c=[];const l=setTimeout(()=>{a=!0,o.apply(this,[new Error("operation has timed out"),this.flags.expectSingleResponse?null:c])},this.flags.timeout);let u=-1,d=0,p=0;const x=()=>{!a&&u===d&&c.length===p&&(clearTimeout(l),o.apply(this,[null,this.flags.expectSingleResponse?c[0]:c]))};return this.adapter.broadcastWithAck(s,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags},y=>{p+=y,d++,x()},y=>{c.push(y),x()}),this.adapter.serverCount().then(y=>{u=y,x()}),!0}emitWithAck(e,...n){return new Promise((r,s)=>{n.push((i,o)=>i?(i.responses=o,s(i)):r(o)),this.emit(e,...n)})}allSockets(){if(!this.adapter)throw new Error("No adapter for this namespace, are you trying to get the list of clients of a dynamic namespace?");return this.adapter.sockets(this.rooms)}fetchSockets(){return this.adapter.fetchSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags}).then(e=>e.map(n=>n.server?n:new EP(this.adapter,n)))}socketsJoin(e){this.adapter.addSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}socketsLeave(e){this.adapter.delSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}disconnectSockets(e=!1){this.adapter.disconnectSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},e)}}yo.BroadcastOperator=ss;class EP{constructor(e,n){this.id=n.id,this.handshake=n.handshake,this.rooms=new Set(n.rooms),this.data=n.data,this.operator=new ss(e,new Set([this.id]),new Set,{expectSingleResponse:!0})}timeout(e){return this.operator.timeout(e)}emit(e,...n){return this.operator.emit(e,...n)}join(e){return this.operator.socketsJoin(e)}leave(e){return this.operator.socketsLeave(e)}disconnect(e=!1){return this.operator.disconnectSockets(e),this}}yo.RemoteSocket=EP;var kP=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ql,"__esModule",{value:!0});ql.Socket=void 0;const Qn=df,EU=kP(Va),kU=Ha,kw=kP(gP),CU=yo,AU=Ql,Xt=(0,EU.default)("socket.io:socket"),TU=new Set(["transport error","transport close","forced close","ping timeout","server shutting down","forced server close"]);function Cw(){}let NU=class extends kU.StrictEventEmitter{constructor(e,n,r,s){super(),this.nsp=e,this.client=n,this.recovered=!1,this.data={},this.connected=!1,this.acks=new Map,this.fns=[],this.flags={},this.server=e.server,this.adapter=this.nsp.adapter,s?(this.id=s.sid,this.pid=s.pid,s.rooms.forEach(i=>this.join(i)),this.data=s.data,s.missedPackets.forEach(i=>{this.packet({type:Qn.PacketType.EVENT,data:i})}),this.recovered=!0):(n.conn.protocol===3?this.id=e.name!=="/"?e.name+"#"+n.id:n.id:this.id=kw.default.generateId(),this.server._opts.connectionStateRecovery&&(this.pid=kw.default.generateId())),this.handshake=this.buildHandshake(r),this.on("error",Cw)}buildHandshake(e){var n,r,s,i;return{headers:((n=this.request)===null||n===void 0?void 0:n.headers)||{},time:new Date+"",address:this.conn.remoteAddress,xdomain:!!(!((r=this.request)===null||r===void 0)&&r.headers.origin),secure:!this.request||!!this.request.connection.encrypted,issued:+new Date,url:(s=this.request)===null||s===void 0?void 0:s.url,query:((i=this.request)===null||i===void 0?void 0:i._query)||{},auth:e}}emit(e,...n){if(AU.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);const r=[e,...n],s={type:Qn.PacketType.EVENT,data:r};if(typeof r[r.length-1]=="function"){const o=this.nsp._ids++;Xt("emitting packet with ack id %d",o),this.registerAckCallback(o,r.pop()),s.id=o}const i=Object.assign({},this.flags);return this.flags={},this.nsp.server.opts.connectionStateRecovery?this.adapter.broadcast(s,{rooms:new Set([this.id]),except:new Set,flags:i}):(this.notifyOutgoingListeners(s),this.packet(s,i)),!0}emitWithAck(e,...n){const r=this.flags.timeout!==void 0;return new Promise((s,i)=>{n.push((o,a)=>r?o?i(o):s(a):s(o)),this.emit(e,...n)})}registerAckCallback(e,n){const r=this.flags.timeout;if(r===void 0){this.acks.set(e,n);return}const s=setTimeout(()=>{Xt("event with ack id %d has timed out after %d ms",e,r),this.acks.delete(e),n.call(this,new Error("operation has timed out"))},r);this.acks.set(e,(...i)=>{clearTimeout(s),n.apply(this,[null,...i])})}to(e){return this.newBroadcastOperator().to(e)}in(e){return this.newBroadcastOperator().in(e)}except(e){return this.newBroadcastOperator().except(e)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}packet(e,n={}){e.nsp=this.nsp.name,n.compress=n.compress!==!1,this.client._packet(e,n)}join(e){return Xt("join room %s",e),this.adapter.addAll(this.id,new Set(Array.isArray(e)?e:[e]))}leave(e){return Xt("leave room %s",e),this.adapter.del(this.id,e)}leaveAll(){this.adapter.delAll(this.id)}_onconnect(){Xt("socket connected - writing packet"),this.connected=!0,this.join(this.id),this.conn.protocol===3?this.packet({type:Qn.PacketType.CONNECT}):this.packet({type:Qn.PacketType.CONNECT,data:{sid:this.id,pid:this.pid}})}_onpacket(e){switch(Xt("got packet %j",e),e.type){case Qn.PacketType.EVENT:this.onevent(e);break;case Qn.PacketType.BINARY_EVENT:this.onevent(e);break;case Qn.PacketType.ACK:this.onack(e);break;case Qn.PacketType.BINARY_ACK:this.onack(e);break;case Qn.PacketType.DISCONNECT:this.ondisconnect();break}}onevent(e){const n=e.data||[];if(Xt("emitting event %j",n),e.id!=null&&(Xt("attaching ack callback to event"),n.push(this.ack(e.id))),this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,n)}this.dispatch(n)}ack(e){const n=this;let r=!1;return function(){if(r)return;const s=Array.prototype.slice.call(arguments);Xt("sending ack %j",s),n.packet({id:e,type:Qn.PacketType.ACK,data:s}),r=!0}}onack(e){const n=this.acks.get(e.id);typeof n=="function"?(Xt("calling ack %s with %j",e.id,e.data),n.apply(this,e.data),this.acks.delete(e.id)):Xt("bad ack %s",e.id)}ondisconnect(){Xt("got disconnect packet"),this._onclose("client namespace disconnect")}_onerror(e){this.emitReserved("error",e)}_onclose(e,n){if(!this.connected)return this;Xt("closing socket - reason %s",e),this.emitReserved("disconnecting",e,n),this.server._opts.connectionStateRecovery&&TU.has(e)&&(Xt("connection state recovery is enabled for sid %s",this.id),this.adapter.persistSession({sid:this.id,pid:this.pid,rooms:[...this.rooms],data:this.data})),this._cleanup(),this.client._remove(this),this.connected=!1,this.emitReserved("disconnect",e,n)}_cleanup(){this.leaveAll(),this.nsp._remove(this),this.join=Cw}_error(e){this.packet({type:Qn.PacketType.CONNECT_ERROR,data:e})}disconnect(e=!1){return this.connected?(e?this.client._disconnect():(this.packet({type:Qn.PacketType.DISCONNECT}),this._onclose("server namespace disconnect")),this):this}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}get broadcast(){return this.newBroadcastOperator()}get local(){return this.newBroadcastOperator().local}timeout(e){return this.flags.timeout=e,this}dispatch(e){Xt("dispatching an event %j",e),this.run(e,n=>{process.nextTick(()=>{if(n)return this._onerror(n);this.connected?super.emitUntyped.apply(this,e):Xt("ignore packet received after disconnection")})})}use(e){return this.fns.push(e),this}run(e,n){if(!this.fns.length)return n();const r=this.fns.slice(0);function s(i){r[i](e,o=>{if(o)return n(o);if(!r[i+1])return n();s(i+1)})}s(0)}get disconnected(){return!this.connected}get request(){return this.client.request}get conn(){return this.client.conn}get rooms(){return this.adapter.socketRooms(this.id)||new Set}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}newBroadcastOperator(){const e=Object.assign({},this.flags);return this.flags={},new CU.BroadcastOperator(this.adapter,new Set,new Set([this.id]),e)}};ql.Socket=NU;(function(t){var e=Tt&&Tt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.Namespace=t.RESERVED_EVENTS=void 0;const n=ql,r=Ha,s=e(Va),i=yo,o=(0,s.default)("socket.io:namespace");t.RESERVED_EVENTS=new Set(["connect","connection","new_namespace"]);class a extends r.StrictEventEmitter{constructor(l,u){super(),this.sockets=new Map,this._preConnectSockets=new Map,this._fns=[],this._ids=0,this.server=l,this.name=u,this._initAdapter()}_initAdapter(){this.adapter=new(this.server.adapter())(this)}use(l){return this._fns.push(l),this}run(l,u){if(!this._fns.length)return u();const d=this._fns.slice(0);function p(x){d[x](l,y=>{if(y)return u(y);if(!d[x+1])return u();p(x+1)})}p(0)}to(l){return new i.BroadcastOperator(this.adapter).to(l)}in(l){return new i.BroadcastOperator(this.adapter).in(l)}except(l){return new i.BroadcastOperator(this.adapter).except(l)}async _add(l,u,d){var p;o("adding socket to nsp %s",this.name);const x=await this._createSocket(l,u);if(this._preConnectSockets.set(x.id,x),!((p=this.server.opts.connectionStateRecovery)===null||p===void 0)&&p.skipMiddlewares&&x.recovered&&l.conn.readyState==="open")return this._doConnect(x,d);this.run(x,y=>{process.nextTick(()=>{if(l.conn.readyState!=="open"){o("next called after client was closed - ignoring socket"),x._cleanup();return}if(y)return o("middleware error, sending CONNECT_ERROR packet to the client"),x._cleanup(),l.conn.protocol===3?x._error(y.data||y.message):x._error({message:y.message,data:y.data});this._doConnect(x,d)})})}async _createSocket(l,u){const d=u.pid,p=u.offset;if(this.server.opts.connectionStateRecovery&&typeof d=="string"&&typeof p=="string"){let x;try{x=await this.adapter.restoreSession(d,p)}catch(y){o("error while restoring session: %s",y)}if(x)return o("connection state recovered for sid %s",x.sid),new n.Socket(this,l,u,x)}return new n.Socket(this,l,u)}_doConnect(l,u){this._preConnectSockets.delete(l.id),this.sockets.set(l.id,l),l._onconnect(),u&&u(l),this.emitReserved("connect",l),this.emitReserved("connection",l)}_remove(l){this.sockets.delete(l.id)||this._preConnectSockets.delete(l.id)}emit(l,...u){return new i.BroadcastOperator(this.adapter).emit(l,...u)}send(...l){return this.emit("message",...l),this}write(...l){return this.emit("message",...l),this}serverSideEmit(l,...u){if(t.RESERVED_EVENTS.has(l))throw new Error(`"${String(l)}" is a reserved event name`);return u.unshift(l),this.adapter.serverSideEmit(u),!0}serverSideEmitWithAck(l,...u){return new Promise((d,p)=>{u.push((x,y)=>x?(x.responses=y,p(x)):d(y)),this.serverSideEmit(l,...u)})}_onServerSideEmit(l){super.emitUntyped.apply(this,l)}allSockets(){return new i.BroadcastOperator(this.adapter).allSockets()}compress(l){return new i.BroadcastOperator(this.adapter).compress(l)}get volatile(){return new i.BroadcastOperator(this.adapter).volatile}get local(){return new i.BroadcastOperator(this.adapter).local}timeout(l){return new i.BroadcastOperator(this.adapter).timeout(l)}fetchSockets(){return new i.BroadcastOperator(this.adapter).fetchSockets()}socketsJoin(l){return new i.BroadcastOperator(this.adapter).socketsJoin(l)}socketsLeave(l){return new i.BroadcastOperator(this.adapter).socketsLeave(l)}disconnectSockets(l=!1){return new i.BroadcastOperator(this.adapter).disconnectSockets(l)}}t.Namespace=a})(a0);var pf={},ff={},vo={},fi={};Object.defineProperty(fi,"__esModule",{value:!0});fi.yeast=fi.decode=fi.encode=void 0;const CP="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),lp=64,AP={};let Aw=0,Zs=0,Tw;function Wg(t){let e="";do e=CP[t%lp]+e,t=Math.floor(t/lp);while(t>0);return e}fi.encode=Wg;function RU(t){let e=0;for(Zs=0;Zs<t.length;Zs++)e=e*lp+AP[t.charAt(Zs)];return e}fi.decode=RU;function OU(){const t=Wg(+new Date);return t!==Tw?(Aw=0,Tw=t):t+"."+Wg(Aw++)}fi.yeast=OU;for(;Zs<lp;Zs++)AP[CP[Zs]]=Zs;var PU=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},Ph;Object.defineProperty(vo,"__esModule",{value:!0});vo.SessionAwareAdapter=vo.Adapter=void 0;const IU=he,jU=fi,gd=PU,FU=typeof((Ph=gd==null?void 0:gd.Sender)===null||Ph===void 0?void 0:Ph.frame)=="function";class TP extends IU.EventEmitter{constructor(e){super(),this.nsp=e,this.rooms=new Map,this.sids=new Map,this.encoder=e.server.encoder}init(){}close(){}serverCount(){return Promise.resolve(1)}addAll(e,n){this.sids.has(e)||this.sids.set(e,new Set);for(const r of n)this.sids.get(e).add(r),this.rooms.has(r)||(this.rooms.set(r,new Set),this.emit("create-room",r)),this.rooms.get(r).has(e)||(this.rooms.get(r).add(e),this.emit("join-room",r,e))}del(e,n){this.sids.has(e)&&this.sids.get(e).delete(n),this._del(n,e)}_del(e,n){const r=this.rooms.get(e);r!=null&&(r.delete(n)&&this.emit("leave-room",e,n),r.size===0&&this.rooms.delete(e)&&this.emit("delete-room",e))}delAll(e){if(this.sids.has(e)){for(const n of this.sids.get(e))this._del(n,e);this.sids.delete(e)}}broadcast(e,n){const r=n.flags||{},s={preEncoded:!0,volatile:r.volatile,compress:r.compress};e.nsp=this.nsp.name;const i=this._encode(e,s);this.apply(n,o=>{typeof o.notifyOutgoingListeners=="function"&&o.notifyOutgoingListeners(e),o.client.writeToEngine(i,s)})}broadcastWithAck(e,n,r,s){const i=n.flags||{},o={preEncoded:!0,volatile:i.volatile,compress:i.compress};e.nsp=this.nsp.name,e.id=this.nsp._ids++;const a=this._encode(e,o);let c=0;this.apply(n,l=>{c++,l.acks.set(e.id,s),typeof l.notifyOutgoingListeners=="function"&&l.notifyOutgoingListeners(e),l.client.writeToEngine(a,o)}),r(c)}_encode(e,n){const r=this.encoder.encode(e);if(FU&&r.length===1&&typeof r[0]=="string"){const s=Buffer.from("4"+r[0]);n.wsPreEncodedFrame=gd.Sender.frame(s,{readOnly:!1,mask:!1,rsv1:!1,opcode:1,fin:!0})}return r}sockets(e){const n=new Set;return this.apply({rooms:e},r=>{n.add(r.id)}),Promise.resolve(n)}socketRooms(e){return this.sids.get(e)}fetchSockets(e){const n=[];return this.apply(e,r=>{n.push(r)}),Promise.resolve(n)}addSockets(e,n){this.apply(e,r=>{r.join(n)})}delSockets(e,n){this.apply(e,r=>{n.forEach(s=>r.leave(s))})}disconnectSockets(e,n){this.apply(e,r=>{r.disconnect(n)})}apply(e,n){const r=e.rooms,s=this.computeExceptSids(e.except);if(r.size){const i=new Set;for(const o of r)if(this.rooms.has(o))for(const a of this.rooms.get(o)){if(i.has(a)||s.has(a))continue;const c=this.nsp.sockets.get(a);c&&(n(c),i.add(a))}}else for(const[i]of this.sids){if(s.has(i))continue;const o=this.nsp.sockets.get(i);o&&n(o)}}computeExceptSids(e){const n=new Set;if(e&&e.size>0)for(const r of e)this.rooms.has(r)&&this.rooms.get(r).forEach(s=>n.add(s));return n}serverSideEmit(e){console.warn("this adapter does not support the serverSideEmit() functionality")}persistSession(e){}restoreSession(e,n){return null}}vo.Adapter=TP;class MU extends TP{constructor(e){super(e),this.nsp=e,this.sessions=new Map,this.packets=[],this.maxDisconnectionDuration=e.server.opts.connectionStateRecovery.maxDisconnectionDuration,setInterval(()=>{const r=Date.now()-this.maxDisconnectionDuration;this.sessions.forEach((s,i)=>{s.disconnectedAt<r&&this.sessions.delete(i)});for(let s=this.packets.length-1;s>=0;s--)if(this.packets[s].emittedAt<r){this.packets.splice(0,s+1);break}},60*1e3).unref()}persistSession(e){e.disconnectedAt=Date.now(),this.sessions.set(e.pid,e)}restoreSession(e,n){const r=this.sessions.get(e);if(!r)return null;if(r.disconnectedAt+this.maxDisconnectionDuration<Date.now())return this.sessions.delete(e),null;const i=this.packets.findIndex(a=>a.id===n);if(i===-1)return null;const o=[];for(let a=i+1;a<this.packets.length;a++){const c=this.packets[a];DU(r.rooms,c.opts)&&o.push(c.data)}return Promise.resolve(Object.assign(Object.assign({},r),{missedPackets:o}))}broadcast(e,n){var r;const s=e.type===2,i=e.id===void 0,o=((r=n.flags)===null||r===void 0?void 0:r.volatile)===void 0;if(s&&i&&o){const a=(0,jU.yeast)();e.data.push(a),this.packets.push({id:a,opts:n,data:e.data,emittedAt:Date.now()})}super.broadcast(e,n)}}vo.SessionAwareAdapter=MU;function DU(t,e){const n=e.rooms.size===0||t.some(s=>e.rooms.has(s)),r=t.every(s=>!e.except.has(s));return n&&r}var NP={},Kg={exports:{}};function LU(t){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=s,n.enabled=o,n.humanize=nf,n.destroy=l,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){let d,p=null,x,y;function h(...w){if(!h.enabled)return;const m=h,b=Number(new Date),g=b-(d||b);m.diff=g,m.prev=d,m.curr=b,d=b,w[0]=n.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let _=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(C,S)=>{if(C==="%%")return"%";_++;const A=n.formatters[S];if(typeof A=="function"){const P=w[_];C=A.call(m,P),w.splice(_,1),_--}return C}),n.formatArgs.call(m,w),(m.log||n.log).apply(m,w)}return h.namespace=u,h.useColors=n.useColors(),h.color=n.selectColor(u),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(x!==n.namespaces&&(x=n.namespaces,y=n.enabled(u)),y),set:w=>{p=w}}),typeof n.init=="function"&&n.init(h),h}function r(u,d){const p=n(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}function s(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let d;const p=(typeof u=="string"?u:"").split(/[\s,]+/),x=p.length;for(d=0;d<x;d++)p[d]&&(u=p[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...n.names.map(a),...n.skips.map(a).map(d=>"-"+d)].join(",");return n.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let d,p;for(d=0,p=n.skips.length;d<p;d++)if(n.skips[d].test(u))return!1;for(d=0,p=n.names.length;d<p;d++)if(n.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var BU=LU;(function(t,e){var n={};e.formatArgs=s,e.save=i,e.load=o,e.useColors=r,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,p=0;l[0].replace(/%[a-zA-Z%]/g,x=>{x!=="%%"&&(d++,x==="%c"&&(p=d))}),l.splice(p,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=n.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=BU(e);const{formatters:c}=t.exports;c.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Kg,Kg.exports);var $U=Kg.exports;(function(t){var e=Tt&&Tt.__rest||function(y,h){var w={};for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&h.indexOf(m)<0&&(w[m]=y[m]);if(y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,m=Object.getOwnPropertySymbols(y);b<m.length;b++)h.indexOf(m[b])<0&&Object.prototype.propertyIsEnumerable.call(y,m[b])&&(w[m[b]]=y[m[b]]);return w};Object.defineProperty(t,"__esModule",{value:!0}),t.ClusterAdapterWithHeartbeat=t.ClusterAdapter=t.MessageType=void 0;const n=vo,r=$U,s=he,i=(0,r.debug)("socket.io-adapter"),o="emitter",a=5e3;function c(){return(0,s.randomBytes)(8).toString("hex")}var l;(function(y){y[y.INITIAL_HEARTBEAT=1]="INITIAL_HEARTBEAT",y[y.HEARTBEAT=2]="HEARTBEAT",y[y.BROADCAST=3]="BROADCAST",y[y.SOCKETS_JOIN=4]="SOCKETS_JOIN",y[y.SOCKETS_LEAVE=5]="SOCKETS_LEAVE",y[y.DISCONNECT_SOCKETS=6]="DISCONNECT_SOCKETS",y[y.FETCH_SOCKETS=7]="FETCH_SOCKETS",y[y.FETCH_SOCKETS_RESPONSE=8]="FETCH_SOCKETS_RESPONSE",y[y.SERVER_SIDE_EMIT=9]="SERVER_SIDE_EMIT",y[y.SERVER_SIDE_EMIT_RESPONSE=10]="SERVER_SIDE_EMIT_RESPONSE",y[y.BROADCAST_CLIENT_COUNT=11]="BROADCAST_CLIENT_COUNT",y[y.BROADCAST_ACK=12]="BROADCAST_ACK",y[y.ADAPTER_CLOSE=13]="ADAPTER_CLOSE"})(l=t.MessageType||(t.MessageType={}));function u(y){return{rooms:[...y.rooms],except:[...y.except],flags:y.flags}}function d(y){return{rooms:new Set(y.rooms),except:new Set(y.except),flags:y.flags}}class p extends n.Adapter{constructor(h){super(h),this.requests=new Map,this.ackRequests=new Map,this.uid=c()}onMessage(h,w){if(h.uid===this.uid)return i("[%s] ignore message from self",this.uid);switch(i("[%s] new event of type %d from %s",this.uid,h.type,h.uid),h.type){case l.BROADCAST:{if(h.data.requestId!==void 0)super.broadcastWithAck(h.data.packet,d(h.data.opts),b=>{i("[%s] waiting for %d client acknowledgements",this.uid,b),this.publishResponse(h.uid,{type:l.BROADCAST_CLIENT_COUNT,data:{requestId:h.data.requestId,clientCount:b}})},b=>{i("[%s] received acknowledgement with value %j",this.uid,b),this.publishResponse(h.uid,{type:l.BROADCAST_ACK,data:{requestId:h.data.requestId,packet:b}})});else{const b=h.data.packet,g=d(h.data.opts);this.addOffsetIfNecessary(b,g,w),super.broadcast(b,g)}break}case l.SOCKETS_JOIN:super.addSockets(d(h.data.opts),h.data.rooms);break;case l.SOCKETS_LEAVE:super.delSockets(d(h.data.opts),h.data.rooms);break;case l.DISCONNECT_SOCKETS:super.disconnectSockets(d(h.data.opts),h.data.close);break;case l.FETCH_SOCKETS:{i("[%s] calling fetchSockets with opts %j",this.uid,h.data.opts),super.fetchSockets(d(h.data.opts)).then(m=>{this.publishResponse(h.uid,{type:l.FETCH_SOCKETS_RESPONSE,data:{requestId:h.data.requestId,sockets:m.map(b=>{const g=b.handshake,{sessionStore:_}=g,T=e(g,["sessionStore"]);return{id:b.id,handshake:T,rooms:[...b.rooms],data:b.data}})}})});break}case l.SERVER_SIDE_EMIT:{const m=h.data.packet;if(!(h.data.requestId!==void 0)){this.nsp._onServerSideEmit(m);return}let g=!1;const _=T=>{g||(g=!0,i("[%s] calling acknowledgement with %j",this.uid,T),this.publishResponse(h.uid,{type:l.SERVER_SIDE_EMIT_RESPONSE,data:{requestId:h.data.requestId,packet:T}}))};this.nsp._onServerSideEmit([...m,_]);break}case l.BROADCAST_CLIENT_COUNT:case l.BROADCAST_ACK:case l.FETCH_SOCKETS_RESPONSE:case l.SERVER_SIDE_EMIT_RESPONSE:this.onResponse(h);break;default:i("[%s] unknown message type: %s",this.uid,h.type)}}onResponse(h){var w,m;const b=h.data.requestId;switch(i("[%s] received response %s to request %s",this.uid,h.type,b),h.type){case l.BROADCAST_CLIENT_COUNT:{(w=this.ackRequests.get(b))===null||w===void 0||w.clientCountCallback(h.data.clientCount);break}case l.BROADCAST_ACK:{(m=this.ackRequests.get(b))===null||m===void 0||m.ack(h.data.packet);break}case l.FETCH_SOCKETS_RESPONSE:{const g=this.requests.get(b);if(!g)return;g.current++,h.data.sockets.forEach(_=>g.responses.push(_)),g.current===g.expected&&(clearTimeout(g.timeout),g.resolve(g.responses),this.requests.delete(b));break}case l.SERVER_SIDE_EMIT_RESPONSE:{const g=this.requests.get(b);if(!g)return;g.current++,g.responses.push(h.data.packet),g.current===g.expected&&(clearTimeout(g.timeout),g.resolve(null,g.responses),this.requests.delete(b));break}default:i("[%s] unknown response type: %s",this.uid,h.type)}}async broadcast(h,w){var m;if(!((m=w.flags)===null||m===void 0?void 0:m.local))try{const g=await this.publishAndReturnOffset({type:l.BROADCAST,data:{packet:h,opts:u(w)}});this.addOffsetIfNecessary(h,w,g)}catch(g){return i("[%s] error while broadcasting message: %s",this.uid,g.message)}super.broadcast(h,w)}addOffsetIfNecessary(h,w,m){var b;if(!this.nsp.server.opts.connectionStateRecovery)return;const g=h.type===2,_=h.id===void 0,T=((b=w.flags)===null||b===void 0?void 0:b.volatile)===void 0;g&&_&&T&&h.data.push(m)}broadcastWithAck(h,w,m,b){var g;if(!((g=w==null?void 0:w.flags)===null||g===void 0?void 0:g.local)){const T=c();this.ackRequests.set(T,{clientCountCallback:m,ack:b}),this.publish({type:l.BROADCAST,data:{packet:h,requestId:T,opts:u(w)}}),setTimeout(()=>{this.ackRequests.delete(T)},w.flags.timeout)}super.broadcastWithAck(h,w,m,b)}async addSockets(h,w){var m;if(!((m=h.flags)===null||m===void 0?void 0:m.local))try{await this.publishAndReturnOffset({type:l.SOCKETS_JOIN,data:{opts:u(h),rooms:w}})}catch(g){i("[%s] error while publishing message: %s",this.uid,g.message)}super.addSockets(h,w)}async delSockets(h,w){var m;if(!((m=h.flags)===null||m===void 0?void 0:m.local))try{await this.publishAndReturnOffset({type:l.SOCKETS_LEAVE,data:{opts:u(h),rooms:w}})}catch(g){i("[%s] error while publishing message: %s",this.uid,g.message)}super.delSockets(h,w)}async disconnectSockets(h,w){var m;if(!((m=h.flags)===null||m===void 0?void 0:m.local))try{await this.publishAndReturnOffset({type:l.DISCONNECT_SOCKETS,data:{opts:u(h),close:w}})}catch(g){i("[%s] error while publishing message: %s",this.uid,g.message)}super.disconnectSockets(h,w)}async fetchSockets(h){var w;const[m,b]=await Promise.all([super.fetchSockets(h),this.serverCount()]),g=b-1;if(!((w=h.flags)===null||w===void 0)&&w.local||g<=0)return m;const _=c();return new Promise((T,C)=>{const S=setTimeout(()=>{const P=this.requests.get(_);P&&(C(new Error(`timeout reached: only ${P.current} responses received out of ${P.expected}`)),this.requests.delete(_))},h.flags.timeout||a),A={type:l.FETCH_SOCKETS,resolve:T,timeout:S,current:0,expected:g,responses:m};this.requests.set(_,A),this.publish({type:l.FETCH_SOCKETS,data:{opts:u(h),requestId:_}})})}async serverSideEmit(h){if(!(typeof h[h.length-1]=="function"))return this.publish({type:l.SERVER_SIDE_EMIT,data:{packet:h}});const m=h.pop(),b=await this.serverCount()-1;if(i('[%s] waiting for %d responses to "serverSideEmit" request',this.uid,b),b<=0)return m(null,[]);const g=c(),_=setTimeout(()=>{const C=this.requests.get(g);C&&(m(new Error(`timeout reached: only ${C.current} responses received out of ${C.expected}`),C.responses),this.requests.delete(g))},a),T={type:l.SERVER_SIDE_EMIT,resolve:m,timeout:_,current:0,expected:b,responses:[]};this.requests.set(g,T),this.publish({type:l.SERVER_SIDE_EMIT,data:{requestId:g,packet:h}})}publish(h){this.publishAndReturnOffset(h).catch(w=>{i("[%s] error while publishing message: %s",this.uid,w)})}publishAndReturnOffset(h){return h.uid=this.uid,h.nsp=this.nsp.name,this.doPublish(h)}publishResponse(h,w){w.uid=this.uid,w.nsp=this.nsp.name,this.doPublishResponse(h,w).catch(m=>{i("[%s] error while publishing response: %s",this.uid,m)})}}t.ClusterAdapter=p;class x extends p{constructor(h,w){super(h),this.nodesMap=new Map,this.customRequests=new Map,this._opts=Object.assign({heartbeatInterval:5e3,heartbeatTimeout:1e4},w),this.cleanupTimer=setInterval(()=>{const m=Date.now();this.nodesMap.forEach((b,g)=>{m-b>this._opts.heartbeatTimeout&&(i("[%s] node %s seems down",this.uid,g),this.removeNode(g))})},1e3)}init(){this.publish({type:l.INITIAL_HEARTBEAT})}scheduleHeartbeat(){this.heartbeatTimer?this.heartbeatTimer.refresh():this.heartbeatTimer=setTimeout(()=>{this.publish({type:l.HEARTBEAT})},this._opts.heartbeatInterval)}close(){this.publish({type:l.ADAPTER_CLOSE}),clearTimeout(this.heartbeatTimer),this.cleanupTimer&&clearInterval(this.cleanupTimer)}onMessage(h,w){if(h.uid===this.uid)return i("[%s] ignore message from self",this.uid);switch(h.uid&&h.uid!==o&&this.nodesMap.set(h.uid,Date.now()),i("[%s] new event of type %d from %s",this.uid,h.type,h.uid),h.type){case l.INITIAL_HEARTBEAT:this.publish({type:l.HEARTBEAT});break;case l.HEARTBEAT:break;case l.ADAPTER_CLOSE:this.removeNode(h.uid);break;default:super.onMessage(h,w)}}serverCount(){return Promise.resolve(1+this.nodesMap.size)}publish(h){return this.scheduleHeartbeat(),super.publish(h)}async serverSideEmit(h){if(!(typeof h[h.length-1]=="function"))return this.publish({type:l.SERVER_SIDE_EMIT,data:{packet:h}});const m=h.pop(),b=this.nodesMap.size;if(i('[%s] waiting for %d responses to "serverSideEmit" request',this.uid,b),b<=0)return m(null,[]);const g=c(),_=setTimeout(()=>{const C=this.customRequests.get(g);C&&(m(new Error(`timeout reached: missing ${C.missingUids.size} responses`),C.responses),this.customRequests.delete(g))},a),T={type:l.SERVER_SIDE_EMIT,resolve:m,timeout:_,missingUids:new Set([...this.nodesMap.keys()]),responses:[]};this.customRequests.set(g,T),this.publish({type:l.SERVER_SIDE_EMIT,data:{requestId:g,packet:h}})}async fetchSockets(h){var w;const[m,b]=await Promise.all([super.fetchSockets({rooms:h.rooms,except:h.except,flags:{local:!0}}),this.serverCount()]),g=b-1;if(!((w=h.flags)===null||w===void 0)&&w.local||g<=0)return m;const _=c();return new Promise((T,C)=>{const S=setTimeout(()=>{const P=this.customRequests.get(_);P&&(C(new Error(`timeout reached: missing ${P.missingUids.size} responses`)),this.customRequests.delete(_))},h.flags.timeout||a),A={type:l.FETCH_SOCKETS,resolve:T,timeout:S,missingUids:new Set([...this.nodesMap.keys()]),responses:m};this.customRequests.set(_,A),this.publish({type:l.FETCH_SOCKETS,data:{opts:u(h),requestId:_}})})}onResponse(h){const w=h.data.requestId;switch(i("[%s] received response %s to request %s",this.uid,h.type,w),h.type){case l.FETCH_SOCKETS_RESPONSE:{const m=this.customRequests.get(w);if(!m)return;h.data.sockets.forEach(b=>m.responses.push(b)),m.missingUids.delete(h.uid),m.missingUids.size===0&&(clearTimeout(m.timeout),m.resolve(m.responses),this.customRequests.delete(w));break}case l.SERVER_SIDE_EMIT_RESPONSE:{const m=this.customRequests.get(w);if(!m)return;m.responses.push(h.data.packet),m.missingUids.delete(h.uid),m.missingUids.size===0&&(clearTimeout(m.timeout),m.resolve(null,m.responses),this.customRequests.delete(w));break}default:super.onResponse(h)}}removeNode(h){this.customRequests.forEach((w,m)=>{w.missingUids.delete(h),w.missingUids.size===0&&(clearTimeout(w.timeout),w.type===l.FETCH_SOCKETS?w.resolve(w.responses):w.type===l.SERVER_SIDE_EMIT&&w.resolve(null,w.responses),this.customRequests.delete(m))}),this.nodesMap.delete(h)}}t.ClusterAdapterWithHeartbeat=x})(NP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageType=t.ClusterAdapterWithHeartbeat=t.ClusterAdapter=t.SessionAwareAdapter=t.Adapter=void 0;var e=vo;Object.defineProperty(t,"Adapter",{enumerable:!0,get:function(){return e.Adapter}}),Object.defineProperty(t,"SessionAwareAdapter",{enumerable:!0,get:function(){return e.SessionAwareAdapter}});var n=NP;Object.defineProperty(t,"ClusterAdapter",{enumerable:!0,get:function(){return n.ClusterAdapter}}),Object.defineProperty(t,"ClusterAdapterWithHeartbeat",{enumerable:!0,get:function(){return n.ClusterAdapterWithHeartbeat}}),Object.defineProperty(t,"MessageType",{enumerable:!0,get:function(){return n.MessageType}})})(ff);var zU=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pf,"__esModule",{value:!0});pf.ParentNamespace=void 0;const Nw=a0,UU=ff,qU=zU(Va),Rw=(0,qU.default)("socket.io:parent-namespace");class hf extends Nw.Namespace{constructor(e){super(e,"/_"+hf.count++),this.children=new Set}_initAdapter(){this.adapter=new QU(this)}emit(e,...n){return this.children.forEach(r=>{r.emit(e,...n)}),!0}createChild(e){Rw("creating child namespace %s",e);const n=new Nw.Namespace(this.server,e);if(this._fns.forEach(r=>n.use(r)),this.listeners("connect").forEach(r=>n.on("connect",r)),this.listeners("connection").forEach(r=>n.on("connection",r)),this.children.add(n),this.server._opts.cleanupEmptyChildNamespaces){const r=n._remove;n._remove=s=>{r.call(n,s),n.sockets.size===0&&(Rw("closing child namespace %s",e),n.adapter.close(),this.server._nsps.delete(n.name),this.children.delete(n))}}return this.server._nsps.set(e,n),this.server.sockets.emitReserved("new_namespace",n),n}fetchSockets(){throw new Error("fetchSockets() is not supported on parent namespaces")}}pf.ParentNamespace=hf;hf.count=0;class QU extends UU.Adapter{broadcast(e,n){this.nsp.children.forEach(r=>{r.adapter.broadcast(e,n)})}}var Vl={},VU=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.patchAdapter=GU;Vl.restoreAdapter=WU;Vl.serveFile=YU;const Ji=ff,Ow=he,HU=VU(Va),up=(0,HU.default)("socket.io:adapter-uws"),Yg="",{addAll:RP,del:OP,broadcast:PP}=Ji.Adapter.prototype;function GU(t){Ji.Adapter.prototype.addAll=function(e,n){const r=!this.sids.has(e);RP.call(this,e,n);const s=this.nsp.sockets.get(e)||this.nsp._preConnectSockets.get(e);if(s){if(s.conn.transport.name==="websocket"){Pw(this.nsp.name,s,r,n);return}r&&s.conn.on("upgrade",()=>{const i=this.sids.get(e);i&&Pw(this.nsp.name,s,r,i)})}},Ji.Adapter.prototype.del=function(e,n){OP.call(this,e,n);const r=this.nsp.sockets.get(e)||this.nsp._preConnectSockets.get(e);if(r&&r.conn.transport.name==="websocket"){const s=r.conn.id,i=r.conn.transport.socket,o=`${this.nsp.name}${Yg}${n}`;up("unsubscribe connection %s from topic %s",s,o),i.unsubscribe(o)}},Ji.Adapter.prototype.broadcast=function(e,n){if(!(n.rooms.size<=1&&n.except.size===0)){PP.call(this,e,n);return}const s=n.flags||{},i={preEncoded:!0,volatile:s.volatile,compress:s.compress};e.nsp=this.nsp.name;const o=this.encoder.encode(e),a=n.rooms.size===0?this.nsp.name:`${this.nsp.name}${Yg}${n.rooms.keys().next().value}`;up("fast publish to %s",a),o.forEach(c=>{const l=typeof c!="string";t.publish(a,l?c:"4"+c,l)}),this.apply(n,c=>{c.conn.transport.name!=="websocket"&&c.client.writeToEngine(o,i)})}}function Pw(t,e,n,r){const s=e.conn.id,i=e.conn.transport.socket;n&&(up("subscribe connection %s to topic %s",s,t),i.subscribe(t)),r.forEach(o=>{const a=`${t}${Yg}${o}`;up("subscribe connection %s to topic %s",s,a),i.subscribe(a)})}function WU(){Ji.Adapter.prototype.addAll=RP,Ji.Adapter.prototype.del=OP,Ji.Adapter.prototype.broadcast=PP}const KU=t=>{const{buffer:e,byteOffset:n,byteLength:r}=t;return e.slice(n,n+r)};function YU(t,e){const{size:n}=(0,Ow.statSync)(e),r=(0,Ow.createReadStream)(e),s=()=>!r.destroyed&&r.destroy(),i=a=>{throw s(),a},o=a=>{const c=KU(a);t.cork(()=>{const l=t.getWriteOffset(),[u,d]=t.tryEnd(c,n);!d&&!u&&(r.pause(),t.onWritable(p=>{const[x,y]=t.tryEnd(c.slice(p-l),n);return!y&&x&&r.resume(),x}))})};t.onAborted(s),r.on("data",o).on("error",i).on("end",s)}const JU="4.8.1",XU={version:JU};(function(t,e){var n=Tt&&Tt.__createBinding||(Object.create?function(U,R,I,V){V===void 0&&(V=I);var j=Object.getOwnPropertyDescriptor(R,I);(!j||("get"in j?!R.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return R[I]}}),Object.defineProperty(U,V,j)}:function(U,R,I,V){V===void 0&&(V=I),U[V]=R[I]}),r=Tt&&Tt.__setModuleDefault||(Object.create?function(U,R){Object.defineProperty(U,"default",{enumerable:!0,value:R})}:function(U,R){U.default=R}),s=Tt&&Tt.__importStar||function(U){if(U&&U.__esModule)return U;var R={};if(U!=null)for(var I in U)I!=="default"&&Object.prototype.hasOwnProperty.call(U,I)&&n(R,U,I);return r(R,U),R},i=Tt&&Tt.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(e,"__esModule",{value:!0}),e.Namespace=e.Socket=e.Server=void 0;const o=he,a=he,c=he,l=r0,u=he,d=he,p=hP,x=uf,y=he,h=a0;Object.defineProperty(e,"Namespace",{enumerable:!0,get:function(){return h.Namespace}});const w=pf,m=ff,b=s(df),g=i(Va),_=ql;Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return _.Socket}});const T=Ha,C=Vl,S=i(_P),A=(0,g.default)("socket.io:server"),P=XU.version,D=/\.map/;class q extends T.StrictEventEmitter{constructor(R,I={}){super(),this._nsps=new Map,this.parentNsps=new Map,this.parentNamespacesFromRegExp=new Map,typeof R=="object"&&R instanceof Object&&!R.listen&&(I=R,R=void 0),this.path(I.path||"/socket.io"),this.connectTimeout(I.connectTimeout||45e3),this.serveClient(I.serveClient!==!1),this._parser=I.parser||b,this.encoder=new this._parser.Encoder,this.opts=I,I.connectionStateRecovery?(I.connectionStateRecovery=Object.assign({maxDisconnectionDuration:2*60*1e3,skipMiddlewares:!0},I.connectionStateRecovery),this.adapter(I.adapter||m.SessionAwareAdapter)):this.adapter(I.adapter||m.Adapter),I.cleanupEmptyChildNamespaces=!!I.cleanupEmptyChildNamespaces,this.sockets=this.of("/"),(R||typeof R=="number")&&this.attach(R),this.opts.cors&&(this._corsMiddleware=(0,S.default)(this.opts.cors))}get _opts(){return this.opts}serveClient(R){return arguments.length?(this._serveClient=R,this):this._serveClient}_checkNamespace(R,I,V){if(this.parentNsps.size===0)return V(!1);const j=this.parentNsps.keys(),L=()=>{const z=j.next();if(z.done)return V(!1);z.value(R,I,(X,ne)=>{if(X||!ne)return L();if(this._nsps.has(R))return A("dynamic namespace %s already exists",R),V(this._nsps.get(R));const ae=this.parentNsps.get(z.value).createChild(R);A("dynamic namespace %s was created",R),V(ae)})};L()}path(R){if(!arguments.length)return this._path;this._path=R.replace(/\/$/,"");const I=this._path.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return this.clientPathRegex=new RegExp("^"+I+"/socket\\.io(\\.msgpack|\\.esm)?(\\.min)?\\.js(\\.map)?(?:\\?|$)"),this}connectTimeout(R){return R===void 0?this._connectTimeout:(this._connectTimeout=R,this)}adapter(R){if(!arguments.length)return this._adapter;this._adapter=R;for(const I of this._nsps.values())I._initAdapter();return this}listen(R,I={}){return this.attach(R,I)}attach(R,I={}){if(typeof R=="function"){const V="You are trying to attach socket.io to an express request handler function. Please pass a http.Server instance.";throw new Error(V)}if(Number(R)==R&&(R=Number(R)),typeof R=="number"){A("creating http server and binding to %d",R);const V=R;R=o.createServer((j,L)=>{L.writeHead(404),L.end()}),R.listen(V)}return Object.assign(I,this.opts),I.path=I.path||this._path,this.initEngine(R,I),this}attachApp(R,I={}){Object.assign(I,this.opts),I.path=I.path||this._path,A("creating uWebSockets.js-based engine with opts %j",I);const V=new p.uServer(I);V.attach(R,I),this.bind(V),this._serveClient&&R.get(`${this._path}/*`,(j,L)=>{if(!this.clientPathRegex.test(L.getUrl())){L.setYield(!0);return}const z=L.getUrl().replace(this._path,"").replace(/\?.*$/,"").replace(/^\//,""),X=D.test(z),ne=X?"map":"source",ae='"'+P+'"',De="W/"+ae,Ge=L.getHeader("if-none-match");if(Ge&&(ae===Ge||De===Ge)){A("serve client %s 304",ne),j.writeStatus("304 Not Modified"),j.end();return}A("serve client %s",ne),j.writeHeader("cache-control","public, max-age=0"),j.writeHeader("content-type","application/"+(X?"json":"javascript")+"; charset=utf-8"),j.writeHeader("etag",ae);const Ve=d.join(__dirname,"../client-dist/",z);(0,C.serveFile)(j,Ve)}),(0,C.patchAdapter)(R)}initEngine(R,I){A("creating engine.io instance with opts %j",I),this.eio=(0,p.attach)(R,I),this._serveClient&&this.attachServe(R),this.httpServer=R,this.bind(this.eio)}attachServe(R){A("attaching client serving req handler");const I=R.listeners("request").slice(0);R.removeAllListeners("request"),R.on("request",(V,j)=>{if(this.clientPathRegex.test(V.url))this._corsMiddleware?this._corsMiddleware(V,j,()=>{this.serve(V,j)}):this.serve(V,j);else for(let L=0;L<I.length;L++)I[L].call(R,V,j)})}serve(R,I){const V=R.url.replace(this._path,"").replace(/\?.*$/,""),j=D.test(V),L=j?"map":"source",z='"'+P+'"',X="W/"+z,ne=R.headers["if-none-match"];if(ne&&(z===ne||X===ne)){A("serve client %s 304",L),I.writeHead(304),I.end();return}A("serve client %s",L),I.setHeader("Cache-Control","public, max-age=0"),I.setHeader("Content-Type","application/"+(j?"json":"javascript")+"; charset=utf-8"),I.setHeader("ETag",z),q.sendFile(V,R,I)}static sendFile(R,I,V){const j=(0,a.createReadStream)(d.join(__dirname,"../client-dist/",R)),L=l(I).encodings(["br","gzip","deflate"]),z=X=>{X&&V.end()};switch(L){case"br":V.writeHead(200,{"content-encoding":"br"}),(0,u.pipeline)(j,(0,c.createBrotliCompress)(),V,z);break;case"gzip":V.writeHead(200,{"content-encoding":"gzip"}),(0,u.pipeline)(j,(0,c.createGzip)(),V,z);break;case"deflate":V.writeHead(200,{"content-encoding":"deflate"}),(0,u.pipeline)(j,(0,c.createDeflate)(),V,z);break;default:V.writeHead(200),(0,u.pipeline)(j,V,z)}}bind(R){return this.engine=R,this.engine.on("connection",this.onconnection.bind(this)),this}onconnection(R){A("incoming connection with id %s",R.id);const I=new x.Client(this,R);return R.protocol===3&&I.connect("/"),this}of(R,I){if(typeof R=="function"||R instanceof RegExp){const j=new w.ParentNamespace(this);return A("initializing parent namespace %s",j.name),typeof R=="function"?this.parentNsps.set(R,j):(this.parentNsps.set((L,z,X)=>X(null,R.test(L)),j),this.parentNamespacesFromRegExp.set(R,j)),I&&j.on("connect",I),j}String(R)[0]!=="/"&&(R="/"+R);let V=this._nsps.get(R);if(!V){for(const[j,L]of this.parentNamespacesFromRegExp)if(j.test(R))return A("attaching namespace %s to parent namespace %s",R,j),L.createChild(R);A("initializing namespace %s",R),V=new h.Namespace(this,R),this._nsps.set(R,V),R!=="/"&&this.sockets.emitReserved("new_namespace",V)}return I&&V.on("connect",I),V}async close(R){await Promise.allSettled([...this._nsps.values()].map(async I=>{I.sockets.forEach(V=>{V._onclose("server shutting down")}),await I.adapter.close()})),this.engine.close(),(0,C.restoreAdapter)(),this.httpServer?this.httpServer.close(R):R&&R()}use(R){return this.sockets.use(R),this}to(R){return this.sockets.to(R)}in(R){return this.sockets.in(R)}except(R){return this.sockets.except(R)}send(...R){return this.sockets.emit("message",...R),this}write(...R){return this.sockets.emit("message",...R),this}serverSideEmit(R,...I){return this.sockets.serverSideEmit(R,...I)}serverSideEmitWithAck(R,...I){return this.sockets.serverSideEmitWithAck(R,...I)}allSockets(){return this.sockets.allSockets()}compress(R){return this.sockets.compress(R)}get volatile(){return this.sockets.volatile}get local(){return this.sockets.local}timeout(R){return this.sockets.timeout(R)}fetchSockets(){return this.sockets.fetchSockets()}socketsJoin(R){return this.sockets.socketsJoin(R)}socketsLeave(R){return this.sockets.socketsLeave(R)}disconnectSockets(R=!1){return this.sockets.disconnectSockets(R)}}e.Server=q,Object.keys(y.EventEmitter.prototype).filter(function(U){return typeof y.EventEmitter.prototype[U]=="function"}).forEach(function(U){q.prototype[U]=function(){return this.sockets[U].apply(this.sockets,arguments)}}),t.exports=(U,R)=>new q(U,R),t.exports.Server=q,t.exports.Namespace=h.Namespace,t.exports.Socket=_.Socket})(Vg,Vg.exports);var ZU=Vg.exports;const e5=my(ZU),{Server:Vte,Namespace:Hte,Socket:Gte}=e5;var Jg={exports:{}},Nu={},Ga={};const t5={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},n5={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},r5={arity:1,flags:["fast"],keyStart:0,keyStop:0,step:0},s5={arity:-2,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},i5={arity:1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},o5={arity:-1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},a5={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},c5={arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},l5={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},u5={arity:-4,flags:["write","denyoom"],keyStart:2,keyStop:-1,step:1},d5={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},p5={arity:6,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},f5={arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},h5={arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},m5={arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},g5={arity:4,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},y5={arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},v5={arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},x5={arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},b5={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},w5={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},S5={arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},_5={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},E5={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},k5={arity:1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},C5={arity:-2,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},A5={arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},T5={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},N5={arity:-2,flags:["write"],keyStart:1,keyStop:-1,step:1},R5={arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},O5={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},P5={arity:2,flags:["fast"],keyStart:0,keyStop:0,step:0},I5={arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},j5={arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},F5={arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},M5={arity:1,flags:["noscript","loading","stale","skip_slowlog"],keyStart:0,keyStop:0,step:0},D5={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},L5={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},B5={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},$5={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},z5={arity:-1,flags:["admin","noscript","stale"],keyStart:0,keyStop:0,step:0},U5={arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},q5={arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},Q5={arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},V5={arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},H5={arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},G5={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},W5={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},K5={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},Y5={arity:-6,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},J5={arity:-6,flags:["readonly"],keyStart:1,keyStop:1,step:1},X5={arity:-5,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},Z5={arity:-5,flags:["readonly"],keyStart:1,keyStop:1,step:1},eq={arity:-7,flags:["readonly"],keyStart:1,keyStop:1,step:1},tq={arity:-8,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},nq={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},rq={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},sq={arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},iq={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},oq={arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},aq={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},cq={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},lq={arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},uq={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},dq={arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pq={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},fq={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},hq={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},mq={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},gq={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},yq={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},vq={arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},xq={arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},bq={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},wq={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},Sq={arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},_q={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Eq={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},kq={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},Cq={arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Aq={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Tq={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Nq={arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},Rq={arity:2,flags:["readonly"],keyStart:0,keyStop:0,step:0},Oq={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},Pq={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},Iq={arity:-3,flags:["readonly"],keyStart:1,keyStop:2,step:1},jq={arity:3,flags:["readonly"],keyStart:1,keyStop:1,step:1},Fq={arity:5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},Mq={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},Dq={arity:5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},Lq={arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},Bq={arity:-1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},$q={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zq={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},Uq={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},qq={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Qq={arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},Vq={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},Hq={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},Gq={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},Wq={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},Kq={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},Yq={arity:-6,flags:["write","movablekeys"],keyStart:3,keyStop:3,step:1},Jq={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},Xq={arity:1,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},Zq={arity:3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},eQ={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},tQ={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},nQ={arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},rQ={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},sQ={arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},iQ={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},oQ={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},aQ={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},cQ={arity:-2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},lQ={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},uQ={arity:3,flags:["write","denyoom","admin"],keyStart:2,keyStop:2,step:1},dQ={arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},pQ={arity:1,flags:["admin"],keyStart:0,keyStop:0,step:0},fQ={arity:-1,flags:["fast"],keyStart:0,keyStop:0,step:0},hQ={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},mQ={arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},gQ={arity:-3,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},yQ={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},vQ={arity:3,flags:["pubsub","loading","stale","fast"],keyStart:0,keyStop:0,step:0},xQ={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},bQ={arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},wQ={arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},SQ={arity:1,flags:["readonly"],keyStart:0,keyStop:0,step:0},_Q={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},EQ={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},kQ={arity:3,flags:["write"],keyStart:1,keyStop:2,step:1},CQ={arity:3,flags:["write","fast"],keyStart:1,keyStop:2,step:1},AQ={arity:-1,flags:["admin","noscript","loading","stale","allow_busy"],keyStart:0,keyStop:0,step:0},TQ={arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},NQ={arity:1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},RQ={arity:-4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},OQ={arity:1,flags:["noscript","loading","stale","fast"],keyStart:0,keyStop:0,step:0},PQ={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},IQ={arity:3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},jQ={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},FQ={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},MQ={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},DQ={arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},LQ={arity:-2,flags:["readonly"],keyStart:0,keyStop:0,step:0},BQ={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},$Q={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},zQ={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},UQ={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},qQ={arity:2,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},QQ={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},VQ={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},HQ={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},GQ={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},WQ={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},KQ={arity:-1,flags:["admin","noscript","loading","stale","no_multi","allow_busy"],keyStart:0,keyStop:0,step:0},YQ={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},JQ={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},XQ={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},ZQ={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},e9={arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},t9={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},n9={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},r9={arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},s9={arity:4,flags:["write","fast"],keyStart:1,keyStop:2,step:1},i9={arity:-2,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},o9={arity:-2,flags:["readonly","movablekeys"],keyStart:1,keyStop:1,step:1},a9={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},c9={arity:3,flags:["pubsub","loading","stale","fast"],keyStart:1,keyStop:1,step:1},l9={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},u9={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},d9={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},p9={arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},f9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},h9={arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},m9={arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},g9={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},y9={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},v9={arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},x9={arity:3,flags:["write","fast"],keyStart:0,keyStop:0,step:0},b9={arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},w9={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},S9={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},_9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},E9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},k9={arity:-2,flags:["write","fast"],keyStart:1,keyStop:-1,step:1},C9={arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},A9={arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},T9={arity:3,flags:["noscript"],keyStart:0,keyStop:0,step:0},N9={arity:-2,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:1,keyStop:-1,step:1},R9={arity:-4,flags:["write","fast"],keyStart:1,keyStop:1,step:1},O9={arity:-5,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},P9={arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},I9={arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},j9={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},F9={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},M9={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},D9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},L9={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},B9={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},$9={arity:-4,flags:["readonly","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},z9={arity:-7,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},U9={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},q9={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Q9={arity:-4,flags:["write"],keyStart:1,keyStop:1,step:1},V9={arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},H9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},G9={arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},W9={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},K9={arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},Y9={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},J9={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},X9={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},Z9={arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},eV={arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},tV={arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},nV={arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},rV={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},sV={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},iV={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},oV={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},aV={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},cV={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},lV={arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},uV={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},dV={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pV={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},fV={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},hV={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},mV={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},gV={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},yV={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},vV={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},xV={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},bV={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},wV={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},SV={arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},_V={acl:t5,append:n5,asking:r5,auth:s5,bgrewriteaof:i5,bgsave:o5,bitcount:a5,bitfield:c5,bitfield_ro:l5,bitop:u5,bitpos:d5,blmove:p5,blmpop:f5,blpop:h5,brpop:m5,brpoplpush:g5,bzmpop:y5,bzpopmax:v5,bzpopmin:x5,client:b5,cluster:w5,command:S5,config:_5,copy:E5,dbsize:k5,debug:C5,decr:A5,decrby:T5,del:N5,discard:R5,dump:O5,echo:P5,eval:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},eval_ro:I5,evalsha:j5,evalsha_ro:F5,exec:M5,exists:D5,expire:L5,expireat:B5,expiretime:$5,failover:z5,fcall:U5,fcall_ro:q5,flushall:Q5,flushdb:V5,function:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},geoadd:H5,geodist:G5,geohash:W5,geopos:K5,georadius:Y5,georadius_ro:J5,georadiusbymember:X5,georadiusbymember_ro:Z5,geosearch:eq,geosearchstore:tq,get:nq,getbit:rq,getdel:sq,getex:iq,getrange:oq,getset:aq,hdel:cq,hello:lq,hexists:uq,hexpire:dq,hget:pq,hgetall:fq,hincrby:hq,hincrbyfloat:mq,hkeys:gq,hlen:yq,hmget:vq,hmset:xq,hrandfield:bq,hscan:wq,hset:Sq,hsetnx:_q,hstrlen:Eq,hvals:kq,incr:Cq,incrby:Aq,incrbyfloat:Tq,info:Nq,keys:Rq,lastsave:Oq,latency:Pq,lcs:Iq,lindex:jq,linsert:Fq,llen:Mq,lmove:Dq,lmpop:Lq,lolwut:Bq,lpop:$q,lpos:zq,lpush:Uq,lpushx:qq,lrange:Qq,lrem:Vq,lset:Hq,ltrim:Gq,memory:Wq,mget:Kq,migrate:Yq,module:Jq,monitor:Xq,move:Zq,mset:eQ,msetnx:tQ,multi:nQ,object:rQ,persist:sQ,pexpire:iQ,pexpireat:oQ,pexpiretime:aQ,pfadd:cQ,pfcount:lQ,pfdebug:uQ,pfmerge:dQ,pfselftest:pQ,ping:fQ,psetex:hQ,psubscribe:mQ,psync:gQ,pttl:yQ,publish:vQ,pubsub:xQ,punsubscribe:bQ,quit:wQ,randomkey:SQ,readonly:_Q,readwrite:EQ,rename:kQ,renamenx:CQ,replconf:AQ,replicaof:TQ,reset:NQ,restore:RQ,"restore-asking":{arity:-4,flags:["write","denyoom","asking"],keyStart:1,keyStop:1,step:1},role:OQ,rpop:PQ,rpoplpush:IQ,rpush:jQ,rpushx:FQ,sadd:MQ,save:DQ,scan:LQ,scard:BQ,script:$Q,sdiff:zQ,sdiffstore:UQ,select:qQ,set:QQ,setbit:VQ,setex:HQ,setnx:GQ,setrange:WQ,shutdown:KQ,sinter:YQ,sintercard:JQ,sinterstore:XQ,sismember:ZQ,slaveof:e9,slowlog:t9,smembers:n9,smismember:r9,smove:s9,sort:i9,sort_ro:o9,spop:a9,spublish:c9,srandmember:l9,srem:u9,sscan:d9,ssubscribe:p9,strlen:f9,subscribe:h9,substr:m9,sunion:g9,sunionstore:y9,sunsubscribe:v9,swapdb:x9,sync:b9,time:w9,touch:S9,ttl:_9,type:E9,unlink:k9,unsubscribe:C9,unwatch:A9,wait:T9,watch:N9,xack:R9,xadd:O9,xautoclaim:P9,xclaim:I9,xdel:j9,xgroup:F9,xinfo:M9,xlen:D9,xpending:L9,xrange:B9,xread:$9,xreadgroup:z9,xrevrange:U9,xsetid:q9,xtrim:Q9,zadd:V9,zcard:H9,zcount:G9,zdiff:W9,zdiffstore:K9,zincrby:Y9,zinter:J9,zintercard:X9,zinterstore:Z9,zlexcount:eV,zmpop:tV,zmscore:nV,zpopmax:rV,zpopmin:sV,zrandmember:iV,zrange:oV,zrangebylex:aV,zrangebyscore:cV,zrangestore:lV,zrank:uV,zrem:dV,zremrangebylex:pV,zremrangebyrank:fV,zremrangebyscore:hV,zrevrange:mV,zrevrangebylex:gV,zrevrangebyscore:yV,zrevrank:vV,zscan:xV,zscore:bV,zunion:wV,zunionstore:SV};(function(t){var e=Tt&&Tt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyIndexes=t.hasFlag=t.exists=t.list=void 0;const n=e(_V);t.list=Object.keys(n.default);const r={};t.list.forEach(c=>{r[c]=n.default[c].flags.reduce(function(l,u){return l[u]=!0,l},{})});function s(c){return!!n.default[c]}t.exists=s;function i(c,l){if(!r[c])throw new Error("Unknown command "+c);return!!r[c][l]}t.hasFlag=i;function o(c,l,u){const d=n.default[c];if(!d)throw new Error("Unknown command "+c);if(!Array.isArray(l))throw new Error("Expect args to be an array");const p=[],x=!!(u&&u.parseExternalKey),y=(w,m)=>{const b=[],g=Number(w[m]);for(let _=0;_<g;_++)b.push(_+m+1);return b},h=(w,m,b)=>{for(let g=m;g<w.length-1;g+=1)if(String(w[g]).toLowerCase()===b.toLowerCase())return g+1;return null};switch(c){case"zunionstore":case"zinterstore":case"zdiffstore":p.push(0,...y(l,1));break;case"eval":case"evalsha":case"eval_ro":case"evalsha_ro":case"fcall":case"fcall_ro":case"blmpop":case"bzmpop":p.push(...y(l,1));break;case"sintercard":case"lmpop":case"zunion":case"zinter":case"zmpop":case"zintercard":case"zdiff":{p.push(...y(l,0));break}case"georadius":{p.push(0);const w=h(l,5,"STORE");w&&p.push(w);const m=h(l,5,"STOREDIST");m&&p.push(m);break}case"georadiusbymember":{p.push(0);const w=h(l,4,"STORE");w&&p.push(w);const m=h(l,4,"STOREDIST");m&&p.push(m);break}case"sort":case"sort_ro":p.push(0);for(let w=1;w<l.length-1;w++){let m=l[w];if(typeof m!="string")continue;const b=m.toUpperCase();b==="GET"?(w+=1,m=l[w],m!=="#"&&(x?p.push([w,a(m)]):p.push(w))):b==="BY"?(w+=1,x?p.push([w,a(l[w])]):p.push(w)):b==="STORE"&&(w+=1,p.push(w))}break;case"migrate":if(l[2]==="")for(let w=5;w<l.length-1;w++){const m=l[w];if(typeof m=="string"&&m.toUpperCase()==="KEYS"){for(let b=w+1;b<l.length;b++)p.push(b);break}}else p.push(2);break;case"xreadgroup":case"xread":for(let w=c==="xread"?0:3;w<l.length-1;w++)if(String(l[w]).toUpperCase()==="STREAMS"){for(let m=w+1;m<=w+(l.length-1-w)/2;m++)p.push(m);break}break;default:if(d.step>0){const w=d.keyStart-1,m=d.keyStop>0?d.keyStop:l.length+d.keyStop+1;for(let b=w;b<m;b+=d.step)p.push(b)}break}return p}t.getKeyIndexes=o;function a(c){typeof c!="string"&&(c=String(c));const l=c.indexOf("->");return l===-1?c.length:l}})(Ga);var ks={},IP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.tryCatch=t.errorObj=void 0,t.errorObj={e:{}};let e;function n(s,i){try{const o=e;return e=null,o.apply(this,arguments)}catch(o){return t.errorObj.e=o,t.errorObj}}function r(s){return e=s,n}t.tryCatch=r})(IP);Object.defineProperty(ks,"__esModule",{value:!0});const To=IP;function Iw(t){setTimeout(function(){throw t},0)}function EV(t,e,n){return typeof e=="function"&&t.then(r=>{let s;n!==void 0&&Object(n).spread&&Array.isArray(r)?s=To.tryCatch(e).apply(void 0,[null].concat(r)):s=r===void 0?To.tryCatch(e)(null):To.tryCatch(e)(null,r),s===To.errorObj&&Iw(s.e)},r=>{if(!r){const i=new Error(r+"");Object.assign(i,{cause:r}),r=i}const s=To.tryCatch(e)(r);s===To.errorObj&&Iw(s.e)}),t}ks.default=EV;var Ru={},Ih,jw;function kV(){if(jw)return Ih;jw=1;const t=he,e=he;function n(a){Object.defineProperty(this,"message",{value:a||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}e.inherits(n,Error),Object.defineProperty(n.prototype,"name",{value:"RedisError",configurable:!0,writable:!0});function r(a,c,l){t(c),t.strictEqual(typeof l,"number"),Object.defineProperty(this,"message",{value:a||"",configurable:!0,writable:!0});const u=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=u,this.offset=l,this.buffer=c}e.inherits(r,n),Object.defineProperty(r.prototype,"name",{value:"ParserError",configurable:!0,writable:!0});function s(a){Object.defineProperty(this,"message",{value:a||"",configurable:!0,writable:!0});const c=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=c}e.inherits(s,n),Object.defineProperty(s.prototype,"name",{value:"ReplyError",configurable:!0,writable:!0});function i(a){Object.defineProperty(this,"message",{value:a||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}e.inherits(i,n),Object.defineProperty(i.prototype,"name",{value:"AbortError",configurable:!0,writable:!0});function o(a){Object.defineProperty(this,"message",{value:a||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}return e.inherits(o,i),Object.defineProperty(o.prototype,"name",{value:"InterruptError",configurable:!0,writable:!0}),Ih={RedisError:n,ParserError:r,ReplyError:s,AbortError:i,InterruptError:o},Ih}var jh,Fw;function CV(){if(Fw)return jh;Fw=1;const t=he;class e extends Error{get name(){return this.constructor.name}}class n extends e{constructor(a,c,l){t(c),t.strictEqual(typeof l,"number");const u=Error.stackTraceLimit;Error.stackTraceLimit=2,super(a),Error.stackTraceLimit=u,this.offset=l,this.buffer=c}get name(){return this.constructor.name}}class r extends e{constructor(a){const c=Error.stackTraceLimit;Error.stackTraceLimit=2,super(a),Error.stackTraceLimit=c}get name(){return this.constructor.name}}class s extends e{get name(){return this.constructor.name}}class i extends s{get name(){return this.constructor.name}}return jh={RedisError:e,ParserError:n,ReplyError:r,AbortError:s,InterruptError:i},jh}const AV=process.version.charCodeAt(1)<55&&process.version.charCodeAt(2)===46?kV():CV();var Wa=AV,Hr={},c0={exports:{}},Mw=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920],TV=function(e){for(var n,r=0,s=0,i=[],o=e.length;r<o;r++)n=e.charCodeAt(r),n<128?i[s++]=n:n<2048?(i[s++]=n>>6|192,i[s++]=n&63|128):(n&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(n=65536+((n&1023)<<10)+(e.charCodeAt(++r)&1023),i[s++]=n>>18|240,i[s++]=n>>12&63|128,i[s++]=n>>6&63|128,i[s++]=n&63|128):(i[s++]=n>>12|224,i[s++]=n>>6&63|128,i[s++]=n&63|128);return i},Dw=c0.exports=function(e){for(var n,r=0,s=-1,i=0,o=0,a=typeof e=="string"?TV(e):e,c=a.length;r<c;){if(n=a[r++],s===-1)n===123&&(s=r);else if(n!==125)o=Mw[(n^o>>8)&255]^o<<8;else if(r-1!==s)return o&16383;i=Mw[(n^i>>8)&255]^i<<8}return i&16383};c0.exports.generateMulti=function(e){for(var n=1,r=e.length,s=Dw(e[0]);n<r;)if(Dw(e[n++])!==s)return-1;return s};var mf=c0.exports,Kt={},zr={},jP=9007199254740991,NV="[object Arguments]",RV="[object Function]",OV="[object GeneratorFunction]",PV=/^(?:0|[1-9]\d*)$/;function FP(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function IV(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Hl=Object.prototype,gf=Hl.hasOwnProperty,MP=Hl.toString,jV=Hl.propertyIsEnumerable,Lw=Math.max;function FV(t,e){var n=VV(t)||QV(t)?IV(t.length,String):[],r=n.length,s=!!r;for(var i in t)s&&(i=="length"||LP(i,r))||n.push(i);return n}function MV(t,e,n,r){return t===void 0||l0(t,Hl[n])&&!gf.call(r,n)?e:t}function DV(t,e,n){var r=t[e];(!(gf.call(t,e)&&l0(r,n))||n===void 0&&!(e in t))&&(t[e]=n)}function LV(t){if(!d0(t))return qV(t);var e=UV(t),n=[];for(var r in t)r=="constructor"&&(e||!gf.call(t,r))||n.push(r);return n}function DP(t,e){return e=Lw(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,s=Lw(n.length-e,0),i=Array(s);++r<s;)i[r]=n[e+r];r=-1;for(var o=Array(e+1);++r<e;)o[r]=n[r];return o[e]=i,FP(t,this,o)}}function BV(t,e,n,r){n||(n={});for(var s=-1,i=e.length;++s<i;){var o=e[s],a=r?r(n[o],t[o],o,n,t):void 0;DV(n,o,a===void 0?t[o]:a)}return n}function $V(t){return DP(function(e,n){var r=-1,s=n.length,i=s>1?n[s-1]:void 0,o=s>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(s--,i):void 0,o&&zV(n[0],n[1],o)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var a=n[r];a&&t(e,a,r,i)}return e})}function LP(t,e){return e=e??jP,!!e&&(typeof t=="number"||PV.test(t))&&t>-1&&t%1==0&&t<e}function zV(t,e,n){if(!d0(n))return!1;var r=typeof e;return(r=="number"?u0(n)&&LP(e,n.length):r=="string"&&e in n)?l0(n[e],t):!1}function UV(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Hl;return t===n}function qV(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}function l0(t,e){return t===e||t!==t&&e!==e}function QV(t){return HV(t)&&gf.call(t,"callee")&&(!jV.call(t,"callee")||MP.call(t)==NV)}var VV=Array.isArray;function u0(t){return t!=null&&WV(t.length)&&!GV(t)}function HV(t){return KV(t)&&u0(t)}function GV(t){var e=d0(t)?MP.call(t):"";return e==RV||e==OV}function WV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jP}function d0(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function KV(t){return!!t&&typeof t=="object"}var YV=$V(function(t,e,n,r){BV(e,XV(e),t,r)}),JV=DP(function(t){return t.push(void 0,MV),FP(YV,void 0,t)});function XV(t){return u0(t)?FV(t):LV(t)}var ZV=JV,e7=9007199254740991,t7="[object Arguments]",n7="[object Function]",r7="[object GeneratorFunction]",p0=Object.prototype,s7=p0.hasOwnProperty,BP=p0.toString,i7=p0.propertyIsEnumerable;function o7(t){return c7(t)&&s7.call(t,"callee")&&(!i7.call(t,"callee")||BP.call(t)==t7)}function a7(t){return t!=null&&u7(t.length)&&!l7(t)}function c7(t){return p7(t)&&a7(t)}function l7(t){var e=d7(t)?BP.call(t):"";return e==n7||e==r7}function u7(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=e7}function d7(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function p7(t){return!!t&&typeof t=="object"}var f7=o7;Object.defineProperty(zr,"__esModule",{value:!0});zr.isArguments=zr.defaults=zr.noop=void 0;const h7=ZV;zr.defaults=h7;const m7=f7;zr.isArguments=m7;function g7(){}zr.noop=g7;var fs={},Xg={exports:{}};function y7(t){n.debug=n,n.default=n,n.coerce=c,n.disable=o,n.enable=s,n.enabled=a,n.humanize=nf,n.destroy=l,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){let d,p=null,x,y;function h(...w){if(!h.enabled)return;const m=h,b=Number(new Date),g=b-(d||b);m.diff=g,m.prev=d,m.curr=b,d=b,w[0]=n.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let _=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(C,S)=>{if(C==="%%")return"%";_++;const A=n.formatters[S];if(typeof A=="function"){const P=w[_];C=A.call(m,P),w.splice(_,1),_--}return C}),n.formatArgs.call(m,w),(m.log||n.log).apply(m,w)}return h.namespace=u,h.useColors=n.useColors(),h.color=n.selectColor(u),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(x!==n.namespaces&&(x=n.namespaces,y=n.enabled(u)),y),set:w=>{p=w}}),typeof n.init=="function"&&n.init(h),h}function r(u,d){const p=n(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}function s(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];const d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const p of d)p[0]==="-"?n.skips.push(p.slice(1)):n.names.push(p)}function i(u,d){let p=0,x=0,y=-1,h=0;for(;p<u.length;)if(x<d.length&&(d[x]===u[p]||d[x]==="*"))d[x]==="*"?(y=x,h=p,x++):(p++,x++);else if(y!==-1)x=y+1,h++,p=h;else return!1;for(;x<d.length&&d[x]==="*";)x++;return x===d.length}function o(){const u=[...n.names,...n.skips.map(d=>"-"+d)].join(",");return n.enable(""),u}function a(u){for(const d of n.skips)if(i(u,d))return!1;for(const d of n.names)if(i(u,d))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var v7=y7;(function(t,e){var n={};e.formatArgs=s,e.save=i,e.load=o,e.useColors=r,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,p=0;l[0].replace(/%[a-zA-Z%]/g,x=>{x!=="%%"&&(d++,x==="%c"&&(p=d))}),l.splice(p,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=n.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=v7(e);const{formatters:c}=t.exports;c.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Xg,Xg.exports);var x7=Xg.exports;Object.defineProperty(fs,"__esModule",{value:!0});fs.genRedactedString=fs.getStringValue=fs.MAX_ARGUMENT_LENGTH=void 0;const b7=x7,Zg=200;fs.MAX_ARGUMENT_LENGTH=Zg;const w7="ioredis";function $P(t){if(t!==null)switch(typeof t){case"boolean":return;case"number":return;case"object":if(Buffer.isBuffer(t))return t.toString("hex");if(Array.isArray(t))return t.join(",");try{return JSON.stringify(t)}catch{return}case"string":return t}}fs.getStringValue=$P;function zP(t,e){const{length:n}=t;return n<=e?t:t.slice(0,e)+' ... <REDACTED full-length="'+n+'">'}fs.genRedactedString=zP;function S7(t){const e=(0,b7.default)(`${w7}:${t}`);function n(...r){if(e.enabled){for(let s=1;s<r.length;s++){const i=$P(r[s]);typeof i=="string"&&i.length>Zg&&(r[s]=zP(i,Zg))}return e.apply(null,r)}}return Object.defineProperties(n,{namespace:{get(){return e.namespace}},enabled:{get(){return e.enabled}},destroy:{get(){return e.destroy}},log:{get(){return e.log},set(r){e.log=r}}}),n}fs.default=S7;var f0={};Object.defineProperty(f0,"__esModule",{value:!0});const Bw=`-----BEGIN CERTIFICATE-----
MIIDTzCCAjegAwIBAgIJAKSVpiDswLcwMA0GCSqGSIb3DQEBBQUAMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTAeFw0xMzEwMDExMjE0NTVaFw0yMzA5MjkxMjE0NTVaMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALZqkh/DczWP
JnxnHLQ7QL0T4B4CDKWBKCcisriGbA6ZePWVNo4hfKQC6JrzfR+081NeD6VcWUiz
rmd+jtPhIY4c+WVQYm5PKaN6DT1imYdxQw7aqO5j2KUCEh/cznpLxeSHoTxlR34E
QwF28Wl3eg2vc5ct8LjU3eozWVk3gb7alx9mSA2SgmuX5lEQawl++rSjsBStemY2
BDwOpAMXIrdEyP/cVn8mkvi/BDs5M5G+09j0gfhyCzRWMQ7Hn71u1eolRxwVxgi3
TMn+/vTaFSqxKjgck6zuAYjBRPaHe7qLxHNr1So/Mc9nPy+3wHebFwbIcnUojwbp
4nctkWbjb2cCAwEAAaNQME4wHQYDVR0OBBYEFP1whtcrydmW3ZJeuSoKZIKjze3w
MB8GA1UdIwQYMBaAFP1whtcrydmW3ZJeuSoKZIKjze3wMAwGA1UdEwQFMAMBAf8w
DQYJKoZIhvcNAQEFBQADggEBAG2erXhwRAa7+ZOBs0B6X57Hwyd1R4kfmXcs0rta
lbPpvgULSiB+TCbf3EbhJnHGyvdCY1tvlffLjdA7HJ0PCOn+YYLBA0pTU/dyvrN6
Su8NuS5yubnt9mb13nDGYo1rnt0YRfxN+8DM3fXIVr038A30UlPX2Ou1ExFJT0MZ
uFKY6ZvLdI6/1cbgmguMlAhM+DhKyV6Sr5699LM3zqeI816pZmlREETYkGr91q7k
BpXJu/dtHaGxg1ZGu6w/PCsYGUcECWENYD4VQPd8N32JjOfu6vEgoEAwfPP+3oGp
Z4m3ewACcWOAenqflb+cQYC4PsF7qbXDmRaWrbKntOlZ3n0=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIGMTCCBBmgAwIBAgICEAAwDQYJKoZIhvcNAQELBQAwajELMAkGA1UEBhMCVVMx
CzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJzMS0w
KwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcN
MTgwMjI1MTUzNzM3WhcNMjgwMjIzMTUzNzM3WjBfMQswCQYDVQQGEwJVUzELMAkG
A1UECAwCQ0ExEjAQBgNVBAoMCVJlZGlzTGFiczEvMC0GA1UEAwwmUkNQIEludGVy
bWVkaWF0ZSBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwggIiMA0GCSqGSIb3DQEBAQUA
A4ICDwAwggIKAoICAQDf9dqbxc8Bq7Ctq9rWcxrGNKKHivqLAFpPq02yLPx6fsOv
Tq7GsDChAYBBc4v7Y2Ap9RD5Vs3dIhEANcnolf27QwrG9RMnnvzk8pCvp1o6zSU4
VuOE1W66/O1/7e2rVxyrnTcP7UgK43zNIXu7+tiAqWsO92uSnuMoGPGpeaUm1jym
hjWKtkAwDFSqvHY+XL5qDVBEjeUe+WHkYUg40cAXjusAqgm2hZt29c2wnVrxW25W
P0meNlzHGFdA2AC5z54iRiqj57dTfBTkHoBczQxcyw6hhzxZQ4e5I5zOKjXXEhZN
r0tA3YC14CTabKRus/JmZieyZzRgEy2oti64tmLYTqSlAD78pRL40VNoaSYetXLw
hhNsXCHgWaY6d5bLOc/aIQMAV5oLvZQKvuXAF1IDmhPA+bZbpWipp0zagf1P1H3s
UzsMdn2KM0ejzgotbtNlj5TcrVwpmvE3ktvUAuA+hi3FkVx1US+2Gsp5x4YOzJ7u
P1WPk6ShF0JgnJH2ILdj6kttTWwFzH17keSFICWDfH/+kM+k7Y1v3EXMQXE7y0T9
MjvJskz6d/nv+sQhY04xt64xFMGTnZjlJMzfQNi7zWFLTZnDD0lPowq7l3YiPoTT
t5Xky83lu0KZsZBo0WlWaDG00gLVdtRgVbcuSWxpi5BdLb1kRab66JptWjxwXQID
AQABo4HrMIHoMDoGA1UdHwQzMDEwL6AtoCuGKWh0dHBzOi8vcmwtY2Etc2VydmVy
LnJlZGlzbGFicy5jb20vdjEvY3JsMEYGCCsGAQUFBwEBBDowODA2BggrBgEFBQcw
AYYqaHR0cHM6Ly9ybC1jYS1zZXJ2ZXIucmVkaXNsYWJzLmNvbS92MS9vY3NwMB0G
A1UdDgQWBBQHar5OKvQUpP2qWt6mckzToeCOHDAfBgNVHSMEGDAWgBQi42wH6hM4
L2sujEvLM0/u8lRXTzASBgNVHRMBAf8ECDAGAQH/AgEAMA4GA1UdDwEB/wQEAwIB
hjANBgkqhkiG9w0BAQsFAAOCAgEAirEn/iTsAKyhd+pu2W3Z5NjCko4NPU0EYUbr
AP7+POK2rzjIrJO3nFYQ/LLuC7KCXG+2qwan2SAOGmqWst13Y+WHp44Kae0kaChW
vcYLXXSoGQGC8QuFSNUdaeg3RbMDYFT04dOkqufeWVccoHVxyTSg9eD8LZuHn5jw
7QDLiEECBmIJHk5Eeo2TAZrx4Yx6ufSUX5HeVjlAzqwtAqdt99uCJ/EL8bgpWbe+
XoSpvUv0SEC1I1dCAhCKAvRlIOA6VBcmzg5Am12KzkqTul12/VEFIgzqu0Zy2Jbc
AUPrYVu/+tOGXQaijy7YgwH8P8n3s7ZeUa1VABJHcxrxYduDDJBLZi+MjheUDaZ1
jQRHYevI2tlqeSBqdPKG4zBY5lS0GiAlmuze5oENt0P3XboHoZPHiqcK3VECgTVh
/BkJcuudETSJcZDmQ8YfoKfBzRQNg2sv/hwvUv73Ss51Sco8GEt2lD8uEdib1Q6z
zDT5lXJowSzOD5ZA9OGDjnSRL+2riNtKWKEqvtEG3VBJoBzu9GoxbAc7wIZLxmli
iF5a/Zf5X+UXD3s4TMmy6C4QZJpAA2egsSQCnraWO2ULhh7iXMysSkF/nzVfZn43
iqpaB8++9a37hWq14ZmOv0TJIDz//b2+KC4VFXWQ5W5QC6whsjT+OlG4p5ZYG0jo
616pxqo=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIFujCCA6KgAwIBAgIJAJ1aTT1lu2ScMA0GCSqGSIb3DQEBCwUAMGoxCzAJBgNV
BAYTAlVTMQswCQYDVQQIDAJDQTELMAkGA1UEBwwCQ0ExEjAQBgNVBAoMCVJlZGlz
TGFiczEtMCsGA1UEAwwkUmVkaXNMYWJzIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9y
aXR5MB4XDTE4MDIyNTE1MjA0MloXDTM4MDIyMDE1MjA0MlowajELMAkGA1UEBhMC
VVMxCzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJz
MS0wKwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkw
ggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDLEjXy7YrbN5Waau5cd6g1
G5C2tMmeTpZ0duFAPxNU4oE3RHS5gGiok346fUXuUxbZ6QkuzeN2/2Z+RmRcJhQY
Dm0ZgdG4x59An1TJfnzKKoWj8ISmoHS/TGNBdFzXV7FYNLBuqZouqePI6ReC6Qhl
pp45huV32Q3a6IDrrvx7Wo5ZczEQeFNbCeCOQYNDdTmCyEkHqc2AGo8eoIlSTutT
ULOC7R5gzJVTS0e1hesQ7jmqHjbO+VQS1NAL4/5K6cuTEqUl+XhVhPdLWBXJQ5ag
54qhX4v+ojLzeU1R/Vc6NjMvVtptWY6JihpgplprN0Yh2556ewcXMeturcKgXfGJ
xeYzsjzXerEjrVocX5V8BNrg64NlifzTMKNOOv4fVZszq1SIHR8F9ROrqiOdh8iC
JpUbLpXH9hWCSEO6VRMB2xJoKu3cgl63kF30s77x7wLFMEHiwsQRKxooE1UhgS9K
2sO4TlQ1eWUvFvHSTVDQDlGQ6zu4qjbOpb3Q8bQwoK+ai2alkXVR4Ltxe9QlgYK3
StsnPhruzZGA0wbXdpw0bnM+YdlEm5ffSTpNIfgHeaa7Dtb801FtA71ZlH7A6TaI
SIQuUST9EKmv7xrJyx0W1pGoPOLw5T029aTjnICSLdtV9bLwysrLhIYG5bnPq78B
cS+jZHFGzD7PUVGQD01nOQIDAQABo2MwYTAdBgNVHQ4EFgQUIuNsB+oTOC9rLoxL
yzNP7vJUV08wHwYDVR0jBBgwFoAUIuNsB+oTOC9rLoxLyzNP7vJUV08wDwYDVR0T
AQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcNAQELBQADggIBAHfg
z5pMNUAKdMzK1aS1EDdK9yKz4qicILz5czSLj1mC7HKDRy8cVADUxEICis++CsCu
rYOvyCVergHQLREcxPq4rc5Nq1uj6J6649NEeh4WazOOjL4ZfQ1jVznMbGy+fJm3
3Hoelv6jWRG9iqeJZja7/1s6YC6bWymI/OY1e4wUKeNHAo+Vger7MlHV+RuabaX+
hSJ8bJAM59NCM7AgMTQpJCncrcdLeceYniGy5Q/qt2b5mJkQVkIdy4TPGGB+AXDJ
D0q3I/JDRkDUFNFdeW0js7fHdsvCR7O3tJy5zIgEV/o/BCkmJVtuwPYOrw/yOlKj
TY/U7ATAx9VFF6/vYEOMYSmrZlFX+98L6nJtwDqfLB5VTltqZ4H/KBxGE3IRSt9l
FXy40U+LnXzhhW+7VBAvyYX8GEXhHkKU8Gqk1xitrqfBXY74xKgyUSTolFSfFVgj
mcM/X4K45bka+qpkj7Kfv/8D4j6aZekwhN2ly6hhC1SmQ8qjMjpG/mrWOSSHZFmf
ybu9iD2AYHeIOkshIl6xYIa++Q/00/vs46IzAbQyriOi0XxlSMMVtPx0Q3isp+ji
n8Mq9eOuxYOEQ4of8twUkUDd528iwGtEdwf0Q01UyT84S62N8AySl1ZBKXJz6W4F
UhWfa/HQYOAPDdEjNgnVwLI23b8t0TozyCWw7q8h
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIEjzCCA3egAwIBAgIQe55B/ALCKJDZtdNT8kD6hTANBgkqhkiG9w0BAQsFADBM
MSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xv
YmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjAeFw0yMjAxMjYxMjAwMDBaFw0y
NTAxMjYwMDAwMDBaMFgxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWdu
IG52LXNhMS4wLAYDVQQDEyVHbG9iYWxTaWduIEF0bGFzIFIzIE9WIFRMUyBDQSAy
MDIyIFEyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmGmg1LW9b7Lf
8zDD83yBDTEkt+FOxKJZqF4veWc5KZsQj9HfnUS2e5nj/E+JImlGPsQuoiosLuXD
BVBNAMcUFa11buFMGMeEMwiTmCXoXRrXQmH0qjpOfKgYc5gHG3BsRGaRrf7VR4eg
ofNMG9wUBw4/g/TT7+bQJdA4NfE7Y4d5gEryZiBGB/swaX6Jp/8MF4TgUmOWmalK
dZCKyb4sPGQFRTtElk67F7vU+wdGcrcOx1tDcIB0ncjLPMnaFicagl+daWGsKqTh
counQb6QJtYHa91KvCfKWocMxQ7OIbB5UARLPmC4CJ1/f8YFm35ebfzAeULYdGXu
jE9CLor0OwIDAQABo4IBXzCCAVswDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG
CCsGAQUFBwMBBggrBgEFBQcDAjASBgNVHRMBAf8ECDAGAQH/AgEAMB0GA1UdDgQW
BBSH5Zq7a7B/t95GfJWkDBpA8HHqdjAfBgNVHSMEGDAWgBSP8Et/qC5FJK5NUPpj
move4t0bvDB7BggrBgEFBQcBAQRvMG0wLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3Nw
Mi5nbG9iYWxzaWduLmNvbS9yb290cjMwOwYIKwYBBQUHMAKGL2h0dHA6Ly9zZWN1
cmUuZ2xvYmFsc2lnbi5jb20vY2FjZXJ0L3Jvb3QtcjMuY3J0MDYGA1UdHwQvMC0w
K6ApoCeGJWh0dHA6Ly9jcmwuZ2xvYmFsc2lnbi5jb20vcm9vdC1yMy5jcmwwIQYD
VR0gBBowGDAIBgZngQwBAgIwDAYKKwYBBAGgMgoBAjANBgkqhkiG9w0BAQsFAAOC
AQEAKRic9/f+nmhQU/wz04APZLjgG5OgsuUOyUEZjKVhNGDwxGTvKhyXGGAMW2B/
3bRi+aElpXwoxu3pL6fkElbX3B0BeS5LoDtxkyiVEBMZ8m+sXbocwlPyxrPbX6mY
0rVIvnuUeBH8X0L5IwfpNVvKnBIilTbcebfHyXkPezGwz7E1yhUULjJFm2bt0SdX
y+4X/WeiiYIv+fTVgZZgl+/2MKIsu/qdBJc3f3TvJ8nz+Eax1zgZmww+RSQWeOj3
15Iw6Z5FX+NwzY/Ab+9PosR5UosSeq+9HhtaxZttXG1nVh+avYPGYddWmiMT90J5
ZgKnO/Fx2hBgTxhOTMYaD312kg==
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4G
A1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjMxEzARBgNVBAoTCkdsb2JhbFNp
Z24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4
MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEG
A1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI
hvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8
RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsT
gHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmm
KPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zd
QQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZ
XriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAw
DgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+o
LkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZU
RUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMp
jjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK
6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQX
mcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecs
Mx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpH
WD9f
-----END CERTIFICATE-----`,_7={RedisCloudFixed:{ca:Bw},RedisCloudFlexible:{ca:Bw}};f0.default=_7;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.noop=t.defaults=t.Debug=t.zipMap=t.CONNECTION_CLOSED_ERROR_MSG=t.shuffle=t.sample=t.resolveTLSProfile=t.parseURL=t.optimizeErrorStack=t.toArg=t.convertMapToArray=t.convertObjectToArray=t.timeout=t.packObject=t.isInt=t.wrapMultiResult=t.convertBufferToString=void 0;const e=he,n=zr;Object.defineProperty(t,"defaults",{enumerable:!0,get:function(){return n.defaults}}),Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return n.noop}});const r=fs;t.Debug=r.default;const s=f0;function i(g,_){if(g instanceof Buffer)return g.toString(_);if(Array.isArray(g)){const T=g.length,C=Array(T);for(let S=0;S<T;++S)C[S]=g[S]instanceof Buffer&&_==="utf8"?g[S].toString():i(g[S],_);return C}return g}t.convertBufferToString=i;function o(g){if(!g)return null;const _=[],T=g.length;for(let C=0;C<T;++C){const S=g[C];S instanceof Error?_.push([S]):_.push([null,S])}return _}t.wrapMultiResult=o;function a(g){const _=parseFloat(g);return!isNaN(g)&&(_|0)===_}t.isInt=a;function c(g){const _={},T=g.length;for(let C=1;C<T;C+=2)_[g[C-1]]=g[C];return _}t.packObject=c;function l(g,_){let T=null;const C=function(){T&&(clearTimeout(T),T=null,g.apply(this,arguments))};return T=setTimeout(C,_,new Error("timeout")),C}t.timeout=l;function u(g){const _=[],T=Object.keys(g);for(let C=0,S=T.length;C<S;C++)_.push(T[C],g[T[C]]);return _}t.convertObjectToArray=u;function d(g){const _=[];let T=0;return g.forEach(function(C,S){_[T]=S,_[T+1]=C,T+=2}),_}t.convertMapToArray=d;function p(g){return g===null||typeof g>"u"?"":String(g)}t.toArg=p;function x(g,_,T){const C=_.split(`
`);let S="",A;for(A=1;A<C.length&&C[A].indexOf(T)!==-1;++A);for(let P=A;P<C.length;++P)S+=`
`+C[P];if(g.stack){const P=g.stack.indexOf(`
`);g.stack=g.stack.slice(0,P)+S}return g}t.optimizeErrorStack=x;function y(g){if(a(g))return{port:g};let _=(0,e.parse)(g,!0,!0);!_.slashes&&g[0]!=="/"&&(g="//"+g,_=(0,e.parse)(g,!0,!0));const T=_.query||{},C={};if(_.auth){const S=_.auth.indexOf(":");C.username=S===-1?_.auth:_.auth.slice(0,S),C.password=S===-1?"":_.auth.slice(S+1)}if(_.pathname&&(_.protocol==="redis:"||_.protocol==="rediss:"?_.pathname.length>1&&(C.db=_.pathname.slice(1)):C.path=_.pathname),_.host&&(C.host=_.hostname),_.port&&(C.port=_.port),typeof T.family=="string"){const S=Number.parseInt(T.family,10);Number.isNaN(S)||(C.family=S)}return(0,n.defaults)(C,T),C}t.parseURL=y;function h(g){let _=g==null?void 0:g.tls;typeof _=="string"&&(_={profile:_});const T=s.default[_==null?void 0:_.profile];return T&&(_=Object.assign({},T,_),delete _.profile,g=Object.assign({},g,{tls:_})),g}t.resolveTLSProfile=h;function w(g,_=0){const T=g.length;return _>=T?null:g[_+Math.floor(Math.random()*(T-_))]}t.sample=w;function m(g){let _=g.length;for(;_>0;){const T=Math.floor(Math.random()*_);_--,[g[_],g[T]]=[g[T],g[_]]}return g}t.shuffle=m,t.CONNECTION_CLOSED_ERROR_MSG="Connection is closed.";function b(g,_){const T=new Map;return g.forEach((C,S)=>{T.set(C,_[S])}),T}t.zipMap=b})(Kt);Object.defineProperty(Hr,"__esModule",{value:!0});const $w=Ga,E7=mf,k7=ks,Xi=Kt;class Mn{constructor(e,n=[],r={},s){if(this.name=e,this.inTransaction=!1,this.isResolved=!1,this.transformed=!1,this.replyEncoding=r.replyEncoding,this.errorStack=r.errorStack,this.args=n.flat(),this.callback=s,this.initPromise(),r.keyPrefix){const i=r.keyPrefix instanceof Buffer;let o=i?r.keyPrefix:null;this._iterateKeys(a=>a instanceof Buffer?(o===null&&(o=Buffer.from(r.keyPrefix)),Buffer.concat([o,a])):i?Buffer.concat([r.keyPrefix,Buffer.from(String(a))]):r.keyPrefix+a)}r.readOnly&&(this.isReadOnly=!0)}static checkFlag(e,n){return!!this.getFlagMap()[e][n]}static setArgumentTransformer(e,n){this._transformer.argument[e]=n}static setReplyTransformer(e,n){this._transformer.reply[e]=n}static getFlagMap(){return this.flagMap||(this.flagMap=Object.keys(Mn.FLAGS).reduce((e,n)=>(e[n]={},Mn.FLAGS[n].forEach(r=>{e[n][r]=!0}),e),{})),this.flagMap}getSlot(){if(typeof this.slot>"u"){const e=this.getKeys()[0];this.slot=e==null?null:E7(e)}return this.slot}getKeys(){return this._iterateKeys()}toWritable(e){let n;const r="*"+(this.args.length+1)+`\r
$`+Buffer.byteLength(this.name)+`\r
`+this.name+`\r
`;if(this.bufferMode){const s=new C7;s.push(r);for(let i=0;i<this.args.length;++i){const o=this.args[i];o instanceof Buffer?o.length===0?s.push(`$0\r
\r
`):(s.push("$"+o.length+`\r
`),s.push(o),s.push(`\r
`)):s.push("$"+Buffer.byteLength(o)+`\r
`+o+`\r
`)}n=s.toBuffer()}else{n=r;for(let s=0;s<this.args.length;++s){const i=this.args[s];n+="$"+Buffer.byteLength(i)+`\r
`+i+`\r
`}}return n}stringifyArguments(){for(let e=0;e<this.args.length;++e){const n=this.args[e];typeof n=="string"||(n instanceof Buffer?this.bufferMode=!0:this.args[e]=(0,Xi.toArg)(n))}}transformReply(e){this.replyEncoding&&(e=(0,Xi.convertBufferToString)(e,this.replyEncoding));const n=Mn._transformer.reply[this.name];return n&&(e=n(e)),e}setTimeout(e){this._commandTimeoutTimer||(this._commandTimeoutTimer=setTimeout(()=>{this.isResolved||this.reject(new Error("Command timed out"))},e))}initPromise(){const e=new Promise((n,r)=>{if(!this.transformed){this.transformed=!0;const s=Mn._transformer.argument[this.name];s&&(this.args=s(this.args)),this.stringifyArguments()}this.resolve=this._convertValue(n),this.errorStack?this.reject=s=>{r((0,Xi.optimizeErrorStack)(s,this.errorStack.stack,__dirname))}:this.reject=r});this.promise=(0,k7.default)(e,this.callback)}_iterateKeys(e=n=>n){if(typeof this.keys>"u"&&(this.keys=[],(0,$w.exists)(this.name))){const n=(0,$w.getKeyIndexes)(this.name,this.args);for(const r of n)this.args[r]=e(this.args[r]),this.keys.push(this.args[r])}return this.keys}_convertValue(e){return n=>{try{const r=this._commandTimeoutTimer;r&&(clearTimeout(r),delete this._commandTimeoutTimer),e(this.transformReply(n)),this.isResolved=!0}catch(r){this.reject(r)}return this.promise}}}Hr.default=Mn;Mn.FLAGS={VALID_IN_SUBSCRIBER_MODE:["subscribe","psubscribe","unsubscribe","punsubscribe","ssubscribe","sunsubscribe","ping","quit"],VALID_IN_MONITOR_MODE:["monitor","auth"],ENTER_SUBSCRIBER_MODE:["subscribe","psubscribe","ssubscribe"],EXIT_SUBSCRIBER_MODE:["unsubscribe","punsubscribe","sunsubscribe"],WILL_DISCONNECT:["quit"]};Mn._transformer={argument:{},reply:{}};const UP=function(t){if(t.length===1){if(t[0]instanceof Map)return(0,Xi.convertMapToArray)(t[0]);if(typeof t[0]=="object"&&t[0]!==null)return(0,Xi.convertObjectToArray)(t[0])}return t},qP=function(t){if(t.length===2){if(t[1]instanceof Map)return[t[0]].concat((0,Xi.convertMapToArray)(t[1]));if(typeof t[1]=="object"&&t[1]!==null)return[t[0]].concat((0,Xi.convertObjectToArray)(t[1]))}return t};Mn.setArgumentTransformer("mset",UP);Mn.setArgumentTransformer("msetnx",UP);Mn.setArgumentTransformer("hset",qP);Mn.setArgumentTransformer("hmset",qP);Mn.setReplyTransformer("hgetall",function(t){if(Array.isArray(t)){const e={};for(let n=0;n<t.length;n+=2){const r=t[n],s=t[n+1];r in e?Object.defineProperty(e,r,{value:s,configurable:!0,enumerable:!0,writable:!0}):e[r]=s}return e}return t});class C7{constructor(){this.length=0,this.items=[]}push(e){this.length+=Buffer.byteLength(e),this.items.push(e)}toBuffer(){const e=Buffer.allocUnsafe(this.length);let n=0;for(const r of this.items){const s=Buffer.byteLength(r);Buffer.isBuffer(r)?r.copy(e,n):e.write(r,n,s),n+=s}return e}}var h0={};Object.defineProperty(h0,"__esModule",{value:!0});const A7=Wa;class QP extends A7.RedisError{constructor(e,n){super(e),this.lastNodeError=n,Error.captureStackTrace(this,this.constructor)}get name(){return this.constructor.name}}h0.default=QP;QP.defaultMessage="Failed to refresh slots cache.";var Gl={};Object.defineProperty(Gl,"__esModule",{value:!0});const T7=he;class N7 extends T7.Readable{constructor(e){super(e),this.opt=e,this._redisCursor="0",this._redisDrained=!1}_read(){if(this._redisDrained){this.push(null);return}const e=[this._redisCursor];this.opt.key&&e.unshift(this.opt.key),this.opt.match&&e.push("MATCH",this.opt.match),this.opt.type&&e.push("TYPE",this.opt.type),this.opt.count&&e.push("COUNT",String(this.opt.count)),this.opt.noValues&&e.push("NOVALUES"),this.opt.redis[this.opt.command](e,(n,r)=>{if(n){this.emit("error",n);return}this._redisCursor=r[0]instanceof Buffer?r[0].toString():r[0],this._redisCursor==="0"&&(this._redisDrained=!0),this.push(r[1])})}close(){this._redisDrained=!0}}Gl.default=N7;var Wl={},yf={},Kl={},VP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.executeWithAutoPipelining=t.getFirstValueInFlattenedArray=t.shouldUseAutoPipelining=t.notAllowedAutoPipelineCommands=t.kCallbacks=t.kExec=void 0;const e=zr,n=mf,r=ks;t.kExec=Symbol("exec"),t.kCallbacks=Symbol("callbacks"),t.notAllowedAutoPipelineCommands=["auth","info","script","quit","cluster","pipeline","multi","subscribe","psubscribe","unsubscribe","unpsubscribe","select"];function s(c,l){if(c._runningAutoPipelines.has(l)||!c._autoPipelines.has(l))return;c._runningAutoPipelines.add(l);const u=c._autoPipelines.get(l);c._autoPipelines.delete(l);const d=u[t.kCallbacks];u[t.kCallbacks]=null,u.exec(function(p,x){if(c._runningAutoPipelines.delete(l),p)for(let y=0;y<d.length;y++)process.nextTick(d[y],p);else for(let y=0;y<d.length;y++)process.nextTick(d[y],...x[y]);c._autoPipelines.has(l)&&s(c,l)})}function i(c,l,u){return l&&c.options.enableAutoPipelining&&!c.isPipeline&&!t.notAllowedAutoPipelineCommands.includes(u)&&!c.options.autoPipeliningIgnoredCommands.includes(u)}t.shouldUseAutoPipelining=i;function o(c){for(let l=0;l<c.length;l++){const u=c[l];if(typeof u=="string")return u;if(Array.isArray(u)||(0,e.isArguments)(u)){if(u.length===0)continue;return u[0]}const d=[u].flat();if(d.length>0)return d[0]}}t.getFirstValueInFlattenedArray=o;function a(c,l,u,d,p){if(c.isCluster&&!c.slots.length)return c.status==="wait"&&c.connect().catch(e.noop),(0,r.default)(new Promise(function(m,b){c.delayUntilReady(g=>{if(g){b(g);return}a(c,l,u,d,null).then(m,b)})}),p);const x=c.options.keyPrefix||"",y=c.isCluster?c.slots[n(`${x}${o(d)}`)].join(","):"main";if(!c._autoPipelines.has(y)){const m=c.pipeline();m[t.kExec]=!1,m[t.kCallbacks]=[],c._autoPipelines.set(y,m)}const h=c._autoPipelines.get(y);h[t.kExec]||(h[t.kExec]=!0,setImmediate(s,c,y));const w=new Promise(function(m,b){h[t.kCallbacks].push(function(g,_){if(g){b(g);return}m(_)}),l==="call"&&d.unshift(u),h[l](...d)});return(0,r.default)(w,p)}t.executeWithAutoPipelining=a})(VP);var m0={};Object.defineProperty(m0,"__esModule",{value:!0});const R7=he,O7=Hr,P7=ks;class I7{constructor(e,n=null,r="",s=!1){this.lua=e,this.numberOfKeys=n,this.keyPrefix=r,this.readOnly=s,this.sha=(0,R7.createHash)("sha1").update(e).digest("hex");const i=this.sha,o=new WeakSet;this.Command=class extends O7.default{toWritable(c){const l=this.reject;return this.reject=u=>{u.message.indexOf("NOSCRIPT")!==-1&&o.delete(c),l.call(this,u)},o.has(c)?this.name==="eval"&&(this.name="evalsha",this.args[0]=i):(o.add(c),this.name="eval",this.args[0]=e),super.toWritable(c)}}}execute(e,n,r,s){typeof this.numberOfKeys=="number"&&n.unshift(this.numberOfKeys),this.keyPrefix&&(r.keyPrefix=this.keyPrefix),this.readOnly&&(r.readOnly=!0);const i=new this.Command("evalsha",[this.sha,...n],r);return i.promise=i.promise.catch(o=>{if(o.message.indexOf("NOSCRIPT")===-1)throw o;const a=new this.Command("evalsha",[this.sha,...n],r);return(e.isPipeline?e.redis:e).sendCommand(a)}),(0,P7.default)(i.promise,s),e.sendCommand(i)}}m0.default=I7;Object.defineProperty(Kl,"__esModule",{value:!0});const j7=Ga,dp=VP,F7=Hr,M7=m0;class xo{constructor(){this.options={},this.scriptsSet={},this.addedBuiltinSet=new Set}getBuiltinCommands(){return g0.slice(0)}createBuiltinCommand(e){return{string:ei(null,e,"utf8"),buffer:ei(null,e,null)}}addBuiltinCommand(e){this.addedBuiltinSet.add(e),this[e]=ei(e,e,"utf8"),this[e+"Buffer"]=ei(e+"Buffer",e,null)}defineCommand(e,n){const r=new M7.default(n.lua,n.numberOfKeys,this.options.keyPrefix,n.readOnly);this.scriptsSet[e]=r,this[e]=zw(e,e,r,"utf8"),this[e+"Buffer"]=zw(e+"Buffer",e,r,null)}sendCommand(e,n,r){throw new Error('"sendCommand" is not implemented')}}const g0=j7.list.filter(t=>t!=="monitor");g0.push("sentinel");g0.forEach(function(t){xo.prototype[t]=ei(t,t,"utf8"),xo.prototype[t+"Buffer"]=ei(t+"Buffer",t,null)});xo.prototype.call=ei("call","utf8");xo.prototype.callBuffer=ei("callBuffer",null);xo.prototype.send_command=xo.prototype.call;function ei(t,e,n){return typeof n>"u"&&(n=e,e=null),function(...r){const s=e||r.shift();let i=r[r.length-1];typeof i=="function"?r.pop():i=void 0;const o={errorStack:this.options.showFriendlyErrorStack?new Error:void 0,keyPrefix:this.options.keyPrefix,replyEncoding:n};return(0,dp.shouldUseAutoPipelining)(this,t,s)?(0,dp.executeWithAutoPipelining)(this,t,s,r,i):this.sendCommand(new F7.default(s,r,o,i))}}function zw(t,e,n,r){return function(...s){const i=typeof s[s.length-1]=="function"?s.pop():void 0,o={replyEncoding:r};return this.options.showFriendlyErrorStack&&(o.errorStack=new Error),(0,dp.shouldUseAutoPipelining)(this,t,e)?(0,dp.executeWithAutoPipelining)(this,t,e,s,i):n.execute(this,s,o,i)}}Kl.default=xo;Object.defineProperty(yf,"__esModule",{value:!0});const ey=mf,Uw=Ga,qw=ks,D7=he,L7=Hr,B7=Kt,$7=Kl;function z7(t,e){const n=ey(e[0]),r=t._groupsBySlot[n];for(let s=1;s<e.length;s++)if(t._groupsBySlot[ey(e[s])]!==r)return-1;return n}class Ka extends $7.default{constructor(e){super(),this.redis=e,this.isPipeline=!0,this.replyPending=0,this._queue=[],this._result=[],this._transactions=0,this._shaToScript={},this.isCluster=this.redis.constructor.name==="Cluster"||this.redis.isCluster,this.options=e.options,Object.keys(e.scriptsSet).forEach(r=>{const s=e.scriptsSet[r];this._shaToScript[s.sha]=s,this[r]=e[r],this[r+"Buffer"]=e[r+"Buffer"]}),e.addedBuiltinSet.forEach(r=>{this[r]=e[r],this[r+"Buffer"]=e[r+"Buffer"]}),this.promise=new Promise((r,s)=>{this.resolve=r,this.reject=s});const n=this;Object.defineProperty(this,"length",{get:function(){return n._queue.length}})}fillResult(e,n){if(this._queue[n].name==="exec"&&Array.isArray(e[1])){const s=e[1].length;for(let i=0;i<s;i++){if(e[1][i]instanceof Error)continue;const o=this._queue[n-(s-i)];try{e[1][i]=o.transformReply(e[1][i])}catch(a){e[1][i]=a}}}if(this._result[n]=e,--this.replyPending)return;if(this.isCluster){let s=!0,i;for(let o=0;o<this._result.length;++o){const a=this._result[o][0],c=this._queue[o];if(a){if(c.name==="exec"&&a.message==="EXECABORT Transaction discarded because of previous errors.")continue;if(!i)i={name:a.name,message:a.message};else if(i.name!==a.name||i.message!==a.message){s=!1;break}}else if(!c.inTransaction&&!((0,Uw.exists)(c.name)&&(0,Uw.hasFlag)(c.name,"readonly"))){s=!1;break}}if(i&&s){const o=this,a=i.message.split(" "),c=this._queue;let l=!1;this._queue=[];for(let x=0;x<c.length;++x){if(a[0]==="ASK"&&!l&&c[x].name!=="asking"&&(!c[x-1]||c[x-1].name!=="asking")){const y=new L7.default("asking");y.ignore=!0,this.sendCommand(y)}c[x].initPromise(),this.sendCommand(c[x]),l=c[x].inTransaction}let u=!0;typeof this.leftRedirections>"u"&&(this.leftRedirections={});const d=function(){o.exec()},p=this.redis;if(p.handleError(i,this.leftRedirections,{moved:function(x,y){o.preferKey=y,p.slots[a[1]]=[y],p._groupsBySlot[a[1]]=p._groupsIds[p.slots[a[1]].join(";")],p.refreshSlotsCache(),o.exec()},ask:function(x,y){o.preferKey=y,o.exec()},tryagain:d,clusterDown:d,connectionClosed:d,maxRedirections:()=>{u=!1},defaults:()=>{u=!1}}),u)return}}let r=0;for(let s=0;s<this._queue.length-r;++s)this._queue[s+r].ignore&&(r+=1),this._result[s]=this._result[s+r];this.resolve(this._result.slice(0,this._result.length-r))}sendCommand(e){this._transactions>0&&(e.inTransaction=!0);const n=this._queue.length;return e.pipelineIndex=n,e.promise.then(r=>{this.fillResult([null,r],n)}).catch(r=>{this.fillResult([r],n)}),this._queue.push(e),this}addBatch(e){let n,r,s;for(let i=0;i<e.length;++i)n=e[i],r=n[0],s=n.slice(1),this[r].apply(this,s);return this}}yf.default=Ka;const U7=Ka.prototype.multi;Ka.prototype.multi=function(){return this._transactions+=1,U7.apply(this,arguments)};const HP=Ka.prototype.execBuffer;Ka.prototype.execBuffer=(0,D7.deprecate)(function(){return this._transactions>0&&(this._transactions-=1),HP.apply(this,arguments)},"Pipeline#execBuffer: Use Pipeline#exec instead");Ka.prototype.exec=function(t){if(this.isCluster&&!this.redis.slots.length)return this.redis.status==="wait"&&this.redis.connect().catch(B7.noop),t&&!this.nodeifiedPromise&&(this.nodeifiedPromise=!0,(0,qw.default)(this.promise,t)),this.redis.delayUntilReady(s=>{if(s){this.reject(s);return}this.exec(t)}),this.promise;if(this._transactions>0)return this._transactions-=1,HP.apply(this,arguments);this.nodeifiedPromise||(this.nodeifiedPromise=!0,(0,qw.default)(this.promise,t)),this._queue.length||this.resolve([]);let e;if(this.isCluster){const s=[];for(let i=0;i<this._queue.length;i++){const o=this._queue[i].getKeys();if(o.length&&s.push(o[0]),o.length&&ey.generateMulti(o)<0)return this.reject(new Error("All the keys in a pipeline command should belong to the same slot")),this.promise}if(s.length){if(e=z7(this.redis,s),e<0)return this.reject(new Error("All keys in the pipeline should belong to the same slots allocation group")),this.promise}else e=Math.random()*16384|0}const n=this;return r(),this.promise;function r(){let s=n.replyPending=n._queue.length,i;n.isCluster&&(i={slot:e,redis:n.redis.connectionPool.nodes.all[n.preferKey]});let o="",a;const c={isPipeline:!0,destination:n.isCluster?i:{redis:n.redis},write(l){typeof l!="string"?(a||(a=[]),o&&(a.push(Buffer.from(o,"utf8")),o=""),a.push(l)):o+=l,--s||(a?(o&&a.push(Buffer.from(o,"utf8")),c.destination.redis.stream.write(Buffer.concat(a))):c.destination.redis.stream.write(o),s=n._queue.length,o="",a=void 0)}};for(let l=0;l<n._queue.length;++l)n.redis.sendCommand(n._queue[l],c,i);return n.promise}};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.addTransactionSupport=void 0;const Fh=Kt,Mh=ks,Qw=yf;function q7(t){t.pipeline=function(r){const s=new Qw.default(this);return Array.isArray(r)&&s.addBatch(r),s};const{multi:e}=t;t.multi=function(r,s){if(typeof s>"u"&&!Array.isArray(r)&&(s=r,r=null),s&&s.pipeline===!1)return e.call(this);const i=new Qw.default(this);i.multi(),Array.isArray(r)&&i.addBatch(r);const o=i.exec;i.exec=function(c){if(this.isCluster&&!this.redis.slots.length)return this.redis.status==="wait"&&this.redis.connect().catch(Fh.noop),(0,Mh.default)(new Promise((u,d)=>{this.redis.delayUntilReady(p=>{if(p){d(p);return}this.exec(i).then(u,d)})}),c);if(this._transactions>0&&o.call(i),this.nodeifiedPromise)return o.call(i);const l=o.call(i);return(0,Mh.default)(l.then(function(u){const d=u[u.length-1];if(typeof d>"u")throw new Error("Pipeline cannot be used to send any commands when the `exec()` has been called on it.");if(d[0]){d[0].previousErrors=[];for(let p=0;p<u.length-1;++p)u[p][0]&&d[0].previousErrors.push(u[p][0]);throw d[0]}return(0,Fh.wrapMultiResult)(d[1])}),c)};const{execBuffer:a}=i;return i.execBuffer=function(c){return this._transactions>0&&a.call(i),i.exec(c)},i};const{exec:n}=t;t.exec=function(r){return(0,Mh.default)(n.call(this).then(function(s){return Array.isArray(s)&&(s=(0,Fh.wrapMultiResult)(s)),s}),r)}}Wl.addTransactionSupport=q7;var vf={};Object.defineProperty(vf,"__esModule",{value:!0});function Q7(t,e){Object.getOwnPropertyNames(e.prototype).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n))})}vf.default=Q7;var xf={};Object.defineProperty(xf,"__esModule",{value:!0});xf.DEFAULT_CLUSTER_OPTIONS=void 0;const Vw=he;xf.DEFAULT_CLUSTER_OPTIONS={clusterRetryStrategy:t=>Math.min(100+t*2,2e3),enableOfflineQueue:!0,enableReadyCheck:!0,scaleReads:"master",maxRedirections:16,retryDelayOnMoved:0,retryDelayOnFailover:100,retryDelayOnClusterDown:100,retryDelayOnTryAgain:100,slotsRefreshTimeout:1e3,useSRVRecords:!1,resolveSrv:Vw.resolveSrv,dnsLookup:Vw.lookup,enableAutoPipelining:!1,autoPipeliningIgnoredCommands:[],shardedSubscribers:!1};var Ou={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.getConnectionName=Mt.weightSrvRecords=Mt.groupSrvRecords=Mt.getUniqueHostnamesFromOptions=Mt.normalizeNodeOptions=Mt.nodeKeyToRedisOptions=Mt.getNodeKey=void 0;const Hw=Kt,V7=he;function H7(t){return t.port=t.port||6379,t.host=t.host||"127.0.0.1",t.host+":"+t.port}Mt.getNodeKey=H7;function G7(t){const e=t.lastIndexOf(":");if(e===-1)throw new Error(`Invalid node key ${t}`);return{host:t.slice(0,e),port:Number(t.slice(e+1))}}Mt.nodeKeyToRedisOptions=G7;function W7(t){return t.map(e=>{const n={};if(typeof e=="object")Object.assign(n,e);else if(typeof e=="string")Object.assign(n,(0,Hw.parseURL)(e));else if(typeof e=="number")n.port=e;else throw new Error("Invalid argument "+e);return typeof n.port=="string"&&(n.port=parseInt(n.port,10)),delete n.db,n.port||(n.port=6379),n.host||(n.host="127.0.0.1"),(0,Hw.resolveTLSProfile)(n)})}Mt.normalizeNodeOptions=W7;function K7(t){const e={};return t.forEach(n=>{e[n.host]=!0}),Object.keys(e).filter(n=>!(0,V7.isIP)(n))}Mt.getUniqueHostnamesFromOptions=K7;function Y7(t){const e={};for(const n of t)e.hasOwnProperty(n.priority)?(e[n.priority].totalWeight+=n.weight,e[n.priority].records.push(n)):e[n.priority]={totalWeight:n.weight,records:[n]};return e}Mt.groupSrvRecords=Y7;function J7(t){if(t.records.length===1)return t.totalWeight=0,t.records.shift();const e=Math.floor(Math.random()*(t.totalWeight+t.records.length));let n=0;for(const[r,s]of t.records.entries())if(n+=1+s.weight,n>e)return t.totalWeight-=s.weight,t.records.splice(r,1),s}Mt.weightSrvRecords=J7;function X7(t,e){const n=`ioredis-cluster(${t})`;return e?`${n}:${e}`:n}Mt.getConnectionName=X7;var Gw;function GP(){if(Gw)return Ou;Gw=1,Object.defineProperty(Ou,"__esModule",{value:!0});const t=Mt,e=Kt,n=Zi(),r=(0,e.Debug)("cluster:subscriber");let s=class{constructor(o,a,c=!1){this.connectionPool=o,this.emitter=a,this.isSharded=c,this.started=!1,this.subscriber=null,this.slotRange=[],this.onSubscriberEnd=()=>{if(!this.started){r("subscriber has disconnected, but ClusterSubscriber is not started, so not reconnecting.");return}r("subscriber has disconnected, selecting a new one..."),this.selectSubscriber()},this.connectionPool.on("-node",(l,u)=>{!this.started||!this.subscriber||(0,t.getNodeKey)(this.subscriber.options)===u&&(r("subscriber has left, selecting a new one..."),this.selectSubscriber())}),this.connectionPool.on("+node",()=>{!this.started||this.subscriber||(r("a new node is discovered and there is no subscriber, selecting a new one..."),this.selectSubscriber())})}getInstance(){return this.subscriber}associateSlotRange(o){return this.isSharded&&(this.slotRange=o),this.slotRange}start(){this.started=!0,this.selectSubscriber(),r("started")}stop(){this.started=!1,this.subscriber&&(this.subscriber.disconnect(),this.subscriber=null)}isStarted(){return this.started}selectSubscriber(){const o=this.lastActiveSubscriber;o&&(o.off("end",this.onSubscriberEnd),o.disconnect()),this.subscriber&&(this.subscriber.off("end",this.onSubscriberEnd),this.subscriber.disconnect());const a=(0,e.sample)(this.connectionPool.getNodes());if(!a){r("selecting subscriber failed since there is no node discovered in the cluster yet"),this.subscriber=null;return}const{options:c}=a;r("selected a subscriber %s:%s",c.host,c.port);let l="subscriber";this.isSharded&&(l="ssubscriber"),this.subscriber=new n.default({port:c.port,host:c.host,username:c.username,password:c.password,enableReadyCheck:!0,connectionName:(0,t.getConnectionName)(l,c.connectionName),lazyConnect:!0,tls:c.tls,retryStrategy:null}),this.subscriber.on("error",e.noop),this.subscriber.once("end",this.onSubscriberEnd);const u={subscribe:[],psubscribe:[],ssubscribe:[]};if(o){const d=o.condition||o.prevCondition;d&&d.subscriber&&(u.subscribe=d.subscriber.channels("subscribe"),u.psubscribe=d.subscriber.channels("psubscribe"),u.ssubscribe=d.subscriber.channels("ssubscribe"))}if(u.subscribe.length||u.psubscribe.length||u.ssubscribe.length){let d=0;for(const p of["subscribe","psubscribe","ssubscribe"]){const x=u[p];x.length&&(d+=1,r("%s %d channels",p,x.length),this.subscriber[p](x).then(()=>{--d||(this.lastActiveSubscriber=this.subscriber)}).catch(()=>{r("failed to %s %d channels",p,x.length)}))}}else this.lastActiveSubscriber=this.subscriber;for(const d of["message","messageBuffer"])this.subscriber.on(d,(p,x)=>{this.emitter.emit(d,p,x)});for(const d of["pmessage","pmessageBuffer"])this.subscriber.on(d,(p,x,y)=>{this.emitter.emit(d,p,x,y)});if(this.isSharded==!0)for(const d of["smessage","smessageBuffer"])this.subscriber.on(d,(p,x)=>{this.emitter.emit(d,p,x)})}};return Ou.default=s,Ou}var Pu={},Ww;function WP(){if(Ww)return Pu;Ww=1,Object.defineProperty(Pu,"__esModule",{value:!0});const t=he,e=Kt,n=Mt,r=Zi(),s=(0,e.Debug)("cluster:connectionPool");let i=class extends t.EventEmitter{constructor(a){super(),this.redisOptions=a,this.nodes={all:{},master:{},slave:{}},this.specifiedOptions={}}getNodes(a="all"){const c=this.nodes[a];return Object.keys(c).map(l=>c[l])}getInstanceByKey(a){return this.nodes.all[a]}getSampleInstance(a){const c=Object.keys(this.nodes[a]),l=(0,e.sample)(c);return this.nodes[a][l]}addMasterNode(a){const c=(0,n.getNodeKey)(a.options),l=this.createRedisFromOptions(a,a.options.readOnly);return a.options.readOnly?!1:(this.nodes.all[c]=l,this.nodes.master[c]=l,!0)}createRedisFromOptions(a,c){return new r.default((0,e.defaults)({retryStrategy:null,enableOfflineQueue:!0,readOnly:c},a,this.redisOptions,{lazyConnect:!0}))}findOrCreate(a,c=!1){const l=(0,n.getNodeKey)(a);c=!!c,this.specifiedOptions[l]?Object.assign(a,this.specifiedOptions[l]):this.specifiedOptions[l]=a;let u;return this.nodes.all[l]?(u=this.nodes.all[l],u.options.readOnly!==c&&(u.options.readOnly=c,s("Change role of %s to %s",l,c?"slave":"master"),u[c?"readonly":"readwrite"]().catch(e.noop),c?(delete this.nodes.master[l],this.nodes.slave[l]=u):(delete this.nodes.slave[l],this.nodes.master[l]=u))):(s("Connecting to %s as %s",l,c?"slave":"master"),u=this.createRedisFromOptions(a,c),this.nodes.all[l]=u,this.nodes[c?"slave":"master"][l]=u,u.once("end",()=>{this.removeNode(l),this.emit("-node",u,l),Object.keys(this.nodes.all).length||this.emit("drain")}),this.emit("+node",u,l),u.on("error",function(d){this.emit("nodeError",d,l)})),u}reset(a){s("Reset with %O",a);const c={};a.forEach(l=>{const u=(0,n.getNodeKey)(l);l.readOnly&&c[u]||(c[u]=l)}),Object.keys(this.nodes.all).forEach(l=>{c[l]||(s("Disconnect %s because the node does not hold any slot",l),this.nodes.all[l].disconnect(),this.removeNode(l))}),Object.keys(c).forEach(l=>{const u=c[l];this.findOrCreate(u,u.readOnly)})}removeNode(a){const{nodes:c}=this;c.all[a]&&(s("Remove %s from the pool",a),delete c.all[a]),delete c.master[a],delete c.slave[a]}};return Pu.default=i,Pu}var y0={};function vt(t,n){var n=n||{};this._capacity=n.capacity,this._head=0,this._tail=0,Array.isArray(t)?this._fromArray(t):(this._capacityMask=3,this._list=new Array(4))}vt.prototype.peekAt=function(e){var n=e;if(n===(n|0)){var r=this.size();if(!(n>=r||n<-r))return n<0&&(n+=r),n=this._head+n&this._capacityMask,this._list[n]}};vt.prototype.get=function(e){return this.peekAt(e)};vt.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]};vt.prototype.peekFront=function(){return this.peek()};vt.prototype.peekBack=function(){return this.peekAt(-1)};Object.defineProperty(vt.prototype,"length",{get:function(){return this.size()}});vt.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};vt.prototype.unshift=function(e){if(arguments.length===0)return this.size();var n=this._list.length;return this._head=this._head-1+n&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};vt.prototype.shift=function(){var e=this._head;if(e!==this._tail){var n=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),n}};vt.prototype.push=function(e){if(arguments.length===0)return this.size();var n=this._tail;return this._list[n]=e,this._tail=n+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};vt.prototype.pop=function(){var e=this._tail;if(e!==this._head){var n=this._list.length;this._tail=e-1+n&this._capacityMask;var r=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&e>1e4&&e<=n>>>2&&this._shrinkArray(),r}};vt.prototype.removeOne=function(e){var n=e;if(n===(n|0)&&this._head!==this._tail){var r=this.size(),s=this._list.length;if(!(n>=r||n<-r)){n<0&&(n+=r),n=this._head+n&this._capacityMask;var i=this._list[n],o;if(e<r/2){for(o=e;o>0;o--)this._list[n]=this._list[n=n-1+s&this._capacityMask];this._list[n]=void 0,this._head=this._head+1+s&this._capacityMask}else{for(o=r-1-e;o>0;o--)this._list[n]=this._list[n=n+1+s&this._capacityMask];this._list[n]=void 0,this._tail=this._tail-1+s&this._capacityMask}return i}}};vt.prototype.remove=function(e,n){var r=e,s,i=n;if(r===(r|0)&&this._head!==this._tail){var o=this.size(),a=this._list.length;if(!(r>=o||r<-o||n<1)){if(r<0&&(r+=o),n===1||!n)return s=new Array(1),s[0]=this.removeOne(r),s;if(r===0&&r+n>=o)return s=this.toArray(),this.clear(),s;r+n>o&&(n=o-r);var c;for(s=new Array(n),c=0;c<n;c++)s[c]=this._list[this._head+r+c&this._capacityMask];if(r=this._head+r&this._capacityMask,e+n===o){for(this._tail=this._tail-n+a&this._capacityMask,c=n;c>0;c--)this._list[r=r+1+a&this._capacityMask]=void 0;return s}if(e===0){for(this._head=this._head+n+a&this._capacityMask,c=n-1;c>0;c--)this._list[r=r+1+a&this._capacityMask]=void 0;return s}if(r<o/2){for(this._head=this._head+e+n+a&this._capacityMask,c=e;c>0;c--)this.unshift(this._list[r=r-1+a&this._capacityMask]);for(r=this._head-1+a&this._capacityMask;i>0;)this._list[r=r-1+a&this._capacityMask]=void 0,i--;e<0&&(this._tail=r)}else{for(this._tail=r,r=r+n+a&this._capacityMask,c=o-(n+e);c>0;c--)this.push(this._list[r++]);for(r=this._tail;i>0;)this._list[r=r+1+a&this._capacityMask]=void 0,i--}return this._head<2&&this._tail>1e4&&this._tail<=a>>>2&&this._shrinkArray(),s}}};vt.prototype.splice=function(e,n){var r=e;if(r===(r|0)){var s=this.size();if(r<0&&(r+=s),!(r>s))if(arguments.length>2){var i,o,a,c=arguments.length,l=this._list.length,u=2;if(!s||r<s/2){for(o=new Array(r),i=0;i<r;i++)o[i]=this._list[this._head+i&this._capacityMask];for(n===0?(a=[],r>0&&(this._head=this._head+r+l&this._capacityMask)):(a=this.remove(r,n),this._head=this._head+r+l&this._capacityMask);c>u;)this.unshift(arguments[--c]);for(i=r;i>0;i--)this.unshift(o[i-1])}else{o=new Array(s-(r+n));var d=o.length;for(i=0;i<d;i++)o[i]=this._list[this._head+r+n+i&this._capacityMask];for(n===0?(a=[],r!=s&&(this._tail=this._head+r+l&this._capacityMask)):(a=this.remove(r,n),this._tail=this._tail-d+l&this._capacityMask);u<c;)this.push(arguments[u++]);for(i=0;i<d;i++)this.push(o[i])}return a}else return this.remove(r,n)}};vt.prototype.clear=function(){this._list=new Array(this._list.length),this._head=0,this._tail=0};vt.prototype.isEmpty=function(){return this._head===this._tail};vt.prototype.toArray=function(){return this._copyArray(!1)};vt.prototype._fromArray=function(e){var n=e.length,r=this._nextPowerOf2(n);this._list=new Array(r),this._capacityMask=r-1,this._tail=n;for(var s=0;s<n;s++)this._list[s]=e[s]};vt.prototype._copyArray=function(e,n){var r=this._list,s=r.length,i=this.length;if(n=n|i,n==i&&this._head<this._tail)return this._list.slice(this._head,this._tail);var o=new Array(n),a=0,c;if(e||this._head>this._tail){for(c=this._head;c<s;c++)o[a++]=r[c];for(c=0;c<this._tail;c++)o[a++]=r[c]}else for(c=this._head;c<this._tail;c++)o[a++]=r[c];return o};vt.prototype._growArray=function(){if(this._head!=0){var e=this._copyArray(!0,this._list.length<<1);this._tail=this._list.length,this._head=0,this._list=e}else this._tail=this._list.length,this._list.length<<=1;this._capacityMask=this._capacityMask<<1|1};vt.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1};vt.prototype._nextPowerOf2=function(e){var n=Math.log(e)/Math.log(2),r=1<<n+1;return Math.max(r,4)};var v0=vt;Object.defineProperty(y0,"__esModule",{value:!0});const Z7=Kt,eH=v0,tH=(0,Z7.Debug)("delayqueue");class nH{constructor(){this.queues={},this.timeouts={}}push(e,n,r){const s=r.callback||process.nextTick;this.queues[e]||(this.queues[e]=new eH),this.queues[e].push(n),this.timeouts[e]||(this.timeouts[e]=setTimeout(()=>{s(()=>{this.timeouts[e]=null,this.execute(e)})},r.timeout))}execute(e){const n=this.queues[e];if(!n)return;const{length:r}=n;if(r)for(tH("send %d commands in %s queue",r,e),this.queues[e]=null;n.length>0;)n.shift()()}}y0.default=nH;var Iu={},Kw;function rH(){if(Kw)return Iu;Kw=1,Object.defineProperty(Iu,"__esModule",{value:!0});const t=Kt,e=GP(),n=WP(),r=Mt,s=mf,i=(0,t.Debug)("cluster:subscriberGroup");let o=class{constructor(c){this.cluster=c,this.shardedSubscribers=new Map,this.clusterSlots=[],this.subscriberToSlotsIndex=new Map,this.channels=new Map,c.on("+node",l=>{this._addSubscriber(l)}),c.on("-node",l=>{this._removeSubscriber(l)}),c.on("refresh",()=>{this._refreshSlots(c)})}getResponsibleSubscriber(c){const l=this.clusterSlots[c][0];return this.shardedSubscribers.get(l)}addChannels(c){const l=s(c[0]);c.forEach(d=>{if(s(d)!=l)return-1});const u=this.channels.get(l);return u?this.channels.set(l,u.concat(c)):this.channels.set(l,c),[...this.channels.values()].flatMap(d=>d).length}removeChannels(c){const l=s(c[0]);c.forEach(d=>{if(s(d)!=l)return-1});const u=this.channels.get(l);if(u){const d=u.filter(p=>!c.includes(p));this.channels.set(l,d)}return[...this.channels.values()].flatMap(d=>d).length}stop(){for(const c of this.shardedSubscribers.values())c.stop()}start(){for(const c of this.shardedSubscribers.values())c.isStarted()||c.start()}_addSubscriber(c){const l=new n.default(c.options);if(l.addMasterNode(c)){const u=new e.default(l,this.cluster,!0),d=(0,r.getNodeKey)(c.options);return this.shardedSubscribers.set(d,u),u.start(),this._resubscribe(),this.cluster.emit("+subscriber"),u}return null}_removeSubscriber(c){const l=(0,r.getNodeKey)(c.options),u=this.shardedSubscribers.get(l);return u&&(u.stop(),this.shardedSubscribers.delete(l),this._resubscribe(),this.cluster.emit("-subscriber")),this.shardedSubscribers}_refreshSlots(c){if(this._slotsAreEqual(c.slots))i("Nothing to refresh because the new cluster map is equal to the previous one.");else{i("Refreshing the slots of the subscriber group."),this.subscriberToSlotsIndex=new Map;for(let l=0;l<c.slots.length;l++){const u=c.slots[l][0];this.subscriberToSlotsIndex.has(u)||this.subscriberToSlotsIndex.set(u,[]),this.subscriberToSlotsIndex.get(u).push(Number(l))}return this._resubscribe(),this.clusterSlots=JSON.parse(JSON.stringify(c.slots)),this.cluster.emit("subscribersReady"),!0}return!1}_resubscribe(){this.shardedSubscribers&&this.shardedSubscribers.forEach((c,l)=>{const u=this.subscriberToSlotsIndex.get(l);u&&(c.associateSlotRange(u),u.forEach(d=>{const p=c.getInstance(),x=this.channels.get(d);x&&x.length>0&&p&&(p.ssubscribe(x),p.on("ready",()=>{p.ssubscribe(x)}))}))})}_slotsAreEqual(c){return this.clusterSlots===void 0?!1:JSON.stringify(this.clusterSlots)===JSON.stringify(c)}};return Iu.default=o,Iu}var Yw;function KP(){if(Yw)return Ru;Yw=1,Object.defineProperty(Ru,"__esModule",{value:!0});const t=Ga,e=he,n=Wa,r=ks,s=Hr,i=h0,o=Zi(),a=Gl,c=Wl,l=Kt,u=vf,d=Kl,p=xf,x=GP(),y=WP(),h=y0,w=Mt,m=v0,b=rH(),g=(0,l.Debug)("cluster"),_=new WeakSet;class T extends d.default{constructor(S,A={}){if(super(),this.slots=[],this._groupsIds={},this._groupsBySlot=Array(16384),this.isCluster=!0,this.retryAttempts=0,this.delayQueue=new h.default,this.offlineQueue=new m,this.isRefreshing=!1,this._refreshSlotsCacheCallbacks=[],this._autoPipelines=new Map,this._runningAutoPipelines=new Set,this._readyDelayedCallbacks=[],this.connectionEpoch=0,e.EventEmitter.call(this),this.startupNodes=S,this.options=(0,l.defaults)({},A,p.DEFAULT_CLUSTER_OPTIONS,this.options),this.options.shardedSubscribers==!0&&(this.shardedSubscribers=new b.default(this)),this.options.redisOptions&&this.options.redisOptions.keyPrefix&&!this.options.keyPrefix&&(this.options.keyPrefix=this.options.redisOptions.keyPrefix),typeof this.options.scaleReads!="function"&&["all","master","slave"].indexOf(this.options.scaleReads)===-1)throw new Error('Invalid option scaleReads "'+this.options.scaleReads+'". Expected "all", "master", "slave" or a custom function');this.connectionPool=new y.default(this.options.redisOptions),this.connectionPool.on("-node",(P,D)=>{this.emit("-node",P)}),this.connectionPool.on("+node",P=>{this.emit("+node",P)}),this.connectionPool.on("drain",()=>{this.setStatus("close")}),this.connectionPool.on("nodeError",(P,D)=>{this.emit("node error",P,D)}),this.subscriber=new x.default(this.connectionPool,this),this.options.scripts&&Object.entries(this.options.scripts).forEach(([P,D])=>{this.defineCommand(P,D)}),this.options.lazyConnect?this.setStatus("wait"):this.connect().catch(P=>{g("connecting failed: %s",P)})}connect(){return new Promise((S,A)=>{if(this.status==="connecting"||this.status==="connect"||this.status==="ready"){A(new Error("Redis is already connecting/connected"));return}const P=++this.connectionEpoch;this.setStatus("connecting"),this.resolveStartupNodeHostnames().then(D=>{if(this.connectionEpoch!==P){g("discard connecting after resolving startup nodes because epoch not match: %d != %d",P,this.connectionEpoch),A(new n.RedisError("Connection is discarded because a new connection is made"));return}if(this.status!=="connecting"){g("discard connecting after resolving startup nodes because the status changed to %s",this.status),A(new n.RedisError("Connection is aborted"));return}this.connectionPool.reset(D);const q=()=>{this.setStatus("ready"),this.retryAttempts=0,this.executeOfflineCommands(),this.resetNodesRefreshInterval(),S()};let K;const U=()=>{this.invokeReadyDelayedCallbacks(void 0),this.removeListener("close",K),this.manuallyClosing=!1,this.setStatus("connect"),this.options.enableReadyCheck?this.readyCheck((R,I)=>{R||I?(g("Ready check failed (%s). Reconnecting...",R||I),this.status==="connect"&&this.disconnect(!0)):q()}):q()};K=()=>{const R=new Error("None of startup nodes is available");this.removeListener("refresh",U),this.invokeReadyDelayedCallbacks(R),A(R)},this.once("refresh",U),this.once("close",K),this.once("close",this.handleCloseEvent.bind(this)),this.refreshSlotsCache(R=>{R&&R.message===i.default.defaultMessage&&(o.default.prototype.silentEmit.call(this,"error",R),this.connectionPool.reset([]))}),this.subscriber.start(),this.options.shardedSubscribers&&this.shardedSubscribers.start()}).catch(D=>{this.setStatus("close"),this.handleCloseEvent(D),this.invokeReadyDelayedCallbacks(D),A(D)})})}disconnect(S=!1){const A=this.status;this.setStatus("disconnecting"),S||(this.manuallyClosing=!0),this.reconnectTimeout&&!S&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null,g("Canceled reconnecting attempts")),this.clearNodesRefreshInterval(),this.subscriber.stop(),this.options.shardedSubscribers&&this.shardedSubscribers.stop(),A==="wait"?(this.setStatus("close"),this.handleCloseEvent()):this.connectionPool.reset([])}quit(S){const A=this.status;if(this.setStatus("disconnecting"),this.manuallyClosing=!0,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.clearNodesRefreshInterval(),this.subscriber.stop(),this.options.shardedSubscribers&&this.shardedSubscribers.stop(),A==="wait"){const P=(0,r.default)(Promise.resolve("OK"),S);return setImmediate((function(){this.setStatus("close"),this.handleCloseEvent()}).bind(this)),P}return(0,r.default)(Promise.all(this.nodes().map(P=>P.quit().catch(D=>{if(D.message===l.CONNECTION_CLOSED_ERROR_MSG)return"OK";throw D}))).then(()=>"OK"),S)}duplicate(S=[],A={}){const P=S.length>0?S:this.startupNodes.slice(0),D=Object.assign({},this.options,A);return new T(P,D)}nodes(S="all"){if(S!=="all"&&S!=="master"&&S!=="slave")throw new Error('Invalid role "'+S+'". Expected "all", "master" or "slave"');return this.connectionPool.getNodes(S)}delayUntilReady(S){this._readyDelayedCallbacks.push(S)}get autoPipelineQueueSize(){let S=0;for(const A of this._autoPipelines.values())S+=A.length;return S}refreshSlotsCache(S){if(S&&this._refreshSlotsCacheCallbacks.push(S),this.isRefreshing)return;this.isRefreshing=!0;const A=this,P=U=>{this.isRefreshing=!1;for(const R of this._refreshSlotsCacheCallbacks)R(U);this._refreshSlotsCacheCallbacks=[]},D=(0,l.shuffle)(this.connectionPool.getNodes());let q=null;function K(U){if(U===D.length){const V=new i.default(i.default.defaultMessage,q);return P(V)}const R=D[U],I=`${R.options.host}:${R.options.port}`;g("getting slot cache from %s",I),A.getInfoFromNode(R,function(V){switch(A.status){case"close":case"end":return P(new Error("Cluster is disconnected."));case"disconnecting":return P(new Error("Cluster is disconnecting."))}V?(A.emit("node error",V,I),q=V,K(U+1)):(A.emit("refresh"),P())})}K(0)}sendCommand(S,A,P){if(this.status==="wait"&&this.connect().catch(l.noop),this.status==="end")return S.reject(new Error(l.CONNECTION_CLOSED_ERROR_MSG)),S.promise;let D=this.options.scaleReads;D!=="master"&&(S.isReadOnly||(0,t.exists)(S.name)&&(0,t.hasFlag)(S.name,"readonly")||(D="master"));let q=P?P.slot:S.getSlot();const K={},U=this;if(!P&&!_.has(S)){_.add(S);const I=S.reject;S.reject=function(V){const j=R.bind(null,!0);U.handleError(V,K,{moved:function(L,z){g("command %s is moved to %s",S.name,z),q=Number(L),U.slots[L]?U.slots[L][0]=z:U.slots[L]=[z],U._groupsBySlot[L]=U._groupsIds[U.slots[L].join(";")],U.connectionPool.findOrCreate(U.natMapper(z)),R(),g("refreshing slot caches... (triggered by MOVED error)"),U.refreshSlotsCache()},ask:function(L,z){g("command %s is required to ask %s:%s",S.name,z);const X=U.natMapper(z);U.connectionPool.findOrCreate(X),R(!1,`${X.host}:${X.port}`)},tryagain:j,clusterDown:j,connectionClosed:j,maxRedirections:function(L){I.call(S,L)},defaults:function(){I.call(S,V)}})}}R();function R(I,V){if(U.status==="end"){S.reject(new n.AbortError("Cluster is ended."));return}let j;if(U.status==="ready"||S.name==="cluster"){if(P&&P.redis)j=P.redis;else if(s.default.checkFlag("ENTER_SUBSCRIBER_MODE",S.name)||s.default.checkFlag("EXIT_SUBSCRIBER_MODE",S.name)){if(U.options.shardedSubscribers==!0&&(S.name=="ssubscribe"||S.name=="sunsubscribe")){const L=U.shardedSubscribers.getResponsibleSubscriber(q);let z=-1;S.name=="ssubscribe"&&(z=U.shardedSubscribers.addChannels(S.getKeys())),S.name=="sunsubscribe"&&(z=U.shardedSubscribers.removeChannels(S.getKeys())),z!==-1?j=L.getInstance():S.reject(new n.AbortError("Can't add or remove the given channels. Are they in the same slot?"))}else j=U.subscriber.getInstance();if(!j){S.reject(new n.AbortError("No subscriber for the cluster"));return}}else{if(!I){if(typeof q=="number"&&U.slots[q]){const L=U.slots[q];if(typeof D=="function"){const z=L.map(function(X){return U.connectionPool.getInstanceByKey(X)});j=D(z,S),Array.isArray(j)&&(j=(0,l.sample)(j)),j||(j=z[0])}else{let z;D==="all"?z=(0,l.sample)(L):D==="slave"&&L.length>1?z=(0,l.sample)(L,1):z=L[0],j=U.connectionPool.getInstanceByKey(z)}}V&&(j=U.connectionPool.getInstanceByKey(V),j.asking())}j||(j=(typeof D=="function"?null:U.connectionPool.getSampleInstance(D))||U.connectionPool.getSampleInstance("all"))}P&&!P.redis&&(P.redis=j)}j?j.sendCommand(S,A):U.options.enableOfflineQueue?U.offlineQueue.push({command:S,stream:A,node:P}):S.reject(new Error("Cluster isn't ready and enableOfflineQueue options is false"))}return S.promise}sscanStream(S,A){return this.createScanStream("sscan",{key:S,options:A})}sscanBufferStream(S,A){return this.createScanStream("sscanBuffer",{key:S,options:A})}hscanStream(S,A){return this.createScanStream("hscan",{key:S,options:A})}hscanBufferStream(S,A){return this.createScanStream("hscanBuffer",{key:S,options:A})}zscanStream(S,A){return this.createScanStream("zscan",{key:S,options:A})}zscanBufferStream(S,A){return this.createScanStream("zscanBuffer",{key:S,options:A})}handleError(S,A,P){if(typeof A.value>"u"?A.value=this.options.maxRedirections:A.value-=1,A.value<=0){P.maxRedirections(new Error("Too many Cluster redirections. Last error: "+S));return}const D=S.message.split(" ");if(D[0]==="MOVED"){const q=this.options.retryDelayOnMoved;q&&typeof q=="number"?this.delayQueue.push("moved",P.moved.bind(null,D[1],D[2]),{timeout:q}):P.moved(D[1],D[2])}else D[0]==="ASK"?P.ask(D[1],D[2]):D[0]==="TRYAGAIN"?this.delayQueue.push("tryagain",P.tryagain,{timeout:this.options.retryDelayOnTryAgain}):D[0]==="CLUSTERDOWN"&&this.options.retryDelayOnClusterDown>0?this.delayQueue.push("clusterdown",P.connectionClosed,{timeout:this.options.retryDelayOnClusterDown,callback:this.refreshSlotsCache.bind(this)}):S.message===l.CONNECTION_CLOSED_ERROR_MSG&&this.options.retryDelayOnFailover>0&&this.status==="ready"?this.delayQueue.push("failover",P.connectionClosed,{timeout:this.options.retryDelayOnFailover,callback:this.refreshSlotsCache.bind(this)}):P.defaults()}resetOfflineQueue(){this.offlineQueue=new m}clearNodesRefreshInterval(){this.slotsTimer&&(clearTimeout(this.slotsTimer),this.slotsTimer=null)}resetNodesRefreshInterval(){if(this.slotsTimer||!this.options.slotsRefreshInterval)return;const S=()=>{this.slotsTimer=setTimeout(()=>{g('refreshing slot caches... (triggered by "slotsRefreshInterval" option)'),this.refreshSlotsCache(()=>{S()})},this.options.slotsRefreshInterval)};S()}setStatus(S){g("status: %s -> %s",this.status||"[empty]",S),this.status=S,process.nextTick(()=>{this.emit(S)})}handleCloseEvent(S){S&&g("closed because %s",S);let A;!this.manuallyClosing&&typeof this.options.clusterRetryStrategy=="function"&&(A=this.options.clusterRetryStrategy.call(this,++this.retryAttempts,S)),typeof A=="number"?(this.setStatus("reconnecting"),this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=null,g("Cluster is disconnected. Retrying after %dms",A),this.connect().catch(function(P){g("Got error %s when reconnecting. Ignoring...",P)})},A)):(this.setStatus("end"),this.flushQueue(new Error("None of startup nodes is available")))}flushQueue(S){let A;for(;A=this.offlineQueue.shift();)A.command.reject(S)}executeOfflineCommands(){if(this.offlineQueue.length){g("send %d commands in offline queue",this.offlineQueue.length);const S=this.offlineQueue;this.resetOfflineQueue();let A;for(;A=S.shift();)this.sendCommand(A.command,A.stream,A.node)}}natMapper(S){const A=typeof S=="string"?S:`${S.host}:${S.port}`;let P=null;return this.options.natMap&&typeof this.options.natMap=="function"?P=this.options.natMap(A):this.options.natMap&&typeof this.options.natMap=="object"&&(P=this.options.natMap[A]),P?(g("NAT mapping %s -> %O",A,P),Object.assign({},P)):typeof S=="string"?(0,w.nodeKeyToRedisOptions)(S):S}getInfoFromNode(S,A){if(!S)return A(new Error("Node is disconnected"));const P=S.duplicate({enableOfflineQueue:!0,enableReadyCheck:!1,retryStrategy:null,connectionName:(0,w.getConnectionName)("refresher",this.options.redisOptions&&this.options.redisOptions.connectionName)});P.on("error",l.noop),P.cluster("SLOTS",(0,l.timeout)((D,q)=>{if(P.disconnect(),D)return g("error encountered running CLUSTER.SLOTS: %s",D),A(D);if(this.status==="disconnecting"||this.status==="close"||this.status==="end"){g("ignore CLUSTER.SLOTS results (count: %d) since cluster status is %s",q.length,this.status),A();return}const K=[];g("cluster slots result count: %d",q.length);for(let R=0;R<q.length;++R){const I=q[R],V=I[0],j=I[1],L=[];for(let z=2;z<I.length;z++){if(!I[z][0])continue;const X=this.natMapper({host:I[z][0],port:I[z][1]});X.readOnly=z!==2,K.push(X),L.push(X.host+":"+X.port)}g("cluster slots result [%d]: slots %d~%d served by %s",R,V,j,L);for(let z=V;z<=j;z++)this.slots[z]=L}this._groupsIds=Object.create(null);let U=0;for(let R=0;R<16384;R++){const I=(this.slots[R]||[]).join(";");if(!I.length){this._groupsBySlot[R]=void 0;continue}this._groupsIds[I]||(this._groupsIds[I]=++U),this._groupsBySlot[R]=this._groupsIds[I]}this.connectionPool.reset(K),A()},this.options.slotsRefreshTimeout))}invokeReadyDelayedCallbacks(S){for(const A of this._readyDelayedCallbacks)process.nextTick(A,S);this._readyDelayedCallbacks=[]}readyCheck(S){this.cluster("INFO",(A,P)=>{if(A)return S(A);if(typeof P!="string")return S();let D;const q=P.split(`\r
`);for(let K=0;K<q.length;++K){const U=q[K].split(":");if(U[0]==="cluster_state"){D=U[1];break}}D==="fail"?(g("cluster state not ok (%s)",D),S(null,D)):S()})}resolveSrv(S){return new Promise((A,P)=>{this.options.resolveSrv(S,(D,q)=>{if(D)return P(D);const K=this,U=(0,w.groupSrvRecords)(q),R=Object.keys(U).sort((V,j)=>parseInt(V)-parseInt(j));function I(V){if(!R.length)return P(V);const j=R[0],L=U[j],z=(0,w.weightSrvRecords)(L);L.records.length||R.shift(),K.dnsLookup(z.name).then(X=>A({host:X,port:z.port}),I)}I()})})}dnsLookup(S){return new Promise((A,P)=>{this.options.dnsLookup(S,(D,q)=>{D?(g("failed to resolve hostname %s to IP: %s",S,D.message),P(D)):(g("resolved hostname %s to IP %s",S,q),A(q))})})}async resolveStartupNodeHostnames(){if(!Array.isArray(this.startupNodes)||this.startupNodes.length===0)throw new Error("`startupNodes` should contain at least one node.");const S=(0,w.normalizeNodeOptions)(this.startupNodes),A=(0,w.getUniqueHostnamesFromOptions)(S);if(A.length===0)return S;const P=await Promise.all(A.map((this.options.useSRVRecords?this.resolveSrv:this.dnsLookup).bind(this))),D=(0,l.zipMap)(A,P);return S.map(q=>{const K=D.get(q.host);return K?this.options.useSRVRecords?Object.assign({},q,K):Object.assign({},q,{host:K}):q})}createScanStream(S,{key:A,options:P={}}){return new a.default({objectMode:!0,key:A,redis:this,command:S,...P})}}return(0,u.default)(T,e.EventEmitter),(0,c.addTransactionSupport)(T.prototype),Ru.default=T,Ru}var Ni={},x0={},Yl={};Object.defineProperty(Yl,"__esModule",{value:!0});const sH=Kt,iH=(0,sH.Debug)("AbstractConnector");class oH{constructor(e){this.connecting=!1,this.disconnectTimeout=e}check(e){return!0}disconnect(){if(this.connecting=!1,this.stream){const e=this.stream,n=setTimeout(()=>{iH("stream %s:%s still open, destroying it",e.remoteAddress,e.remotePort),e.destroy()},this.disconnectTimeout);e.on("close",()=>clearTimeout(n)),e.end()}}}Yl.default=oH;Object.defineProperty(x0,"__esModule",{value:!0});const aH=he,cH=he,lH=Kt,uH=Yl;class dH extends uH.default{constructor(e){super(e.disconnectTimeout),this.options=e}connect(e){const{options:n}=this;this.connecting=!0;let r;return"path"in n&&n.path?r={path:n.path}:(r={},"port"in n&&n.port!=null&&(r.port=n.port),"host"in n&&n.host!=null&&(r.host=n.host),"family"in n&&n.family!=null&&(r.family=n.family)),n.tls&&Object.assign(r,n.tls),new Promise((s,i)=>{process.nextTick(()=>{if(!this.connecting){i(new Error(lH.CONNECTION_CLOSED_ERROR_MSG));return}try{n.tls?this.stream=(0,cH.connect)(r):this.stream=(0,aH.createConnection)(r)}catch(o){i(o);return}this.stream.once("error",o=>{this.firstError=o}),s(this.stream)})})}}x0.default=dH;var No={},b0={};Object.defineProperty(b0,"__esModule",{value:!0});function pH(t,e){return(t.host||"127.0.0.1")===(e.host||"127.0.0.1")&&(t.port||26379)===(e.port||26379)}class fH{constructor(e){this.cursor=0,this.sentinels=e.slice(0)}next(){const e=this.cursor>=this.sentinels.length;return{done:e,value:e?void 0:this.sentinels[this.cursor++]}}reset(e){e&&this.sentinels.length>1&&this.cursor!==1&&this.sentinels.unshift(...this.sentinels.splice(this.cursor-1)),this.cursor=0}add(e){for(let n=0;n<this.sentinels.length;n++)if(pH(e,this.sentinels[n]))return!1;return this.sentinels.push(e),!0}toString(){return`${JSON.stringify(this.sentinels)} @${this.cursor}`}}b0.default=fH;var bf={};Object.defineProperty(bf,"__esModule",{value:!0});bf.FailoverDetector=void 0;const hH=Kt,Dh=(0,hH.Debug)("FailoverDetector"),Jw="+switch-master";class mH{constructor(e,n){this.isDisconnected=!1,this.connector=e,this.sentinels=n}cleanup(){this.isDisconnected=!0;for(const e of this.sentinels)e.client.disconnect()}async subscribe(){Dh("Starting FailoverDetector");const e=[];for(const n of this.sentinels){const r=n.client.subscribe(Jw).catch(s=>{Dh("Failed to subscribe to failover messages on sentinel %s:%s (%s)",n.address.host||"127.0.0.1",n.address.port||26739,s.message)});e.push(r),n.client.on("message",s=>{!this.isDisconnected&&s===Jw&&this.disconnect()})}await Promise.all(e)}disconnect(){this.isDisconnected=!0,Dh("Failover detected, disconnecting"),this.connector.disconnect()}}bf.FailoverDetector=mH;var Xw;function w0(){if(Xw)return No;Xw=1,Object.defineProperty(No,"__esModule",{value:!0}),No.SentinelIterator=void 0;const t=he,e=Kt,n=he,r=b0;No.SentinelIterator=r.default;const s=Yl,i=Zi(),o=bf,a=(0,e.Debug)("SentinelConnector");let c=class extends s.default{constructor(x){if(super(x.disconnectTimeout),this.options=x,this.emitter=null,this.failoverDetector=null,!this.options.sentinels.length)throw new Error("Requires at least one sentinel to connect to.");if(!this.options.name)throw new Error("Requires the name of master.");this.sentinelIterator=new r.default(this.options.sentinels)}check(x){const y=!x.role||this.options.role===x.role;return y||(a("role invalid, expected %s, but got %s",this.options.role,x.role),this.sentinelIterator.next(),this.sentinelIterator.next(),this.sentinelIterator.reset(!0)),y}disconnect(){super.disconnect(),this.failoverDetector&&this.failoverDetector.cleanup()}connect(x){this.connecting=!0,this.retryAttempts=0;let y;const h=async()=>{const w=this.sentinelIterator.next();if(w.done){this.sentinelIterator.reset(!1);const _=typeof this.options.sentinelRetryStrategy=="function"?this.options.sentinelRetryStrategy(++this.retryAttempts):null;let T=typeof _!="number"?"All sentinels are unreachable and retry is disabled.":`All sentinels are unreachable. Retrying from scratch after ${_}ms.`;y&&(T+=` Last error: ${y.message}`),a(T);const C=new Error(T);if(typeof _=="number")return x("error",C),await new Promise(S=>setTimeout(S,_)),h();throw C}let m=null,b=null;try{m=await this.resolve(w.value)}catch(_){b=_}if(!this.connecting)throw new Error(e.CONNECTION_CLOSED_ERROR_MSG);const g=w.value.host+":"+w.value.port;if(m)return a("resolved: %s:%s from sentinel %s",m.host,m.port,g),this.options.enableTLSForSentinelMode&&this.options.tls?(Object.assign(m,this.options.tls),this.stream=(0,n.connect)(m),this.stream.once("secureConnect",this.initFailoverDetector.bind(this))):(this.stream=(0,t.createConnection)(m),this.stream.once("connect",this.initFailoverDetector.bind(this))),this.stream.once("error",_=>{this.firstError=_}),this.stream;{const _=b?"failed to connect to sentinel "+g+" because "+b.message:"connected to sentinel "+g+" successfully, but got an invalid reply: "+m;return a(_),x("sentinelError",new Error(_)),b&&(y=b),h()}};return h()}async updateSentinels(x){if(!this.options.updateSentinels)return;const y=await x.sentinel("sentinels",this.options.name);Array.isArray(y)&&(y.map(e.packObject).forEach(h=>{if((h.flags?h.flags.split(","):[]).indexOf("disconnected")===-1&&h.ip&&h.port){const m=this.sentinelNatResolve(u(h));this.sentinelIterator.add(m)&&a("adding sentinel %s:%s",m.host,m.port)}}),a("Updated internal sentinels: %s",this.sentinelIterator))}async resolveMaster(x){const y=await x.sentinel("get-master-addr-by-name",this.options.name);return await this.updateSentinels(x),this.sentinelNatResolve(Array.isArray(y)?{host:y[0],port:Number(y[1])}:null)}async resolveSlave(x){const y=await x.sentinel("slaves",this.options.name);if(!Array.isArray(y))return null;const h=y.map(e.packObject).filter(w=>w.flags&&!w.flags.match(/(disconnected|s_down|o_down)/));return this.sentinelNatResolve(l(h,this.options.preferredSlaves))}sentinelNatResolve(x){if(!x||!this.options.natMap)return x;const y=`${x.host}:${x.port}`;let h=x;return typeof this.options.natMap=="function"?h=this.options.natMap(y)||x:typeof this.options.natMap=="object"&&(h=this.options.natMap[y]||x),h}connectToSentinel(x,y){return new i.default({port:x.port||26379,host:x.host,username:this.options.sentinelUsername||null,password:this.options.sentinelPassword||null,family:x.family||("path"in this.options&&this.options.path?void 0:this.options.family),tls:this.options.sentinelTLS,retryStrategy:null,enableReadyCheck:!1,connectTimeout:this.options.connectTimeout,commandTimeout:this.options.sentinelCommandTimeout,...y})}async resolve(x){const y=this.connectToSentinel(x);y.on("error",d);try{return this.options.role==="slave"?await this.resolveSlave(y):await this.resolveMaster(y)}finally{y.disconnect()}}async initFailoverDetector(){var x;if(!this.options.failoverDetector)return;this.sentinelIterator.reset(!0);const y=[];for(;y.length<this.options.sentinelMaxConnections;){const{done:h,value:w}=this.sentinelIterator.next();if(h)break;const m=this.connectToSentinel(w,{lazyConnect:!0,retryStrategy:this.options.sentinelReconnectStrategy});m.on("reconnecting",()=>{var b;(b=this.emitter)===null||b===void 0||b.emit("sentinelReconnecting")}),y.push({address:w,client:m})}this.sentinelIterator.reset(!1),this.failoverDetector&&this.failoverDetector.cleanup(),this.failoverDetector=new o.FailoverDetector(this,y),await this.failoverDetector.subscribe(),(x=this.emitter)===null||x===void 0||x.emit("failoverSubscribed")}};No.default=c;function l(p,x){if(p.length===0)return null;let y;if(typeof x=="function")y=x(p);else if(x!==null&&typeof x=="object"){const h=Array.isArray(x)?x:[x];h.sort((w,m)=>(w.prio||(w.prio=1),m.prio||(m.prio=1),w.prio<m.prio?-1:w.prio>m.prio?1:0));for(let w=0;w<h.length;w++){for(let m=0;m<p.length;m++){const b=p[m];if(b.ip===h[w].ip&&b.port===h[w].port){y=b;break}}if(y)break}}return y||(y=(0,e.sample)(p)),u(y)}function u(p){return{host:p.ip,port:Number(p.port)}}function d(){}return No}var Zw;function gH(){if(Zw)return Ni;Zw=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.SentinelConnector=Ni.StandaloneConnector=void 0;const t=x0;Ni.StandaloneConnector=t.default;const e=w0();return Ni.SentinelConnector=e.default,Ni}var YP={},wf={},S0={};Object.defineProperty(S0,"__esModule",{value:!0});const yH=Wa;class vH extends yH.AbortError{constructor(e){const n=`Reached the max retries per request limit (which is ${e}). Refer to "maxRetriesPerRequest" option for details.`;super(n),Error.captureStackTrace(this,this.constructor)}get name(){return this.constructor.name}}S0.default=vH;Object.defineProperty(wf,"__esModule",{value:!0});wf.MaxRetriesPerRequestError=void 0;const xH=S0;wf.MaxRetriesPerRequestError=xH.default;var _0={},Pa={},Sf={};Sf.byteLength=SH;Sf.toByteArray=EH;Sf.fromByteArray=AH;var jr=[],Gn=[],bH=typeof Uint8Array<"u"?Uint8Array:Array,Lh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ro=0,wH=Lh.length;Ro<wH;++Ro)jr[Ro]=Lh[Ro],Gn[Lh.charCodeAt(Ro)]=Ro;Gn[45]=62;Gn[95]=63;function JP(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function SH(t){var e=JP(t),n=e[0],r=e[1];return(n+r)*3/4-r}function _H(t,e,n){return(e+n)*3/4-n}function EH(t){var e,n=JP(t),r=n[0],s=n[1],i=new bH(_H(t,r,s)),o=0,a=s>0?r-4:r,c;for(c=0;c<a;c+=4)e=Gn[t.charCodeAt(c)]<<18|Gn[t.charCodeAt(c+1)]<<12|Gn[t.charCodeAt(c+2)]<<6|Gn[t.charCodeAt(c+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return s===2&&(e=Gn[t.charCodeAt(c)]<<2|Gn[t.charCodeAt(c+1)]>>4,i[o++]=e&255),s===1&&(e=Gn[t.charCodeAt(c)]<<10|Gn[t.charCodeAt(c+1)]<<4|Gn[t.charCodeAt(c+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function kH(t){return jr[t>>18&63]+jr[t>>12&63]+jr[t>>6&63]+jr[t&63]}function CH(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(kH(r));return s.join("")}function AH(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(CH(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(jr[e>>2]+jr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(jr[e>>10]+jr[e>>4&63]+jr[e<<2&63]+"=")),s.join("")}var E0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */E0.read=function(t,e,n,r,s){var i,o,a=s*8-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?s-1:0,p=n?-1:1,x=t[e+d];for(d+=p,i=x&(1<<-u)-1,x>>=-u,u+=a;u>0;i=i*256+t[e+d],d+=p,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=r;u>0;o=o*256+t[e+d],d+=p,u-=8);if(i===0)i=1-l;else{if(i===c)return o?NaN:(x?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-l}return(x?-1:1)*o*Math.pow(2,i-r)};E0.write=function(t,e,n,r,s,i){var o,a,c,l=i*8-s-1,u=(1<<l)-1,d=u>>1,p=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=r?0:i-1,y=r?1:-1,h=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=p/c:e+=p*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*c-1)*Math.pow(2,s),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,s),o=0));s>=8;t[n+x]=a&255,x+=y,a/=256,s-=8);for(o=o<<s|a,l+=s;l>0;t[n+x]=o&255,x+=y,o/=256,l-=8);t[n+x-y]|=h*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Sf,n=E0,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const k=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(k,f),k.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(k){if(k>s)throw new RangeError('The value "'+k+'" is invalid for option "size"');const f=new Uint8Array(k);return Object.setPrototypeOf(f,a.prototype),f}function a(k,f,v){if(typeof k=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(k)}return c(k,f,v)}a.poolSize=8192;function c(k,f,v){if(typeof k=="string")return p(k,f);if(ArrayBuffer.isView(k))return y(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(Y(k,ArrayBuffer)||k&&Y(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Y(k,SharedArrayBuffer)||k&&Y(k.buffer,SharedArrayBuffer)))return h(k,f,v);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const O=k.valueOf&&k.valueOf();if(O!=null&&O!==k)return a.from(O,f,v);const B=w(k);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return a.from(k[Symbol.toPrimitive]("string"),f,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}a.from=function(k,f,v){return c(k,f,v)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function u(k,f,v){return l(k),k<=0?o(k):f!==void 0?typeof v=="string"?o(k).fill(f,v):o(k).fill(f):o(k)}a.alloc=function(k,f,v){return u(k,f,v)};function d(k){return l(k),o(k<0?0:m(k)|0)}a.allocUnsafe=function(k){return d(k)},a.allocUnsafeSlow=function(k){return d(k)};function p(k,f){if((typeof f!="string"||f==="")&&(f="utf8"),!a.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const v=g(k,f)|0;let O=o(v);const B=O.write(k,f);return B!==v&&(O=O.slice(0,B)),O}function x(k){const f=k.length<0?0:m(k.length)|0,v=o(f);for(let O=0;O<f;O+=1)v[O]=k[O]&255;return v}function y(k){if(Y(k,Uint8Array)){const f=new Uint8Array(k);return h(f.buffer,f.byteOffset,f.byteLength)}return x(k)}function h(k,f,v){if(f<0||k.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<f+(v||0))throw new RangeError('"length" is outside of buffer bounds');let O;return f===void 0&&v===void 0?O=new Uint8Array(k):v===void 0?O=new Uint8Array(k,f):O=new Uint8Array(k,f,v),Object.setPrototypeOf(O,a.prototype),O}function w(k){if(a.isBuffer(k)){const f=m(k.length)|0,v=o(f);return v.length===0||k.copy(v,0,0,f),v}if(k.length!==void 0)return typeof k.length!="number"||pe(k.length)?o(0):x(k);if(k.type==="Buffer"&&Array.isArray(k.data))return x(k.data)}function m(k){if(k>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return k|0}function b(k){return+k!=k&&(k=0),a.alloc(+k)}a.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==a.prototype},a.compare=function(f,v){if(Y(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),Y(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),!a.isBuffer(f)||!a.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===v)return 0;let O=f.length,B=v.length;for(let W=0,Z=Math.min(O,B);W<Z;++W)if(f[W]!==v[W]){O=f[W],B=v[W];break}return O<B?-1:B<O?1:0},a.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(f,v){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return a.alloc(0);let O;if(v===void 0)for(v=0,O=0;O<f.length;++O)v+=f[O].length;const B=a.allocUnsafe(v);let W=0;for(O=0;O<f.length;++O){let Z=f[O];if(Y(Z,Uint8Array))W+Z.length>B.length?(a.isBuffer(Z)||(Z=a.from(Z)),Z.copy(B,W)):Uint8Array.prototype.set.call(B,Z,W);else if(a.isBuffer(Z))Z.copy(B,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=Z.length}return B};function g(k,f){if(a.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||Y(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const v=k.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&v===0)return 0;let B=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return ec(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return M(k).length;default:if(B)return O?-1:ec(k).length;f=(""+f).toLowerCase(),B=!0}}a.byteLength=g;function _(k,f,v){let O=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,f>>>=0,v<=f))return"";for(k||(k="utf8");;)switch(k){case"hex":return z(this,f,v);case"utf8":case"utf-8":return R(this,f,v);case"ascii":return j(this,f,v);case"latin1":case"binary":return L(this,f,v);case"base64":return U(this,f,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,f,v);default:if(O)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),O=!0}}a.prototype._isBuffer=!0;function T(k,f,v){const O=k[f];k[f]=k[v],k[v]=O}a.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let v=0;v<f;v+=2)T(this,v,v+1);return this},a.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let v=0;v<f;v+=4)T(this,v,v+3),T(this,v+1,v+2);return this},a.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let v=0;v<f;v+=8)T(this,v,v+7),T(this,v+1,v+6),T(this,v+2,v+5),T(this,v+3,v+4);return this},a.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?R(this,0,f):_.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(f){if(!a.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:a.compare(this,f)===0},a.prototype.inspect=function(){let f="";const v=t.INSPECT_MAX_BYTES;return f=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(f+=" ... "),"<Buffer "+f+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(f,v,O,B,W){if(Y(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(v===void 0&&(v=0),O===void 0&&(O=f?f.length:0),B===void 0&&(B=0),W===void 0&&(W=this.length),v<0||O>f.length||B<0||W>this.length)throw new RangeError("out of range index");if(B>=W&&v>=O)return 0;if(B>=W)return-1;if(v>=O)return 1;if(v>>>=0,O>>>=0,B>>>=0,W>>>=0,this===f)return 0;let Z=W-B,Oe=O-v;const ot=Math.min(Z,Oe),tt=this.slice(B,W),at=f.slice(v,O);for(let We=0;We<ot;++We)if(tt[We]!==at[We]){Z=tt[We],Oe=at[We];break}return Z<Oe?-1:Oe<Z?1:0};function C(k,f,v,O,B){if(k.length===0)return-1;if(typeof v=="string"?(O=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,pe(v)&&(v=B?0:k.length-1),v<0&&(v=k.length+v),v>=k.length){if(B)return-1;v=k.length-1}else if(v<0)if(B)v=0;else return-1;if(typeof f=="string"&&(f=a.from(f,O)),a.isBuffer(f))return f.length===0?-1:S(k,f,v,O,B);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(k,f,v):Uint8Array.prototype.lastIndexOf.call(k,f,v):S(k,[f],v,O,B);throw new TypeError("val must be string, number or Buffer")}function S(k,f,v,O,B){let W=1,Z=k.length,Oe=f.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(k.length<2||f.length<2)return-1;W=2,Z/=2,Oe/=2,v/=2}function ot(at,We){return W===1?at[We]:at.readUInt16BE(We*W)}let tt;if(B){let at=-1;for(tt=v;tt<Z;tt++)if(ot(k,tt)===ot(f,at===-1?0:tt-at)){if(at===-1&&(at=tt),tt-at+1===Oe)return at*W}else at!==-1&&(tt-=tt-at),at=-1}else for(v+Oe>Z&&(v=Z-Oe),tt=v;tt>=0;tt--){let at=!0;for(let We=0;We<Oe;We++)if(ot(k,tt+We)!==ot(f,We)){at=!1;break}if(at)return tt}return-1}a.prototype.includes=function(f,v,O){return this.indexOf(f,v,O)!==-1},a.prototype.indexOf=function(f,v,O){return C(this,f,v,O,!0)},a.prototype.lastIndexOf=function(f,v,O){return C(this,f,v,O,!1)};function A(k,f,v,O){v=Number(v)||0;const B=k.length-v;O?(O=Number(O),O>B&&(O=B)):O=B;const W=f.length;O>W/2&&(O=W/2);let Z;for(Z=0;Z<O;++Z){const Oe=parseInt(f.substr(Z*2,2),16);if(pe(Oe))return Z;k[v+Z]=Oe}return Z}function P(k,f,v,O){return Q(ec(f,k.length-v),k,v,O)}function D(k,f,v,O){return Q(ex(f),k,v,O)}function q(k,f,v,O){return Q(M(f),k,v,O)}function K(k,f,v,O){return Q(ru(f,k.length-v),k,v,O)}a.prototype.write=function(f,v,O,B){if(v===void 0)B="utf8",O=this.length,v=0;else if(O===void 0&&typeof v=="string")B=v,O=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(O)?(O=O>>>0,B===void 0&&(B="utf8")):(B=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const W=this.length-v;if((O===void 0||O>W)&&(O=W),f.length>0&&(O<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");let Z=!1;for(;;)switch(B){case"hex":return A(this,f,v,O);case"utf8":case"utf-8":return P(this,f,v,O);case"ascii":case"latin1":case"binary":return D(this,f,v,O);case"base64":return q(this,f,v,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,f,v,O);default:if(Z)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),Z=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(k,f,v){return f===0&&v===k.length?e.fromByteArray(k):e.fromByteArray(k.slice(f,v))}function R(k,f,v){v=Math.min(k.length,v);const O=[];let B=f;for(;B<v;){const W=k[B];let Z=null,Oe=W>239?4:W>223?3:W>191?2:1;if(B+Oe<=v){let ot,tt,at,We;switch(Oe){case 1:W<128&&(Z=W);break;case 2:ot=k[B+1],(ot&192)===128&&(We=(W&31)<<6|ot&63,We>127&&(Z=We));break;case 3:ot=k[B+1],tt=k[B+2],(ot&192)===128&&(tt&192)===128&&(We=(W&15)<<12|(ot&63)<<6|tt&63,We>2047&&(We<55296||We>57343)&&(Z=We));break;case 4:ot=k[B+1],tt=k[B+2],at=k[B+3],(ot&192)===128&&(tt&192)===128&&(at&192)===128&&(We=(W&15)<<18|(ot&63)<<12|(tt&63)<<6|at&63,We>65535&&We<1114112&&(Z=We))}}Z===null?(Z=65533,Oe=1):Z>65535&&(Z-=65536,O.push(Z>>>10&1023|55296),Z=56320|Z&1023),O.push(Z),B+=Oe}return V(O)}const I=4096;function V(k){const f=k.length;if(f<=I)return String.fromCharCode.apply(String,k);let v="",O=0;for(;O<f;)v+=String.fromCharCode.apply(String,k.slice(O,O+=I));return v}function j(k,f,v){let O="";v=Math.min(k.length,v);for(let B=f;B<v;++B)O+=String.fromCharCode(k[B]&127);return O}function L(k,f,v){let O="";v=Math.min(k.length,v);for(let B=f;B<v;++B)O+=String.fromCharCode(k[B]);return O}function z(k,f,v){const O=k.length;(!f||f<0)&&(f=0),(!v||v<0||v>O)&&(v=O);let B="";for(let W=f;W<v;++W)B+=ce[k[W]];return B}function X(k,f,v){const O=k.slice(f,v);let B="";for(let W=0;W<O.length-1;W+=2)B+=String.fromCharCode(O[W]+O[W+1]*256);return B}a.prototype.slice=function(f,v){const O=this.length;f=~~f,v=v===void 0?O:~~v,f<0?(f+=O,f<0&&(f=0)):f>O&&(f=O),v<0?(v+=O,v<0&&(v=0)):v>O&&(v=O),v<f&&(v=f);const B=this.subarray(f,v);return Object.setPrototypeOf(B,a.prototype),B};function ne(k,f,v){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+f>v)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(f,v,O){f=f>>>0,v=v>>>0,O||ne(f,v,this.length);let B=this[f],W=1,Z=0;for(;++Z<v&&(W*=256);)B+=this[f+Z]*W;return B},a.prototype.readUintBE=a.prototype.readUIntBE=function(f,v,O){f=f>>>0,v=v>>>0,O||ne(f,v,this.length);let B=this[f+--v],W=1;for(;v>0&&(W*=256);)B+=this[f+--v]*W;return B},a.prototype.readUint8=a.prototype.readUInt8=function(f,v){return f=f>>>0,v||ne(f,1,this.length),this[f]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(f,v){return f=f>>>0,v||ne(f,2,this.length),this[f]|this[f+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(f,v){return f=f>>>0,v||ne(f,2,this.length),this[f]<<8|this[f+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(f,v){return f=f>>>0,v||ne(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(f,v){return f=f>>>0,v||ne(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},a.prototype.readBigUInt64LE=ie(function(f){f=f>>>0,Cs(f,"offset");const v=this[f],O=this[f+7];(v===void 0||O===void 0)&&As(f,this.length-8);const B=v+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,W=this[++f]+this[++f]*2**8+this[++f]*2**16+O*2**24;return BigInt(B)+(BigInt(W)<<BigInt(32))}),a.prototype.readBigUInt64BE=ie(function(f){f=f>>>0,Cs(f,"offset");const v=this[f],O=this[f+7];(v===void 0||O===void 0)&&As(f,this.length-8);const B=v*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],W=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+O;return(BigInt(B)<<BigInt(32))+BigInt(W)}),a.prototype.readIntLE=function(f,v,O){f=f>>>0,v=v>>>0,O||ne(f,v,this.length);let B=this[f],W=1,Z=0;for(;++Z<v&&(W*=256);)B+=this[f+Z]*W;return W*=128,B>=W&&(B-=Math.pow(2,8*v)),B},a.prototype.readIntBE=function(f,v,O){f=f>>>0,v=v>>>0,O||ne(f,v,this.length);let B=v,W=1,Z=this[f+--B];for(;B>0&&(W*=256);)Z+=this[f+--B]*W;return W*=128,Z>=W&&(Z-=Math.pow(2,8*v)),Z},a.prototype.readInt8=function(f,v){return f=f>>>0,v||ne(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},a.prototype.readInt16LE=function(f,v){f=f>>>0,v||ne(f,2,this.length);const O=this[f]|this[f+1]<<8;return O&32768?O|4294901760:O},a.prototype.readInt16BE=function(f,v){f=f>>>0,v||ne(f,2,this.length);const O=this[f+1]|this[f]<<8;return O&32768?O|4294901760:O},a.prototype.readInt32LE=function(f,v){return f=f>>>0,v||ne(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},a.prototype.readInt32BE=function(f,v){return f=f>>>0,v||ne(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},a.prototype.readBigInt64LE=ie(function(f){f=f>>>0,Cs(f,"offset");const v=this[f],O=this[f+7];(v===void 0||O===void 0)&&As(f,this.length-8);const B=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(O<<24);return(BigInt(B)<<BigInt(32))+BigInt(v+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),a.prototype.readBigInt64BE=ie(function(f){f=f>>>0,Cs(f,"offset");const v=this[f],O=this[f+7];(v===void 0||O===void 0)&&As(f,this.length-8);const B=(v<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(B)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+O)}),a.prototype.readFloatLE=function(f,v){return f=f>>>0,v||ne(f,4,this.length),n.read(this,f,!0,23,4)},a.prototype.readFloatBE=function(f,v){return f=f>>>0,v||ne(f,4,this.length),n.read(this,f,!1,23,4)},a.prototype.readDoubleLE=function(f,v){return f=f>>>0,v||ne(f,8,this.length),n.read(this,f,!0,52,8)},a.prototype.readDoubleBE=function(f,v){return f=f>>>0,v||ne(f,8,this.length),n.read(this,f,!1,52,8)};function ae(k,f,v,O,B,W){if(!a.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>B||f<W)throw new RangeError('"value" argument is out of bounds');if(v+O>k.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(f,v,O,B){if(f=+f,v=v>>>0,O=O>>>0,!B){const Oe=Math.pow(2,8*O)-1;ae(this,f,v,O,Oe,0)}let W=1,Z=0;for(this[v]=f&255;++Z<O&&(W*=256);)this[v+Z]=f/W&255;return v+O},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(f,v,O,B){if(f=+f,v=v>>>0,O=O>>>0,!B){const Oe=Math.pow(2,8*O)-1;ae(this,f,v,O,Oe,0)}let W=O-1,Z=1;for(this[v+W]=f&255;--W>=0&&(Z*=256);)this[v+W]=f/Z&255;return v+O},a.prototype.writeUint8=a.prototype.writeUInt8=function(f,v,O){return f=+f,v=v>>>0,O||ae(this,f,v,1,255,0),this[v]=f&255,v+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(f,v,O){return f=+f,v=v>>>0,O||ae(this,f,v,2,65535,0),this[v]=f&255,this[v+1]=f>>>8,v+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(f,v,O){return f=+f,v=v>>>0,O||ae(this,f,v,2,65535,0),this[v]=f>>>8,this[v+1]=f&255,v+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(f,v,O){return f=+f,v=v>>>0,O||ae(this,f,v,4,4294967295,0),this[v+3]=f>>>24,this[v+2]=f>>>16,this[v+1]=f>>>8,this[v]=f&255,v+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(f,v,O){return f=+f,v=v>>>0,O||ae(this,f,v,4,4294967295,0),this[v]=f>>>24,this[v+1]=f>>>16,this[v+2]=f>>>8,this[v+3]=f&255,v+4};function De(k,f,v,O,B){Za(f,O,B,k,v,7);let W=Number(f&BigInt(4294967295));k[v++]=W,W=W>>8,k[v++]=W,W=W>>8,k[v++]=W,W=W>>8,k[v++]=W;let Z=Number(f>>BigInt(32)&BigInt(4294967295));return k[v++]=Z,Z=Z>>8,k[v++]=Z,Z=Z>>8,k[v++]=Z,Z=Z>>8,k[v++]=Z,v}function Ge(k,f,v,O,B){Za(f,O,B,k,v,7);let W=Number(f&BigInt(4294967295));k[v+7]=W,W=W>>8,k[v+6]=W,W=W>>8,k[v+5]=W,W=W>>8,k[v+4]=W;let Z=Number(f>>BigInt(32)&BigInt(4294967295));return k[v+3]=Z,Z=Z>>8,k[v+2]=Z,Z=Z>>8,k[v+1]=Z,Z=Z>>8,k[v]=Z,v+8}a.prototype.writeBigUInt64LE=ie(function(f,v=0){return De(this,f,v,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ie(function(f,v=0){return Ge(this,f,v,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(f,v,O,B){if(f=+f,v=v>>>0,!B){const ot=Math.pow(2,8*O-1);ae(this,f,v,O,ot-1,-ot)}let W=0,Z=1,Oe=0;for(this[v]=f&255;++W<O&&(Z*=256);)f<0&&Oe===0&&this[v+W-1]!==0&&(Oe=1),this[v+W]=(f/Z>>0)-Oe&255;return v+O},a.prototype.writeIntBE=function(f,v,O,B){if(f=+f,v=v>>>0,!B){const ot=Math.pow(2,8*O-1);ae(this,f,v,O,ot-1,-ot)}let W=O-1,Z=1,Oe=0;for(this[v+W]=f&255;--W>=0&&(Z*=256);)f<0&&Oe===0&&this[v+W+1]!==0&&(Oe=1),this[v+W]=(f/Z>>0)-Oe&255;return v+O},a.prototype.writeInt8=function(f,v,O){return f=+f,v=v>>>0,O||ae(this,f,v,1,127,-128),f<0&&(f=255+f+1),this[v]=f&255,v+1},a.prototype.writeInt16LE=function(f,v,O){return f=+f,v=v>>>0,O||ae(this,f,v,2,32767,-32768),this[v]=f&255,this[v+1]=f>>>8,v+2},a.prototype.writeInt16BE=function(f,v,O){return f=+f,v=v>>>0,O||ae(this,f,v,2,32767,-32768),this[v]=f>>>8,this[v+1]=f&255,v+2},a.prototype.writeInt32LE=function(f,v,O){return f=+f,v=v>>>0,O||ae(this,f,v,4,2147483647,-2147483648),this[v]=f&255,this[v+1]=f>>>8,this[v+2]=f>>>16,this[v+3]=f>>>24,v+4},a.prototype.writeInt32BE=function(f,v,O){return f=+f,v=v>>>0,O||ae(this,f,v,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[v]=f>>>24,this[v+1]=f>>>16,this[v+2]=f>>>8,this[v+3]=f&255,v+4},a.prototype.writeBigInt64LE=ie(function(f,v=0){return De(this,f,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ie(function(f,v=0){return Ge(this,f,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ve(k,f,v,O,B,W){if(v+O>k.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function $t(k,f,v,O,B){return f=+f,v=v>>>0,B||Ve(k,f,v,4),n.write(k,f,v,O,23,4),v+4}a.prototype.writeFloatLE=function(f,v,O){return $t(this,f,v,!0,O)},a.prototype.writeFloatBE=function(f,v,O){return $t(this,f,v,!1,O)};function sr(k,f,v,O,B){return f=+f,v=v>>>0,B||Ve(k,f,v,8),n.write(k,f,v,O,52,8),v+8}a.prototype.writeDoubleLE=function(f,v,O){return sr(this,f,v,!0,O)},a.prototype.writeDoubleBE=function(f,v,O){return sr(this,f,v,!1,O)},a.prototype.copy=function(f,v,O,B){if(!a.isBuffer(f))throw new TypeError("argument should be a Buffer");if(O||(O=0),!B&&B!==0&&(B=this.length),v>=f.length&&(v=f.length),v||(v=0),B>0&&B<O&&(B=O),B===O||f.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),f.length-v<B-O&&(B=f.length-v+O);const W=B-O;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,O,B):Uint8Array.prototype.set.call(f,this.subarray(O,B),v),W},a.prototype.fill=function(f,v,O,B){if(typeof f=="string"){if(typeof v=="string"?(B=v,v=0,O=this.length):typeof O=="string"&&(B=O,O=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!a.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(f.length===1){const Z=f.charCodeAt(0);(B==="utf8"&&Z<128||B==="latin1")&&(f=Z)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(v<0||this.length<v||this.length<O)throw new RangeError("Out of range index");if(O<=v)return this;v=v>>>0,O=O===void 0?this.length:O>>>0,f||(f=0);let W;if(typeof f=="number")for(W=v;W<O;++W)this[W]=f;else{const Z=a.isBuffer(f)?f:a.from(f,B),Oe=Z.length;if(Oe===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(W=0;W<O-v;++W)this[W+v]=Z[W%Oe]}return this};const Gr={};function Ai(k,f,v){Gr[k]=class extends v{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(B){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:B,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}Ai("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ai("ERR_INVALID_ARG_TYPE",function(k,f){return`The "${k}" argument must be of type number. Received type ${typeof f}`},TypeError),Ai("ERR_OUT_OF_RANGE",function(k,f,v){let O=`The value of "${k}" is out of range.`,B=v;return Number.isInteger(v)&&Math.abs(v)>2**32?B=So(String(v)):typeof v=="bigint"&&(B=String(v),(v>BigInt(2)**BigInt(32)||v<-(BigInt(2)**BigInt(32)))&&(B=So(B)),B+="n"),O+=` It must be ${f}. Received ${B}`,O},RangeError);function So(k){let f="",v=k.length;const O=k[0]==="-"?1:0;for(;v>=O+4;v-=3)f=`_${k.slice(v-3,v)}${f}`;return`${k.slice(0,v)}${f}`}function zf(k,f,v){Cs(f,"offset"),(k[f]===void 0||k[f+v]===void 0)&&As(f,k.length-(v+1))}function Za(k,f,v,O,B,W){if(k>v||k<f){const Z=typeof f=="bigint"?"n":"";let Oe;throw f===0||f===BigInt(0)?Oe=`>= 0${Z} and < 2${Z} ** ${(W+1)*8}${Z}`:Oe=`>= -(2${Z} ** ${(W+1)*8-1}${Z}) and < 2 ** ${(W+1)*8-1}${Z}`,new Gr.ERR_OUT_OF_RANGE("value",Oe,k)}zf(O,B,W)}function Cs(k,f){if(typeof k!="number")throw new Gr.ERR_INVALID_ARG_TYPE(f,"number",k)}function As(k,f,v){throw Math.floor(k)!==k?(Cs(k,v),new Gr.ERR_OUT_OF_RANGE("offset","an integer",k)):f<0?new Gr.ERR_BUFFER_OUT_OF_BOUNDS:new Gr.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,k)}const nu=/[^+/0-9A-Za-z-_]/g;function Uf(k){if(k=k.split("=")[0],k=k.trim().replace(nu,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function ec(k,f){f=f||1/0;let v;const O=k.length;let B=null;const W=[];for(let Z=0;Z<O;++Z){if(v=k.charCodeAt(Z),v>55295&&v<57344){if(!B){if(v>56319){(f-=3)>-1&&W.push(239,191,189);continue}else if(Z+1===O){(f-=3)>-1&&W.push(239,191,189);continue}B=v;continue}if(v<56320){(f-=3)>-1&&W.push(239,191,189),B=v;continue}v=(B-55296<<10|v-56320)+65536}else B&&(f-=3)>-1&&W.push(239,191,189);if(B=null,v<128){if((f-=1)<0)break;W.push(v)}else if(v<2048){if((f-=2)<0)break;W.push(v>>6|192,v&63|128)}else if(v<65536){if((f-=3)<0)break;W.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((f-=4)<0)break;W.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return W}function ex(k){const f=[];for(let v=0;v<k.length;++v)f.push(k.charCodeAt(v)&255);return f}function ru(k,f){let v,O,B;const W=[];for(let Z=0;Z<k.length&&!((f-=2)<0);++Z)v=k.charCodeAt(Z),O=v>>8,B=v%256,W.push(B),W.push(O);return W}function M(k){return e.toByteArray(Uf(k))}function Q(k,f,v,O){let B;for(B=0;B<O&&!(B+v>=f.length||B>=k.length);++B)f[B+v]=k[B];return B}function Y(k,f){return k instanceof f||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===f.name}function pe(k){return k!==k}const ce=function(){const k="0123456789abcdef",f=new Array(256);for(let v=0;v<16;++v){const O=v*16;for(let B=0;B<16;++B)f[O+B]=k[v]+k[B]}return f}();function ie(k){return typeof BigInt>"u"?xe:k}function xe(){throw new Error("BigInt not supported")}})(Pa);var k0={},ty={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=Pa,r=n.Buffer;function s(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=i);function i(o,a,c){return r(o,a,c)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},i.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=r(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(ty,ty.exports);var Ya=ty.exports,C0=Ya.Buffer,e1=C0.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function TH(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function NH(t){var e=TH(t);if(typeof e!="string"&&(C0.isEncoding===e1||!e1(t)))throw new Error("Unknown encoding: "+t);return e||t}k0.StringDecoder=Jl;function Jl(t){this.encoding=NH(t);var e;switch(this.encoding){case"utf16le":this.text=FH,this.end=MH,e=4;break;case"utf8":this.fillLast=PH,e=4;break;case"base64":this.text=DH,this.end=LH,e=3;break;default:this.write=BH,this.end=$H;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=C0.allocUnsafe(e)}Jl.prototype.write=function(t){if(t.length===0)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""};Jl.prototype.end=jH;Jl.prototype.text=IH;Jl.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Bh(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function RH(t,e,n){var r=e.length-1;if(r<n)return 0;var s=Bh(e[r]);return s>=0?(s>0&&(t.lastNeed=s-1),s):--r<n||s===-2?0:(s=Bh(e[r]),s>=0?(s>0&&(t.lastNeed=s-2),s):--r<n||s===-2?0:(s=Bh(e[r]),s>=0?(s>0&&(s===2?s=0:t.lastNeed=s-3),s):0))}function OH(t,e,n){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function PH(t){var e=this.lastTotal-this.lastNeed,n=OH(this,t);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function IH(t,e){var n=RH(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function jH(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function FH(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function MH(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function DH(t,e){var n=(t.length-e)%3;return n===0?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function LH(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function BH(t){return t.toString(this.encoding)}function $H(t){return t&&t.length?this.write(t):""}const A0=Pa.Buffer,zH=k0.StringDecoder,$h=new zH,XP=Wa,UH=XP.ReplyError,qH=XP.ParserError;var mr=A0.allocUnsafe(32*1024),fn=0,pp=null,kc=0,zh=0;function QH(t){const e=t.buffer.length-1;var n=t.offset,r=0,s=1;for(t.buffer[n]===45&&(s=-1,n++);n<e;){const i=t.buffer[n++];if(i===13)return t.offset=n+1,s*r;r=r*10+(i-48)}}function VH(t){const e=t.buffer.length-1;var n=t.offset,r=0,s="";for(t.buffer[n]===45&&(s+="-",n++);n<e;){var i=t.buffer[n++];if(i===13)return t.offset=n+1,r!==0&&(s+=r),s;r>429496728?(s+=r*10+(i-48),r=0):i===48&&r===0?s+=0:r=r*10+(i-48)}}function ZP(t){const e=t.offset,n=t.buffer,r=n.length-1;for(var s=e;s<r;)if(n[s++]===13)return t.offset=s+1,t.optionReturnBuffers===!0?t.buffer.slice(e,s-1):t.buffer.toString("utf8",e,s-1)}function eI(t){const e=t.buffer.length-1;for(var n=t.offset,r=0;n<e;){const s=t.buffer[n++];if(s===13)return t.offset=n+1,r;r=r*10+(s-48)}}function HH(t){return t.optionStringNumbers===!0?VH(t):QH(t)}function GH(t){const e=eI(t);if(e===void 0)return;if(e<0)return null;const n=t.offset+e;if(n+2>t.buffer.length){t.bigStrSize=n+2,t.totalChunkSize=t.buffer.length,t.bufferCache.push(t.buffer);return}const r=t.offset;return t.offset=n+2,t.optionReturnBuffers===!0?t.buffer.slice(r,n):t.buffer.toString("utf8",r,n)}function WH(t){var e=ZP(t);if(e!==void 0)return t.optionReturnBuffers===!0&&(e=e.toString()),new UH(e)}function KH(t,e){const n=new qH("Protocol error, got "+JSON.stringify(String.fromCharCode(e))+" as reply type byte",JSON.stringify(t.buffer),t.offset);t.buffer=null,t.returnFatalError(n)}function YH(t){const e=eI(t);if(e===void 0)return;if(e<0)return null;const n=new Array(e);return tI(t,n,0)}function ny(t,e,n){t.arrayCache.push(e),t.arrayPos.push(n)}function ry(t){const e=t.arrayCache.pop();var n=t.arrayPos.pop();if(t.arrayCache.length){const r=ry(t);if(r===void 0){ny(t,e,n);return}e[n++]=r}return tI(t,e,n)}function tI(t,e,n){const r=t.buffer.length;for(;n<e.length;){const s=t.offset;if(t.offset>=r){ny(t,e,n);return}const i=nI(t,t.buffer[t.offset++]);if(i===void 0){t.arrayCache.length||t.bufferCache.length||(t.offset=s),ny(t,e,n);return}e[n]=i,n++}return e}function nI(t,e){switch(e){case 36:return GH(t);case 43:return ZP(t);case 42:return YH(t);case 58:return HH(t);case 45:return WH(t);default:return KH(t,e)}}function JH(){if(mr.length>50*1024)if(kc===1||zh>kc*2){const t=Math.floor(mr.length/10),e=t<fn?fn:t;fn=0,mr=mr.slice(e,mr.length)}else zh++,kc--;else clearInterval(pp),kc=0,zh=0,pp=null}function XH(t){if(mr.length<t+fn){const e=t>78643200?2:3;fn>1024*1024*111&&(fn=1024*1024*50),mr=A0.allocUnsafe(t*e+fn),fn=0,kc++,pp===null&&(pp=setInterval(JH,50))}}function ZH(t){const e=t.bufferCache,n=t.offset;var r=e.length,s=t.bigStrSize-t.totalChunkSize;if(t.offset=s,s<=2){if(r===2)return e[0].toString("utf8",n,e[0].length+s-2);r--,s=e[e.length-2].length+s}for(var i=$h.write(e[0].slice(n)),o=1;o<r-1;o++)i+=$h.write(e[o]);return i+=$h.end(e[o].slice(0,s-2)),i}function eG(t){const e=t.bufferCache,n=t.offset,r=t.bigStrSize-n-2;var s=e.length,i=t.bigStrSize-t.totalChunkSize;if(t.offset=i,i<=2){if(s===2)return e[0].slice(n,e[0].length+i-2);s--,i=e[e.length-2].length+i}XH(r);const o=fn;e[0].copy(mr,o,n,e[0].length),fn+=e[0].length-n;for(var a=1;a<s-1;a++)e[a].copy(mr,fn),fn+=e[a].length;return e[a].copy(mr,fn,0,i-2),fn+=i-2,mr.slice(o,fn)}class tG{constructor(e){if(!e)throw new TypeError("Options are mandatory.");if(typeof e.returnError!="function"||typeof e.returnReply!="function")throw new TypeError("The returnReply and returnError options have to be functions.");this.setReturnBuffers(!!e.returnBuffers),this.setStringNumbers(!!e.stringNumbers),this.returnError=e.returnError,this.returnFatalError=e.returnFatalError||e.returnError,this.returnReply=e.returnReply,this.reset()}reset(){this.offset=0,this.buffer=null,this.bigStrSize=0,this.totalChunkSize=0,this.bufferCache=[],this.arrayCache=[],this.arrayPos=[]}setReturnBuffers(e){if(typeof e!="boolean")throw new TypeError("The returnBuffers argument has to be a boolean");this.optionReturnBuffers=e}setStringNumbers(e){if(typeof e!="boolean")throw new TypeError("The stringNumbers argument has to be a boolean");this.optionStringNumbers=e}execute(e){if(this.buffer===null)this.buffer=e,this.offset=0;else if(this.bigStrSize===0){const r=this.buffer.length,s=r-this.offset,i=A0.allocUnsafe(s+e.length);if(this.buffer.copy(i,0,this.offset,r),e.copy(i,s,0,e.length),this.buffer=i,this.offset=0,this.arrayCache.length){const o=ry(this);if(o===void 0)return;this.returnReply(o)}}else if(this.totalChunkSize+e.length>=this.bigStrSize){this.bufferCache.push(e);var n=this.optionReturnBuffers?eG(this):ZH(this);if(this.bigStrSize=0,this.bufferCache=[],this.buffer=e,this.arrayCache.length&&(this.arrayCache[0][this.arrayPos[0]++]=n,n=ry(this),n===void 0))return;this.returnReply(n)}else{this.bufferCache.push(e),this.totalChunkSize+=e.length;return}for(;this.offset<this.buffer.length;){const r=this.offset,s=this.buffer[this.offset++],i=nI(this,s);if(i===void 0){this.arrayCache.length||this.bufferCache.length||(this.offset=r);return}s===45?this.returnError(i):this.returnReply(i)}this.buffer=null}}var nG=tG,rG=nG,T0={};Object.defineProperty(T0,"__esModule",{value:!0});class sG{constructor(){this.set={subscribe:{},psubscribe:{},ssubscribe:{}}}add(e,n){this.set[Uh(e)][n]=!0}del(e,n){delete this.set[Uh(e)][n]}channels(e){return Object.keys(this.set[Uh(e)])}isEmpty(){return this.channels("subscribe").length===0&&this.channels("psubscribe").length===0&&this.channels("ssubscribe").length===0}}T0.default=sG;function Uh(t){return t==="unsubscribe"?"subscribe":t==="punsubscribe"?"psubscribe":t==="sunsubscribe"?"ssubscribe":t}Object.defineProperty(_0,"__esModule",{value:!0});const t1=Hr,iG=Kt,oG=rG,aG=T0,cG=(0,iG.Debug)("dataHandler");class lG{constructor(e,n){this.redis=e;const r=new oG({stringNumbers:n.stringNumbers,returnBuffers:!0,returnError:s=>{this.returnError(s)},returnFatalError:s=>{this.returnFatalError(s)},returnReply:s=>{this.returnReply(s)}});e.stream.prependListener("data",s=>{r.execute(s)}),e.stream.resume()}returnFatalError(e){e.message+=". Please report this.",this.redis.recoverFromFatalError(e,e,{offlineQueue:!1})}returnError(e){const n=this.shiftCommand(e);n&&(e.command={name:n.command.name,args:n.command.args},this.redis.handleReconnection(e,n))}returnReply(e){if(this.handleMonitorReply(e)||this.handleSubscriberReply(e))return;const n=this.shiftCommand(e);n&&(t1.default.checkFlag("ENTER_SUBSCRIBER_MODE",n.command.name)?(this.redis.condition.subscriber=new aG.default,this.redis.condition.subscriber.add(n.command.name,e[1].toString()),n1(n.command,e[2])||this.redis.commandQueue.unshift(n)):t1.default.checkFlag("EXIT_SUBSCRIBER_MODE",n.command.name)?r1(n.command,e[2])||this.redis.commandQueue.unshift(n):n.command.resolve(e))}handleSubscriberReply(e){if(!this.redis.condition.subscriber)return!1;const n=Array.isArray(e)?e[0].toString():null;switch(cG('receive reply "%s" in subscriber mode',n),n){case"message":this.redis.listeners("message").length>0&&this.redis.emit("message",e[1].toString(),e[2]?e[2].toString():""),this.redis.emit("messageBuffer",e[1],e[2]);break;case"pmessage":{const r=e[1].toString();this.redis.listeners("pmessage").length>0&&this.redis.emit("pmessage",r,e[2].toString(),e[3].toString()),this.redis.emit("pmessageBuffer",r,e[2],e[3]);break}case"smessage":{this.redis.listeners("smessage").length>0&&this.redis.emit("smessage",e[1].toString(),e[2]?e[2].toString():""),this.redis.emit("smessageBuffer",e[1],e[2]);break}case"ssubscribe":case"subscribe":case"psubscribe":{const r=e[1].toString();this.redis.condition.subscriber.add(n,r);const s=this.shiftCommand(e);if(!s)return;n1(s.command,e[2])||this.redis.commandQueue.unshift(s);break}case"sunsubscribe":case"unsubscribe":case"punsubscribe":{const r=e[1]?e[1].toString():null;r&&this.redis.condition.subscriber.del(n,r);const s=e[2];Number(s)===0&&(this.redis.condition.subscriber=!1);const i=this.shiftCommand(e);if(!i)return;r1(i.command,s)||this.redis.commandQueue.unshift(i);break}default:{const r=this.shiftCommand(e);if(!r)return;r.command.resolve(e)}}return!0}handleMonitorReply(e){if(this.redis.status!=="monitoring")return!1;const n=e.toString();if(n==="OK")return!1;const r=n.indexOf(" "),s=n.slice(0,r),i=n.indexOf('"'),o=n.slice(i+1,-1).split('" "').map(c=>c.replace(/\\"/g,'"')),a=n.slice(r+2,i-2).split(" ");return this.redis.emit("monitor",s,o,a[1],a[0]),!0}shiftCommand(e){const n=this.redis.commandQueue.shift();if(!n){const r="Command queue state error. If you can reproduce this, please report it.",s=new Error(r+(e instanceof Error?` Last error: ${e.message}`:` Last reply: ${e.toString()}`));return this.redis.emit("error",s),null}return n}}_0.default=lG;const ti=new WeakMap;function n1(t,e){let n=ti.has(t)?ti.get(t):t.args.length;return n-=1,n<=0?(t.resolve(e),ti.delete(t),!0):(ti.set(t,n),!1)}function r1(t,e){let n=ti.has(t)?ti.get(t):t.args.length;return n===0?Number(e)===0?(ti.delete(t),t.resolve(e),!0):!1:(n-=1,n<=0?(t.resolve(e),!0):(ti.set(t,n),!1))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.readyHandler=t.errorHandler=t.closeHandler=t.connectHandler=void 0;const e=Wa,n=Hr,r=wf,s=Kt,i=_0,o=(0,s.Debug)("connection");function a(y){return function(){y.setStatus("connect"),y.resetCommandQueue();let h=!1;const{connectionEpoch:w}=y;y.condition.auth&&y.auth(y.condition.auth,function(m){w===y.connectionEpoch&&m&&(m.message.indexOf("no password is set")!==-1?console.warn("[WARN] Redis server does not require a password, but a password was supplied."):m.message.indexOf("without any password configured for the default user")!==-1?console.warn("[WARN] This Redis server's `default` user does not require a password, but a password was supplied"):m.message.indexOf("wrong number of arguments for 'auth' command")!==-1?console.warn(`[ERROR] The server returned "wrong number of arguments for 'auth' command". You are probably passing both username and password to Redis version 5 or below. You should only pass the 'password' option for Redis version 5 and under.`):(h=!0,y.recoverFromFatalError(m,m)))}),y.condition.select&&y.select(y.condition.select).catch(m=>{y.silentEmit("error",m)}),y.options.enableReadyCheck||t.readyHandler(y)(),new i.default(y,{stringNumbers:y.options.stringNumbers}),y.options.enableReadyCheck&&y._readyCheck(function(m,b){w===y.connectionEpoch&&(m?h||y.recoverFromFatalError(new Error("Ready check failed: "+m.message),m):y.connector.check(b)?t.readyHandler(y)():y.disconnect(!0))})}}t.connectHandler=a;function c(y){const h=new e.AbortError("Command aborted due to connection close");return h.command={name:y.name,args:y.args},h}function l(y){var h;let w=0;for(let m=0;m<y.length;){const b=(h=y.peekAt(m))===null||h===void 0?void 0:h.command,g=b.pipelineIndex;if((g===void 0||g===0)&&(w=0),g!==void 0&&g!==w++){y.remove(m,1),b.reject(c(b));continue}m++}}function u(y){var h;for(let w=0;w<y.length;){const m=(h=y.peekAt(w))===null||h===void 0?void 0:h.command;if(m.name==="multi")break;if(m.name==="exec"){y.remove(w,1),m.reject(c(m));break}m.inTransaction?(y.remove(w,1),m.reject(c(m))):w++}}function d(y){return function(){const w=y.status;if(y.setStatus("close"),y.commandQueue.length&&l(y.commandQueue),y.offlineQueue.length&&u(y.offlineQueue),w==="ready"&&(y.prevCondition||(y.prevCondition=y.condition),y.commandQueue.length&&(y.prevCommandQueue=y.commandQueue)),y.manuallyClosing)return y.manuallyClosing=!1,o("skip reconnecting since the connection is manually closed."),h();if(typeof y.options.retryStrategy!="function")return o("skip reconnecting because `retryStrategy` is not a function"),h();const m=y.options.retryStrategy(++y.retryAttempts);if(typeof m!="number")return o("skip reconnecting because `retryStrategy` doesn't return a number"),h();o("reconnect in %sms",m),y.setStatus("reconnecting",m),y.reconnectTimeout=setTimeout(function(){y.reconnectTimeout=null,y.connect().catch(s.noop)},m);const{maxRetriesPerRequest:b}=y.options;typeof b=="number"&&(b<0?o("maxRetriesPerRequest is negative, ignoring..."):y.retryAttempts%(b+1)===0&&(o("reach maxRetriesPerRequest limitation, flushing command queue..."),y.flushQueue(new r.MaxRetriesPerRequestError(b))))};function h(){y.setStatus("end"),y.flushQueue(new Error(s.CONNECTION_CLOSED_ERROR_MSG))}}t.closeHandler=d;function p(y){return function(h){o("error: %s",h),y.silentEmit("error",h)}}t.errorHandler=p;function x(y){return function(){if(y.setStatus("ready"),y.retryAttempts=0,y.options.monitor){y.call("monitor").then(()=>y.setStatus("monitoring"),m=>y.emit("error",m));const{sendCommand:w}=y;y.sendCommand=function(m){return n.default.checkFlag("VALID_IN_MONITOR_MODE",m.name)?w.call(y,m):(m.reject(new Error("Connection is in monitoring mode, can't process commands.")),m.promise)},y.once("close",function(){delete y.sendCommand});return}const h=y.prevCondition?y.prevCondition.select:y.condition.select;if(y.options.connectionName&&(o("set the connection name [%s]",y.options.connectionName),y.client("setname",y.options.connectionName).catch(s.noop)),y.options.readOnly&&(o("set the connection to readonly mode"),y.readonly().catch(s.noop)),y.prevCondition){const w=y.prevCondition;if(y.prevCondition=null,w.subscriber&&y.options.autoResubscribe){y.condition.select!==h&&(o("connect to db [%d]",h),y.select(h));const m=w.subscriber.channels("subscribe");m.length&&(o("subscribe %d channels",m.length),y.subscribe(m));const b=w.subscriber.channels("psubscribe");b.length&&(o("psubscribe %d channels",b.length),y.psubscribe(b));const g=w.subscriber.channels("ssubscribe");g.length&&(o("ssubscribe %d channels",g.length),y.ssubscribe(g))}}if(y.prevCommandQueue)if(y.options.autoResendUnfulfilledCommands)for(o("resend %d unfulfilled commands",y.prevCommandQueue.length);y.prevCommandQueue.length>0;){const w=y.prevCommandQueue.shift();w.select!==y.condition.select&&w.command.name!=="select"&&y.select(w.select),y.sendCommand(w.command,w.stream)}else y.prevCommandQueue=null;if(y.offlineQueue.length){o("send %d commands in offline queue",y.offlineQueue.length);const w=y.offlineQueue;for(y.resetOfflineQueue();w.length>0;){const m=w.shift();m.select!==y.condition.select&&m.command.name!=="select"&&y.select(m.select),y.sendCommand(m.command,m.stream)}}y.condition.select!==h&&(o("connect to db [%d]",h),y.select(h))}}t.readyHandler=x})(YP);var _f={};Object.defineProperty(_f,"__esModule",{value:!0});_f.DEFAULT_REDIS_OPTIONS=void 0;_f.DEFAULT_REDIS_OPTIONS={port:6379,host:"localhost",family:4,connectTimeout:1e4,disconnectTimeout:2e3,retryStrategy:function(t){return Math.min(t*50,2e3)},keepAlive:0,noDelay:!0,connectionName:null,sentinels:null,name:null,role:"master",sentinelRetryStrategy:function(t){return Math.min(t*10,1e3)},sentinelReconnectStrategy:function(){return 6e4},natMap:null,enableTLSForSentinelMode:!1,updateSentinels:!0,failoverDetector:!1,username:null,password:null,db:0,enableOfflineQueue:!0,enableReadyCheck:!0,autoResubscribe:!0,autoResendUnfulfilledCommands:!0,lazyConnect:!1,keyPrefix:"",reconnectOnError:null,readOnly:!1,stringNumbers:!1,maxRetriesPerRequest:20,maxLoadingRetryTime:1e4,enableAutoPipelining:!1,autoPipeliningIgnoredCommands:[],sentinelMaxConnections:10};var s1;function Zi(){if(s1)return Nu;s1=1,Object.defineProperty(Nu,"__esModule",{value:!0});const t=Ga,e=he,n=ks,r=KP(),s=Hr,i=gH(),o=w0(),a=YP,c=_f,l=Gl,u=Wl,d=Kt,p=vf,x=Kl,y=zr,h=v0,w=(0,d.Debug)("redis");let m=class yd extends x.default{constructor(g,_,T){if(super(),this.status="wait",this.isCluster=!1,this.reconnectTimeout=null,this.connectionEpoch=0,this.retryAttempts=0,this.manuallyClosing=!1,this._autoPipelines=new Map,this._runningAutoPipelines=new Set,this.parseOptions(g,_,T),e.EventEmitter.call(this),this.resetCommandQueue(),this.resetOfflineQueue(),this.options.Connector)this.connector=new this.options.Connector(this.options);else if(this.options.sentinels){const C=new o.default(this.options);C.emitter=this,this.connector=C}else this.connector=new i.StandaloneConnector(this.options);this.options.scripts&&Object.entries(this.options.scripts).forEach(([C,S])=>{this.defineCommand(C,S)}),this.options.lazyConnect?this.setStatus("wait"):this.connect().catch(y.noop)}static createClient(...g){return new yd(...g)}get autoPipelineQueueSize(){let g=0;for(const _ of this._autoPipelines.values())g+=_.length;return g}connect(g){const _=new Promise((T,C)=>{if(this.status==="connecting"||this.status==="connect"||this.status==="ready"){C(new Error("Redis is already connecting/connected"));return}this.connectionEpoch+=1,this.setStatus("connecting");const{options:S}=this;this.condition={select:S.db,auth:S.username?[S.username,S.password]:S.password,subscriber:!1};const A=this;(0,n.default)(this.connector.connect(function(P,D){A.silentEmit(P,D)}),function(P,D){if(P){A.flushQueue(P),A.silentEmit("error",P),C(P),A.setStatus("end");return}let q=S.tls?"secureConnect":"connect";if("sentinels"in S&&S.sentinels&&!S.enableTLSForSentinelMode&&(q="connect"),A.stream=D,S.noDelay&&D.setNoDelay(!0),typeof S.keepAlive=="number"&&(D.connecting?D.once(q,()=>{D.setKeepAlive(!0,S.keepAlive)}):D.setKeepAlive(!0,S.keepAlive)),D.connecting){if(D.once(q,a.connectHandler(A)),S.connectTimeout){let R=!1;D.setTimeout(S.connectTimeout,function(){if(R)return;D.setTimeout(0),D.destroy();const I=new Error("connect ETIMEDOUT");I.errorno="ETIMEDOUT",I.code="ETIMEDOUT",I.syscall="connect",a.errorHandler(A)(I)}),D.once(q,function(){R=!0,D.setTimeout(0)})}}else if(D.destroyed){const R=A.connector.firstError;R&&process.nextTick(()=>{a.errorHandler(A)(R)}),process.nextTick(a.closeHandler(A))}else process.nextTick(a.connectHandler(A));D.destroyed||(D.once("error",a.errorHandler(A)),D.once("close",a.closeHandler(A)));const K=function(){A.removeListener("close",U),T()};var U=function(){A.removeListener("ready",K),C(new Error(d.CONNECTION_CLOSED_ERROR_MSG))};A.once("ready",K),A.once("close",U)})});return(0,n.default)(_,g)}disconnect(g=!1){g||(this.manuallyClosing=!0),this.reconnectTimeout&&!g&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.status==="wait"?a.closeHandler(this)():this.connector.disconnect()}end(){this.disconnect()}duplicate(g){return new yd({...this.options,...g})}get mode(){var g;return this.options.monitor?"monitor":!((g=this.condition)===null||g===void 0)&&g.subscriber?"subscriber":"normal"}monitor(g){const _=this.duplicate({monitor:!0,lazyConnect:!1});return(0,n.default)(new Promise(function(T,C){_.once("error",C),_.once("monitoring",function(){T(_)})}),g)}sendCommand(g,_){var T,C;if(this.status==="wait"&&this.connect().catch(y.noop),this.status==="end")return g.reject(new Error(d.CONNECTION_CLOSED_ERROR_MSG)),g.promise;if(!((T=this.condition)===null||T===void 0)&&T.subscriber&&!s.default.checkFlag("VALID_IN_SUBSCRIBER_MODE",g.name))return g.reject(new Error("Connection in subscriber mode, only subscriber commands may be used")),g.promise;typeof this.options.commandTimeout=="number"&&g.setTimeout(this.options.commandTimeout);let S=this.status==="ready"||!_&&this.status==="connect"&&(0,t.exists)(g.name)&&(0,t.hasFlag)(g.name,"loading");if(this.stream&&this.stream.writable?this.stream._writableState&&this.stream._writableState.ended&&(S=!1):S=!1,S)w.enabled&&w("write command[%s]: %d -> %s(%o)",this._getDescription(),(C=this.condition)===null||C===void 0?void 0:C.select,g.name,g.args),_?"isPipeline"in _&&_.isPipeline?_.write(g.toWritable(_.destination.redis.stream)):_.write(g.toWritable(_)):this.stream.write(g.toWritable(this.stream)),this.commandQueue.push({command:g,stream:_,select:this.condition.select}),s.default.checkFlag("WILL_DISCONNECT",g.name)&&(this.manuallyClosing=!0),this.options.socketTimeout!==void 0&&this.socketTimeoutTimer===void 0&&this.setSocketTimeout();else{if(!this.options.enableOfflineQueue)return g.reject(new Error("Stream isn't writeable and enableOfflineQueue options is false")),g.promise;if(g.name==="quit"&&this.offlineQueue.length===0)return this.disconnect(),g.resolve(Buffer.from("OK")),g.promise;w.enabled&&w("queue command[%s]: %d -> %s(%o)",this._getDescription(),this.condition.select,g.name,g.args),this.offlineQueue.push({command:g,stream:_,select:this.condition.select})}if(g.name==="select"&&(0,d.isInt)(g.args[0])){const A=parseInt(g.args[0],10);this.condition.select!==A&&(this.condition.select=A,this.emit("select",A),w("switch to db [%d]",this.condition.select))}return g.promise}setSocketTimeout(){this.socketTimeoutTimer=setTimeout(()=>{this.stream.destroy(new Error(`Socket timeout. Expecting data, but didn't receive any in ${this.options.socketTimeout}ms.`)),this.socketTimeoutTimer=void 0},this.options.socketTimeout),this.stream.once("data",()=>{clearTimeout(this.socketTimeoutTimer),this.socketTimeoutTimer=void 0,this.commandQueue.length!==0&&this.setSocketTimeout()})}scanStream(g){return this.createScanStream("scan",{options:g})}scanBufferStream(g){return this.createScanStream("scanBuffer",{options:g})}sscanStream(g,_){return this.createScanStream("sscan",{key:g,options:_})}sscanBufferStream(g,_){return this.createScanStream("sscanBuffer",{key:g,options:_})}hscanStream(g,_){return this.createScanStream("hscan",{key:g,options:_})}hscanBufferStream(g,_){return this.createScanStream("hscanBuffer",{key:g,options:_})}zscanStream(g,_){return this.createScanStream("zscan",{key:g,options:_})}zscanBufferStream(g,_){return this.createScanStream("zscanBuffer",{key:g,options:_})}silentEmit(g,_){let T;if(!(g==="error"&&(T=_,this.status==="end"||this.manuallyClosing&&T instanceof Error&&(T.message===d.CONNECTION_CLOSED_ERROR_MSG||T.syscall==="connect"||T.syscall==="read"))))return this.listeners(g).length>0?this.emit.apply(this,arguments):(T&&T instanceof Error&&console.error("[ioredis] Unhandled error event:",T.stack),!1)}recoverFromFatalError(g,_,T){this.flushQueue(_,T),this.silentEmit("error",_),this.disconnect(!0)}handleReconnection(g,_){var T;let C=!1;switch(this.options.reconnectOnError&&(C=this.options.reconnectOnError(g)),C){case 1:case!0:this.status!=="reconnecting"&&this.disconnect(!0),_.command.reject(g);break;case 2:this.status!=="reconnecting"&&this.disconnect(!0),((T=this.condition)===null||T===void 0?void 0:T.select)!==_.select&&_.command.name!=="select"&&this.select(_.select),this.sendCommand(_.command);break;default:_.command.reject(g)}}_getDescription(){let g;return"path"in this.options&&this.options.path?g=this.options.path:this.stream&&this.stream.remoteAddress&&this.stream.remotePort?g=this.stream.remoteAddress+":"+this.stream.remotePort:"host"in this.options&&this.options.host?g=this.options.host+":"+this.options.port:g="",this.options.connectionName&&(g+=` (${this.options.connectionName})`),g}resetCommandQueue(){this.commandQueue=new h}resetOfflineQueue(){this.offlineQueue=new h}parseOptions(...g){const _={};let T=!1;for(let C=0;C<g.length;++C){const S=g[C];if(!(S===null||typeof S>"u"))if(typeof S=="object")(0,y.defaults)(_,S);else if(typeof S=="string")(0,y.defaults)(_,(0,d.parseURL)(S)),S.startsWith("rediss://")&&(T=!0);else if(typeof S=="number")_.port=S;else throw new Error("Invalid argument "+S)}T&&(0,y.defaults)(_,{tls:!0}),(0,y.defaults)(_,yd.defaultOptions),typeof _.port=="string"&&(_.port=parseInt(_.port,10)),typeof _.db=="string"&&(_.db=parseInt(_.db,10)),this.options=(0,d.resolveTLSProfile)(_)}setStatus(g,_){w.enabled&&w("status[%s]: %s -> %s",this._getDescription(),this.status||"[empty]",g),this.status=g,process.nextTick(this.emit.bind(this,g,_))}createScanStream(g,{key:_,options:T={}}){return new l.default({objectMode:!0,key:_,redis:this,command:g,...T})}flushQueue(g,_){_=(0,y.defaults)({},_,{offlineQueue:!0,commandQueue:!0});let T;if(_.offlineQueue)for(;T=this.offlineQueue.shift();)T.command.reject(g);if(_.commandQueue&&this.commandQueue.length>0)for(this.stream&&this.stream.removeAllListeners("data");T=this.commandQueue.shift();)T.command.reject(g)}_readyCheck(g){const _=this;this.info(function(T,C){if(T)return T.message&&T.message.includes("NOPERM")?(console.warn(`Skipping the ready check because INFO command fails: "${T.message}". You can disable ready check with "enableReadyCheck". More: https://github.com/luin/ioredis/wiki/Disable-ready-check.`),g(null,{})):g(T);if(typeof C!="string")return g(null,C);const S={},A=C.split(`\r
`);for(let P=0;P<A.length;++P){const[D,...q]=A[P].split(":"),K=q.join(":");K&&(S[D]=K)}if(!S.loading||S.loading==="0")g(null,S);else{const P=(S.loading_eta_seconds||1)*1e3,D=_.options.maxLoadingRetryTime&&_.options.maxLoadingRetryTime<P?_.options.maxLoadingRetryTime:P;w("Redis server still loading, trying again in "+D+"ms"),setTimeout(function(){_._readyCheck(g)},D)}}).catch(y.noop)}};return m.Cluster=r.default,m.Command=s.default,m.defaultOptions=c.DEFAULT_REDIS_OPTIONS,(0,p.default)(m,e.EventEmitter),(0,u.addTransactionSupport)(m.prototype),Nu.default=m,Nu}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.print=e.ReplyError=e.SentinelIterator=e.SentinelConnector=e.AbstractConnector=e.Pipeline=e.ScanStream=e.Command=e.Cluster=e.Redis=e.default=void 0,e=t.exports=Zi().default;var n=Zi();Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}});var r=Zi();Object.defineProperty(e,"Redis",{enumerable:!0,get:function(){return r.default}});var s=KP();Object.defineProperty(e,"Cluster",{enumerable:!0,get:function(){return s.default}});var i=Hr;Object.defineProperty(e,"Command",{enumerable:!0,get:function(){return i.default}});var o=Gl;Object.defineProperty(e,"ScanStream",{enumerable:!0,get:function(){return o.default}});var a=yf;Object.defineProperty(e,"Pipeline",{enumerable:!0,get:function(){return a.default}});var c=Yl;Object.defineProperty(e,"AbstractConnector",{enumerable:!0,get:function(){return c.default}});var l=w0();Object.defineProperty(e,"SentinelConnector",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"SentinelIterator",{enumerable:!0,get:function(){return l.SentinelIterator}}),e.ReplyError=Wa.ReplyError,Object.defineProperty(e,"Promise",{get(){return console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used."),Promise},set(d){console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used.")}});function u(d,p){console.log(d?"Error: "+d:"Reply: "+p)}e.print=u})(Jg,Jg.exports);var qh=Jg.exports,rI={exports:{}},sI={exports:{}},Ci={},N0={};N0.parse=function(t,e){return new R0(t,e).parse()};class R0{constructor(e,n){this.source=e,this.transform=n||uG,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return e==="\\"?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var n;(this.recorded.length>0||e)&&(n=this.recorded.join(""),n==="NULL"&&!e&&(n=null),n!==null&&(n=this.transform(n)),this.entries.push(n),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var e=this.nextCharacter();if(e.value==="=")break}}parse(e){var n,r,s;for(this.consumeDimensions();!this.isEof();)if(n=this.nextCharacter(),n.value==="{"&&!s)this.dimension++,this.dimension>1&&(r=new R0(this.source.substr(this.position-1),this.transform),this.entries.push(r.parse(!0)),this.position+=r.position-2);else if(n.value==="}"&&!s){if(this.dimension--,!this.dimension&&(this.newEntry(),e))return this.entries}else n.value==='"'&&!n.escaped?(s&&this.newEntry(!0),s=!s):n.value===","&&!s?this.newEntry():this.record(n.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}}function uG(t){return t}var dG=N0,iI={create:function(t,e){return{parse:function(){return dG.parse(t,e)}}}},pG=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,fG=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,hG=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,mG=/^-?infinity$/,gG=function(e){if(mG.test(e))return Number(e.replace("i","I"));var n=pG.exec(e);if(!n)return yG(e)||null;var r=!!n[8],s=parseInt(n[1],10);r&&(s=oI(s));var i=parseInt(n[2],10)-1,o=n[3],a=parseInt(n[4],10),c=parseInt(n[5],10),l=parseInt(n[6],10),u=n[7];u=u?1e3*parseFloat(u):0;var d,p=vG(e);return p!=null?(d=new Date(Date.UTC(s,i,o,a,c,l,u)),sy(s)&&d.setUTCFullYear(s),p!==0&&d.setTime(d.getTime()-p)):(d=new Date(s,i,o,a,c,l,u),sy(s)&&d.setFullYear(s)),d};function yG(t){var e=fG.exec(t);if(e){var n=parseInt(e[1],10),r=!!e[4];r&&(n=oI(n));var s=parseInt(e[2],10)-1,i=e[3],o=new Date(n,s,i);return sy(n)&&o.setFullYear(n),o}}function vG(t){if(t.endsWith("+00"))return 0;var e=hG.exec(t.split(" ")[1]);if(e){var n=e[1];if(n==="Z")return 0;var r=n==="-"?-1:1,s=parseInt(e[2],10)*3600+parseInt(e[3]||0,10)*60+parseInt(e[4]||0,10);return s*r*1e3}}function oI(t){return-(t-1)}function sy(t){return t>=0&&t<100}var xG=wG,bG=Object.prototype.hasOwnProperty;function wG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)bG.call(n,r)&&(t[r]=n[r])}return t}var SG=xG,_G=Ia;function Ia(t){if(!(this instanceof Ia))return new Ia(t);SG(this,FG(t))}var EG=["seconds","minutes","hours","days","months","years"];Ia.prototype.toPostgres=function(){var t=EG.filter(this.hasOwnProperty,this);return this.milliseconds&&t.indexOf("seconds")<0&&t.push("seconds"),t.length===0?"0":t.map(function(e){var n=this[e]||0;return e==="seconds"&&this.milliseconds&&(n=(n+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),n+" "+e},this).join(" ")};var kG={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},CG=["years","months","days"],AG=["hours","minutes","seconds"];Ia.prototype.toISOString=Ia.prototype.toISO=function(){var t=CG.map(n,this).join(""),e=AG.map(n,this).join("");return"P"+t+"T"+e;function n(r){var s=this[r]||0;return r==="seconds"&&this.milliseconds&&(s=(s+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),s+kG[r]}};var O0="([+-]?\\d+)",TG=O0+"\\s+years?",NG=O0+"\\s+mons?",RG=O0+"\\s+days?",OG="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",PG=new RegExp([TG,NG,RG,OG].map(function(t){return"("+t+")?"}).join("\\s*")),i1={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},IG=["hours","minutes","seconds","milliseconds"];function jG(t){var e=t+"000000".slice(t.length);return parseInt(e,10)/1e3}function FG(t){if(!t)return{};var e=PG.exec(t),n=e[8]==="-";return Object.keys(i1).reduce(function(r,s){var i=i1[s],o=e[i];return!o||(o=s==="milliseconds"?jG(o):parseInt(o,10),!o)||(n&&~IG.indexOf(s)&&(o*=-1),r[s]=o),r},{})}var MG=function(e){if(/^\\x/.test(e))return new Buffer(e.substr(2),"hex");for(var n="",r=0;r<e.length;)if(e[r]!=="\\")n+=e[r],++r;else if(/[0-7]{3}/.test(e.substr(r+1,3)))n+=String.fromCharCode(parseInt(e.substr(r+1,3),8)),r+=4;else{for(var s=1;r+s<e.length&&e[r+s]==="\\";)s++;for(var i=0;i<Math.floor(s/2);++i)n+="\\";r+=Math.floor(s/2)*2}return new Buffer(n,"binary")},Xl=N0,Zl=iI,vd=gG,aI=_G,cI=MG;function Ef(t){return function(n){return n===null?n:t(n)}}function lI(t){return t===null?t:t==="TRUE"||t==="t"||t==="true"||t==="y"||t==="yes"||t==="on"||t==="1"}function DG(t){return t?Xl.parse(t,lI):null}function LG(t){return parseInt(t,10)}function Qh(t){return t?Xl.parse(t,Ef(LG)):null}function BG(t){return t?Xl.parse(t,Ef(function(e){return uI(e).trim()})):null}var $G=function(t){if(!t)return null;var e=Zl.create(t,function(n){return n!==null&&(n=P0(n)),n});return e.parse()},Vh=function(t){if(!t)return null;var e=Zl.create(t,function(n){return n!==null&&(n=parseFloat(n)),n});return e.parse()},Vn=function(t){if(!t)return null;var e=Zl.create(t);return e.parse()},Hh=function(t){if(!t)return null;var e=Zl.create(t,function(n){return n!==null&&(n=vd(n)),n});return e.parse()},zG=function(t){if(!t)return null;var e=Zl.create(t,function(n){return n!==null&&(n=aI(n)),n});return e.parse()},UG=function(t){return t?Xl.parse(t,Ef(cI)):null},Gh=function(t){return parseInt(t,10)},uI=function(t){var e=String(t);return/^\d+$/.test(e)?e:t},o1=function(t){return t?Xl.parse(t,Ef(JSON.parse)):null},P0=function(t){return t[0]!=="("?null:(t=t.substring(1,t.length-1).split(","),{x:parseFloat(t[0]),y:parseFloat(t[1])})},qG=function(t){if(t[0]!=="<"&&t[1]!=="(")return null;for(var e="(",n="",r=!1,s=2;s<t.length-1;s++){if(r||(e+=t[s]),t[s]===")"){r=!0;continue}else if(!r)continue;t[s]!==","&&(n+=t[s])}var i=P0(e);return i.radius=parseFloat(n),i},QG=function(t){t(20,uI),t(21,Gh),t(23,Gh),t(26,Gh),t(700,parseFloat),t(701,parseFloat),t(16,lI),t(1082,vd),t(1114,vd),t(1184,vd),t(600,P0),t(651,Vn),t(718,qG),t(1e3,DG),t(1001,UG),t(1005,Qh),t(1007,Qh),t(1028,Qh),t(1016,BG),t(1017,$G),t(1021,Vh),t(1022,Vh),t(1231,Vh),t(1014,Vn),t(1015,Vn),t(1008,Vn),t(1009,Vn),t(1040,Vn),t(1041,Vn),t(1115,Hh),t(1182,Hh),t(1185,Hh),t(1186,aI),t(1187,zG),t(17,cI),t(114,JSON.parse.bind(JSON)),t(3802,JSON.parse.bind(JSON)),t(199,o1),t(3807,o1),t(3907,Vn),t(2951,Vn),t(791,Vn),t(1183,Vn),t(1270,Vn)},VG={init:QG},xn=1e6;function HG(t){var e=t.readInt32BE(0),n=t.readUInt32BE(4),r="";e<0&&(e=~e+(n===0),n=~n+1>>>0,r="-");var s="",i,o,a,c,l,u;{if(i=e%xn,e=e/xn>>>0,o=4294967296*i+n,n=o/xn>>>0,a=""+(o-xn*n),n===0&&e===0)return r+a+s;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";s=c+a+s}{if(i=e%xn,e=e/xn>>>0,o=4294967296*i+n,n=o/xn>>>0,a=""+(o-xn*n),n===0&&e===0)return r+a+s;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";s=c+a+s}{if(i=e%xn,e=e/xn>>>0,o=4294967296*i+n,n=o/xn>>>0,a=""+(o-xn*n),n===0&&e===0)return r+a+s;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";s=c+a+s}return i=e%xn,o=4294967296*i+n,a=""+o%xn,r+a+s}var GG=HG,WG=GG,mt=function(t,e,n,r,s){n=n||0,r=r||!1,s=s||function(x,y,h){return x*Math.pow(2,h)+y};var i=n>>3,o=function(x){return r?~x&255:x},a=255,c=8-n%8;e<c&&(a=255<<8-e&255,c=e),n&&(a=a>>n%8);var l=0;n%8+e>=8&&(l=s(0,o(t[i])&a,c));for(var u=e+n>>3,d=i+1;d<u;d++)l=s(l,o(t[d]),8);var p=(e+n)%8;return p>0&&(l=s(l,o(t[u])>>8-p,p)),l},dI=function(t,e,n){var r=Math.pow(2,n-1)-1,s=mt(t,1),i=mt(t,n,1);if(i===0)return 0;var o=1,a=function(l,u,d){l===0&&(l=1);for(var p=1;p<=d;p++)o/=2,(u&1<<d-p)>0&&(l+=o);return l},c=mt(t,e,n+1,!1,a);return i==Math.pow(2,n+1)-1?c===0?s===0?1/0:-1/0:NaN:(s===0?1:-1)*Math.pow(2,i-r)*c},KG=function(t){return mt(t,1)==1?-1*(mt(t,15,1,!0)+1):mt(t,15,1)},a1=function(t){return mt(t,1)==1?-1*(mt(t,31,1,!0)+1):mt(t,31,1)},YG=function(t){return dI(t,23,8)},JG=function(t){return dI(t,52,11)},XG=function(t){var e=mt(t,16,32);if(e==49152)return NaN;for(var n=Math.pow(1e4,mt(t,16,16)),r=0,s=mt(t,16),i=0;i<s;i++)r+=mt(t,16,64+16*i)*n,n/=1e4;var o=Math.pow(10,mt(t,16,48));return(e===0?1:-1)*Math.round(r*o)/o},c1=function(t,e){var n=mt(e,1),r=mt(e,63,1),s=new Date((n===0?1:-1)*r/1e3+9466848e5);return t||s.setTime(s.getTime()+s.getTimezoneOffset()*6e4),s.usec=r%1e3,s.getMicroSeconds=function(){return this.usec},s.setMicroSeconds=function(i){this.usec=i},s.getUTCMicroSeconds=function(){return this.usec},s},mc=function(t){var e=mt(t,32);mt(t,32,32);for(var n=mt(t,32,64),r=96,s=[],i=0;i<e;i++)s[i]=mt(t,32,r),r+=32,r+=32;var o=function(c){var l=mt(t,32,r);if(r+=32,l==4294967295)return null;var u;if(c==23||c==20)return u=mt(t,l*8,r),r+=l*8,u;if(c==25)return u=t.toString(this.encoding,r>>3,(r+=l<<3)>>3),u;console.log("ERROR: ElementType not implemented: "+c)},a=function(c,l){var u=[],d;if(c.length>1){var p=c.shift();for(d=0;d<p;d++)u[d]=a(c,l);c.unshift(p)}else for(d=0;d<c[0];d++)u[d]=o(l);return u};return a(s,n)},ZG=function(t){return t.toString("utf8")},eW=function(t){return t===null?null:mt(t,8)>0},tW=function(t){t(20,WG),t(21,KG),t(23,a1),t(26,a1),t(1700,XG),t(700,YG),t(701,JG),t(16,eW),t(1114,c1.bind(null,!1)),t(1184,c1.bind(null,!0)),t(1e3,mc),t(1007,mc),t(1016,mc),t(1008,mc),t(1009,mc),t(25,ZG)},nW={init:tW},rW={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096},sW=VG,iW=nW,oW=iI,aW=rW;Ci.getTypeParser=cW;Ci.setTypeParser=lW;Ci.arrayParser=oW;Ci.builtins=aW;var Sl={text:{},binary:{}};function l1(t){return String(t)}function cW(t,e){return e=e||"text",Sl[e]&&Sl[e][t]||l1}function lW(t,e,n){typeof e=="function"&&(n=e,e="text"),Sl[e][t]=n}sW.init(function(t,e){Sl.text[t]=e});iW.init(function(t,e){Sl.binary[t]=e});(function(t){var e={};t.exports={host:"localhost",user:process.platform==="win32"?e.USERNAME:e.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};const n=Ci,r=n.getTypeParser(20,"text"),s=n.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(i){n.setTypeParser(20,"text",i?n.getTypeParser(23,"text"):r),n.setTypeParser(1016,"text",i?n.getTypeParser(1007,"text"):s)})})(sI);var kf=sI.exports;const uW=kf,u1=he,{isDate:dW}=u1.types||u1;function pW(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function pI(t){let e="{";for(let n=0;n<t.length;n++)if(n>0&&(e=e+","),t[n]===null||typeof t[n]>"u")e=e+"NULL";else if(Array.isArray(t[n]))e=e+pI(t[n]);else if(ArrayBuffer.isView(t[n])){let r=t[n];if(!(r instanceof Buffer)){const s=Buffer.from(r.buffer,r.byteOffset,r.byteLength);s.length===r.byteLength?r=s:r=s.slice(r.byteOffset,r.byteOffset+r.byteLength)}e+="\\\\x"+r.toString("hex")}else e+=pW(fp(t[n]));return e=e+"}",e}const fp=function(t,e){if(t==null)return null;if(typeof t=="object"){if(t instanceof Buffer)return t;if(ArrayBuffer.isView(t)){const n=Buffer.from(t.buffer,t.byteOffset,t.byteLength);return n.length===t.byteLength?n:n.slice(t.byteOffset,t.byteOffset+t.byteLength)}return dW(t)?uW.parseInputDatesAsUTC?mW(t):hW(t):Array.isArray(t)?pI(t):fW(t,e)}return t.toString()};function fW(t,e){if(t&&typeof t.toPostgres=="function"){if(e=e||[],e.indexOf(t)!==-1)throw new Error('circular reference detected while preparing "'+t+'" for query');return e.push(t),fp(t.toPostgres(fp),e)}return JSON.stringify(t)}function hW(t){let e=-t.getTimezoneOffset(),n=t.getFullYear();const r=n<1;r&&(n=Math.abs(n)+1);let s=String(n).padStart(4,"0")+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+"T"+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")+"."+String(t.getMilliseconds()).padStart(3,"0");return e<0?(s+="-",e*=-1):s+="+",s+=String(Math.floor(e/60)).padStart(2,"0")+":"+String(e%60).padStart(2,"0"),r&&(s+=" BC"),s}function mW(t){let e=t.getUTCFullYear();const n=e<1;n&&(e=Math.abs(e)+1);let r=String(e).padStart(4,"0")+"-"+String(t.getUTCMonth()+1).padStart(2,"0")+"-"+String(t.getUTCDate()).padStart(2,"0")+"T"+String(t.getUTCHours()).padStart(2,"0")+":"+String(t.getUTCMinutes()).padStart(2,"0")+":"+String(t.getUTCSeconds()).padStart(2,"0")+"."+String(t.getUTCMilliseconds()).padStart(3,"0");return r+="+00:00",n&&(r+=" BC"),r}function gW(t,e,n){return t=typeof t=="string"?{text:t}:t,e&&(typeof e=="function"?t.callback=e:t.values=e),n&&(t.callback=n),t}const yW=function(t){return'"'+t.replace(/"/g,'""')+'"'},vW=function(t){let e=!1,n="'";if(t==null||typeof t!="string")return"''";for(let r=0;r<t.length;r++){const s=t[r];s==="'"?n+=s+s:s==="\\"?(n+=s+s,e=!0):n+=s}return n+="'",e===!0&&(n=" E"+n),n};var _l={prepareValue:function(e){return fp(e)},normalizeQueryConfig:gW,escapeIdentifier:yW,escapeLiteral:vW},iy={exports:{}},Wh,d1;function xW(){if(d1)return Wh;d1=1;const t=he;function e(a){return t.createHash("md5").update(a,"utf-8").digest("hex")}function n(a,c,l){const u=e(c+a);return"md5"+e(Buffer.concat([Buffer.from(u),l]))}function r(a){return t.createHash("sha256").update(a).digest()}function s(a,c){return a=a.replace(/(\D)-/,"$1"),t.createHash(a).update(c).digest()}function i(a,c){return t.createHmac("sha256",a).update(c).digest()}async function o(a,c,l){return t.pbkdf2Sync(a,c,l,32,"sha256")}return Wh={postgresMd5PasswordHash:n,randomBytes:t.randomBytes,deriveKey:o,sha256:r,hashByName:s,hmacSha256:i,md5:e},Wh}var Kh,p1;function bW(){if(p1)return Kh;p1=1;const t=he;Kh={postgresMd5PasswordHash:o,randomBytes:s,deriveKey:u,sha256:a,hashByName:c,hmacSha256:l,md5:i};const e=t.webcrypto||globalThis.crypto,n=e.subtle,r=new TextEncoder;function s(d){return e.getRandomValues(Buffer.alloc(d))}async function i(d){try{return t.createHash("md5").update(d,"utf-8").digest("hex")}catch{const x=typeof d=="string"?r.encode(d):d,y=await n.digest("MD5",x);return Array.from(new Uint8Array(y)).map(h=>h.toString(16).padStart(2,"0")).join("")}}async function o(d,p,x){const y=await i(p+d);return"md5"+await i(Buffer.concat([Buffer.from(y),x]))}async function a(d){return await n.digest("SHA-256",d)}async function c(d,p){return await n.digest(d,p)}async function l(d,p){const x=await n.importKey("raw",d,{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return await n.sign("HMAC",x,r.encode(p))}async function u(d,p,x){const y=await n.importKey("raw",r.encode(d),"PBKDF2",!1,["deriveBits"]),h={name:"PBKDF2",hash:"SHA-256",salt:p,iterations:x};return await n.deriveBits(h,y,32*8,["deriveBits"])}return Kh}const wW=parseInt(process.versions&&process.versions.node&&process.versions.node.split(".")[0])<15;wW?iy.exports=xW():iy.exports=bW();var fI=iy.exports;function Li(t,e){return new Error("SASL channel binding: "+t+" when parsing public certificate "+e.toString("base64"))}function I0(t,e){let n=t[e++];if(n<128)return{length:n,index:e};const r=n&127;if(r>4)throw Li("bad length",t);n=0;for(let s=0;s<r;s++)n=n<<8|t[e++];return{length:n,index:e}}function f1(t,e){if(t[e++]!==6)throw Li("non-OID data",t);const{length:n,index:r}=I0(t,e);e=r;const s=e+n,i=t[e++];let o=(i/40>>0)+"."+i%40;for(;e<s;){let a=0;for(;e<s;){const c=t[e++];if(a=a<<7|c&127,c<128)break}o+="."+a}return{oid:o,index:e}}function gc(t,e){if(t[e++]!==48)throw Li("non-sequence data",t);return I0(t,e)}function SW(t,e){e===void 0&&(e=0),e=gc(t,e).index;const{length:n,index:r}=gc(t,e);e=r+n,e=gc(t,e).index;const{oid:s,index:i}=f1(t,e);switch(s){case"1.2.840.113549.1.1.4":return"MD5";case"1.2.840.113549.1.1.5":return"SHA-1";case"1.2.840.113549.1.1.11":return"SHA-256";case"1.2.840.113549.1.1.12":return"SHA-384";case"1.2.840.113549.1.1.13":return"SHA-512";case"1.2.840.113549.1.1.14":return"SHA-224";case"1.2.840.113549.1.1.15":return"SHA512-224";case"1.2.840.113549.1.1.16":return"SHA512-256";case"1.2.840.10045.4.1":return"SHA-1";case"1.2.840.10045.4.3.1":return"SHA-224";case"1.2.840.10045.4.3.2":return"SHA-256";case"1.2.840.10045.4.3.3":return"SHA-384";case"1.2.840.10045.4.3.4":return"SHA-512";case"1.2.840.113549.1.1.10":{if(e=i,e=gc(t,e).index,t[e++]!==160)throw Li("non-tag data",t);e=I0(t,e).index,e=gc(t,e).index;const{oid:o}=f1(t,e);switch(o){case"1.2.840.113549.2.5":return"MD5";case"1.3.14.3.2.26":return"SHA-1";case"2.16.840.1.101.3.4.2.1":return"SHA-256";case"2.16.840.1.101.3.4.2.2":return"SHA-384";case"2.16.840.1.101.3.4.2.3":return"SHA-512"}throw Li("unknown hash OID "+o,t)}case"1.3.101.110":case"1.3.101.112":return"SHA-512";case"1.3.101.111":case"1.3.101.113":throw Li("Ed448 certificate channel binding is not currently supported by Postgres")}throw Li("unknown OID "+s,t)}var _W={signatureAlgorithmHashFromCertificate:SW};const js=fI,{signatureAlgorithmHashFromCertificate:EW}=_W;function kW(t,e){const n=["SCRAM-SHA-256"];e&&n.unshift("SCRAM-SHA-256-PLUS");const r=n.find(o=>t.includes(o));if(!r)throw new Error("SASL: Only mechanism(s) "+n.join(" and ")+" are supported");if(r==="SCRAM-SHA-256-PLUS"&&typeof e.getPeerCertificate!="function")throw new Error("SASL: Mechanism SCRAM-SHA-256-PLUS requires a certificate");const s=js.randomBytes(18).toString("base64");return{mechanism:r,clientNonce:s,response:(r==="SCRAM-SHA-256-PLUS"?"p=tls-server-end-point":e?"y":"n")+",,n=*,r="+s,message:"SASLInitialResponse"}}async function CW(t,e,n,r){if(t.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof e!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(e==="")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a non-empty string");if(typeof n!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");const s=NW(n);if(s.nonce.startsWith(t.clientNonce)){if(s.nonce.length===t.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");const i="n=*,r="+t.clientNonce,o="r="+s.nonce+",s="+s.salt+",i="+s.iteration;let a=r?"eSws":"biws";if(t.mechanism==="SCRAM-SHA-256-PLUS"){const b=r.getPeerCertificate().raw;let g=EW(b);(g==="MD5"||g==="SHA-1")&&(g="SHA-256");const _=await js.hashByName(g,b);a=Buffer.concat([Buffer.from("p=tls-server-end-point,,"),Buffer.from(_)]).toString("base64")}const c="c="+a+",r="+s.nonce,l=i+","+o+","+c,u=Buffer.from(s.salt,"base64"),d=await js.deriveKey(e,u,s.iteration),p=await js.hmacSha256(d,"Client Key"),x=await js.sha256(p),y=await js.hmacSha256(x,l),h=OW(Buffer.from(p),Buffer.from(y)).toString("base64"),w=await js.hmacSha256(d,"Server Key"),m=await js.hmacSha256(w,l);t.message="SASLResponse",t.serverSignature=Buffer.from(m).toString("base64"),t.response=c+",p="+h}function AW(t,e){if(t.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof e!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");const{serverSignature:n}=RW(e);if(n!==t.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function TW(t){if(typeof t!="string")throw new TypeError("SASL: text must be a string");return t.split("").map((e,n)=>t.charCodeAt(n)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}function hI(t){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(t)}function mI(t){if(typeof t!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(t.split(",").map(e=>{if(!/^.=/.test(e))throw new Error("SASL: Invalid attribute pair entry");const n=e[0],r=e.substring(2);return[n,r]}))}function NW(t){const e=mI(t),n=e.get("r");if(n){if(!TW(n))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");const r=e.get("s");if(r){if(!hI(r))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");const s=e.get("i");if(s){if(!/^[1-9][0-9]*$/.test(s))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");const i=parseInt(s,10);return{nonce:n,salt:r,iteration:i}}function RW(t){const n=mI(t).get("v");if(n){if(!hI(n))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:n}}function OW(t,e){if(!Buffer.isBuffer(t))throw new TypeError("first argument must be a Buffer");if(!Buffer.isBuffer(e))throw new TypeError("second argument must be a Buffer");if(t.length!==e.length)throw new Error("Buffer lengths must match");if(t.length===0)throw new Error("Buffers cannot be empty");return Buffer.from(t.map((n,r)=>t[r]^e[r]))}var PW={startSession:kW,continueSession:CW,finalizeSession:AW};const IW=Ci;function Cf(t){this._types=t||IW,this.text={},this.binary={}}Cf.prototype.getOverrides=function(t){switch(t){case"text":return this.text;case"binary":return this.binary;default:return{}}};Cf.prototype.setTypeParser=function(t,e,n){typeof e=="function"&&(n=e,e="text"),this.getOverrides(e)[t]=n};Cf.prototype.getTypeParser=function(t,e){return e=e||"text",this.getOverrides(e)[t]||this._types.getTypeParser(t,e)};var j0=Cf;function ja(t,e={}){if(t.charAt(0)==="/"){const c=t.split(" ");return{host:c[0],database:c[1]}}const n={};let r,s=!1;/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(t)&&(t=encodeURI(t).replace(/%25(\d\d)/g,"%$1"));try{try{r=new URL(t,"postgres://base")}catch{r=new URL(t.replace("@/","@___DUMMY___/"),"postgres://base"),s=!0}}catch(c){c.input&&(c.input="*****REDACTED*****")}for(const c of r.searchParams.entries())n[c[0]]=c[1];if(n.user=n.user||decodeURIComponent(r.username),n.password=n.password||decodeURIComponent(r.password),r.protocol=="socket:")return n.host=decodeURI(r.pathname),n.database=r.searchParams.get("db"),n.client_encoding=r.searchParams.get("encoding"),n;const i=s?"":r.hostname;n.host?i&&/^%2f/i.test(i)&&(r.pathname=i+r.pathname):n.host=decodeURIComponent(i),n.port||(n.port=r.port);const o=r.pathname.slice(1)||null;n.database=o?decodeURI(o):null,(n.ssl==="true"||n.ssl==="1")&&(n.ssl=!0),n.ssl==="0"&&(n.ssl=!1),(n.sslcert||n.sslkey||n.sslrootcert||n.sslmode)&&(n.ssl={});const a=n.sslcert||n.sslkey||n.sslrootcert?he:null;if(n.sslcert&&(n.ssl.cert=a.readFileSync(n.sslcert).toString()),n.sslkey&&(n.ssl.key=a.readFileSync(n.sslkey).toString()),n.sslrootcert&&(n.ssl.ca=a.readFileSync(n.sslrootcert).toString()),e.useLibpqCompat&&n.uselibpqcompat)throw new Error("Both useLibpqCompat and uselibpqcompat are set. Please use only one of them.");if(n.uselibpqcompat==="true"||e.useLibpqCompat)switch(n.sslmode){case"disable":{n.ssl=!1;break}case"prefer":{n.ssl.rejectUnauthorized=!1;break}case"require":{n.sslrootcert?n.ssl.checkServerIdentity=function(){}:n.ssl.rejectUnauthorized=!1;break}case"verify-ca":{if(!n.ssl.ca)throw new Error("SECURITY WARNING: Using sslmode=verify-ca requires specifying a CA with sslrootcert. If a public CA is used, verify-ca allows connections to a server that somebody else may have registered with the CA, making you vulnerable to Man-in-the-Middle attacks. Either specify a custom CA certificate with sslrootcert parameter or use sslmode=verify-full for proper security.");n.ssl.checkServerIdentity=function(){};break}}else switch(n.sslmode){case"disable":{n.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{n.ssl.rejectUnauthorized=!1;break}}return n}function jW(t){return Object.entries(t).reduce((n,[r,s])=>(s!=null&&(n[r]=s),n),{})}function gI(t){return Object.entries(t).reduce((n,[r,s])=>{if(r==="ssl"){const i=s;typeof i=="boolean"&&(n[r]=i),typeof i=="object"&&(n[r]=jW(i))}else if(s!=null)if(r==="port"){if(s!==""){const i=parseInt(s,10);if(isNaN(i))throw new Error(`Invalid ${r}: ${s}`);n[r]=i}}else n[r]=s;return n},{})}function FW(t){return gI(ja(t))}var MW=ja;ja.parse=ja;ja.toClientConfig=gI;ja.parseIntoClientConfig=FW;var hp={};const DW=he,yI=kf,h1=MW.parse,an=function(t,e,n){return n===void 0?n=hp["PG"+t.toUpperCase()]:n===!1||(n=hp[n]),e[t]||n||yI[t]},LW=function(){switch(hp.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return yI.ssl},Io=function(t){return"'"+(""+t).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},Hn=function(t,e,n){const r=e[n];r!=null&&t.push(n+"="+Io(r))};let BW=class{constructor(e){e=typeof e=="string"?h1(e):e||{},e.connectionString&&(e=Object.assign({},e,h1(e.connectionString))),this.user=an("user",e),this.database=an("database",e),this.database===void 0&&(this.database=this.user),this.port=parseInt(an("port",e),10),this.host=an("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:an("password",e)}),this.binary=an("binary",e),this.options=an("options",e),this.ssl=typeof e.ssl>"u"?LW():e.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=an("client_encoding",e),this.replication=an("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=an("application_name",e,"PGAPPNAME"),this.fallback_application_name=an("fallback_application_name",e,!1),this.statement_timeout=an("statement_timeout",e,!1),this.lock_timeout=an("lock_timeout",e,!1),this.idle_in_transaction_session_timeout=an("idle_in_transaction_session_timeout",e,!1),this.query_timeout=an("query_timeout",e,!1),e.connectionTimeoutMillis===void 0?this.connect_timeout=hp.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),e.keepAlive===!1?this.keepalives=0:e.keepAlive===!0&&(this.keepalives=1),typeof e.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){const n=[];Hn(n,this,"user"),Hn(n,this,"password"),Hn(n,this,"port"),Hn(n,this,"application_name"),Hn(n,this,"fallback_application_name"),Hn(n,this,"connect_timeout"),Hn(n,this,"options");const r=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(Hn(n,r,"sslmode"),Hn(n,r,"sslca"),Hn(n,r,"sslkey"),Hn(n,r,"sslcert"),Hn(n,r,"sslrootcert"),this.database&&n.push("dbname="+Io(this.database)),this.replication&&n.push("replication="+Io(this.replication)),this.host&&n.push("host="+Io(this.host)),this.isDomainSocket)return e(null,n.join(" "));this.client_encoding&&n.push("client_encoding="+Io(this.client_encoding)),DW.lookup(this.host,function(s,i){return s?e(s,null):(n.push("hostaddr="+Io(i)),e(null,n.join(" ")))})}};var vI=BW;const $W=Ci,m1=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/;let zW=class{constructor(e,n){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=n,this.RowCtor=null,this.rowAsArray=e==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray),this._prebuiltEmptyResultObject=null}addCommandComplete(e){let n;e.text?n=m1.exec(e.text):n=m1.exec(e.command),n&&(this.command=n[1],n[3]?(this.oid=parseInt(n[2],10),this.rowCount=parseInt(n[3],10)):n[2]&&(this.rowCount=parseInt(n[2],10)))}_parseRowAsArray(e){const n=new Array(e.length);for(let r=0,s=e.length;r<s;r++){const i=e[r];i!==null?n[r]=this._parsers[r](i):n[r]=null}return n}parseRow(e){const n={...this._prebuiltEmptyResultObject};for(let r=0,s=e.length;r<s;r++){const i=e[r],o=this.fields[r].name;if(i!==null){const a=this.fields[r].format==="binary"?Buffer.from(i):i;n[o]=this._parsers[r](a)}else n[o]=null}return n}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this._parsers=new Array(e.length));const n={};for(let r=0;r<e.length;r++){const s=e[r];n[s.name]=null,this._types?this._parsers[r]=this._types.getTypeParser(s.dataTypeID,s.format||"text"):this._parsers[r]=$W.getTypeParser(s.dataTypeID,s.format||"text")}this._prebuiltEmptyResultObject={...n}}};var xI=zW;const{EventEmitter:UW}=he,g1=xI,y1=_l;let qW=class extends UW{constructor(e,n,r){super(),e=y1.normalizeQueryConfig(e,n,r),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.queryMode=e.queryMode,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,process.domain&&e.callback&&(this.callback=process.domain.bind(e.callback)),this._result=new g1(this._rowMode,this.types),this._results=this._result,this._canceledDueToError=!1}requiresPreparation(){return this.queryMode==="extended"||this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new g1(this._rowMode,this._result._types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let n;if(!this._canceledDueToError){try{n=this._result.parseRow(e.fields)}catch(r){this._canceledDueToError=r;return}this.emit("row",n,this._result),this._accumulateRows&&this._result.addRow(n)}}handleCommandComplete(e,n){this._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&n.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,n){if(this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(n){process.nextTick(()=>{throw n})}this.emit("end",this._results)}submit(e){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");const n=e.parsedStatements[this.name];if(this.text&&n&&this.text!==n)return new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);if(this.values&&!Array.isArray(this.values))return new Error("Query values must be an array");if(this.requiresPreparation()){e.stream.cork&&e.stream.cork();try{this.prepare(e)}finally{e.stream.uncork&&e.stream.uncork()}}else e.query(this.text);return null}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,n){e.execute({portal:this.portal,rows:n}),n?e.flush():e.sync()}prepare(e){this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:y1.prepareValue})}catch(n){this.handleError(n,e);return}e.describe({type:"P",name:this.portal||""}),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,n){}};var QW=qW,F0={},Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.NoticeMessage=Ee.DataRowMessage=Ee.CommandCompleteMessage=Ee.ReadyForQueryMessage=Ee.NotificationResponseMessage=Ee.BackendKeyDataMessage=Ee.AuthenticationMD5Password=Ee.ParameterStatusMessage=Ee.ParameterDescriptionMessage=Ee.RowDescriptionMessage=Ee.Field=Ee.CopyResponse=Ee.CopyDataMessage=Ee.DatabaseError=Ee.copyDone=Ee.emptyQuery=Ee.replicationStart=Ee.portalSuspended=Ee.noData=Ee.closeComplete=Ee.bindComplete=Ee.parseComplete=void 0;Ee.parseComplete={name:"parseComplete",length:5};Ee.bindComplete={name:"bindComplete",length:5};Ee.closeComplete={name:"closeComplete",length:5};Ee.noData={name:"noData",length:5};Ee.portalSuspended={name:"portalSuspended",length:5};Ee.replicationStart={name:"replicationStart",length:4};Ee.emptyQuery={name:"emptyQuery",length:4};Ee.copyDone={name:"copyDone",length:4};let VW=class extends Error{constructor(e,n,r){super(e),this.length=n,this.name=r}};Ee.DatabaseError=VW;class HW{constructor(e,n){this.length=e,this.chunk=n,this.name="copyData"}}Ee.CopyDataMessage=HW;class GW{constructor(e,n,r,s){this.length=e,this.name=n,this.binary=r,this.columnTypes=new Array(s)}}Ee.CopyResponse=GW;class WW{constructor(e,n,r,s,i,o,a){this.name=e,this.tableID=n,this.columnID=r,this.dataTypeID=s,this.dataTypeSize=i,this.dataTypeModifier=o,this.format=a}}Ee.Field=WW;class KW{constructor(e,n){this.length=e,this.fieldCount=n,this.name="rowDescription",this.fields=new Array(this.fieldCount)}}Ee.RowDescriptionMessage=KW;class YW{constructor(e,n){this.length=e,this.parameterCount=n,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}}Ee.ParameterDescriptionMessage=YW;class JW{constructor(e,n,r){this.length=e,this.parameterName=n,this.parameterValue=r,this.name="parameterStatus"}}Ee.ParameterStatusMessage=JW;class XW{constructor(e,n){this.length=e,this.salt=n,this.name="authenticationMD5Password"}}Ee.AuthenticationMD5Password=XW;class ZW{constructor(e,n,r){this.length=e,this.processID=n,this.secretKey=r,this.name="backendKeyData"}}Ee.BackendKeyDataMessage=ZW;class eK{constructor(e,n,r,s){this.length=e,this.processId=n,this.channel=r,this.payload=s,this.name="notification"}}Ee.NotificationResponseMessage=eK;class tK{constructor(e,n){this.length=e,this.status=n,this.name="readyForQuery"}}Ee.ReadyForQueryMessage=tK;class nK{constructor(e,n){this.length=e,this.text=n,this.name="commandComplete"}}Ee.CommandCompleteMessage=nK;class rK{constructor(e,n){this.length=e,this.fields=n,this.name="dataRow",this.fieldCount=n.length}}Ee.DataRowMessage=rK;class sK{constructor(e,n){this.length=e,this.message=n,this.name="notice"}}Ee.NoticeMessage=sK;var Af={},Tf={};Object.defineProperty(Tf,"__esModule",{value:!0});Tf.Writer=void 0;class iK{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(e)}ensure(e){if(this.buffer.length-this.offset<e){const r=this.buffer,s=r.length+(r.length>>1)+e;this.buffer=Buffer.allocUnsafe(s),r.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(!e)this.ensure(1);else{const n=Buffer.byteLength(e);this.ensure(n+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=n}return this.buffer[this.offset++]=0,this}addString(e=""){const n=Buffer.byteLength(e);return this.ensure(n),this.buffer.write(e,this.offset),this.offset+=n,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;const n=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(n,this.headerPosition+1)}return this.buffer.slice(e?0:5,this.offset)}flush(e){const n=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),n}}Tf.Writer=iK;Object.defineProperty(Af,"__esModule",{value:!0});Af.serialize=void 0;const M0=Tf,ct=new M0.Writer,oK=t=>{ct.addInt16(3).addInt16(0);for(const r of Object.keys(t))ct.addCString(r).addCString(t[r]);ct.addCString("client_encoding").addCString("UTF8");const e=ct.addCString("").flush(),n=e.length+4;return new M0.Writer().addInt32(n).add(e).flush()},aK=()=>{const t=Buffer.allocUnsafe(8);return t.writeInt32BE(8,0),t.writeInt32BE(80877103,4),t},cK=t=>ct.addCString(t).flush(112),lK=function(t,e){return ct.addCString(t).addInt32(Buffer.byteLength(e)).addString(e),ct.flush(112)},uK=function(t){return ct.addString(t).flush(112)},dK=t=>ct.addCString(t).flush(81),bI=[],pK=t=>{const e=t.name||"";e.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",e,e.length),console.error("This can cause conflicts and silent errors executing queries"));const n=t.types||bI,r=n.length,s=ct.addCString(e).addCString(t.text).addInt16(r);for(let i=0;i<r;i++)s.addInt32(n[i]);return ct.flush(80)},jo=new M0.Writer,fK=function(t,e){for(let n=0;n<t.length;n++){const r=e?e(t[n],n):t[n];r==null?(ct.addInt16(0),jo.addInt32(-1)):r instanceof Buffer?(ct.addInt16(1),jo.addInt32(r.length),jo.add(r)):(ct.addInt16(0),jo.addInt32(Buffer.byteLength(r)),jo.addString(r))}},hK=(t={})=>{const e=t.portal||"",n=t.statement||"",r=t.binary||!1,s=t.values||bI,i=s.length;return ct.addCString(e).addCString(n),ct.addInt16(i),fK(s,t.valueMapper),ct.addInt16(i),ct.add(jo.flush()),ct.addInt16(1),ct.addInt16(r?1:0),ct.flush(66)},mK=Buffer.from([69,0,0,0,9,0,0,0,0,0]),gK=t=>{if(!t||!t.portal&&!t.rows)return mK;const e=t.portal||"",n=t.rows||0,r=Buffer.byteLength(e),s=4+r+1+4,i=Buffer.allocUnsafe(1+s);return i[0]=69,i.writeInt32BE(s,1),i.write(e,5,"utf-8"),i[r+5]=0,i.writeUInt32BE(n,i.length-4),i},yK=(t,e)=>{const n=Buffer.allocUnsafe(16);return n.writeInt32BE(16,0),n.writeInt16BE(1234,4),n.writeInt16BE(5678,6),n.writeInt32BE(t,8),n.writeInt32BE(e,12),n},D0=(t,e)=>{const r=4+Buffer.byteLength(e)+1,s=Buffer.allocUnsafe(1+r);return s[0]=t,s.writeInt32BE(r,1),s.write(e,5,"utf-8"),s[r]=0,s},vK=ct.addCString("P").flush(68),xK=ct.addCString("S").flush(68),bK=t=>t.name?D0(68,`${t.type}${t.name||""}`):t.type==="P"?vK:xK,wK=t=>{const e=`${t.type}${t.name||""}`;return D0(67,e)},SK=t=>ct.add(t).flush(100),_K=t=>D0(102,t),Nf=t=>Buffer.from([t,0,0,0,4]),EK=Nf(72),kK=Nf(83),CK=Nf(88),AK=Nf(99),TK={startup:oK,password:cK,requestSsl:aK,sendSASLInitialResponseMessage:lK,sendSCRAMClientFinalMessage:uK,query:dK,parse:pK,bind:hK,execute:gK,describe:bK,close:wK,flush:()=>EK,sync:()=>kK,end:()=>CK,copyData:SK,copyDone:()=>AK,copyFail:_K,cancel:yK};Af.serialize=TK;var Rf={},Of={};Object.defineProperty(Of,"__esModule",{value:!0});Of.BufferReader=void 0;const NK=Buffer.allocUnsafe(0);class RK{constructor(e=0){this.offset=e,this.buffer=NK,this.encoding="utf-8"}setBuffer(e,n){this.offset=e,this.buffer=n}int16(){const e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){const e=this.buffer[this.offset];return this.offset++,e}int32(){const e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}uint32(){const e=this.buffer.readUInt32BE(this.offset);return this.offset+=4,e}string(e){const n=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,n}cstring(){const e=this.offset;let n=e;for(;this.buffer[n++]!==0;);return this.offset=n,this.buffer.toString(this.encoding,e,n-1)}bytes(e){const n=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,n}}Of.BufferReader=RK;Object.defineProperty(Rf,"__esModule",{value:!0});Rf.Parser=void 0;const ut=Ee,OK=Of,oy=1,PK=4,v1=oy+PK,x1=Buffer.allocUnsafe(0);class IK{constructor(e){if(this.buffer=x1,this.bufferLength=0,this.bufferOffset=0,this.reader=new OK.BufferReader,(e==null?void 0:e.mode)==="binary")throw new Error("Binary mode not supported yet");this.mode=(e==null?void 0:e.mode)||"text"}parse(e,n){this.mergeBuffer(e);const r=this.bufferOffset+this.bufferLength;let s=this.bufferOffset;for(;s+v1<=r;){const i=this.buffer[s],o=this.buffer.readUInt32BE(s+oy),a=oy+o;if(a+s<=r){const c=this.handlePacket(s+v1,i,o,this.buffer);n(c),s+=a}else break}s===r?(this.buffer=x1,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=r-s,this.bufferOffset=s)}mergeBuffer(e){if(this.bufferLength>0){const n=this.bufferLength+e.byteLength;if(n+this.bufferOffset>this.buffer.byteLength){let s;if(n<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)s=this.buffer;else{let i=this.buffer.byteLength*2;for(;n>=i;)i*=2;s=Buffer.allocUnsafe(i)}this.buffer.copy(s,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=s,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=n}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,n,r,s){switch(n){case 50:return ut.bindComplete;case 49:return ut.parseComplete;case 51:return ut.closeComplete;case 110:return ut.noData;case 115:return ut.portalSuspended;case 99:return ut.copyDone;case 87:return ut.replicationStart;case 73:return ut.emptyQuery;case 68:return this.parseDataRowMessage(e,r,s);case 67:return this.parseCommandCompleteMessage(e,r,s);case 90:return this.parseReadyForQueryMessage(e,r,s);case 65:return this.parseNotificationMessage(e,r,s);case 82:return this.parseAuthenticationResponse(e,r,s);case 83:return this.parseParameterStatusMessage(e,r,s);case 75:return this.parseBackendKeyData(e,r,s);case 69:return this.parseErrorMessage(e,r,s,"error");case 78:return this.parseErrorMessage(e,r,s,"notice");case 84:return this.parseRowDescriptionMessage(e,r,s);case 116:return this.parseParameterDescriptionMessage(e,r,s);case 71:return this.parseCopyInMessage(e,r,s);case 72:return this.parseCopyOutMessage(e,r,s);case 100:return this.parseCopyData(e,r,s);default:return new ut.DatabaseError("received invalid response: "+n.toString(16),r,"error")}}parseReadyForQueryMessage(e,n,r){this.reader.setBuffer(e,r);const s=this.reader.string(1);return new ut.ReadyForQueryMessage(n,s)}parseCommandCompleteMessage(e,n,r){this.reader.setBuffer(e,r);const s=this.reader.cstring();return new ut.CommandCompleteMessage(n,s)}parseCopyData(e,n,r){const s=r.slice(e,e+(n-4));return new ut.CopyDataMessage(n,s)}parseCopyInMessage(e,n,r){return this.parseCopyMessage(e,n,r,"copyInResponse")}parseCopyOutMessage(e,n,r){return this.parseCopyMessage(e,n,r,"copyOutResponse")}parseCopyMessage(e,n,r,s){this.reader.setBuffer(e,r);const i=this.reader.byte()!==0,o=this.reader.int16(),a=new ut.CopyResponse(n,s,i,o);for(let c=0;c<o;c++)a.columnTypes[c]=this.reader.int16();return a}parseNotificationMessage(e,n,r){this.reader.setBuffer(e,r);const s=this.reader.int32(),i=this.reader.cstring(),o=this.reader.cstring();return new ut.NotificationResponseMessage(n,s,i,o)}parseRowDescriptionMessage(e,n,r){this.reader.setBuffer(e,r);const s=this.reader.int16(),i=new ut.RowDescriptionMessage(n,s);for(let o=0;o<s;o++)i.fields[o]=this.parseField();return i}parseField(){const e=this.reader.cstring(),n=this.reader.uint32(),r=this.reader.int16(),s=this.reader.uint32(),i=this.reader.int16(),o=this.reader.int32(),a=this.reader.int16()===0?"text":"binary";return new ut.Field(e,n,r,s,i,o,a)}parseParameterDescriptionMessage(e,n,r){this.reader.setBuffer(e,r);const s=this.reader.int16(),i=new ut.ParameterDescriptionMessage(n,s);for(let o=0;o<s;o++)i.dataTypeIDs[o]=this.reader.int32();return i}parseDataRowMessage(e,n,r){this.reader.setBuffer(e,r);const s=this.reader.int16(),i=new Array(s);for(let o=0;o<s;o++){const a=this.reader.int32();i[o]=a===-1?null:this.reader.string(a)}return new ut.DataRowMessage(n,i)}parseParameterStatusMessage(e,n,r){this.reader.setBuffer(e,r);const s=this.reader.cstring(),i=this.reader.cstring();return new ut.ParameterStatusMessage(n,s,i)}parseBackendKeyData(e,n,r){this.reader.setBuffer(e,r);const s=this.reader.int32(),i=this.reader.int32();return new ut.BackendKeyDataMessage(n,s,i)}parseAuthenticationResponse(e,n,r){this.reader.setBuffer(e,r);const s=this.reader.int32(),i={name:"authenticationOk",length:n};switch(s){case 0:break;case 3:i.length===8&&(i.name="authenticationCleartextPassword");break;case 5:if(i.length===12){i.name="authenticationMD5Password";const o=this.reader.bytes(4);return new ut.AuthenticationMD5Password(n,o)}break;case 10:{i.name="authenticationSASL",i.mechanisms=[];let o;do o=this.reader.cstring(),o&&i.mechanisms.push(o);while(o)}break;case 11:i.name="authenticationSASLContinue",i.data=this.reader.string(n-8);break;case 12:i.name="authenticationSASLFinal",i.data=this.reader.string(n-8);break;default:throw new Error("Unknown authenticationOk message type "+s)}return i}parseErrorMessage(e,n,r,s){this.reader.setBuffer(e,r);const i={};let o=this.reader.string(1);for(;o!=="\0";)i[o]=this.reader.cstring(),o=this.reader.string(1);const a=i.M,c=s==="notice"?new ut.NoticeMessage(n,a):new ut.DatabaseError(a,n,s);return c.severity=i.S,c.code=i.C,c.detail=i.D,c.hint=i.H,c.position=i.P,c.internalPosition=i.p,c.internalQuery=i.q,c.where=i.W,c.schema=i.s,c.table=i.t,c.column=i.c,c.dataType=i.d,c.constraint=i.n,c.file=i.F,c.line=i.L,c.routine=i.R,c}}Rf.Parser=IK;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseError=t.serialize=t.parse=void 0;const e=Ee;Object.defineProperty(t,"DatabaseError",{enumerable:!0,get:function(){return e.DatabaseError}});const n=Af;Object.defineProperty(t,"serialize",{enumerable:!0,get:function(){return n.serialize}});const r=Rf;function s(i,o){const a=new r.Parser;return i.on("data",c=>a.parse(c,o)),new Promise(c=>i.on("end",()=>c()))}t.parse=s})(F0);var ju={},b1;function jK(){return b1||(b1=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.default={}),ju}const{getStream:FK,getSecureStream:MK}=zK();var DK={getStream:FK,getSecureStream:MK};function LK(){function t(n){const r=he;return new r.Socket}function e(n){return he.connect(n)}return{getStream:t,getSecureStream:e}}function BK(){function t(n){const{CloudflareSocket:r}=jK();return new r(n)}function e(n){return n.socket.startTls(n),n.socket}return{getStream:t,getSecureStream:e}}function $K(){if(typeof navigator=="object"&&navigator!==null&&typeof navigator.userAgent=="string")return navigator.userAgent==="Cloudflare-Workers";if(typeof Response=="function"){const t=new Response(null,{cf:{thing:!0}});if(typeof t.cf=="object"&&t.cf!==null&&t.cf.thing)return!0}return!1}function zK(){return $K()?BK():LK()}const UK=he.EventEmitter,{parse:qK,serialize:zt}=F0,{getStream:QK,getSecureStream:VK}=DK,HK=zt.flush(),GK=zt.sync(),WK=zt.end();let KK=class extends UK{constructor(e){super(),e=e||{},this.stream=e.stream||QK(e.ssl),typeof this.stream=="function"&&(this.stream=this.stream(e)),this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;const n=this;this.on("newListener",function(r){r==="message"&&(n._emitMessage=!0)})}connect(e,n){const r=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,n),this.stream.once("connect",function(){r._keepAlive&&r.stream.setKeepAlive(!0,r._keepAliveInitialDelayMillis),r.emit("connect")});const s=function(i){r._ending&&(i.code==="ECONNRESET"||i.code==="EPIPE")||r.emit("error",i)};if(this.stream.on("error",s),this.stream.on("close",function(){r.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(i){switch(i.toString("utf8")){case"S":break;case"N":return r.stream.end(),r.emit("error",new Error("The server does not support SSL connections"));default:return r.stream.end(),r.emit("error",new Error("There was an error establishing an SSL connection"))}const a={socket:r.stream};r.ssl!==!0&&(Object.assign(a,r.ssl),"key"in r.ssl&&(a.key=r.ssl.key));const c=he;c.isIP&&c.isIP(n)===0&&(a.servername=n);try{r.stream=VK(a)}catch(l){return r.emit("error",l)}r.attachListeners(r.stream),r.stream.on("error",s),r.emit("sslconnect")})}attachListeners(e){qK(e,n=>{const r=n.name==="error"?"errorMessage":n.name;this._emitMessage&&this.emit("message",n),this.emit(r,n)})}requestSsl(){this.stream.write(zt.requestSsl())}startup(e){this.stream.write(zt.startup(e))}cancel(e,n){this._send(zt.cancel(e,n))}password(e){this._send(zt.password(e))}sendSASLInitialResponseMessage(e,n){this._send(zt.sendSASLInitialResponseMessage(e,n))}sendSCRAMClientFinalMessage(e){this._send(zt.sendSCRAMClientFinalMessage(e))}_send(e){return this.stream.writable?this.stream.write(e):!1}query(e){this._send(zt.query(e))}parse(e){this._send(zt.parse(e))}bind(e){this._send(zt.bind(e))}execute(e){this._send(zt.execute(e))}flush(){this.stream.writable&&this.stream.write(HK)}sync(){this._ending=!0,this._send(GK)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(WK,()=>{this.stream.end()})}close(e){this._send(zt.close(e))}describe(e){this._send(zt.describe(e))}sendCopyFromChunk(e){this._send(zt.copyData(e))}endCopyFrom(){this._send(zt.copyDone())}sendCopyFail(e){this._send(zt.copyFail(e))}};var wI=KK,Fu={exports:{}},Yh={exports:{}},Jh,w1;function YK(){if(w1)return Jh;w1=1;const{Transform:t}=he,{StringDecoder:e}=k0,n=Symbol("last"),r=Symbol("decoder");function s(l,u,d){let p;if(this.overflow){if(p=this[r].write(l).split(this.matcher),p.length===1)return d();p.shift(),this.overflow=!1}else this[n]+=this[r].write(l),p=this[n].split(this.matcher);this[n]=p.pop();for(let x=0;x<p.length;x++)try{o(this,this.mapper(p[x]))}catch(y){return d(y)}if(this.overflow=this[n].length>this.maxLength,this.overflow&&!this.skipOverflow){d(new Error("maximum buffer reached"));return}d()}function i(l){if(this[n]+=this[r].end(),this[n])try{o(this,this.mapper(this[n]))}catch(u){return l(u)}l()}function o(l,u){u!==void 0&&l.push(u)}function a(l){return l}function c(l,u,d){switch(l=l||/\r?\n/,u=u||a,d=d||{},arguments.length){case 1:typeof l=="function"?(u=l,l=/\r?\n/):typeof l=="object"&&!(l instanceof RegExp)&&!l[Symbol.split]&&(d=l,l=/\r?\n/);break;case 2:typeof l=="function"?(d=u,u=l,l=/\r?\n/):typeof u=="object"&&(d=u,u=a)}d=Object.assign({},d),d.autoDestroy=!0,d.transform=s,d.flush=i,d.readableObjectMode=!0;const p=new t(d);return p[n]="",p[r]=new e("utf8"),p.matcher=l,p.mapper=u,p.maxLength=d.maxLength,p.skipOverflow=d.skipOverflow||!1,p.overflow=!1,p._destroy=function(x,y){this._writableState.errorEmitted=!1,y(x)},p}return Jh=c,Jh}var S1;function JK(){return S1||(S1=1,function(t){var e={},n=he,r=he.Stream,s=YK(),i=he,o=5432,a=process.platform==="win32",c=process.stderr,l=56,u=7,d=61440,p=32768;function x(T){return(T&d)==p}var y=["host","port","database","user","password"],h=y.length,w=y[h-1];function m(){var T=c instanceof r&&c.writable===!0;if(T){var C=Array.prototype.slice.call(arguments).concat(`
`);c.write(i.format.apply(i,C))}}Object.defineProperty(t.exports,"isWin",{get:function(){return a},set:function(T){a=T}}),t.exports.warnTo=function(T){var C=c;return c=T,C},t.exports.getFileName=function(T){var C=T||e,S=C.PGPASSFILE||(a?n.join(C.APPDATA||"./","postgresql","pgpass.conf"):n.join(C.HOME||"./",".pgpass"));return S},t.exports.usePgPass=function(T,C){return Object.prototype.hasOwnProperty.call(e,"PGPASSWORD")?!1:a?!0:(C=C||"<unkn>",x(T.mode)?T.mode&(l|u)?(m('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',C),!1):!0:(m('WARNING: password file "%s" is not a plain file',C),!1))};var b=t.exports.match=function(T,C){return y.slice(0,-1).reduce(function(S,A,P){return P==1&&Number(T[A]||o)===Number(C[A])?S&&!0:S&&(C[A]==="*"||C[A]===T[A])},!0)};t.exports.getPassword=function(T,C,S){var A,P=C.pipe(s());function D(U){var R=g(U);R&&_(R)&&b(T,R)&&(A=R[w],P.end())}var q=function(){C.destroy(),S(A)},K=function(U){C.destroy(),m("WARNING: error on reading file: %s",U),S(void 0)};C.on("error",K),P.on("data",D).on("end",q).on("error",K)};var g=t.exports.parseLine=function(T){if(T.length<11||T.match(/^\s+#/))return null;for(var C="",S="",A=0,P=0,D={},q=!1,K=function(R,I,V){var j=T.substring(I,V);Object.hasOwnProperty.call(e,"PGPASS_NO_DEESCAPE")||(j=j.replace(/\\([:\\])/g,"$1")),D[y[R]]=j},U=0;U<T.length-1;U+=1){if(C=T.charAt(U+1),S=T.charAt(U),q=A==h-1,q){K(A,P);break}U>=0&&C==":"&&S!=="\\"&&(K(A,P,U+1),P=U+2,A+=1)}return D=Object.keys(D).length===h?D:null,D},_=t.exports.isValidEntry=function(T){for(var C={0:function(q){return q.length>0},1:function(q){return q==="*"?!0:(q=Number(q),isFinite(q)&&q>0&&q<9007199254740992&&Math.floor(q)===q)},2:function(q){return q.length>0},3:function(q){return q.length>0},4:function(q){return q.length>0}},S=0;S<y.length;S+=1){var A=C[S],P=T[y[S]]||"",D=A(P);if(!D)return!1}return!0}}(Yh)),Yh.exports}var _1;function XK(){if(_1)return Fu.exports;_1=1;var t=he,e=JK();return Fu.exports=function(n,r){var s=e.getFileName();t.stat(s,function(i,o){if(i||!e.usePgPass(o,s))return r(void 0);var a=t.createReadStream(s);e.getPassword(n,a,r)})},Fu.exports.warnTo=e.warnTo,Fu.exports}const ZK=he.EventEmitter,E1=_l,Xh=PW,eY=j0,tY=vI,SI=QW,nY=kf,rY=wI,sY=fI;let _I=class extends ZK{constructor(e){super(),this.connectionParameters=new tY(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;const n=e||{};this._Promise=n.Promise||globalThis.Promise,this._types=new eY(n.types),this._ending=!1,this._ended=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.enableChannelBinding=!!n.enableChannelBinding,this.connection=n.connection||new rY({stream:n.stream,ssl:this.connectionParameters.ssl,keepAlive:n.keepAlive||!1,keepAliveInitialDelayMillis:n.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=n.binary||nY.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=n.connectionTimeoutMillis||0}_errorAllQueries(e){const n=r=>{process.nextTick(()=>{r.handleError(e,this.connection)})};this.activeQuery&&(n(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(n),this.queryQueue.length=0}_connect(e){const n=this,r=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){const s=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{e(s)});return}this._connecting=!0,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{r._ending=!0,r.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis),this.connectionTimeoutHandle.unref&&this.connectionTimeoutHandle.unref()),this.host&&this.host.indexOf("/")===0?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){n.ssl?r.requestSsl():r.startup(n.getStartupConf())}),r.on("sslconnect",function(){r.startup(n.getStartupConf())}),this._attachListeners(r),r.once("end",()=>{const s=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(s),this._ended=!0,this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(s):this._handleErrorEvent(s):this._connectionError||this._handleErrorEvent(s)),process.nextTick(()=>{this.emit("end")})})}connect(e){if(e){this._connect(e);return}return new this._Promise((n,r)=>{this._connect(s=>{s?r(s):n()})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_checkPgPass(e){const n=this.connection;if(typeof this.password=="function")this._Promise.resolve().then(()=>this.password()).then(r=>{if(r!==void 0){if(typeof r!="string"){n.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=r}else this.connectionParameters.password=this.password=null;e()}).catch(r=>{n.emit("error",r)});else if(this.password!==null)e();else try{XK()(this.connectionParameters,s=>{s!==void 0&&(this.connectionParameters.password=this.password=s),e()})}catch(r){this.emit("error",r)}}_handleAuthCleartextPassword(e){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._checkPgPass(async()=>{try{const n=await sY.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(n)}catch(n){this.emit("error",n)}})}_handleAuthSASL(e){this._checkPgPass(()=>{try{this.saslSession=Xh.startSession(e.mechanisms,this.enableChannelBinding&&this.connection.stream),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)}catch(n){this.connection.emit("error",n)}})}async _handleAuthSASLContinue(e){try{await Xh.continueSession(this.saslSession,this.password,e.data,this.enableChannelBinding&&this.connection.stream),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}catch(n){this.connection.emit("error",n)}}_handleAuthSASLFinal(e){try{Xh.finalizeSession(this.saslSession,e.data),this.saslSession=null}catch(n){this.connection.emit("error",n)}}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));const{activeQuery:n}=this;this.activeQuery=null,this.readyForQuery=!0,n&&n.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);const n=this.activeQuery;if(!n){this._handleErrorEvent(e);return}this.activeQuery=null,n.handleError(e,this.connection)}_handleRowDescription(e){this.activeQuery.handleRowDescription(e)}_handleDataRow(e){this.activeQuery.handleDataRow(e)}_handlePortalSuspended(e){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(e){if(this.activeQuery==null){const n=new Error("Received unexpected commandComplete message from backend.");this._handleErrorEvent(n);return}this.activeQuery.handleCommandComplete(e,this.connection)}_handleParseComplete(){if(this.activeQuery==null){const e=new Error("Received unexpected parseComplete message from backend.");this._handleErrorEvent(e);return}this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(e){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(e){this.activeQuery.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){const e=this.connectionParameters,n={user:e.user,database:e.database},r=e.application_name||e.fallback_application_name;return r&&(n.application_name=r),e.replication&&(n.replication=""+e.replication),e.statement_timeout&&(n.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(n.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(n.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(n.options=e.options),n}cancel(e,n){if(e.activeQuery===n){const r=this.connection;this.host&&this.host.indexOf("/")===0?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){r.cancel(e.processID,e.secretKey)})}else e.queryQueue.indexOf(n)!==-1&&e.queryQueue.splice(e.queryQueue.indexOf(n),1)}setTypeParser(e,n,r){return this._types.setTypeParser(e,n,r)}getTypeParser(e,n){return this._types.getTypeParser(e,n)}escapeIdentifier(e){return E1.escapeIdentifier(e)}escapeLiteral(e){return E1.escapeLiteral(e)}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;const e=this.activeQuery.submit(this.connection);e&&process.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(e,n,r){let s,i,o,a,c;if(e==null)throw new TypeError("Client was passed a null or undefined query");return typeof e.submit=="function"?(o=e.query_timeout||this.connectionParameters.query_timeout,i=s=e,typeof n=="function"&&(s.callback=s.callback||n)):(o=e.query_timeout||this.connectionParameters.query_timeout,s=new SI(e,n,r),s.callback||(i=new this._Promise((l,u)=>{s.callback=(d,p)=>d?u(d):l(p)}).catch(l=>{throw Error.captureStackTrace(l),l}))),o&&(c=s.callback,a=setTimeout(()=>{const l=new Error("Query read timeout");process.nextTick(()=>{s.handleError(l,this.connection)}),c(l),s.callback=()=>{};const u=this.queryQueue.indexOf(s);u>-1&&this.queryQueue.splice(u,1),this._pulseQueryQueue()},o),s.callback=(l,u)=>{clearTimeout(a),c(l,u)}),this.binary&&!s.binary&&(s.binary=!0),s._result&&!s._result._types&&(s._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{s.handleError(new Error("Client was closed and is not queryable"),this.connection)}),i):(this.queryQueue.push(s),this._pulseQueryQueue(),i):(process.nextTick(()=>{s.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),i)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting||this._ended)if(e)e();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),e)this.connection.once("end",e);else return new this._Promise(n=>{this.connection.once("end",n)})}};_I.Query=SI;var iY=_I;const oY=Tl(fj),aY=he.EventEmitter,k1=function(){},C1=(t,e)=>{const n=t.findIndex(e);return n===-1?void 0:t.splice(n,1)[0]};class cY{constructor(e,n,r){this.client=e,this.idleListener=n,this.timeoutId=r}}class Mu{constructor(e){this.callback=e}}function lY(){throw new Error("Release called on client which has already been released to the pool.")}function Du(t,e){if(e)return{callback:e,result:void 0};let n,r;const s=function(o,a){o?n(o):r(a)},i=new t(function(o,a){r=o,n=a}).catch(o=>{throw Error.captureStackTrace(o),o});return{callback:s,result:i}}function uY(t,e){return function n(r){r.client=e,e.removeListener("error",n),e.on("error",()=>{t.log("additional client error after disconnection due to error",r)}),t._remove(e),t.emit("error",r,e)}}let dY=class extends aY{constructor(e,n){super(),this.options=Object.assign({},e),e!=null&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),e!=null&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||n||oY.Client,this.Promise=this.options.Promise||globalThis.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(n=>{this._remove(n.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;const e=this._pendingQueue.shift();if(this._idle.length){const n=this._idle.pop();clearTimeout(n.timeoutId);const r=n.client;r.ref&&r.ref();const s=n.idleListener;return this._acquireClient(r,e,s,!1)}if(!this._isFull())return this.newClient(e);throw new Error("unexpected condition")}_remove(e,n){const r=C1(this._idle,i=>i.client===e);r!==void 0&&clearTimeout(r.timeoutId),this._clients=this._clients.filter(i=>i!==e);const s=this;e.end(()=>{s.emit("remove",e),typeof n=="function"&&n()})}connect(e){if(this.ending){const s=new Error("Cannot use a pool after calling end on the pool");return e?e(s):this.Promise.reject(s)}const n=Du(this.Promise,e),r=n.result;if(this._isFull()||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new Mu(n.callback)),r;const s=(a,c,l)=>{clearTimeout(o),n.callback(a,c,l)},i=new Mu(s),o=setTimeout(()=>{C1(this._pendingQueue,a=>a.callback===s),i.timedOut=!0,n.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return o.unref&&o.unref(),this._pendingQueue.push(i),r}return this.newClient(new Mu(n.callback)),r}newClient(e){const n=new this.Client(this.options);this._clients.push(n);const r=uY(this,n);this.log("checking client timeout");let s,i=!1;this.options.connectionTimeoutMillis&&(s=setTimeout(()=>{this.log("ending client due to timeout"),i=!0,n.connection?n.connection.stream.destroy():n.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),n.connect(o=>{if(s&&clearTimeout(s),n.on("error",r),o)this.log("client failed to connect",o),this._clients=this._clients.filter(a=>a!==n),i&&(o=new Error("Connection terminated due to connection timeout",{cause:o})),this._pulseQueue(),e.timedOut||e.callback(o,void 0,k1);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){const a=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(n),this._idle.findIndex(l=>l.client===n)!==-1&&this._acquireClient(n,new Mu((l,u,d)=>d()),r,!1)},this.options.maxLifetimeSeconds*1e3);a.unref(),n.once("end",()=>clearTimeout(a))}return this._acquireClient(n,e,r,!0)}})}_acquireClient(e,n,r,s){s&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,r),e.removeListener("error",r),n.timedOut?s&&this.options.verify?this.options.verify(e,e.release):e.release():s&&this.options.verify?this.options.verify(e,i=>{if(i)return e.release(i),n.callback(i,void 0,k1);n.callback(void 0,e,e.release)}):n.callback(void 0,e,e.release)}_releaseOnce(e,n){let r=!1;return s=>{r&&lY(),r=!0,this._release(e,n,s)}}_release(e,n,r){if(e.on("error",n),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",r,e),r||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses)return e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e,this._pulseQueue.bind(this));if(this._expired.has(e))return this.log("remove expired client"),this._expired.delete(e),this._remove(e,this._pulseQueue.bind(this));let i;this.options.idleTimeoutMillis&&this._isAboveMin()&&(i=setTimeout(()=>{this.log("remove idle client"),this._remove(e,this._pulseQueue.bind(this))},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&i.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new cY(e,n,i)),this._pulseQueue()}query(e,n,r){if(typeof e=="function"){const i=Du(this.Promise,e);return setImmediate(function(){return i.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),i.result}typeof n=="function"&&(r=n,n=void 0);const s=Du(this.Promise,r);return r=s.callback,this.connect((i,o)=>{if(i)return r(i);let a=!1;const c=l=>{a||(a=!0,o.release(l),r(l))};o.once("error",c),this.log("dispatching query");try{o.query(e,n,(l,u)=>{if(this.log("query dispatched"),o.removeListener("error",c),!a)return a=!0,o.release(l),l?r(l):r(void 0,u)})}catch(l){return o.release(l),r(l)}}),s.result}end(e){if(this.log("ending"),this.ending){const r=new Error("Called end on pool more than once");return e?e(r):this.Promise.reject(r)}this.ending=!0;const n=Du(this.Promise,e);return this._endCallback=n.callback,this._pulseQueue(),n.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,n)=>e+(this._expired.has(n)?1:0),0)}get totalCount(){return this._clients.length}};var pY=dY,Zh={exports:{}};const fY={},hY=Object.freeze(Object.defineProperty({__proto__:null,default:fY},Symbol.toStringTag,{value:"Module"})),mY=Tl(hY);var em={exports:{}},A1;function gY(){if(A1)return em.exports;A1=1;const t=he.EventEmitter,e=he,n=_l,r=em.exports=function(i,o,a){t.call(this),i=n.normalizeQueryConfig(i,o,a),this.text=i.text,this.values=i.values,this.name=i.name,this.queryMode=i.queryMode,this.callback=i.callback,this.state="new",this._arrayMode=i.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",(function(c){c==="row"&&(this._emitRowEvents=!0)}).bind(this))};e.inherits(r,t);const s={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};return r.prototype.handleError=function(i){const o=this.native.pq.resultErrorFields();if(o)for(const a in o){const c=s[a]||a;i[c]=o[a]}this.callback?this.callback(i):this.emit("error",i),this.state="error"},r.prototype.then=function(i,o){return this._getPromise().then(i,o)},r.prototype.catch=function(i){return this._getPromise().catch(i)},r.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise((function(i,o){this._once("end",i),this._once("error",o)}).bind(this)),this._promise)},r.prototype.submit=function(i){this.state="running";const o=this;this.native=i.native,i.native.arrayMode=this._arrayMode;let a=function(c,l,u){if(i.native.arrayMode=!1,setImmediate(function(){o.emit("_done")}),c)return o.handleError(c);o._emitRowEvents&&(u.length>1?l.forEach((d,p)=>{d.forEach(x=>{o.emit("row",x,u[p])})}):l.forEach(function(d){o.emit("row",d,u)})),o.state="end",o.emit("end",u),o.callback&&o.callback(null,u)};if(process.domain&&(a=process.domain.bind(a)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));const c=(this.values||[]).map(n.prepareValue);if(i.namedQueries[this.name]){if(this.text&&i.namedQueries[this.name]!==this.text){const l=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return a(l)}return i.native.execute(this.name,c,a)}return i.native.prepare(this.name,this.text,c.length,function(l){return l?a(l):(i.namedQueries[o.name]=o.text,o.native.execute(o.name,c,a))})}else if(this.values){if(!Array.isArray(this.values)){const l=new Error("Query values must be an array");return a(l)}const c=this.values.map(n.prepareValue);i.native.query(this.text,c,a)}else this.queryMode==="extended"?i.native.query(this.text,[],a):i.native.query(this.text,a)},em.exports}var T1;function yY(){if(T1)return Zh.exports;T1=1;var t;try{t=mY}catch(a){throw a}const e=j0,n=he.EventEmitter,r=he,s=vI,i=gY(),o=Zh.exports=function(a){n.call(this),a=a||{},this._Promise=a.Promise||globalThis.Promise,this._types=new e(a.types),this.native=new t({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;const c=this.connectionParameters=new s(a);a.nativeConnectionString&&(c.nativeConnectionString=a.nativeConnectionString),this.user=c.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:c.password}),this.database=c.database,this.host=c.host,this.port=c.port,this.namedQueries={}};return o.Query=i,r.inherits(o,n),o.prototype._errorAllQueries=function(a){const c=l=>{process.nextTick(()=>{l.native=this.native,l.handleError(a)})};this._hasActiveQuery()&&(c(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(c),this._queryQueue.length=0},o.prototype._connect=function(a){const c=this;if(this._connecting){process.nextTick(()=>a(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(l,u){if(c.connectionParameters.nativeConnectionString&&(u=c.connectionParameters.nativeConnectionString),l)return a(l);c.native.connect(u,function(d){if(d)return c.native.end(),a(d);c._connected=!0,c.native.on("error",function(p){c._queryable=!1,c._errorAllQueries(p),c.emit("error",p)}),c.native.on("notification",function(p){c.emit("notification",{channel:p.relname,payload:p.extra})}),c.emit("connect"),c._pulseQueryQueue(!0),a()})})},o.prototype.connect=function(a){if(a){this._connect(a);return}return new this._Promise((c,l)=>{this._connect(u=>{u?l(u):c()})})},o.prototype.query=function(a,c,l){let u,d,p,x,y;if(a==null)throw new TypeError("Client was passed a null or undefined query");if(typeof a.submit=="function")p=a.query_timeout||this.connectionParameters.query_timeout,d=u=a,typeof c=="function"&&(a.callback=c);else if(p=a.query_timeout||this.connectionParameters.query_timeout,u=new i(a,c,l),!u.callback){let h,w;d=new this._Promise((m,b)=>{h=m,w=b}).catch(m=>{throw Error.captureStackTrace(m),m}),u.callback=(m,b)=>m?w(m):h(b)}return p&&(y=u.callback,x=setTimeout(()=>{const h=new Error("Query read timeout");process.nextTick(()=>{u.handleError(h,this.connection)}),y(h),u.callback=()=>{};const w=this._queryQueue.indexOf(u);w>-1&&this._queryQueue.splice(w,1),this._pulseQueryQueue()},p),u.callback=(h,w)=>{clearTimeout(x),y(h,w)}),this._queryable?this._ending?(u.native=this.native,process.nextTick(()=>{u.handleError(new Error("Client was closed and is not queryable"))}),d):(this._queryQueue.push(u),this._pulseQueryQueue(),d):(u.native=this.native,process.nextTick(()=>{u.handleError(new Error("Client has encountered a connection error and is not queryable"))}),d)},o.prototype.end=function(a){const c=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,a));let l;return a||(l=new this._Promise(function(u,d){a=p=>p?d(p):u()})),this.native.end(function(){c._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{c.emit("end"),a&&a()})}),l},o.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},o.prototype._pulseQueryQueue=function(a){if(!this._connected||this._hasActiveQuery())return;const c=this._queryQueue.shift();if(!c){a||this.emit("drain");return}this._activeQuery=c,c.submit(this);const l=this;c.once("_done",function(){l._pulseQueryQueue()})},o.prototype.cancel=function(a){this._activeQuery===a?this.native.cancel(function(){}):this._queryQueue.indexOf(a)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(a),1)},o.prototype.ref=function(){},o.prototype.unref=function(){},o.prototype.setTypeParser=function(a,c,l){return this._types.setTypeParser(a,c,l)},o.prototype.getTypeParser=function(a,c){return this._types.getTypeParser(a,c)},Zh.exports}var tm,N1;function R1(){return N1||(N1=1,tm=yY()),tm}(function(t){var e={};const n=iY,r=kf,s=wI,i=xI,o=_l,a=pY,c=j0,{DatabaseError:l}=F0,{escapeIdentifier:u,escapeLiteral:d}=_l,p=y=>class extends a{constructor(w){super(w,y)}},x=function(y){this.defaults=r,this.Client=y,this.Query=this.Client.Query,this.Pool=p(this.Client),this._pools=[],this.Connection=s,this.types=Ci,this.DatabaseError=l,this.TypeOverrides=c,this.escapeIdentifier=u,this.escapeLiteral=d,this.Result=i,this.utils=o};typeof e.NODE_PG_FORCE_NATIVE<"u"?t.exports=new x(R1()):(t.exports=new x(n),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){let y=null;try{y=new x(R1())}catch(h){if(h.code!=="MODULE_NOT_FOUND")throw h}return Object.defineProperty(t.exports,"native",{value:y}),y}}))})(rI);var vY=rI.exports;const rn=my(vY),xY=rn.Client,EI=rn.Pool,bY=rn.Connection,wY=rn.types,SY=rn.Query,_Y=rn.DatabaseError,EY=rn.escapeIdentifier,kY=rn.escapeLiteral,CY=rn.Result,AY=rn.TypeOverrides,TY=rn.defaults,{Pool:O1,types:Ar}=rn;var aA,cA;class kI extends(cA=bO,aA=G,cA){constructor(n,r,s,i,o,a,c,l){super({sql:r,params:s});N(this,"rawQueryConfig");N(this,"queryConfig");this.client=n,this.params=s,this.logger=i,this.fields=o,this._isResponseInArrayMode=c,this.customResultMapper=l,this.rawQueryConfig={name:a,text:r,types:{getTypeParser:(u,d)=>u===Ar.builtins.TIMESTAMPTZ?p=>p:u===Ar.builtins.TIMESTAMP?p=>p:u===Ar.builtins.DATE?p=>p:u===Ar.builtins.INTERVAL?p=>p:Ar.getTypeParser(u,d)}},this.queryConfig={name:a,text:r,rowMode:"array",types:{getTypeParser:(u,d)=>u===Ar.builtins.TIMESTAMPTZ?p=>p:u===Ar.builtins.TIMESTAMP?p=>p:u===Ar.builtins.DATE?p=>p:u===Ar.builtins.INTERVAL?p=>p:Ar.getTypeParser(u,d)}}}async execute(n={}){return Lt.startActiveSpan("drizzle.execute",async()=>{const r=Hb(this.params,n);this.logger.logQuery(this.rawQueryConfig.text,r);const{fields:s,rawQueryConfig:i,client:o,queryConfig:a,joinsNotNullableMap:c,customResultMapper:l}=this;if(!s&&!l)return Lt.startActiveSpan("drizzle.driver.execute",async d=>(d==null||d.setAttributes({"drizzle.query.name":i.name,"drizzle.query.text":i.text,"drizzle.query.params":JSON.stringify(r)}),o.query(i,r)));const u=await Lt.startActiveSpan("drizzle.driver.execute",d=>(d==null||d.setAttributes({"drizzle.query.name":a.name,"drizzle.query.text":a.text,"drizzle.query.params":JSON.stringify(r)}),o.query(a,r)));return Lt.startActiveSpan("drizzle.mapResponse",()=>l?l(u.rows):u.rows.map(d=>nB(s,d,c)))})}all(n={}){return Lt.startActiveSpan("drizzle.execute",()=>{const r=Hb(this.params,n);return this.logger.logQuery(this.rawQueryConfig.text,r),Lt.startActiveSpan("drizzle.driver.execute",s=>(s==null||s.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(r)}),this.client.query(this.rawQueryConfig,r).then(i=>i.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}}N(kI,aA,"NodePgPreparedQuery");var lA,uA;const Ep=class Ep extends(uA=wO,lA=G,uA){constructor(n,r,s,i={}){super(r);N(this,"logger");this.client=n,this.schema=s,this.options=i,this.logger=i.logger??new IO}prepareQuery(n,r,s,i,o){return new kI(this.client,n.sql,n.params,this.logger,r,s,i,o)}async transaction(n,r){const s=this.client instanceof O1?new Ep(await this.client.connect(),this.dialect,this.schema,this.options):this,i=new cy(this.dialect,s,this.schema);await i.execute($`begin${r?$` ${i.getTransactionConfigSQL(r)}`:void 0}`);try{const o=await n(i);return await i.execute($`commit`),o}catch(o){throw await i.execute($`rollback`),o}finally{this.client instanceof O1&&s.client.release()}}async count(n){const r=await this.execute(n);return Number(r.rows[0].count)}};N(Ep,lA,"NodePgSession");let ay=Ep;var dA,pA;const kp=class kp extends(pA=SO,dA=G,pA){async transaction(e){const n=`sp${this.nestedIndex+1}`,r=new kp(this.dialect,this.session,this.schema,this.nestedIndex+1);await r.execute($.raw(`savepoint ${n}`));try{const s=await e(r);return await r.execute($.raw(`release savepoint ${n}`)),s}catch(s){throw await r.execute($.raw(`rollback to savepoint ${n}`)),s}}};N(kp,dA,"NodePgTransaction");let cy=kp;var fA;fA=G;class CI{constructor(e,n,r={}){this.client=e,this.dialect=n,this.options=r}createSession(e){return new ay(this.client,this.dialect,e,{logger:this.options.logger})}}N(CI,fA,"NodePgDriver");var hA,mA;class AI extends(mA=zv,hA=G,mA){}N(AI,hA,"NodePgDatabase");function Cc(t,e={}){const n=new $c({casing:e.casing});let r;e.logger===!0?r=new PO:e.logger!==!1&&(r=e.logger);let s;if(e.schema){const c=i4(e.schema,l4);s={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}const o=new CI(t,n,{logger:r}).createSession(s),a=new AI(n,o,s);return a.$client=t,a}function ly(...t){if(typeof t[0]=="string"){const e=new rn.Pool({connectionString:t[0]});return Cc(e,t[1])}if(iB(t[0])){const{connection:e,client:n,...r}=t[0];if(n)return Cc(n,r);const s=typeof e=="string"?new rn.Pool({connectionString:e}):new rn.Pool(e);return Cc(s,r)}return Cc(t[0],t[1])}(t=>{function e(n){return Cc({},n)}t.mock=e})(ly||(ly={}));var NY={};const RY=_i("role",["CONSUMER","MERCHANT","DRIVER","ADMIN"]),OY=_i("verification_status",["PENDING","APPROVED","REJECTED"]),PY=_i("order_status",["PENDING","CONFIRMED","IN_PROGRESS","DELIVERED","CANCELLED"]),IY=_i("payment_status",["PENDING","COMPLETED","FAILED","REFUNDED"]),hs=Ne("users",{id:Ae("id").primaryKey(),email:H("email").unique().notNull(),password:H("password"),fullName:H("full_name").notNull(),phone:H("phone"),role:RY("role").default("CONSUMER"),isVerified:He("is_verified").default(!1),isActive:He("is_active").default(!0),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()}),jY=Ne("identity_verifications",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>hs.id).notNull(),documentType:H("document_type").notNull(),documentNumber:H("document_number").notNull(),documentImageUrl:H("document_image_url"),verificationStatus:OY("verification_status").default("PENDING"),submittedAt:te("submitted_at").defaultNow(),reviewedAt:te("reviewed_at"),reviewedBy:oe("reviewed_by").references(()=>hs.id),rejectionReason:H("rejection_reason")}),TI=Ne("orders",{id:Ae("id").primaryKey(),orderNumber:H("order_number").unique().notNull(),customerId:oe("customer_id").references(()=>hs.id).notNull(),merchantId:oe("merchant_id").references(()=>hs.id),driverId:oe("driver_id").references(()=>hs.id),orderType:H("order_type").notNull(),status:PY("status").default("PENDING"),totalAmount:Fe("total_amount",{precision:10,scale:2}).notNull(),deliveryAddress:H("delivery_address"),orderData:Ze("order_data"),createdAt:te("created_at").defaultNow(),updatedAt:te("updated_at").defaultNow()}),FY=Ne("transactions",{id:Ae("id").primaryKey(),orderId:oe("order_id").references(()=>TI.id),userId:oe("user_id").references(()=>hs.id).notNull(),amount:Fe("amount",{precision:10,scale:2}).notNull(),currency:H("currency").default("NGN"),paymentMethod:H("payment_method").notNull(),paymentStatus:IY("payment_status").default("PENDING"),transactionRef:H("transaction_ref").unique(),paymentGatewayRef:H("payment_gateway_ref"),metadata:Ze("metadata"),createdAt:te("created_at").defaultNow()}),MY=Ne("notifications",{id:Ae("id").primaryKey(),userId:oe("user_id").references(()=>hs.id).notNull(),title:H("title").notNull(),message:H("message").notNull(),type:H("type").notNull(),isRead:He("is_read").default(!1),metadata:Ze("metadata"),createdAt:te("created_at").defaultNow()}),DY=Ne("error_logs",{id:Ae("id").primaryKey(),message:H("message").notNull(),stack:H("stack"),url:H("url"),userAgent:H("user_agent"),userId:oe("user_id").references(()=>hs.id),severity:H("severity").default("MEDIUM"),source:H("source").default("backend"),timestamp:te("timestamp").defaultNow(),metadata:Ze("metadata")}),LY=new EI({connectionString:NY.DATABASE_URL});ly(LY,{schema:{users:hs,identityVerifications:jY,orders:TI,transactions:FY,notifications:MY,errorLogs:DY}});var mp=Ya.Buffer,BY=he,$Y=he;function Pf(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=mp.alloc(0),this;if(typeof t.pipe=="function")return this.buffer=mp.alloc(0),t.pipe(this),this;if(t.length||typeof t=="object")return this.buffer=t,this.writable=!1,process.nextTick((function(){this.emit("end",t),this.readable=!1,this.emit("close")}).bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}$Y.inherits(Pf,BY);Pf.prototype.write=function(e){this.buffer=mp.concat([this.buffer,mp.from(e)]),this.emit("data",e)};Pf.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1};var NI=Pf;function nm(t){var e=(t/8|0)+(t%8===0?0:1);return e}var zY={ES256:nm(256),ES384:nm(384),ES512:nm(521)};function UY(t){var e=zY[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}var qY=UY,gp=Ya.Buffer,RI=qY,yp=128,OI=0,QY=32,VY=16,HY=2,PI=VY|QY|OI<<6,vp=HY|OI<<6;function GY(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function II(t){if(gp.isBuffer(t))return t;if(typeof t=="string")return gp.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function WY(t,e){t=II(t);var n=RI(e),r=n+1,s=t.length,i=0;if(t[i++]!==PI)throw new Error('Could not find expected "seq"');var o=t[i++];if(o===(yp|1)&&(o=t[i++]),s-i<o)throw new Error('"seq" specified length of "'+o+'", only "'+(s-i)+'" remaining');if(t[i++]!==vp)throw new Error('Could not find expected "int" for "r"');var a=t[i++];if(s-i-2<a)throw new Error('"r" specified length of "'+a+'", only "'+(s-i-2)+'" available');if(r<a)throw new Error('"r" specified length of "'+a+'", max of "'+r+'" is acceptable');var c=i;if(i+=a,t[i++]!==vp)throw new Error('Could not find expected "int" for "s"');var l=t[i++];if(s-i!==l)throw new Error('"s" specified length of "'+l+'", expected "'+(s-i)+'"');if(r<l)throw new Error('"s" specified length of "'+l+'", max of "'+r+'" is acceptable');var u=i;if(i+=l,i!==s)throw new Error('Expected to consume entire buffer, but "'+(s-i)+'" bytes remain');var d=n-a,p=n-l,x=gp.allocUnsafe(d+a+p+l);for(i=0;i<d;++i)x[i]=0;t.copy(x,i,c+Math.max(-d,0),c+a),i=n;for(var y=i;i<y+p;++i)x[i]=0;return t.copy(x,i,u+Math.max(-p,0),u+l),x=x.toString("base64"),x=GY(x),x}function P1(t,e,n){for(var r=0;e+r<n&&t[e+r]===0;)++r;var s=t[e+r]>=yp;return s&&--r,r}function KY(t,e){t=II(t);var n=RI(e),r=t.length;if(r!==n*2)throw new TypeError('"'+e+'" signatures must be "'+n*2+'" bytes, saw "'+r+'"');var s=P1(t,0,n),i=P1(t,n,t.length),o=n-s,a=n-i,c=2+o+1+1+a,l=c<yp,u=gp.allocUnsafe((l?2:3)+c),d=0;return u[d++]=PI,l?u[d++]=c:(u[d++]=yp|1,u[d++]=c&255),u[d++]=vp,u[d++]=o,s<0?(u[d++]=0,d+=t.copy(u,d,0,n)):d+=t.copy(u,d,s,n),u[d++]=vp,u[d++]=a,i<0?(u[d++]=0,t.copy(u,d,n)):t.copy(u,d,n+i),u}var YY={derToJose:WY,joseToDer:KY},rm,I1;function JY(){if(I1)return rm;I1=1;var t=Pa.Buffer,e=Pa.SlowBuffer;rm=n;function n(i,o){if(!t.isBuffer(i)||!t.isBuffer(o)||i.length!==o.length)return!1;for(var a=0,c=0;c<i.length;c++)a|=i[c]^o[c];return a===0}n.install=function(){t.prototype.equal=e.prototype.equal=function(o){return n(this,o)}};var r=t.prototype.equal,s=e.prototype.equal;return n.restore=function(){t.prototype.equal=r,e.prototype.equal=s},rm}var Fa=Ya.Buffer,tr=he,jI=YY,j1=he,XY=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,Ac="secret must be a string or buffer",Fo="key must be a string or a buffer",ZY="key must be a string, a buffer or an object",L0=typeof tr.createPublicKey=="function";L0&&(Fo+=" or a KeyObject",Ac+="or a KeyObject");function FI(t){if(!Fa.isBuffer(t)&&typeof t!="string"&&(!L0||typeof t!="object"||typeof t.type!="string"||typeof t.asymmetricKeyType!="string"||typeof t.export!="function"))throw gr(Fo)}function MI(t){if(!Fa.isBuffer(t)&&typeof t!="string"&&typeof t!="object")throw gr(ZY)}function eJ(t){if(!Fa.isBuffer(t)){if(typeof t=="string")return t;if(!L0||typeof t!="object"||t.type!=="secret"||typeof t.export!="function")throw gr(Ac)}}function B0(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function DI(t){t=t.toString();var e=4-t.length%4;if(e!==4)for(var n=0;n<e;++n)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}function gr(t){var e=[].slice.call(arguments,1),n=j1.format.bind(j1,t).apply(null,e);return new TypeError(n)}function tJ(t){return Fa.isBuffer(t)||typeof t=="string"}function eu(t){return tJ(t)||(t=JSON.stringify(t)),t}function LI(t){return function(n,r){eJ(r),n=eu(n);var s=tr.createHmac("sha"+t,r),i=(s.update(n),s.digest("base64"));return B0(i)}}var sm,nJ="timingSafeEqual"in tr?function(e,n){return e.byteLength!==n.byteLength?!1:tr.timingSafeEqual(e,n)}:function(e,n){return sm||(sm=JY()),sm(e,n)};function rJ(t){return function(n,r,s){var i=LI(t)(n,s);return nJ(Fa.from(r),Fa.from(i))}}function BI(t){return function(n,r){MI(r),n=eu(n);var s=tr.createSign("RSA-SHA"+t),i=(s.update(n),s.sign(r,"base64"));return B0(i)}}function $I(t){return function(n,r,s){FI(s),n=eu(n),r=DI(r);var i=tr.createVerify("RSA-SHA"+t);return i.update(n),i.verify(s,r,"base64")}}function sJ(t){return function(n,r){MI(r),n=eu(n);var s=tr.createSign("RSA-SHA"+t),i=(s.update(n),s.sign({key:r,padding:tr.constants.RSA_PKCS1_PSS_PADDING,saltLength:tr.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return B0(i)}}function iJ(t){return function(n,r,s){FI(s),n=eu(n),r=DI(r);var i=tr.createVerify("RSA-SHA"+t);return i.update(n),i.verify({key:s,padding:tr.constants.RSA_PKCS1_PSS_PADDING,saltLength:tr.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function oJ(t){var e=BI(t);return function(){var r=e.apply(null,arguments);return r=jI.derToJose(r,"ES"+t),r}}function aJ(t){var e=$I(t);return function(r,s,i){s=jI.joseToDer(s,"ES"+t).toString("base64");var o=e(r,s,i);return o}}function cJ(){return function(){return""}}function lJ(){return function(e,n){return n===""}}var zI=function(e){var n={hs:LI,rs:BI,ps:sJ,es:oJ,none:cJ},r={hs:rJ,rs:$I,ps:iJ,es:aJ,none:lJ},s=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!s)throw gr(XY,e);var i=(s[1]||s[3]).toLowerCase(),o=s[2];return{sign:n[i](o),verify:r[i](o)}},uJ=Pa.Buffer,UI=function(e){return typeof e=="string"?e:typeof e=="number"||uJ.isBuffer(e)?e.toString():JSON.stringify(e)},dJ=Ya.Buffer,F1=NI,pJ=zI,fJ=he,M1=UI,$0=he;function D1(t,e){return dJ.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hJ(t,e,n){n=n||"utf8";var r=D1(M1(t),"binary"),s=D1(M1(e),n);return $0.format("%s.%s",r,s)}function qI(t){var e=t.header,n=t.payload,r=t.secret||t.privateKey,s=t.encoding,i=pJ(e.alg),o=hJ(e,n,s),a=i.sign(o,r);return $0.format("%s.%s",o,a)}function If(t){var e=t.secret||t.privateKey||t.key,n=new F1(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=n,this.payload=new F1(t.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}$0.inherits(If,fJ);If.prototype.sign=function(){try{var e=qI({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};If.sign=qI;var mJ=If,QI=Ya.Buffer,L1=NI,gJ=zI,yJ=he,VI=UI,vJ=he,xJ=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function bJ(t){return Object.prototype.toString.call(t)==="[object Object]"}function wJ(t){if(bJ(t))return t;try{return JSON.parse(t)}catch{return}}function HI(t){var e=t.split(".",1)[0];return wJ(QI.from(e,"base64").toString("binary"))}function SJ(t){return t.split(".",2).join(".")}function GI(t){return t.split(".")[2]}function _J(t,e){e=e||"utf8";var n=t.split(".")[1];return QI.from(n,"base64").toString(e)}function WI(t){return xJ.test(t)&&!!HI(t)}function KI(t,e,n){if(!e){var r=new Error("Missing algorithm parameter for jws.verify");throw r.code="MISSING_ALGORITHM",r}t=VI(t);var s=GI(t),i=SJ(t),o=gJ(e);return o.verify(i,s,n)}function YI(t,e){if(e=e||{},t=VI(t),!WI(t))return null;var n=HI(t);if(!n)return null;var r=_J(t);return(n.typ==="JWT"||e.json)&&(r=JSON.parse(r,e.encoding)),{header:n,payload:r,signature:GI(t)}}function Ja(t){t=t||{};var e=t.secret||t.publicKey||t.key,n=new L1(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=n,this.signature=new L1(t.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}vJ.inherits(Ja,yJ);Ja.prototype.verify=function(){try{var e=KI(this.signature.buffer,this.algorithm,this.key.buffer),n=YI(this.signature.buffer,this.encoding);return this.emit("done",e,n),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}};Ja.decode=YI;Ja.isValid=WI;Ja.verify=KI;var EJ=Ja,kJ=mJ,z0=EJ;kJ.sign;z0.verify;z0.decode;z0.isValid;var xp=function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e)};xp.prototype=Object.create(Error.prototype);xp.prototype.constructor=xp;var JI=xp,XI=JI,uy=function(t,e){XI.call(this,t),this.name="NotBeforeError",this.date=e};uy.prototype=Object.create(XI.prototype);uy.prototype.constructor=uy;var ZI=JI,dy=function(t,e){ZI.call(this,t),this.name="TokenExpiredError",this.expiredAt=e};dy.prototype=Object.create(ZI.prototype);dy.prototype.constructor=dy;var py={exports:{}};const CJ="2.0.0",ej=256,AJ=Number.MAX_SAFE_INTEGER||9007199254740991,TJ=16,NJ=ej-6,RJ=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var jf={MAX_LENGTH:ej,MAX_SAFE_COMPONENT_LENGTH:TJ,MAX_SAFE_BUILD_LENGTH:NJ,MAX_SAFE_INTEGER:AJ,RELEASE_TYPES:RJ,SEMVER_SPEC_VERSION:CJ,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},im={};const OJ=typeof process=="object"&&im&&im.NODE_DEBUG&&/\bsemver\b/i.test(im.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Ff=OJ;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:s}=jf,i=Ff;e=t.exports={};const o=e.re=[],a=e.safeRe=[],c=e.src=[],l=e.safeSrc=[],u=e.t={};let d=0;const p="[a-zA-Z0-9-]",x=[["\\s",1],["\\d",s],[p,r]],y=w=>{for(const[m,b]of x)w=w.split(`${m}*`).join(`${m}{0,${b}}`).split(`${m}+`).join(`${m}{1,${b}}`);return w},h=(w,m,b)=>{const g=y(m),_=d++;i(w,_,m),u[w]=_,c[_]=m,l[_]=g,o[_]=new RegExp(m,b?"g":void 0),a[_]=new RegExp(g,b?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","\\d+"),h("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),h("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER",`${p}+`),h("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),h("FULL",`^${c[u.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),h("LOOSE",`^${c[u.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),h("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),h("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),h("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),h("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),h("COERCERTL",c[u.COERCE],!0),h("COERCERTLFULL",c[u.COERCEFULL],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",h("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",h("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(py,py.exports);var tu=py.exports;const PJ=Object.freeze({loose:!0}),IJ=Object.freeze({}),jJ=t=>t?typeof t!="object"?PJ:t:IJ;var U0=jJ;const B1=/^[0-9]+$/,tj=(t,e)=>{const n=B1.test(t),r=B1.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},FJ=(t,e)=>tj(e,t);var nj={compareIdentifiers:tj,rcompareIdentifiers:FJ};const Lu=Ff,{MAX_LENGTH:$1,MAX_SAFE_INTEGER:Bu}=jf,{safeRe:$u,t:zu}=tu,MJ=U0,{compareIdentifiers:Oo}=nj;let DJ=class Tr{constructor(e,n){if(n=MJ(n),e instanceof Tr){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>$1)throw new TypeError(`version is longer than ${$1} characters`);Lu("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?$u[zu.LOOSE]:$u[zu.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Bu||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Bu||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Bu||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<Bu)return i}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Lu("SemVer.compare",this.version,this.options,e),!(e instanceof Tr)){if(typeof e=="string"&&e===this.version)return 0;e=new Tr(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Tr||(e=new Tr(e,this.options)),Oo(this.major,e.major)||Oo(this.minor,e.minor)||Oo(this.patch,e.patch)}comparePre(e){if(e instanceof Tr||(e=new Tr(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],s=e.prerelease[n];if(Lu("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return Oo(r,s)}while(++n)}compareBuild(e){e instanceof Tr||(e=new Tr(e,this.options));let n=0;do{const r=this.build[n],s=e.build[n];if(Lu("build compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return Oo(r,s)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){const s=`-${n}`.match(this.options.loose?$u[zu.PRERELEASELOOSE]:$u[zu.PRERELEASE]);if(!s||s[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(n){let i=[n,s];r===!1&&(i=[n]),Oo(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var vn=DJ;const z1=vn,LJ=(t,e,n=!1)=>{if(t instanceof z1)return t;try{return new z1(t,e)}catch(r){if(!n)return null;throw r}};var Xa=LJ;const BJ=Xa,$J=(t,e)=>{const n=BJ(t,e);return n?n.version:null};var zJ=$J;const UJ=Xa,qJ=(t,e)=>{const n=UJ(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};var QJ=qJ;const U1=vn,VJ=(t,e,n,r,s)=>{typeof n=="string"&&(s=r,r=n,n=void 0);try{return new U1(t instanceof U1?t.version:t,n).inc(e,r,s).version}catch{return null}};var HJ=VJ;const q1=Xa,GJ=(t,e)=>{const n=q1(t,null,!0),r=q1(e,null,!0),s=n.compare(r);if(s===0)return null;const i=s>0,o=i?n:r,a=i?r:n,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c){if(!a.patch&&!a.minor)return"major";if(a.compareMain(o)===0)return a.minor&&!a.patch?"minor":"patch"}const u=c?"pre":"";return n.major!==r.major?u+"major":n.minor!==r.minor?u+"minor":n.patch!==r.patch?u+"patch":"prerelease"};var WJ=GJ;const KJ=vn,YJ=(t,e)=>new KJ(t,e).major;var JJ=YJ;const XJ=vn,ZJ=(t,e)=>new XJ(t,e).minor;var eX=ZJ;const tX=vn,nX=(t,e)=>new tX(t,e).patch;var rX=nX;const sX=Xa,iX=(t,e)=>{const n=sX(t,e);return n&&n.prerelease.length?n.prerelease:null};var oX=iX;const Q1=vn,aX=(t,e,n)=>new Q1(t,n).compare(new Q1(e,n));var Er=aX;const cX=Er,lX=(t,e,n)=>cX(e,t,n);var uX=lX;const dX=Er,pX=(t,e)=>dX(t,e,!0);var fX=pX;const V1=vn,hX=(t,e,n)=>{const r=new V1(t,n),s=new V1(e,n);return r.compare(s)||r.compareBuild(s)};var q0=hX;const mX=q0,gX=(t,e)=>t.sort((n,r)=>mX(n,r,e));var yX=gX;const vX=q0,xX=(t,e)=>t.sort((n,r)=>vX(r,n,e));var bX=xX;const wX=Er,SX=(t,e,n)=>wX(t,e,n)>0;var Mf=SX;const _X=Er,EX=(t,e,n)=>_X(t,e,n)<0;var Q0=EX;const kX=Er,CX=(t,e,n)=>kX(t,e,n)===0;var rj=CX;const AX=Er,TX=(t,e,n)=>AX(t,e,n)!==0;var sj=TX;const NX=Er,RX=(t,e,n)=>NX(t,e,n)>=0;var V0=RX;const OX=Er,PX=(t,e,n)=>OX(t,e,n)<=0;var H0=PX;const IX=rj,jX=sj,FX=Mf,MX=V0,DX=Q0,LX=H0,BX=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return IX(t,n,r);case"!=":return jX(t,n,r);case">":return FX(t,n,r);case">=":return MX(t,n,r);case"<":return DX(t,n,r);case"<=":return LX(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};var ij=BX;const $X=vn,zX=Xa,{safeRe:Uu,t:qu}=tu,UX=(t,e)=>{if(t instanceof $X)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?Uu[qu.COERCEFULL]:Uu[qu.COERCE]);else{const c=e.includePrerelease?Uu[qu.COERCERTLFULL]:Uu[qu.COERCERTL];let l;for(;(l=c.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||l.index+l[0].length!==n.index+n[0].length)&&(n=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(n===null)return null;const r=n[2],s=n[3]||"0",i=n[4]||"0",o=e.includePrerelease&&n[5]?`-${n[5]}`:"",a=e.includePrerelease&&n[6]?`+${n[6]}`:"";return zX(`${r}.${s}.${i}${o}${a}`,e)};var qX=UX;class QX{constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(e,n)}return this}}var VX=QX,om,H1;function kr(){if(H1)return om;H1=1;const t=/\s+/g;class e{constructor(I,V){if(V=s(V),I instanceof e)return I.loose===!!V.loose&&I.includePrerelease===!!V.includePrerelease?I:new e(I.raw,V);if(I instanceof i)return this.raw=I.value,this.set=[[I]],this.formatted=void 0,this;if(this.options=V,this.loose=!!V.loose,this.includePrerelease=!!V.includePrerelease,this.raw=I.trim().replace(t," "),this.set=this.raw.split("||").map(j=>this.parseRange(j.trim())).filter(j=>j.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const j=this.set[0];if(this.set=this.set.filter(L=>!h(L[0])),this.set.length===0)this.set=[j];else if(this.set.length>1){for(const L of this.set)if(L.length===1&&w(L[0])){this.set=[L];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let I=0;I<this.set.length;I++){I>0&&(this.formatted+="||");const V=this.set[I];for(let j=0;j<V.length;j++)j>0&&(this.formatted+=" "),this.formatted+=V[j].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(I){const j=((this.options.includePrerelease&&x)|(this.options.loose&&y))+":"+I,L=r.get(j);if(L)return L;const z=this.options.loose,X=z?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];I=I.replace(X,K(this.options.includePrerelease)),o("hyphen replace",I),I=I.replace(c[l.COMPARATORTRIM],u),o("comparator trim",I),I=I.replace(c[l.TILDETRIM],d),o("tilde trim",I),I=I.replace(c[l.CARETTRIM],p),o("caret trim",I);let ne=I.split(" ").map(Ve=>b(Ve,this.options)).join(" ").split(/\s+/).map(Ve=>q(Ve,this.options));z&&(ne=ne.filter(Ve=>(o("loose invalid filter",Ve,this.options),!!Ve.match(c[l.COMPARATORLOOSE])))),o("range list",ne);const ae=new Map,De=ne.map(Ve=>new i(Ve,this.options));for(const Ve of De){if(h(Ve))return[Ve];ae.set(Ve.value,Ve)}ae.size>1&&ae.has("")&&ae.delete("");const Ge=[...ae.values()];return r.set(j,Ge),Ge}intersects(I,V){if(!(I instanceof e))throw new TypeError("a Range is required");return this.set.some(j=>m(j,V)&&I.set.some(L=>m(L,V)&&j.every(z=>L.every(X=>z.intersects(X,V)))))}test(I){if(!I)return!1;if(typeof I=="string")try{I=new a(I,this.options)}catch{return!1}for(let V=0;V<this.set.length;V++)if(U(this.set[V],I,this.options))return!0;return!1}}om=e;const n=VX,r=new n,s=U0,i=Df(),o=Ff,a=vn,{safeRe:c,t:l,comparatorTrimReplace:u,tildeTrimReplace:d,caretTrimReplace:p}=tu,{FLAG_INCLUDE_PRERELEASE:x,FLAG_LOOSE:y}=jf,h=R=>R.value==="<0.0.0-0",w=R=>R.value==="",m=(R,I)=>{let V=!0;const j=R.slice();let L=j.pop();for(;V&&j.length;)V=j.every(z=>L.intersects(z,I)),L=j.pop();return V},b=(R,I)=>(o("comp",R,I),R=C(R,I),o("caret",R),R=_(R,I),o("tildes",R),R=A(R,I),o("xrange",R),R=D(R,I),o("stars",R),R),g=R=>!R||R.toLowerCase()==="x"||R==="*",_=(R,I)=>R.trim().split(/\s+/).map(V=>T(V,I)).join(" "),T=(R,I)=>{const V=I.loose?c[l.TILDELOOSE]:c[l.TILDE];return R.replace(V,(j,L,z,X,ne)=>{o("tilde",R,j,L,z,X,ne);let ae;return g(L)?ae="":g(z)?ae=`>=${L}.0.0 <${+L+1}.0.0-0`:g(X)?ae=`>=${L}.${z}.0 <${L}.${+z+1}.0-0`:ne?(o("replaceTilde pr",ne),ae=`>=${L}.${z}.${X}-${ne} <${L}.${+z+1}.0-0`):ae=`>=${L}.${z}.${X} <${L}.${+z+1}.0-0`,o("tilde return",ae),ae})},C=(R,I)=>R.trim().split(/\s+/).map(V=>S(V,I)).join(" "),S=(R,I)=>{o("caret",R,I);const V=I.loose?c[l.CARETLOOSE]:c[l.CARET],j=I.includePrerelease?"-0":"";return R.replace(V,(L,z,X,ne,ae)=>{o("caret",R,L,z,X,ne,ae);let De;return g(z)?De="":g(X)?De=`>=${z}.0.0${j} <${+z+1}.0.0-0`:g(ne)?z==="0"?De=`>=${z}.${X}.0${j} <${z}.${+X+1}.0-0`:De=`>=${z}.${X}.0${j} <${+z+1}.0.0-0`:ae?(o("replaceCaret pr",ae),z==="0"?X==="0"?De=`>=${z}.${X}.${ne}-${ae} <${z}.${X}.${+ne+1}-0`:De=`>=${z}.${X}.${ne}-${ae} <${z}.${+X+1}.0-0`:De=`>=${z}.${X}.${ne}-${ae} <${+z+1}.0.0-0`):(o("no pr"),z==="0"?X==="0"?De=`>=${z}.${X}.${ne}${j} <${z}.${X}.${+ne+1}-0`:De=`>=${z}.${X}.${ne}${j} <${z}.${+X+1}.0-0`:De=`>=${z}.${X}.${ne} <${+z+1}.0.0-0`),o("caret return",De),De})},A=(R,I)=>(o("replaceXRanges",R,I),R.split(/\s+/).map(V=>P(V,I)).join(" ")),P=(R,I)=>{R=R.trim();const V=I.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return R.replace(V,(j,L,z,X,ne,ae)=>{o("xRange",R,j,L,z,X,ne,ae);const De=g(z),Ge=De||g(X),Ve=Ge||g(ne),$t=Ve;return L==="="&&$t&&(L=""),ae=I.includePrerelease?"-0":"",De?L===">"||L==="<"?j="<0.0.0-0":j="*":L&&$t?(Ge&&(X=0),ne=0,L===">"?(L=">=",Ge?(z=+z+1,X=0,ne=0):(X=+X+1,ne=0)):L==="<="&&(L="<",Ge?z=+z+1:X=+X+1),L==="<"&&(ae="-0"),j=`${L+z}.${X}.${ne}${ae}`):Ge?j=`>=${z}.0.0${ae} <${+z+1}.0.0-0`:Ve&&(j=`>=${z}.${X}.0${ae} <${z}.${+X+1}.0-0`),o("xRange return",j),j})},D=(R,I)=>(o("replaceStars",R,I),R.trim().replace(c[l.STAR],"")),q=(R,I)=>(o("replaceGTE0",R,I),R.trim().replace(c[I.includePrerelease?l.GTE0PRE:l.GTE0],"")),K=R=>(I,V,j,L,z,X,ne,ae,De,Ge,Ve,$t)=>(g(j)?V="":g(L)?V=`>=${j}.0.0${R?"-0":""}`:g(z)?V=`>=${j}.${L}.0${R?"-0":""}`:X?V=`>=${V}`:V=`>=${V}${R?"-0":""}`,g(De)?ae="":g(Ge)?ae=`<${+De+1}.0.0-0`:g(Ve)?ae=`<${De}.${+Ge+1}.0-0`:$t?ae=`<=${De}.${Ge}.${Ve}-${$t}`:R?ae=`<${De}.${Ge}.${+Ve+1}-0`:ae=`<=${ae}`,`${V} ${ae}`.trim()),U=(R,I,V)=>{for(let j=0;j<R.length;j++)if(!R[j].test(I))return!1;if(I.prerelease.length&&!V.includePrerelease){for(let j=0;j<R.length;j++)if(o(R[j].semver),R[j].semver!==i.ANY&&R[j].semver.prerelease.length>0){const L=R[j].semver;if(L.major===I.major&&L.minor===I.minor&&L.patch===I.patch)return!0}return!1}return!0};return om}var am,G1;function Df(){if(G1)return am;G1=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,d){if(d=n(d),u instanceof e){if(u.loose===!!d.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),o("comparator",u,d),this.options=d,this.loose=!!d.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const d=this.options.loose?r[s.COMPARATORLOOSE]:r[s.COMPARATOR],p=u.match(d);if(!p)throw new TypeError(`Invalid comparator: ${u}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new a(p[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return i(u,this.operator,this.semver,this.options)}intersects(u,d){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,d).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,d).test(u.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||i(this.semver,"<",u.semver,d)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||i(this.semver,">",u.semver,d)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}am=e;const n=U0,{safeRe:r,t:s}=tu,i=ij,o=Ff,a=vn,c=kr();return am}const HX=kr(),GX=(t,e,n)=>{try{e=new HX(e,n)}catch{return!1}return e.test(t)};var Lf=GX;const WX=kr(),KX=(t,e)=>new WX(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var YX=KX;const JX=vn,XX=kr(),ZX=(t,e,n)=>{let r=null,s=null,i=null;try{i=new XX(e,n)}catch{return null}return t.forEach(o=>{i.test(o)&&(!r||s.compare(o)===-1)&&(r=o,s=new JX(r,n))}),r};var eZ=ZX;const tZ=vn,nZ=kr(),rZ=(t,e,n)=>{let r=null,s=null,i=null;try{i=new nZ(e,n)}catch{return null}return t.forEach(o=>{i.test(o)&&(!r||s.compare(o)===1)&&(r=o,s=new tZ(r,n))}),r};var sZ=rZ;const cm=vn,iZ=kr(),W1=Mf,oZ=(t,e)=>{t=new iZ(t,e);let n=new cm("0.0.0");if(t.test(n)||(n=new cm("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){const s=t.set[r];let i=null;s.forEach(o=>{const a=new cm(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||W1(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!n||W1(n,i))&&(n=i)}return n&&t.test(n)?n:null};var aZ=oZ;const cZ=kr(),lZ=(t,e)=>{try{return new cZ(t,e).range||"*"}catch{return null}};var uZ=lZ;const dZ=vn,oj=Df(),{ANY:pZ}=oj,fZ=kr(),hZ=Lf,K1=Mf,Y1=Q0,mZ=H0,gZ=V0,yZ=(t,e,n,r)=>{t=new dZ(t,r),e=new fZ(e,r);let s,i,o,a,c;switch(n){case">":s=K1,i=mZ,o=Y1,a=">",c=">=";break;case"<":s=Y1,i=gZ,o=K1,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(hZ(t,e,r))return!1;for(let l=0;l<e.set.length;++l){const u=e.set[l];let d=null,p=null;if(u.forEach(x=>{x.semver===pZ&&(x=new oj(">=0.0.0")),d=d||x,p=p||x,s(x.semver,d.semver,r)?d=x:o(x.semver,p.semver,r)&&(p=x)}),d.operator===a||d.operator===c||(!p.operator||p.operator===a)&&i(t,p.semver))return!1;if(p.operator===c&&o(t,p.semver))return!1}return!0};var G0=yZ;const vZ=G0,xZ=(t,e,n)=>vZ(t,e,">",n);var bZ=xZ;const wZ=G0,SZ=(t,e,n)=>wZ(t,e,"<",n);var _Z=SZ;const J1=kr(),EZ=(t,e,n)=>(t=new J1(t,n),e=new J1(e,n),t.intersects(e,n));var kZ=EZ;const CZ=Lf,AZ=Er;var TZ=(t,e,n)=>{const r=[];let s=null,i=null;const o=t.sort((u,d)=>AZ(u,d,n));for(const u of o)CZ(u,e,n)?(i=u,s||(s=u)):(i&&r.push([s,i]),i=null,s=null);s&&r.push([s,null]);const a=[];for(const[u,d]of r)u===d?a.push(u):!d&&u===o[0]?a.push("*"):d?u===o[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);const c=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e};const X1=kr(),W0=Df(),{ANY:lm}=W0,yc=Lf,K0=Er,NZ=(t,e,n={})=>{if(t===e)return!0;t=new X1(t,n),e=new X1(e,n);let r=!1;e:for(const s of t.set){for(const i of e.set){const o=OZ(s,i,n);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},RZ=[new W0(">=0.0.0-0")],Z1=[new W0(">=0.0.0")],OZ=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===lm){if(e.length===1&&e[0].semver===lm)return!0;n.includePrerelease?t=RZ:t=Z1}if(e.length===1&&e[0].semver===lm){if(n.includePrerelease)return!0;e=Z1}const r=new Set;let s,i;for(const x of t)x.operator===">"||x.operator===">="?s=eS(s,x,n):x.operator==="<"||x.operator==="<="?i=tS(i,x,n):r.add(x.semver);if(r.size>1)return null;let o;if(s&&i){if(o=K0(s.semver,i.semver,n),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const x of r){if(s&&!yc(x,String(s),n)||i&&!yc(x,String(i),n))return null;for(const y of e)if(!yc(x,String(y),n))return!1;return!0}let a,c,l,u,d=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1,p=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const x of e){if(u=u||x.operator===">"||x.operator===">=",l=l||x.operator==="<"||x.operator==="<=",s){if(p&&x.semver.prerelease&&x.semver.prerelease.length&&x.semver.major===p.major&&x.semver.minor===p.minor&&x.semver.patch===p.patch&&(p=!1),x.operator===">"||x.operator===">="){if(a=eS(s,x,n),a===x&&a!==s)return!1}else if(s.operator===">="&&!yc(s.semver,String(x),n))return!1}if(i){if(d&&x.semver.prerelease&&x.semver.prerelease.length&&x.semver.major===d.major&&x.semver.minor===d.minor&&x.semver.patch===d.patch&&(d=!1),x.operator==="<"||x.operator==="<="){if(c=tS(i,x,n),c===x&&c!==i)return!1}else if(i.operator==="<="&&!yc(i.semver,String(x),n))return!1}if(!x.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&u&&!s&&o!==0||p||d)},eS=(t,e,n)=>{if(!t)return e;const r=K0(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},tS=(t,e,n)=>{if(!t)return e;const r=K0(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};var PZ=NZ;const um=tu,nS=jf,IZ=vn,rS=nj,jZ=Xa,FZ=zJ,MZ=QJ,DZ=HJ,LZ=WJ,BZ=JJ,$Z=eX,zZ=rX,UZ=oX,qZ=Er,QZ=uX,VZ=fX,HZ=q0,GZ=yX,WZ=bX,KZ=Mf,YZ=Q0,JZ=rj,XZ=sj,ZZ=V0,eee=H0,tee=ij,nee=qX,ree=Df(),see=kr(),iee=Lf,oee=YX,aee=eZ,cee=sZ,lee=aZ,uee=uZ,dee=G0,pee=bZ,fee=_Z,hee=kZ,mee=TZ,gee=PZ;var Y0={parse:jZ,valid:FZ,clean:MZ,inc:DZ,diff:LZ,major:BZ,minor:$Z,patch:zZ,prerelease:UZ,compare:qZ,rcompare:QZ,compareLoose:VZ,compareBuild:HZ,sort:GZ,rsort:WZ,gt:KZ,lt:YZ,eq:JZ,neq:XZ,gte:ZZ,lte:eee,cmp:tee,coerce:nee,Comparator:ree,Range:see,satisfies:iee,toComparators:oee,maxSatisfying:aee,minSatisfying:cee,minVersion:lee,validRange:uee,outside:dee,gtr:pee,ltr:fee,intersects:hee,simplifyRange:mee,subset:gee,SemVer:IZ,re:um.re,src:um.src,tokens:um.t,SEMVER_SPEC_VERSION:nS.SEMVER_SPEC_VERSION,RELEASE_TYPES:nS.RELEASE_TYPES,compareIdentifiers:rS.compareIdentifiers,rcompareIdentifiers:rS.rcompareIdentifiers};const yee=Y0;yee.satisfies(process.version,">=15.7.0");const vee=Y0;vee.satisfies(process.version,">=16.9.0");var xee=Y0,bee=xee.satisfies(process.version,"^6.12.0 || >=8.0.0");const{KeyObject:cne,createSecretKey:lne,createPublicKey:une}=he;var sS=1/0,aj=9007199254740991,wee=17976931348623157e292,iS=NaN,See="[object Arguments]",_ee="[object Function]",Eee="[object GeneratorFunction]",kee="[object String]",Cee="[object Symbol]",Aee=/^\s+|\s+$/g,Tee=/^[-+]0x[0-9a-f]+$/i,Nee=/^0b[01]+$/i,Ree=/^0o[0-7]+$/i,Oee=/^(?:0|[1-9]\d*)$/,Pee=parseInt;function Iee(t,e){for(var n=-1,r=t?t.length:0,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}function jee(t,e,n,r){for(var s=t.length,i=n+-1;++i<s;)if(e(t[i],i,t))return i;return-1}function Fee(t,e,n){if(e!==e)return jee(t,Mee,n);for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}function Mee(t){return t!==t}function Dee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Lee(t,e){return Iee(e,function(n){return t[n]})}function Bee(t,e){return function(n){return t(e(n))}}var Bf=Object.prototype,J0=Bf.hasOwnProperty,$f=Bf.toString,$ee=Bf.propertyIsEnumerable,zee=Bee(Object.keys,Object),Uee=Math.max;function qee(t,e){var n=cj(t)||Wee(t)?Dee(t.length,String):[],r=n.length,s=!!r;for(var i in t)J0.call(t,i)&&!(s&&(i=="length"||Vee(i,r)))&&n.push(i);return n}function Qee(t){if(!Hee(t))return zee(t);var e=[];for(var n in Object(t))J0.call(t,n)&&n!="constructor"&&e.push(n);return e}function Vee(t,e){return e=e??aj,!!e&&(typeof t=="number"||Oee.test(t))&&t>-1&&t%1==0&&t<e}function Hee(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Bf;return t===n}function Gee(t,e,n,r){t=X0(t)?t:ste(t),n=n&&!r?tte(n):0;var s=t.length;return n<0&&(n=Uee(s+n,0)),Xee(t)?n<=s&&t.indexOf(e,n)>-1:!!s&&Fee(t,e,n)>-1}function Wee(t){return Kee(t)&&J0.call(t,"callee")&&(!$ee.call(t,"callee")||$f.call(t)==See)}var cj=Array.isArray;function X0(t){return t!=null&&Jee(t.length)&&!Yee(t)}function Kee(t){return Z0(t)&&X0(t)}function Yee(t){var e=fy(t)?$f.call(t):"";return e==_ee||e==Eee}function Jee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=aj}function fy(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Z0(t){return!!t&&typeof t=="object"}function Xee(t){return typeof t=="string"||!cj(t)&&Z0(t)&&$f.call(t)==kee}function Zee(t){return typeof t=="symbol"||Z0(t)&&$f.call(t)==Cee}function ete(t){if(!t)return t===0?t:0;if(t=nte(t),t===sS||t===-sS){var e=t<0?-1:1;return e*wee}return t===t?t:0}function tte(t){var e=ete(t),n=e%1;return e===e?n?e-n:e:0}function nte(t){if(typeof t=="number")return t;if(Zee(t))return iS;if(fy(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=fy(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Aee,"");var n=Nee.test(t);return n||Ree.test(t)?Pee(t.slice(2),n?2:8):Tee.test(t)?iS:+t}function rte(t){return X0(t)?qee(t):Qee(t)}function ste(t){return t?Lee(t,rte(t)):[]}var ite=Gee,ote=Function.prototype,ate=ote.toString;ate.call(Object);const cte=bee,lte=ite,{KeyObject:dne,createSecretKey:pne,createPrivateKey:fne}=he,lj=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];cte&&lj.splice(3,0,"PS256","PS384","PS512");lte.bind(null,lj);var ute={};const dm="redis://default:ob0XzfYSqIWm028JdW7JkBY8VWkhQp7A@redis-13241.c245.us-east-1-3.ec2.redns.redis-cloud.com:13241";let oS=null,aS=null,cS=null;if(ute.REDIS_DISABLED)console.log("WebSocket using memory store (Redis disabled)");else try{oS=new qh.Redis(dm,{maxRetriesPerRequest:3,lazyConnect:!0}),aS=new qh.Redis(dm,{maxRetriesPerRequest:3,lazyConnect:!0}),cS=new qh.Redis(dm,{maxRetriesPerRequest:3,lazyConnect:!0}),console.log("WebSocket connected to Redis Cloud")}catch{console.log("WebSocket using memory store (Redis connection failed)"),oS=aS=cS=null}var xd=(t=>(t.CONNECTION_ACK="CONNECTION_ACK",t.CHAT_MESSAGE="CHAT_MESSAGE",t.LOCATION_UPDATE="LOCATION_UPDATE",t.ORDER_STATUS_UPDATE="ORDER_STATUS_UPDATE",t.NOTIFICATION="NOTIFICATION",t.DELIVERY_STATUS="DELIVERY_STATUS",t.PAYMENT_CONFIRMATION="PAYMENT_CONFIRMATION",t.SYSTEM_ALERT="SYSTEM_ALERT",t.HEARTBEAT="HEARTBEAT",t.RECONNECT="RECONNECT",t.ERROR="ERROR",t.PING="PING",t.PONG="PONG",t))(xd||{});function dte(){const[t,e]=J.useState([]);return{notifications:t,markAsRead:o=>{e(a=>a.map(c=>c.id===o?{...c,read:!0}:c))},addNotification:o=>{const a={...o,id:Date.now(),timestamp:new Date,read:!1};e(c=>[a,...c])},removeNotification:o=>{e(a=>a.filter(c=>c.id!==o))},markAllAsRead:()=>{e(o=>o.map(a=>({...a,read:!0})))},unreadCount:t.filter(o=>!o.read).length}}function pte({notifications:t,unreadCount:e,onMarkAsRead:n,onMarkAllAsRead:r,onRemove:s}){const i=o=>{const c=new Date().getTime()-o.getTime(),l=Math.floor(c/6e4),u=Math.floor(c/36e5),d=Math.floor(c/864e5);return l<1?"Just now":l<60?`${l}m ago`:u<24?`${u}h ago`:`${d}d ago`};return E.jsxs("div",{className:"relative",children:[E.jsxs(Ke,{variant:"ghost",size:"icon",className:"relative",children:[E.jsx(g2,{className:"h-5 w-5"}),e>0&&E.jsx(ds,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center text-xs",children:e>99?"99+":e})]}),E.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-h-96 overflow-y-auto bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:[E.jsx(Ko,{className:"border-b border-gray-200 dark:border-gray-700",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx(Yo,{className:"text-lg",children:"Notifications"}),e>0&&E.jsx(Ke,{variant:"ghost",size:"sm",onClick:r,children:"Mark all read"})]})}),E.jsx(vr,{className:"p-0",children:t.length===0?E.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No notifications"}):t.map(o=>E.jsx("div",{className:`p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 ${o.read?"":"bg-blue-50 dark:bg-blue-900/20"}`,children:E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsxs("div",{className:"flex-1 mr-2",children:[E.jsx("h4",{className:"font-medium text-sm",children:o.title}),E.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:o.message}),E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:i(o.timestamp)})]}),E.jsxs("div",{className:"flex items-center space-x-1",children:[!o.read&&E.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>n(o.id),className:"h-6 w-6 p-0",children:E.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),E.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>s(o.id),className:"h-6 w-6 p-0",children:E.jsx(KD,{className:"h-3 w-3"})})]})]})},o.id))})]})]})}const fte="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJRSURBVHgB7d3hUepAFIbhg2MhlEAJoRJrsAJjBbYAlbB2QAnpJC4jPznLJtlN8pH3mXHuzJXFNa/EJZBoBgAAAAAApunraU3Mbc59JTlf/80ghWBiCCaGYGIIJoZgYggmhmBidjk3ynlSt4sMrlLbkEeYGIKJIZiYd6sk7rKb+E9j8whx9x9SN1jbfMaqFsz+N86XzSc8+Xxj65rPKOwSxRBMDMHEEEwMwcTUXCWmfMaPqw1ziB8/Vsfa5uNaKth16POUzPeojLW2+bhyg30bpiqyDbOCxZ++1jBJqW3IokMMwcQQTAzBxBBMDMHEEEwMwcQQTMxSxxIPI47FHayetc3HtVSw2Y9yP7G2+bjYJYohmBiCiSGYGIKJqblKDDafUOg2pQQDAAAAALyEatfWEDvH+RTHd8641hnTxTEnexU1r9z5QDtxPk1inOdiC+BYohiCiSGYGIKJIZiYLZ3jfDL/daqPuOrzrpJzdP5/n1gpnmst+TdzjvP9eVbn3PctVuOMOzpjGvOf1/1aJewSxRBMDMHEEEwMwcQstUqc3f0Asbt0T6wGveVpWOJK4jzCxBBMDMHEZP0Oy3mBkOtRpZXahrmLjpyrUbeGlCLbcEvnOHfmH/zdJ94mELz7S4zpvPeIzKLP8GDMqt7T8eT7u3h3nBjTDJlPn8EysOgQQzAxBBNDMDEEE7Olc5xTzjb8Zf3O/CtlB6uEv4E5k1LbkF2iGIKJIZiYYsH6cVoT04885GaF8AgTQzAxBBNDMDEEE0MwMQQTQzAAAAAAAPA6/gCyHUeUMx5TIwAAAABJRU5ErkJggg==",hte="/assets/order_fuel_icon-iiOc8gxU.png",mte="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA3ySURBVHgB7V17UBRHGu+FBQTkERIlETWip56vREHwmShqfFx8xMJXEisRSTTJnVaMnOSf1CXGxPIE9CyrvBMMIkdy0dLzoqRURFQM+ESDKCgoIArRCIIICCy79/uWmbVnRERY3d1hflVdTPf09PR83zdff4+ehTHzQiMehIeHexQUFKw0GAzlKCXnzp1bHhYW5sr1tWMqzAoT8Q8cONClqKjobzU1Nbkgvh6lobKy8kJ+fn74rl27nm/qGhWth4SI2dnZ/iD4DpR6A1G+ocFYBNSgxB49erR/c2OoaDlMhPvyyy/tsrKypoPAaSLhBeiFwrcdBBPGMynhVSY8ATSMIxjp9vT09CUgbL6M0DzkTLiwf//+hWBcB9m4Kh4DCfGxuPrU19evBUHvNEN8Cbg+t2tra1empKS88KjxVUghIcyZM2ce0veipD8Gevm6cOTIkX7N3au9QyKVpO8zMjJM+l6v10vUTAuhl12blJycPK6J+7Z7SIi/du1a1xMnTvzFIOh7joCtgZwJF5KSktR1gYPk4UnfQ3WY9P1TQinu8RWY/Hxzc2kPkDzw6dOn/QycviepbaP0S6BvhFg1rgt4G9R1gfT9yZMnp4Eg6YanDzlHk2Cqtqt1QfJw27Ztc4Wl82eDoO8tAbwVF1NTUxdGRUU5s/YCkvqLFy8OxPNvNjSqA0ujEmX9L7/80osp7A1o8mFgDgaOGzcuHA89EwsiNTVAEplG82yfHfdndnbGoKnW3t5eh/t/n5iYuHbq1KlZTCHQNtGmwUPWHzp0KKWioiId9XsoemZBgBH2YERHT0/PyvLycovO5WlDI/trjdAwhYYrbDFBYvNJHUk4eOzYsfbIYnXU6XR44+0MzAqBtUjToUMHXV5eXhVrVI1WOc+Wgl8DDCD8qzD3wrsA0P93mRXiOQBJn+w1a9Z8C0stjykJ8+bNm47Qcq3ByoGFuCwoKGgYUwAkOhSx+bp79+5VMysHGFABQdEx64amJe0SM5RsfpIwZuXAFPXwCax1niKBjfObMmWK0++//+6D+VafOnXqptCuEc9rmQpzwkRYQmxsbI8JEya8j/X0LSxd13Nzc/8OQyeVcUxQGWA+mIj/888/OwUEBLwBon8ID35y165dHdE82NvbW798+fJrkZGRhUJfTasYQCqALtaYOTYhqj/Ns455tA0i4Y1zT0hI6A21swCH81G6UwhHCKcwMONPn3zySUZlZeW3mzdvrqe2VjEA9LEjJly5ciX3+vXrxVqt1r61RMO6Q8zUd+vWzfdlwLZo/0DqKXL85ptvTvXy8voA1bGgj5aeRSS+wAhtz549Q5YsWXIGDNjL2qKCYIU0YJBNcXFx0W5ubi4ODg6tGgsMqHdxcdHNnz8//LPPPgtnthFi4KVeExMTM/idd95ZCAmfg3pnIraxk0ZTiz+5rFHQ++BZ7dDn5T59+ny0aNGiTNDvWqsZQG9AcXFx0c2bN6uosDZi4sSJJcw2YJL67du3e0yePHkWBHARqkNRSDOYpB5Cmg4t8RX8Wld3d/c1ODeA2h0dHScuXrx43sCBA//RagaQynF1dXVnZgLCC67MumGSesqX+Pj4BE6fPj3UyclpFto8qYOgZmgpI/JQdi+5X79+h+lcWVmZLxblr9DmhXMOfn5+c/r3739TtYJaBl7Xd541a9bbzs7OC1F9hdrEhVaQfHE5rD5+/PhlcQA4uMfBgBs45yX0HwSh+6vKgObBS70W5uQYEH8RiD8VbS7UQVA5dTgsR3FDMaZOQfCC6OjoS3SclZUVACOD1FRXqguMItO0l8qAh8E7U6Jp+TJMy/mQ4PdR7S0GC0jSUa7jcCtKJ0j2+6L+R/v50aNHu4SEhCwYMGDAMjQNokiucA11oazeXpUBUkg8WXKokJqdCD2/GNU3WKPUGlUOrBnK1R7Nz89fD4Ie6N69exiI7yhc2gDL7iVYOstwjnaBe1GjwJwGLM7H9u7duw4hiiSVAY2QOFMEWDh9R44cGQLiv8sE1SHqehC/vKioaGtaWtpGRJCvrFixwu3rr7/uC+tGDG6SpI9kjeanHeeMFeP437t37/5uzpw5RvWkMkAm9dD1LiDoNOh5kvrXUexliywh/datW9+A+LepUldX1wtM6cOPCTXlKDqVuE4HqT8KbDp27Nhe3OO+2LE9M0Ai9WQ6/vjjj6/AHwkF8eeiqTO1c9IrBtAYsoY5UCFl4kCQ5v5gQE+xLpihYvU6xoj76aef4rCA58rn0F4ZIJH6zz///DnEZ4Lnzp0bimogCGjHSW+tYNg7Cd3L09PTL0KK9bNnz7YPDw+f5u/v/xHaX+AXZ6AO9YNJSUn/RP/96F/XxP3bXTRUIvXkUMEh8n/ttdcWwZulMII7nw5B6OAw/uRAuifhr6/QfA3XZK9fv957yJAhH4L4H6Oti7hvSiB+IeqxWMRjp02bdu0RczCiPTFA8uBhYWGdUd6GN78A1VdJyLkwQkVhYeF26Ov1o0aN6tajR49J4nVgyv2+ffuOQlmK6lsojpyaIt2+D1IfDesoCeGG+ibuL0kktQcGyKVeGxgY+PqwYcMWg/hyh4oOz0Idbdq6dWsC+lafPXt2FNpMn1AJup7sem/WuNiK1+WCEVugbuKxjhTL7s3YI3ZvKJ0BEqn/9NNPX1q6dOl7cKhI1xsdKk7X05/KqqqqDQicbaXKiBEjnDt27EjhBjFORWMZmSFKPa4nqd8Dqf8XctWHsSA3cPd+LNoSDTVgsmbbulJdXV0l5HnNEY6WSD3i704zZsx4A/o61NPTczKajF/gyHMPtbW1+V988cUpsY7QgxdyHfRNs2TzAqdyLpHUI9e7DVJ/s6l7Pw5tioYixdYFk6TYhzMCS/asFcAD1OGVb+jUqVNnmfnW6qkx7uGPHDnSe9CgQSGQespQdeMsFTqgnRU0byM1EVbPOXjwoFF9QP+7YU7zUAZzc9UI/gDtl929b9++LZh7qkzqn2izQKsZAMnQhoaGfjxp0qQpOHRgrdwmCILQzmuDr6/vH1jbpF8iecuWLXMmh+rFF1/8ENUg3Mee09cUOEvBguqN+giB6fdRPxkcHFyJtOEQLL5L0DYDxUun09HzMmG3YGZNTc2W8+fPf4/4UCl3b8bauksP8e3JiFuXPW5jFAjWoDfn90kPxtW3ZFxYGFdgOvrJiG86pp9CgD6mb9l+o/78t8tQMxeQRl2MaCVZPgncsKV3795dgRBDKDzbM8J8+GvvQOXGQNcPJ/P1EfduG1rKAEtDxgATAbDIeubm5n6ALqkoOupLBBR4WgniJ6xatYpiNGzPnj3d0ZYijol+VfhzHqWE6ggdiKdonNTk5OQQBNc8ZIQ3b/rURhnAyCOF1AdCNdAXPfTzOA99sY9z0QgHmMzJ1atXz0RzYVPjcy9hCd6KiJSUlIEyUpmN8IowQ+/fv987ICBgNQwB4wd9/FYQAeU7d+5MQeL/ttgwePBg8my9+U6caUmL88ETJ05sQXwocd26dTVCF/Poeg5KYYA3Xlw/JL+NdRnxaaEvyMjIKBDr8fHxrwYFBVF8X4zv8EwrwPoRhyzWNrxlV7lhntjCaQkUwQDaImN4EMMhotFHfX8UA2g4zh4+fHgmYvyOY8aMmQ3T8mOcG07XGATLiIJu6JoIzzcG6il5x44dYvDM7FLPQxEMoEwUvFeyzQvz8vIifHx8BiCkLMbniXC34Cj1RcBtFvrSxqkXxL07gtTnlJaWxv3666/x48ePv8EN/VSkXjJ3pgB4eHjcgiRH/vDDD+9Bev+HhZPiO6J6qYe0+6FPFIi9nAlhY0HqK1GPz8nJ+Wjjxo0RHPFFC+epEp+ghDdAA5VyCQtlDuxz3dChQ3s6ODgYN0kJ52nbJAXUjJumuJDxueLi4pjs7Oz/TJgwoZQfjz0DwotQhAoSN7oSZs6c6Yt4Ty/utClEIhC+vKSkZCeiljHwZk9SYoXr+0yJT1BUNBT2uhaJ9JFQLcZdCNzCTMQnQqfduHFjy8qVK/8LplVwlz5RAM2cUAIDjBHUqKgo39GjR7+LmE0I6g4yX+A3ED4hLS2NdiNclF3/zKWehyLeAKT9ui1YsOAbEH8243YxsMZo5yGonM0xMTGJ/G4EZkGp56EUP6A7VAw5VkZ9LxD/GqQ+HmHlWNq7I7vEolLPQxEMQJDNHhFM8VnIodp3586dzYmJiS3Ky1oSimAA7UhDIXVTBqmPgK7fBl1/Q9bNaqSehyIYAK/3zuXLl7+DXX8a3uwu8ge401Yn9TwUwYCrV6/mbtiwYVVCQgJ5tjyhrVLqeSjCE87MzKxCMdWFv1Yr9TyU4gc0V7dqqP9EwcJQGWBhqAywMFQGWBgqAywMlQEWhsoAC0NlgIWhMsDCUBlgYagMsDBUBlgYKgMsDAkDkEvV2APMykFf5KDY1I/LPQoSBiCtp0V2qQOzcri6urogCW/1gtISSPIBly5duhodHb2pM1AJMCuEB0AfaBQUFPzGFICH/psp/YQ9aG/Vr7ebm5vh8OHD4peJNpWAUTJsck3QPOLYlmBTSXg5NJGRkUPq6+sDYfz0oo+mDQbr//V0gl3j9jetu7t7fl5e3v6IiIh8ZosAvRPFLwttFDXZ2dnf+vv7uzAbBEnRFBQPZrvoUFNTE4S315PZIIgBNu/Q0N5Q+l1mZoNQRCiCvuu14v+o0SwUwQBaCJiNQg3GWRgqAywMpTDAZp9DKWuAoy1bQedRKpjtQg+nOBNW0D1mgyAG7EYpYrYL+nGOQ8HBwTYpRP8HHJydKbCL0ScAAAAASUVORK5CYII=",gte="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAwlSURBVHgB7Z17TFTZHcfPzPCSlzxErMhDBJ+Lur6a1d0Ndhof3bW1tpY/JI3RBlP0r26aNGaTkm27iTVRkopmqWujNbGBZI0xG9QFoazSB6LRikRQRHm/YRhmxhmY2+8PBnYc7+g87mWYO+eTHM/MHIc55/7O73d+53fOPZcxDofD4XA4HA6Hw+FwOBwOh8PhcDgcjhuoHF4LDp95i8A4kqKyy4WCggJ1Xl7eot7e3lSr1aoBVtf/FFPhO+rg4OCh8PDwhsWLF5vYd52AIxHT2nThwoWUffv2/U6tVr+Pt6HMc0hALUh/UalUXzMuNOmprKwMGx8f/7sAkAveYvsbt5uamlYxjuSoDQbD93GBu6UQlj03btw4xjiSokZSDQ4OJtJrwKRk5cqVWYwjKSQhITY2tg55H5wGJhXQVpaUlBQLRQthHMkggVnnzJnTgbwQGlZP75kHOAobHiZlET09PclM2qlCQBNE/8CbIy/ui7t37zaYTKaPoR2Jts/e6t2ZzWbj6tWrfxAfH79MpDhiaGhoMfKnjGOPx55zkP2bdevWVSOrZm5SVlb26Y4dOwrwUuNQFB0aGrpm7969tXq9PuBNIyzYGIYJfXFxsYV5KDRJTFV5eflBrVb7OV7Ot/8c45cFmloPc/lfvA3C+0A2jSq0fwjXowbDRTnyQeYBQUwaXiBRBV4RGCoVjGw1etY7jDPFQaSvILzDuD6jzE0k8eNh9p6zSYE5+40gnqZTFNJHo6OjW7Kzs91WGEkElpaW1opsiHFcJQzalck8sHCSCCw5OdmIbIDmXhyXEDyd80oW2qipqem0zb04b2cM43rzyMiI2z1cKqeDNTY2tm3evJk0bY5DkRUDrA4moJ8FzgSa1EcDi5OAThxpX4BrQc7YOJagHtXV1Y0xN5FMYIiWkKfYi5TiUGTt7++vO3z48O8XLlxIERDN2Jjb9fQrEEwYzc3NXYkO/AnerrEvg7AY5qS6oqIiGvN9t+x06dKlDeg9tSJBe6tOp/tnSUlJQNlLTI7Xou33RK7HeFdX1zeJiYkRzAMkG8Pg2k9p2CtgcFVFRkamItoRyQIIi8WyFlmaSJEJ41dDenq6R16HZALbs2dPD7IeR++HlmxgBmgFO1nK35vtbNy4kYaGGJEiElhjb2+vbwVGDA8PdzlZUwtG2fK8vLyAMYsQ2EInY7U5KCjo8aJFizyaA0kqsDNnznQ7KQqB5mXCkwwIgWGconYmQDBixS8xfDRWVVX5XmAxMTHtTGQcA8HQvCUwA5J5pbOZa9eukfmPFytDxzXC2vQxDz1ESQWGntWJrEukKARzkkyj0RgoGpbKnAisubm5dcGCBWbmIXIITMws0n6RNLiyASEwjF3kcMwTKSKH48n69euZp0gqsKioKGcaRuYysrKyMpYFQLQDLj2ZxDiRIgPSE0Q4pNs84y3QsuPoYWK73obRkB9iPqZkLZvojIh0FItv/BNanz179hPmhaJIPi9CxKPHSRCYYmuZbW1tSt4qMOFIBAcHJzqJxo+SSWReILnA6uvrySSKTUA0aEQGUjBTMA0NDeRsxDjOR20CNKWkpLQwD3emEZK72SEhIRTxoG1zKSK/tRRBYkVvxhkYGEhnIhEOEmB7e3vv2bNnjcwLJNcwTApJw9pEishOLocNV7SGgSVIsSKfW1+8eNFcUFDgVYRecoGZTCZy61tFilSY+S84duxYOFMwaL8zgQ3D+jSxWQht5zoOj/D1dRbM8pF9yBTs2re0tJxz4iE+u3fv3m7mZdvliJ4LnZ2dbWJxNBUttY6PL83Ozvbm/rNZC+27TE1NTXHiIergPXu9A1pqgU30nqNHjzoLAqvRqExMosOY8qC7gKKZcw9Rl5WV1cy8XGWWWmATlZk7dy7tUewXKSeBZvT3989hCgTtovHrtTGaBIjJ9JAnG0df+1tMBlBBEtZzsSKkDFRckRqGcZv2GkaJFVZUVLQyCZBFYDB7A0zctVdDWClJSUlKG8PIcqgwRn2APEGkXI8xvYVJgCzrUwaDgTTshVgZGhVx/vz5ucuWLVNjEc/vtwyMjIyosL6lrqmp2TRv3ryPmPgN/RSua2ASIJt7DS37LbI/i3xuhZadHhoaujM6OkqOo9+6+DD9dAN+KNqUBavxYzRlEXO4puRw4P9VI2Dwi/T09G7mJXKuALfR1m3HQDAaRVr1S3iKOUhMAZCAaMuaqCNFDsfNmzfrtFqt18IiZBPY6dOn+/Pz88ec/EY0Uz5WLDOpMXY9gNDO2T7z+swS2caQ6upqHRN3PAKBKWGZnj59emrr1q0PbZ97vdNXNoEhKk9bkZ+xwGJCIDZhmRsbGz+9ePHil7YyScZqOccwEhjN7LeywEFFexEhrP89efKk8NChQxfgCVOYY+K0BiYBMyEwUeCQjMMhmZi/MP+GBEERjIlgAYRVi1X1i5mZmQ9s5ZIJi5D1YsHdzYFb+w8nu4Erbt++Xd3c3GzCkrrf7leE14smWnVoa3t0dPS9Xbt22c8//etgtI6Ojg/QkDEnyw106oBSl1lka5eskYbc3FwyFRQIFutl7+7fvz+DKRPZtEpWgcXHx5PAaJeQWAPSoWWBMB+TFLljeXrm3PFIi4uLmwqU8rOoXERWgen1+hFkjWJlGKhDTpw48WFRURHd6Cf1WcOKRe6LRPs7PoZwLsNTfCWoiM8pMxiNxsLw8PATxcXFOsxbVKtW+d8hpmFhYQLdUVlaWjrlvss2hsneq48cObK8sLCwAnOu7zn+njB5Rz2ZzS5oo761tZXunfIbTaOFBlvH68P865uUlJQv8RlZFf8953jLli1RaNRn4284nxYaKPg51IBhpM8RlY9n/k5BQUHGy5cvGwTlY2xvb9/MZGSmzA+NZVpo0t9okc+2Zqk0R0Mwm82qkJCQn6F9XzGZmKklegGNKIfj8Wvkt+kDOg6CKQsSlvXy5csjTEmcPHlyLczjcWjcI7IhUh+97isQpadx7K/btm2bz2Rkpnv59PNdsCL9fk5OjhaT56Vsci86LbFrmP95V1Rf0qr6hw8fnsjKypJkK4AzfGGWXnN5KysrYwwGw1z00mDyGJkfgZUGITk5uXvNmjVebxLlcDgcDkfJzKojGOiBc8g0aWlpaixusqqqqtnggKizs7Md6xSwKwvTTwgsKSkJwTwms6OjY093d/dPBwcH38V7usvFF/vvVbY6aeC9Jnd1de1CysHrTVeuXIliASqw6UYj/ratr6+vAgJqReq0pedw8f/1+PHjI3gd6vgduevV1NT0Hib4pfjtZqQOW53aILQ7qNMnWFlQ5D1ubwUX4TBSF0ULnEQ9epHOQ+OmNuLLKTSVrU4Hke471sluVWGE6oSJchwLEKYuTC7S4NvCU7hQZmR/xFgSaf99GVBjQXUrfqvpTUs+tjL651x9fX1gPAQIJiUODf7W1VginUBQW1ubzWTk1q1bURBYteA6w4jO/MiTR3L4Hbg4vxImzZ1L2AT7h/z8fFkOeyYPFX9/EzrGsBsLqhaY6ssZGRkztvvLZ3dAYqmFznN3eQygm+eQbdDpdAuYDFy/fj0U2vUe3b/mxj2GpFlrsawyYxrmM4FBYyLc/H26ipH4niwXhxYf8bejmZvjI7Qsgu5WYTOEzwSGXkzn3lrc+xbrxve8OlzLGfPnzx8PCgqiQ83cunEBAhsIDQ2dsacE+Uxg4eHh/0HWLQiuBTOEyf94x2Kx9DAZKCsrM8Ps1uKlOx3CrNFovsWY527H8xifCQy98jpM0ANXxwt62A6EVV5aWiqLhgHBdnjXv5nrWtYPgV1KSEgwMYUzIaWrV6/+XJiMJLwR9OBRk8n0Gyy/e/S8EjfQ9PT00DNTHtl+903V0iMVCZPhs4BgavK8H5rWTp67MDkZtReUhdxseG9/2r1794wcOUBnEiNuqMXP07Y8i2OdbPWkPYhfCAF2M8d0gBUNXwsv7QydtQiPywwhIYz3sg+vS+hg5wMHDkSxGYQmwp2dnWnoSJ+hXs2ojwmvzajTMNLXqO9uJEWf++iM6Wj99u3b47KystJPnTq1Sq/Xr96wYUM67UDywSnc04Pqzp07o1esWJGKQPCq+/fvv4MJ8hKtVpuISXZAPOHCGf66VMHvtuFwOBwOh8PhcDgcDofD8Yr/AwAoazj1gHDnAAAAAElFTkSuQmCC",yte="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAACACAYAAABDTVbYAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA76SURBVHgB7Z1LcxPZGYbfcyT5hgHBcMuYDJ0aKpPLwppKJZukCnk1q9TALxhr+AGGX4C9yhL4ARnZvwBTWWWFWMwmWeDZzCRVpEpMMMNwFYPBRpc+c76WZHyRrT6fbt3y91SB2pYssLrffr/vPed0KwwZL+GlK6h4GsgYKM/AnFMwadjt+iNA39/5cwqqBPglEzzCPqJov/fA/kzRfq+YRHLlGIolDDEm76U3UM3YLftZYdp+BvR5efR18LzR6eZnuA1lio2N4NH+7Irx1Sut/RX7GRZHcqsrGDIUYs4TTGXsL5G1O3law2RbiaJb2H/HisjYg0DdtX9WTuJhATHlvUj8C/b3yvhGZ1uKoksoZcVkBQUfdxMaK3EXU+yEQ45SQ+WiD1zQUBdND3d2SAr2gFhKIVWwjlREhCnnpzI1mM/tbs9a281isBTt0VewJ7vbIxgpqFy83DwWwiGxVFGZtZt2pw98h+8HnUWXkkgtR0VE6/mzWXIVuzkLozxEFKXMsi3vbo9fXl1EDIi0cJ6Cdjrm6qXYwJ3FlcCJTmF1EX2GyrB1vzKrtD3RDN5ZnKAek0SUAG5GuZyLnHAazf1F+x/7AtF2l1BQX+TDv5HC6O1eu1C9bynP2Sb+iorfiWY3tpSzPdFSFF0oMsKpl2Nl6y76SgzdJRT2w15MILXQbQGt5z0PqFyzp+tZDCdF+7stRElAkRDOc5yds2XN/LAKZjdmPomRpU4FRA7zzgrGGFzBwSAyAhqocOo9jLluNzM4YNRLOCxweqChK8kcoVhbqdSl8dzgApiBCMeWZV4N1evWYS7igEMCsuXbTFj3CVIyY/IIBiYPOAqLsKXvIATUd+EcvLIsLGb+JB4t7PnswSvLwjKQ8q1vwiGXsWMxdKbMQmjJXu4jLtMeo3Bj3LpPvwZS+yIc6mVsLZ43suND8t59NvJT18VlQlOESs30o3TruXCe48NrPtQ8BCeSH1QWx/+W8ExSZyE4YYx/deLyDzfQQ3omnPqcsrINANQsBCeSxys4MvMc6gRQnj4JM5aA4Igy8+O5vXvGjt8ePaDRz9zCAYyZO2X047eY/NMrqBE/+JpEU/n9B/AnUxAcUSiMIXWpF31P14VTj5ord6SfcWfst2uBaHaR1KicP4ra6QkIzvSk7+mqcF6Cpq3jlojGnYnp15jI/LTvayq/OSbi4dF18XRNOHXRqDsyPuNOGNE0qXpHUD13GIIzXRVPV4TTmAlwT0TjjotomojzsOmaeDQ65H1PI6JxhSMaIvWfl0j8+BaCMx5M5U59NnlndCQcCQL4UHrGEU2T1P1X0GsVCM54yia+NIUJHcAWTmPtv4iGAY3THP7LS3RE1cfIN8+gNmoQ3DAGmXco59EBbOFY0VwX0bijJ2vB4GZXCMTzFKpqILhhjLq4nv/wGpiwhEPTaAyGdrVhT0l/9jQQT7cgx0n9t0P3OqgYNV/+auoLMHBO1Sh2rgL3IDhz6I+vMP67NfSC6vk0qlOHILih6OKTKvWpa9Lm5Dj1MAC3IDgzdv5tz0RDJO+XoEvvILhBVyvlhAVOwqnRQirpa5yh0mximp+ghYVKNul33KGwYJ0uduJAaOE8wdSs9DU8SDTd7Gv2gvqdxIPeC3QYUQZX6hdvDEco4VCJZl/ITiAOMlSi0Z9+kXy4JiUbF2PyYUu2UMKREo1Hv0q0nUjKxsZ761dDrbZtKxy6G4CUaDz6VaLthEq25IPXENxJKDMXZkqODvECSdEYkGD6WaLthEo2CQrcqd8TqNJ2VsG+wmkEAh4EZwZRom2j6ktQwMUg2y4o0G2elECAQepMeaBu0yRwHZnLxsTse+zvKRxxGz4Dd5stJMV1eLRxHb3PE+I2DMhtUmeiEwcnHr+VXofN3q7TUjjiNnxGP36DqJFY7d1Un6FmH9dpKZzGTZ0ERwadpO2FJGx8FPy5Vt/fJZwn8OhaaFkIzkSpt9kGJWyy1JoFrdtpNZtA7/5GZQ4Ci5EI9TY70c/WIfBoNZtgl3AM1IG/Zw0HKtEGMUsgLDR/Teaw8VCKbnG/nW3CoVAAcrUaFqlfRv+Mnni+AcEd2/NndoYEevsL1OcQnCGnGf0o+gclRdMCD2O23z1wUzh01RrIrQVZRLm32YYNCaRc46F3JM2bwqmhloXAIg5lWhMp13jQ5M+t5dqWUs2XMo0JzRaIC5Ku8fH998M0W3ucLARnSDS6cS+bOECTPmXiJw+tzYXNbfqLlkbLFBseUZqXFhb9SvocDsog0xwMDYRTQSULgUXqdAyFIwEBC+pzNlAN7jKoG39dgMAicTx+Fz4X4fAxvnkvHAMl9+pkQKKJU3/TJOhzZNIni4TGND02wgEjwmGQmKwirkhAwMM39RBNN2ZDCwySx2MsnDfxidAjhkcBgdaoeRBYJI7F9+CTm1LxsWGapw18DwKLRIRnQ7dDSjU+NV9ntILyILCI8jKCtohw2FizSVvHwTkIziibpsUxUWuiN+Lbnw0cBbqWuqy/4aBGYh7nVuMr+kGTUDhqSzWZasMhzv1NE+lzePhQXke3axeEg4qWyZ081MgQOI7MHuBhjDgOFx33HoeoSqnGRYQjCAxEOILAQIQjCAyscFQJgjN+WSH2JBMQ3LHdbcmO4xgRDgNTjv9BZ5JDIP4BoJQqSanGZDgcR3Y/FxrHKUJwxpTjf9CJ4/DQMEUSzgMIzvhr8S7VzJj0N1x8Xz3QWsIBNn6MXceMJSHwMDYXsI5jihBYxNp1pL9ho7RasamaLkJgUX05grjiT6Yg8EiQ41RQWYHAIs6O4x8S4XAZya2u6F/gcVEGQXlUX8S4T5Aeh4UN0wKjaV5XTVyHQfVFnEs1EQ4PE6TQgXAU1DcQnKFSLY7Jmp8ehcDEqAI9iON0SOVx/FzHSDDAhhI1egyEk0BqGQKLyo/xO3vXjorjcFBAaTz3sEDbgXCOoVhSMvWGRe1F/M7eRko1FkapzcpsS4GubkNwpvJ4NFZ9jj85InPUuPhmqbm5ucdtzCblGpPy/8cRF/wTYxCY6Fphc7O5cRJUu8l4Dod392MknA/i83+NEjR+M56jMc8622oMa+BLEJyp2j4nDuUaTeyU8RsmZrs29PbnpFzjQGtz4lCuSZnGR+naNm1sE46Ua3ziUK5VpyYhMFCqsLVMI1rVFzchOBP1dI1mC8jiNSZb0rQmu/Z0EskbEFhsfBfdM3rt9AQEFsUxvXuCwC7h0GCofShAcGb920ORdB0KBWpnRDgctEJB5Yq72pc99rJagOAMhQTv/he9A7QmvQ0bH7WWWmgpnHpIIK7DYf3baB2kgdtImsbCus3izlBg87m9f0xchwMtNaCgICrUTo9LKMBkL7ch9hSOuA6f118fQxSo9zaHILizn9sEz2NfxHU4kOtsRKDXEbfhs5/bEPsKR1yHz5t/HR1owkZuU/WOQHCnndsEr0EbqqjlZDaBO5SwDXJcp3ruMAQWxXZuQ7QVTv0qODKbgEMwrrPW/0mVNEtAxm2YGCy0cxsiVC1Bswnk4uzukOu8/jqNflP5JBrhROygOWmXVxfDvDSUcOpLq1UOgjMUTa9/179ki0o0CQTcMUE7Ug19jIfuXikosOKRko3B25UjfSnZJBDoAGNClWhNnBefP8XUPfuQgeBE6sw7HP3sGXoFiaY8fULchgGlaKO51W1us54/m7XimFPwl6wbXRtFauYdyvmx3KNLwc/AEZuyXZKUzR0q2d78+yh6hZRobFqmaHQZKANzezT3aNk36u6Gqd5SW457Z+FQymbf8CoEZ2geW/n77s8bI9FIisajpnBprxKt1rhOtFJYrilz1YfaXJfDvk7QU5ydtwXCNQhOqBEfx/76FHqyim5A0TOVaII7xuDqxOVV1voz9tC2DQvmjVzcwxmKqEv/PNGVsID6Gomeedjya4ErGqKjOSEppK6gYWdCeGgu2093jnc0JUfCAD6+PeEfuvxwHh3Q8SUdX8JLV1C5Z9/Ig+DEyEfrODLzAq6YpEb5D6dENAzscboy9uXqp+iQjmch0uBoDbUZmVngTvn7caw5LkEIRCNOw4JEM6pSM+gCXbuI8A844yWQuCPO487Y+beY/PPLtq/bFI3cpsOZpmhaXT+A+X7dQ8TDp514RDR8ui0aoqsLRmiMh8o2SGDgzMb9CZT+caplYBAEAdTTiGicoSCg26IhenK/h0ZgcMO++RcQnNCTNaQ/e7Y5ziPpGR/bd9+c+HL1CnpAT2+UIoOkPEg8R2aeQ/06geonx+V+Ngw6GdwMQ8/3yBNMzSqo63QfMAih8aEWDn+FtIKZg+BCkabRTOZWe9ou9OVUJqFBeCjWp7VPjes9YD0/NWuMuq7kxNMepQpjSF7qdj/T8p9CH5HSbX+sYJZfI5n7Fbbv+PX8GU8hccuWH7KcowXBIjRjFnpZmu2k78WzuE8raLq6WTiJ/Xf8+t/PzhtFa0TEfTaxLkMrN10WoXXln8WAEPepQ8nPG6Tmd7rMXpD7+CYxrw94YjkIl9nKQOOahvvMH8zYms6UWGj2Mq5Q72OPHjrxeDhg0MlmXKXm+9HL7EUkck4SUBLJvP1IshhyqPmnhYCn8agrt408UAIaUFnWikgNENjyLWsfrg2pgFboTHkKq4voAUMtIFV3Z1rOjIgQyZG14SrhOivJXCEB2XRuzhgT6wSufrkms6RU7UYUHGYnkR6SbggoazevxSuFCy7qcNOWZMvWYQYyb28tP5VRBlesiD6PVQpn3cX45va4Ti0OsodpR2zmclAZZw/EWbt5IZoiUiV7lly2B+lSv9wlLMEgqhWQPY1nIykihSJ8tZTQZnkkN5gTjSuxnAT1BPZsCmRBB8NA+yFl+xZzlwYuoyaWvaDrhfnGzCaUmh5UOUdlmFK257POonRqeTxXLCJmDMXswXqoQAeBuoDAjbp/QKggDQuE8kBDF14jUQg79hJVgjEhpGxJ52dVICRkeuFI9r1Xgs/O97/xNQqTMXGV/Rjaabd1V1LphqDSdsedaxwUmweG/dqrN6FoCqBU/9p/pYI5Yyj5Ng2zA5TFuIskLCbvpTdQzfj2M9O+yRhl0krpo/YZb8cr7deq+P7rxrZvHkCbog9d0kisxNFNwvAzelL8ZR7DblMAAAAASUVORK5CYII=",Ps={PRIMARY:"#4682b4",TEXT:"#131313"};function vte(){var I,V;const[,t]=io(),[e]=io(),{user:n}=$a(),{notifications:r,markAsRead:s,markAllAsRead:i}=dte(),[o,a]=J.useState(!0),{data:c,isLoading:l,error:u}=kb({queryKey:["/api/wallet/balance"],queryFn:async()=>{const j=await fetch("/api/wallet/balance",{credentials:"include"});if(!j.ok)throw new Error("Failed to fetch wallet balance");return j.json()}});c!=null&&c.balance,c!=null&&c.formattedBalance;const{connected:d,orderUpdates:p,connectionError:x}=N$(),{connected:y,notifications:h,connectionError:w}=R$(),{connected:m,chatMessages:b,connectionError:g}=O$(),[_,T]=J.useState({latitude:0,longitude:0,city:"Unknown",country:"Unknown",loading:!0,error:null}),{data:C}=kb({queryKey:["/api/transactions"],queryFn:async()=>{const j=await fetch("/api/transactions?limit=5");if(!j.ok)throw new Error("Failed to fetch transactions");return j.json()}}),S=(C==null?void 0:C.transactions)||[];J.useEffect(()=>{(()=>{if(!navigator.geolocation){T(L=>({...L,loading:!1,error:"Geolocation not supported"}));return}navigator.geolocation.getCurrentPosition(async L=>{const{latitude:z,longitude:X}=L.coords;try{const ae=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${z}&longitude=${X}&localityLanguage=en`)).json();T({latitude:z,longitude:X,city:ae.city||ae.locality||"Unknown City",country:ae.countryName||"Unknown Country",loading:!1,error:null})}catch{T({latitude:z,longitude:X,city:"Unknown City",country:"Unknown Country",loading:!1,error:null})}},L=>{T(z=>({...z,loading:!1,error:L.message}))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})})()},[]);const A=()=>{if(_.loading||_.error)return"/attached_assets/image_1752989901533.png";const j=15;return`${_.latitude}${_.longitude}`,`https://api.mapbox.com/styles/v1/mapbox/streets-v11/static/pin-s-l+ff0000(${_.longitude},${_.latitude})/${_.longitude},${_.latitude},${j}/400x160@2x?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw`},P=[{id:"scan",title:"Scan QR",icon:fte,route:"/qr-scanner",bgColor:"bg-[#4682b4]"},{id:"fuel",title:"Order Fuel",icon:hte,route:"/fuel-ordering",bgColor:"bg-[#0b1a51]"},{id:"toll",title:"Toll Gates",icon:mte,route:"/toll-payments",bgColor:"bg-[#010e42]"},{id:"cart",title:"Cart",icon:gte,route:"/cart",bgColor:"bg-[#4682b4]"}],D=j=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(j),q=j=>new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),K=j=>j==="credit"?"↗":"↙",U=j=>{switch(j){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},R=j=>{j.actionUrl&&t(j.actionUrl)};return J.useEffect(()=>{p.length>0&&p.forEach(j=>{j.type===xd.ORDER_STATUS_UPDATE&&console.log(`Order status update: ${j.status} for order ${j.orderId}`)})},[p]),J.useEffect(()=>{h.length>0&&h.forEach(j=>{var L,z;j.type===xd.NOTIFICATION&&console.log(`New notification: ${((L=j.payload)==null?void 0:L.title)||"New notification"} - ${((z=j.payload)==null?void 0:z.message)||"No message"}`)})},[h]),J.useEffect(()=>{b.length>0&&b.forEach(j=>{var L,z;j.type===xd.PAYMENT_CONFIRMATION&&console.log(`Payment confirmed for order ${((L=j.payload)==null?void 0:L.orderId)||"unknown"}: ${((z=j.payload)==null?void 0:z.amount)||0}`)})},[b]),E.jsxs("div",{className:"min-h-screen bg-gray-50 w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl mx-auto px-2 sm:px-4",children:[E.jsx("div",{className:"bg-white shadow-sm border-b border-blue-100/50 animate-fade-in",children:E.jsxs("div",{className:"flex items-center justify-between p-4",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("img",{src:gv,alt:"Brillprime",className:"w-8 h-8 animate-pulse"}),E.jsxs("div",{className:"animate-slide-up",children:[E.jsxs("h1",{className:"text-lg font-semibold text-[#131313]",children:["Good morning, ",((I=n==null?void 0:n.fullName)==null?void 0:I.split(" ")[0])||"User"]}),E.jsx("p",{className:"text-sm text-gray-600",children:"Welcome back to Brillprime"})]})]}),E.jsxs("div",{className:"flex items-center space-x-3 animate-slide-in-right",children:[d||y||m?E.jsxs(ds,{variant:"default",className:"rounded-full px-3 py-1",style:{backgroundColor:"#D1FAE5",color:"#059669"},children:[E.jsx(WD,{className:"w-3 h-3 mr-1"}),"Live"]}):x||w||g?E.jsxs(ds,{variant:"default",className:"rounded-full px-3 py-1",style:{backgroundColor:"#FEE2E2",color:"#DC2626"},children:[E.jsx(GD,{className:"w-3 h-3 mr-1"}),"Offline"]}):null,E.jsx(pte,{notifications:[...r,...h.map(j=>{var L,z,X,ne,ae,De;return{id:((L=j.payload)==null?void 0:L.id)||Math.random().toString(),title:((z=j.payload)==null?void 0:z.title)||"Notification",message:((X=j.payload)==null?void 0:X.message)||"",timestamp:new Date(j.timestamp||new Date),type:((ne=j.payload)==null?void 0:ne.type)||"system",isRead:!1,priority:((ae=j.payload)==null?void 0:ae.priority)||"low",actionUrl:(De=j.payload)==null?void 0:De.actionUrl}})].sort((j,L)=>new Date(L.timestamp).getTime()-new Date(j.timestamp).getTime()),onMarkAsRead:s,onMarkAllAsRead:i,onNotificationClick:R}),E.jsx(Ke,{variant:"ghost",size:"icon",onClick:()=>t("/profile"),className:"transition-all duration-300 hover:scale-110",children:E.jsx("div",{className:"w-8 h-8 bg-[#4682b4] rounded-full flex items-center justify-center border-2 border-blue-200/50",children:E.jsx("span",{className:"text-white text-sm font-medium",children:((V=n==null?void 0:n.fullName)==null?void 0:V.charAt(0))||"U"})})})]})]})}),E.jsxs("div",{className:"p-4 space-y-6",children:[E.jsx(Mr,{className:"bg-gradient-to-r from-[#4682b4] to-[#0b1a51] text-white rounded-3xl border-2 border-blue-200/30 animate-fade-in-up",children:E.jsxs(vr,{className:"p-6",children:[E.jsx("div",{className:"flex items-center justify-end mb-4",children:E.jsx(Ke,{variant:"ghost",size:"icon",onClick:()=>t("/location-setup"),className:"text-white hover:bg-white/20 transition-all duration-300 hover:scale-110",children:E.jsx(Eu,{className:"w-5 h-5"})})}),E.jsx("div",{className:"mb-4",children:E.jsxs("div",{className:"h-40 bg-white/10 rounded-3xl overflow-hidden relative mx-2 border border-blue-200/20",children:[_.loading?E.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"w-8 h-8 border-3 border-[#4682b4] border-t-transparent rounded-full animate-spin mx-auto mb-2"}),E.jsx("p",{className:"text-sm text-[#4682b4] font-medium",children:"Getting your location..."})]})}):_.error?E.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx(Eu,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),E.jsx("p",{className:"text-sm text-gray-600",children:"Location unavailable"}),E.jsx("p",{className:"text-xs text-gray-500",children:"Using default map"})]})}):E.jsx("img",{src:A(),alt:"Live Location Map",className:"w-full h-full object-cover",onError:j=>{j.target.src="/attached_assets/image_1752989901533.png"}}),E.jsx("div",{className:"absolute bottom-3 left-3 bg-white/95 backdrop-blur-sm rounded-2xl px-3 py-2 shadow-sm border border-blue-200/50 animate-slide-in-left",children:E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),E.jsxs("p",{className:"text-xs text-[#4682b4] font-semibold",children:["Live • ",_.loading?"Loading...":`${_.city}, ${_.country}`]})]})}),E.jsx("div",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm rounded-2xl p-1 shadow-sm border border-blue-200/50 animate-slide-in-right",children:E.jsxs("div",{className:"flex flex-col space-y-1",children:[E.jsx("button",{className:"w-6 h-6 flex items-center justify-center text-[#4682b4] hover:bg-blue-50 rounded text-sm font-bold",children:"+"}),E.jsx("button",{className:"w-6 h-6 flex items-center justify-center text-[#4682b4] hover:bg-blue-50 rounded text-sm font-bold",children:"−"})]})})]})}),E.jsx("div",{className:"flex space-x-3",children:E.jsxs(Ke,{className:"flex-1 bg-white text-[#4682b4] hover:bg-gray-100 rounded-2xl border border-blue-200/50 transition-all duration-300 hover:scale-105",onClick:()=>t("/location-setup"),children:[E.jsx(Eu,{className:"w-4 h-4 mr-2"}),"Where are you?"]})})]})}),E.jsxs("div",{className:"animate-fade-in-up",children:[E.jsx("h3",{className:"text-lg font-semibold text-[#131313] mb-4",children:"Quick Actions"}),E.jsx("div",{className:"grid grid-cols-2 gap-3",children:P.map((j,L)=>E.jsx(Mr,{className:"card-3d cursor-pointer rounded-3xl border-2 border-blue-100/50 animate-slide-up interactive-element",onClick:()=>t(j.route),style:{animationDelay:`${L*.1}s`},children:E.jsxs(vr,{className:"p-3 flex flex-col items-center text-center",children:[E.jsx("div",{className:`w-10 h-10 ${j.bgColor} rounded-full flex items-center justify-center mb-2 transition-all duration-300 hover:scale-110`,children:E.jsx("img",{src:j.icon,alt:j.title,className:"w-5 h-5"})}),E.jsx("h4",{className:"font-medium text-[#131313] text-sm",children:j.title})]})},j.id))}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[E.jsxs(Ke,{variant:"outline",className:"h-16 flex-col space-y-2 border-2 border-orange-200/50 text-orange-600 hover:bg-orange-50 rounded-3xl animate-slide-up",onClick:()=>t("/toll-payments-enhanced"),style:{animationDelay:"0.6s"},children:[E.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center",children:E.jsx("span",{className:"text-white text-xs",children:"🎫"})}),E.jsx("span",{className:"text-sm",children:"Pay Tolls"})]}),E.jsxs(Ke,{variant:"outline",className:"h-16 flex-col space-y-2 border-2 border-purple-200/50 text-purple-600 hover:bg-purple-50 rounded-3xl animate-slide-up",onClick:()=>t("/qr-scanner?type=delivery"),style:{animationDelay:"0.7s"},children:[E.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center",children:E.jsx("span",{className:"text-white text-xs",children:"✓"})}),E.jsx("span",{className:"text-sm",children:"Verify Delivery"})]})]})]}),E.jsxs("div",{className:"animate-fade-in-up",children:[E.jsx("h3",{className:"text-lg font-semibold text-[#131313] mb-4",children:"Services"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs(Ke,{variant:"outline",className:"service-item-3d h-20 flex-col space-y-2 border-2 border-blue-200/50 text-[#4682b4] hover:bg-[#4682b4]/10 rounded-3xl animate-slide-up",onClick:()=>t("/commodities"),style:{animationDelay:"0.2s"},children:[E.jsx(QD,{className:"w-6 h-6"}),E.jsx("span",{className:"text-sm",children:"Marketplace"})]}),E.jsxs(Ke,{variant:"outline",className:"service-item-3d h-20 flex-col space-y-2 border-2 border-blue-200/50 text-[#4682b4] hover:bg-[#4682b4]/10 rounded-3xl animate-slide-up",onClick:()=>t("/order-history"),style:{animationDelay:"0.3s"},children:[E.jsx(y2,{className:"w-6 h-6"}),E.jsx("span",{className:"text-sm",children:"Order History"})]}),E.jsxs(Ke,{variant:"outline",className:"service-item-3d h-20 flex-col space-y-2 border-2 border-blue-200/50 text-[#4682b4] hover:bg-[#4682b4]/10 rounded-3xl animate-slide-up",onClick:()=>t("/merchants"),style:{animationDelay:"0.4s"},children:[E.jsx(Eu,{className:"w-6 h-6"}),E.jsx("span",{className:"text-sm",children:"Find Merchants"})]}),E.jsxs(Ke,{variant:"outline",className:"service-item-3d h-20 flex-col space-y-2 border-2 border-blue-200/50 text-[#4682b4] hover:bg-[#4682b4]/10 rounded-3xl animate-slide-up",onClick:()=>t("/payment-methods"),style:{animationDelay:"0.5s"},children:[E.jsx(bg,{className:"w-6 h-6"}),E.jsx("span",{className:"text-sm",children:"Payment Cards"})]})]})]}),E.jsxs("div",{className:"animate-fade-in-up",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h3",{className:"text-lg font-semibold text-[#131313]",children:"Recent Transactions"}),E.jsx(Ke,{variant:"ghost",className:"text-[#4682b4] hover:text-[#0b1a51] transition-all duration-300 hover:scale-105",onClick:()=>t("/transactions"),children:"View All"})]}),E.jsx("div",{className:"space-y-3",children:S.slice(0,4).map((j,L)=>E.jsx(Mr,{className:"card-3d rounded-3xl border-2 border-blue-100/50 animate-slide-up interactive-element",style:{animationDelay:`${L*.1}s`},children:E.jsx(vr,{className:"p-4",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${j.type==="credit"?"bg-green-100":"bg-red-100"}`,children:E.jsx("span",{className:`text-lg ${j.type==="credit"?"text-green-600":"text-red-600"}`,children:K(j.type)})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-medium text-[#131313] text-sm",children:j.description}),E.jsx("p",{className:"text-xs text-gray-600",children:q(j.date)})]})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("p",{className:`font-semibold ${j.type==="credit"?"text-green-600":"text-red-600"}`,children:[j.type==="credit"?"+":"-",D(j.amount)]}),E.jsx(ds,{className:`text-xs ${U(j.status)}`,children:j.status})]})]})})},j.id))})]}),E.jsx(Mr,{className:"rounded-3xl border-2 border-blue-100/50 animate-fade-in-up transition-all duration-300 hover:shadow-lg",children:E.jsxs(vr,{className:"p-4",children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsx("h4",{className:"font-medium text-[#131313]",children:"Payment Methods"}),E.jsx(Ke,{variant:"ghost",size:"sm",className:"text-[#4682b4] transition-all duration-300 hover:scale-105",onClick:()=>t("/payment-methods"),children:"Manage"})]}),E.jsxs("div",{className:"flex space-x-3",children:[E.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-2xl p-3 flex-1 border border-blue-100/50 transition-all duration-300 hover:scale-105",children:[E.jsx("img",{src:yte,alt:"Mastercard",className:"w-8 h-5"}),E.jsx("span",{className:"text-sm font-medium",children:"•••• 4532"})]}),E.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-2xl p-3 flex-1 border border-blue-100/50 transition-all duration-300 hover:scale-105",children:[E.jsx("div",{className:"w-8 h-5 bg-[#1A1F71] rounded flex items-center justify-center",children:E.jsx("span",{className:"text-white font-bold text-xs",children:"VISA"})}),E.jsx("span",{className:"text-sm font-medium",children:"•••• 8901"})]})]})]})})]}),E.jsx("div",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-md bg-white border-t-2 border-blue-100 shadow-lg z-50",children:E.jsxs("div",{className:"flex justify-around items-center py-2 px-4",children:[E.jsxs("button",{onClick:()=>t("/consumer-home"),className:"flex flex-col items-center p-2 rounded-lg transition-all duration-300 hover:bg-blue-50",style:{color:e==="/consumer-home"?Ps.PRIMARY:Ps.TEXT},children:[E.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:E.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})})}),E.jsx("span",{className:"text-xs font-medium mt-1",children:"Home"})]}),E.jsxs("button",{onClick:()=>t("/search-results"),className:"flex flex-col items-center p-2 rounded-lg transition-all duration-300 hover:bg-blue-50",style:{color:e==="/search-results"?Ps.PRIMARY:Ps.TEXT},children:[E.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:E.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})}),E.jsx("span",{className:"text-xs font-medium mt-1",children:"Search"})]}),E.jsxs("button",{onClick:()=>t("/messages"),className:"flex flex-col items-center p-2 rounded-lg transition-all duration-300 hover:bg-blue-50 relative",style:{color:e==="/messages"?Ps.PRIMARY:Ps.TEXT},children:[E.jsxs("div",{className:"w-8 h-8 flex items-center justify-center relative",children:[E.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"})}),E.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:E.jsx("span",{className:"text-xs text-white font-bold",children:"3"})})]}),E.jsx("span",{className:"text-xs font-medium mt-1",children:"Messages"})]}),E.jsxs("button",{onClick:()=>t("/profile"),className:"flex flex-col items-center p-2 rounded-lg transition-all duration-300 hover:bg-blue-50",style:{color:e==="/profile"?Ps.PRIMARY:Ps.TEXT},children:[E.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:E.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),E.jsx("span",{className:"text-xs font-medium mt-1",children:"Profile"})]})]})})]})}function xte(){const[t,e]=useState("overview"),[n,r]=useState([]),[s,i]=useState(!0),[o,a]=useState(!1),[c,l]=useState(null),[u,d]=useState(!1),[p,x]=useState(!1),[y,h]=useState(null),[w,m]=useState(null);return E.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-gray-50 p-6",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[E.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Merchant Dashboard"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Manage your business and accept payments"}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("button",{className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"View Sales"}),E.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Accept Payment"}),E.jsx("button",{className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Manage Inventory"})]})]})})}function bte(){const[t,e]=J.useState("active"),[n,r]=J.useState(!1),[s,i]=J.useState(!1),[o,a]=J.useState("today"),[c,l]=J.useState(!1),[u,d]=J.useState(!1),[p,x]=J.useState("pickup");return E.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-gray-50 p-6",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[E.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Driver Dashboard"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Manage deliveries and track earnings"}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("button",{className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Available Orders"}),E.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Track Delivery"}),E.jsx("button",{className:"w-full bg-orange-600 text-white py-3 px-4 rounded-lg hover:bg-orange-700 transition-colors",children:"View Earnings"})]})]})})}function pm({title:t,description:e,icon:n,features:r=[],isSelected:s=!1,onSelect:i,className:o}){return E.jsx(Mr,{className:Rt("cursor-pointer transition-all duration-200 hover:shadow-lg",s&&"ring-2 ring-blue-600 border-blue-600",o),onClick:i,children:E.jsxs(vr,{className:"p-6 text-center",children:[n&&E.jsx("div",{className:"mb-4 flex justify-center",children:n}),E.jsx("h3",{className:"text-xl font-semibold mb-2",children:t}),E.jsx("p",{className:"text-gray-600 mb-4",children:e}),r.length>0&&E.jsx("div",{className:"mb-4",children:E.jsx("ul",{className:"text-sm text-gray-500 space-y-1",children:r.map((a,c)=>E.jsxs("li",{className:"flex items-center justify-center",children:[E.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full mr-2"}),a]},c))})}),E.jsx(Ke,{variant:s?"default":"outline",className:"w-full",onClick:a=>{a.stopPropagation(),i==null||i()},children:s?"Selected":"Select Role"})]})})}const wte="/src/assets/images/sign_up_option_logo.png";function Ste(){const[t,e]=J.useState(null),[,n]=io(),{setSelectedRole:r}=$a(),s=()=>{t&&(r(t),n("/signup"))};return E.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white flex flex-col",children:E.jsxs("div",{className:"flex-1 flex flex-col justify-center px-4 sm:px-6 py-6 sm:py-8",children:[E.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[E.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg",children:E.jsx("img",{src:wte,alt:"Sign Up",className:"w-12 h-12 sm:w-16 sm:h-16 object-contain"})}),E.jsx("h1",{className:"text-lg sm:text-xl font-extrabold text-[var(--brill-primary)] mb-3",children:"Choose Your Role"}),E.jsx("p",{className:"text-[var(--brill-text-light)] font-light text-sm",children:"Select how you'll be using Brillprime"})]}),E.jsxs("div",{className:"space-y-4 mb-8",children:[E.jsx(pm,{title:"Consumer",description:"Order products and services",isSelected:t==="CONSUMER",onSelect:()=>e("CONSUMER")}),E.jsx(pm,{title:"Merchant",description:"Sell products and manage your business",isSelected:t==="MERCHANT",onSelect:()=>e("MERCHANT")}),E.jsx(pm,{title:"Driver",description:"Deliver orders and earn money",isSelected:t==="DRIVER",onSelect:()=>e("DRIVER")})]}),E.jsx(Ke,{onClick:s,disabled:!t,className:"w-full h-10 sm:h-12 rounded-brill font-medium shadow-lg btn-scale disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base bg-[var(--brill-active)] text-[var(--brill-white)] hover:bg-[var(--brill-secondary)]",children:"Continue"})]})})}function _te({currentStep:t,totalSteps:e,steps:n,className:r}){return E.jsxs("div",{className:Rt("w-full",r),children:[E.jsx("div",{className:"flex items-center justify-between mb-2",children:n?n.map((s,i)=>E.jsx("div",{className:Rt("flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium",i<t?"bg-blue-600 text-white":i===t?"bg-blue-100 text-blue-600 border-2 border-blue-600":"bg-gray-200 text-gray-500"),children:i+1},i)):Array.from({length:e},(s,i)=>E.jsx("div",{className:Rt("flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium",i<t?"bg-blue-600 text-white":i===t?"bg-blue-100 text-blue-600 border-2 border-blue-600":"bg-gray-200 text-gray-500"),children:i+1},i))}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:E.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${t/e*100}%`}})}),n&&E.jsx("div",{className:"flex justify-between mt-2",children:n.map((s,i)=>E.jsx("span",{className:Rt("text-xs",i<=t?"text-blue-600":"text-gray-500"),children:s},i))})]})}const Ete="/src/assets/images/onboarding_img1.png",kte="/src/assets/images/onboarding_img2.png",Cte="/src/assets/images/onboarding_img3.png",Qu=[{title:`Welcome to
Brillprime`,description:"Your trusted financial partner for secure transactions and seamless money management",image:Ete},{title:`Smart Financial
Management`,description:"Track your expenses, manage multiple accounts, and make informed financial decisions with our advanced analytics",image:kte},{title:`Bank-Level
Security`,description:"Your data is protected with end-to-end encryption, biometric authentication, and advanced fraud detection",image:Cte}];function Ate(){const[t,e]=J.useState(1),[n,r]=J.useState(!1),[,s]=io(),i=Qu[t-1];J.useEffect(()=>{const a=Qu.map(c=>new Promise((l,u)=>{const d=new Image;d.onload=l,d.onerror=u,d.src=c.image}));Promise.all(a).then(()=>r(!0)).catch(()=>r(!0))},[]);const o=()=>{t<Qu.length?e(t+1):(localStorage.setItem("hasSeenOnboarding","true"),s("/role-selection"))};return n?E.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white relative overflow-hidden",children:E.jsxs("div",{className:"px-4 sm:px-6 py-6 sm:py-8 flex flex-col min-h-screen",children:[E.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center text-center",children:[E.jsx("div",{className:"w-48 sm:w-56 md:w-64 h-56 sm:h-64 md:h-72 lg:h-80 mb-6 sm:mb-8 flex items-center justify-center mx-auto",children:E.jsx("img",{src:i.image,alt:"Financial illustration",className:"w-full h-full object-cover rounded-xl shadow-lg"})}),E.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold text-[var(--brill-primary)] mb-3 sm:mb-4 leading-tight whitespace-pre-line px-2",children:i.title}),E.jsx("p",{className:"text-[var(--brill-text-light)] font-light text-sm sm:text-base mb-6 sm:mb-8 max-w-xs sm:max-w-sm leading-relaxed px-2",children:i.description})]}),E.jsxs("div",{className:"flex justify-between items-center pt-6 sm:pt-8 px-2",children:[E.jsx(_te,{totalSteps:3,currentStep:t}),t<Qu.length?E.jsx(Ke,{onClick:o,className:"w-12 h-12 sm:w-16 sm:h-16 gradient-bg rounded-full text-white shadow-lg btn-scale p-0",children:E.jsx(jD,{className:"h-4 w-4 sm:h-5 sm:w-5"})}):E.jsx(Ke,{onClick:o,className:"w-32 sm:w-40 h-10 sm:h-12 gradient-bg rounded-brill text-white font-medium shadow-lg btn-scale text-sm sm:text-base",children:"Get Started"})]})]})}):E.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white flex items-center justify-center",children:E.jsxs("div",{className:"flex space-x-2",children:[E.jsx("div",{className:"w-3 h-3 bg-[var(--brill-primary)] rounded-full animate-bounce"}),E.jsx("div",{className:"w-3 h-3 bg-[var(--brill-primary)] rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),E.jsx("div",{className:"w-3 h-3 bg-[var(--brill-primary)] rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}function Tte(){return E.jsx("div",{className:"min-h-screen flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),E.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Page not found"}),E.jsx(mM,{href:"/",children:E.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Go Home"})})]})})}const Nte=new PM({defaultOptions:{queries:{staleTime:5*60*1e3,retry:3}}});function Rte(){return E.jsx(DM,{client:Nte,children:E.jsx(nD,{children:E.jsxs(LN,{children:[E.jsx("div",{className:"min-h-screen bg-white",children:E.jsxs(gM,{children:[E.jsx(Wr,{path:"/",component:rD}),E.jsx(Wr,{path:"/signin",component:M6}),E.jsx(Wr,{path:"/role-selection",component:Ste}),E.jsx(Wr,{path:"/onboarding",component:Ate}),E.jsx(Wr,{path:"/dashboard",component:W$}),E.jsx(Wr,{path:"/consumer-home",component:vte}),E.jsx(Wr,{path:"/merchant-dashboard",component:xte}),E.jsx(Wr,{path:"/driver-dashboard",component:bte}),E.jsx(Wr,{component:Tte})]})}),E.jsx(tD,{})]})})})}console.log("main.tsx loading...");const hy=document.getElementById("root");console.log("Root element:",hy);if(hy){const t=fm.createRoot(hy);console.log("Creating React root..."),t.render(E.jsx(Le.StrictMode,{children:E.jsx(Rte,{})})),console.log("React app rendered")}else console.error("Root element not found!");
//# sourceMappingURL=index-CJtrnH79.js.map

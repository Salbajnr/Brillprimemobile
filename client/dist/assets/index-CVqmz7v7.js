const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chat-BChPrQyM.js","assets/account_circle-ChEtdL0c.js","assets/camera_icon-D5N9eZPD.js","assets/message-circle-CqxJZh1m.js","assets/phone-0BJ47FE1.js","assets/camera-CLhouQFu.js","assets/map-home-BpbvAQIK.js","assets/menu-DCy-GwzZ.js","assets/fuel-COf1siGH.js","assets/merchant-analytics-DKlVoyw-.js","assets/calendar-RsJxqlG8.js","assets/star-CubuygiY.js","assets/order-management-gHxpsocG.js","assets/select-B0T04BLa.js","assets/check-Bv_Y_Lo5.js","assets/live-map-SuCqMwXt.js","assets/real-time-tracking-WrAjjF7u.js","assets/send-KLPsBBjB.js","assets/driver-withdrawal-DK3M9ep-.js","assets/label-FpSljPAT.js","assets/switch-DlFQcZ_a.js","assets/visa_card_logo-BnxB165C.js","assets/apple_pay_logo-DvwOkF-H.js","assets/delete_icon_white-Dk-Af47M.js","assets/plus_icon-BKS7adVm.js","assets/building-2-13LR0Zo0.js","assets/commodities-p0SF8Yf1.js","assets/avatar-aX6vUNG7.js","assets/minus-DwT0u0OZ.js","assets/plus-CPiTij5A.js","assets/car-C8Z-P9-t.js","assets/ticket-BcKQPa4n.js","assets/heart-LU7mhTdg.js","assets/cart-DalEchuO.js","assets/queryClient-A1RmhH99.js","assets/notifications-YHgJBiGY.js","assets/profile-CbtjOuE3.js","assets/circle-help-DB4AYENj.js","assets/account-settings-iJ2N3eVa.js","assets/lock-BTELeWgi.js","assets/eye-off-BKuxYNTP.js","assets/chevron-right-zw0sD7mr.js","assets/add-payment-method-CfIS3lAm.js","assets/admin-control-center-BI-is-Mv.js","assets/bills-payment-DORwAYF9.js","assets/smartphone-Bz4ZH1hb.js","assets/biometric-setup-DE2AAkmv.js","assets/fingerprint-DRUXPWYM.js","assets/confirmation_fail_img-l7dZ-eC2.js","assets/checkout-D_6LZXPR.js","assets/delivery-detail-DKak5Ssz.js","assets/map_background-ButcEiCP.js","assets/ruler-B14oAyqu.js","assets/driver-registration-D58pUOx_.js","assets/upload-DWZGy76o.js","assets/driver-tier-selection-BeiJxeEZ.js","assets/edit-profile-DEjLJxEw.js","assets/enhanced-verification-bF0LCv1a.js","assets/forgot-password-Cd-0f-h2.js","assets/fuel-delivery-tracking-zML9aBZv.js","assets/fuel-order-details-BWuZw-Lh.js","assets/identity-verification-BepOhkwP.js","assets/live-chat-enhanced-DE-FPq0G.js","assets/location-setup-DcUV3Kmb.js","assets/merchant-kyc-verification-CdqGV1Bn.js","assets/building-Ct91lh93.js","assets/merchants-bVEzPV9N.js","assets/messages-G24VY0hM.js","assets/mfa-setup-xyy6BdS8.js","assets/qr-code-BNXnmlXa.js","assets/money-transfer-CbyUuWf_.js","assets/order-confirmation-Di4XyR-s.js","assets/order-history-detail-C6oREqmO.js","assets/order-history-IPiQBLCC.js","assets/payment-methods-C3qKK3ob.js","assets/qr-scanner-DRnGlf9v.js","assets/reset-password-CxroekFP.js","assets/search-results-Dg6hlfK-.js","assets/side-menu-C59k4hFW.js","assets/support-ticket-submit-Dq8XTps4.js","assets/toll-payment-success-BTbHXFT_.js","assets/toll-payments-C-HoAInm.js","assets/track-order-CNbNMqCB.js","assets/vendor-feed-zHPfZ36b.js","assets/wallet-balance-CG0-yw3H.js","assets/wallet-fund-D4hTaRMM.js"])))=>i.map(i=>d[i]);
var R4=Object.defineProperty;var q0=t=>{throw TypeError(t)};var I4=(t,e,s)=>e in t?R4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var P=(t,e,s)=>I4(t,typeof e!="symbol"?e+"":e,s),mh=(t,e,s)=>e.has(t)||q0("Cannot "+s);var $=(t,e,s)=>(mh(t,e,"read from private field"),s?s.call(t):e.get(t)),he=(t,e,s)=>e.has(t)?q0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),ae=(t,e,s,n)=>(mh(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),je=(t,e,s)=>(mh(t,e,"access private method"),s);var bu=(t,e,s,n)=>({set _(r){ae(t,e,r,s)},get _(){return $(t,e,n)}});function O4(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(n,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const P4=Object.freeze(Object.defineProperty({__proto__:null,get Client(){return kW},get Connection(){return CW},get DatabaseError(){return TW},get Pool(){return tI},get Query(){return AW},get Result(){return OW},get TypeOverrides(){return PW},get default(){return Gt},get defaults(){return DW},get escapeIdentifier(){return RW},get escapeLiteral(){return IW},get types(){return jW}},Symbol.toStringTag,{value:"Module"}));(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var St=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function qp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),s}var mj={exports:{}},Qp={},gj={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=Symbol.for("react.element"),D4=Symbol.for("react.portal"),M4=Symbol.for("react.fragment"),L4=Symbol.for("react.strict_mode"),F4=Symbol.for("react.profiler"),B4=Symbol.for("react.provider"),$4=Symbol.for("react.context"),U4=Symbol.for("react.forward_ref"),z4=Symbol.for("react.suspense"),q4=Symbol.for("react.memo"),Q4=Symbol.for("react.lazy"),Q0=Symbol.iterator;function V4(t){return t===null||typeof t!="object"?null:(t=Q0&&t[Q0]||t["@@iterator"],typeof t=="function"?t:null)}var yj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vj=Object.assign,xj={};function Ho(t,e,s){this.props=t,this.context=e,this.refs=xj,this.updater=s||yj}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bj(){}bj.prototype=Ho.prototype;function Xy(t,e,s){this.props=t,this.context=e,this.refs=xj,this.updater=s||yj}var Zy=Xy.prototype=new bj;Zy.constructor=Xy;vj(Zy,Ho.prototype);Zy.isPureReactComponent=!0;var V0=Array.isArray,wj=Object.prototype.hasOwnProperty,ev={current:null},Sj={key:!0,ref:!0,__self:!0,__source:!0};function _j(t,e,s){var n,r={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)wj.call(e,n)&&!Sj.hasOwnProperty(n)&&(r[n]=e[n]);var l=arguments.length-2;if(l===1)r.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)r[n]===void 0&&(r[n]=l[n]);return{$$typeof:Qc,type:t,key:i,ref:o,props:r,_owner:ev.current}}function H4(t,e){return{$$typeof:Qc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qc}function G4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var H0=/\/+/g;function gh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?G4(""+t.key):e.toString(36)}function ud(t,e,s,n,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qc:case D4:o=!0}}if(o)return o=t,r=r(o),t=n===""?"."+gh(o,0):n,V0(r)?(s="",t!=null&&(s=t.replace(H0,"$&/")+"/"),ud(r,e,s,"",function(d){return d})):r!=null&&(tv(r)&&(r=H4(r,s+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(H0,"$&/")+"/")+t)),e.push(r)),1;if(o=0,n=n===""?".":n+":",V0(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+gh(i,l);o+=ud(i,e,s,c,r)}else if(c=V4(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+gh(i,l++),o+=ud(i,e,s,c,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wu(t,e,s){if(t==null)return t;var n=[],r=0;return ud(t,n,"","",function(i){return e.call(s,i,r++)}),n}function W4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var is={current:null},dd={transition:null},K4={ReactCurrentDispatcher:is,ReactCurrentBatchConfig:dd,ReactCurrentOwner:ev};function Ej(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:wu,forEach:function(t,e,s){wu(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return wu(t,function(){e++}),e},toArray:function(t){return wu(t,function(e){return e})||[]},only:function(t){if(!tv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Ho;Pe.Fragment=M4;Pe.Profiler=F4;Pe.PureComponent=Xy;Pe.StrictMode=L4;Pe.Suspense=z4;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K4;Pe.act=Ej;Pe.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=vj({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ev.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)wj.call(e,c)&&!Sj.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Qc,type:t.type,key:r,ref:i,props:n,_owner:o}};Pe.createContext=function(t){return t={$$typeof:$4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:B4,_context:t},t.Consumer=t};Pe.createElement=_j;Pe.createFactory=function(t){var e=_j.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:U4,render:t}};Pe.isValidElement=tv;Pe.lazy=function(t){return{$$typeof:Q4,_payload:{_status:-1,_result:t},_init:W4}};Pe.memo=function(t,e){return{$$typeof:q4,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=dd.transition;dd.transition={};try{t()}finally{dd.transition=e}};Pe.unstable_act=Ej;Pe.useCallback=function(t,e){return is.current.useCallback(t,e)};Pe.useContext=function(t){return is.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return is.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return is.current.useEffect(t,e)};Pe.useId=function(){return is.current.useId()};Pe.useImperativeHandle=function(t,e,s){return is.current.useImperativeHandle(t,e,s)};Pe.useInsertionEffect=function(t,e){return is.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return is.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return is.current.useMemo(t,e)};Pe.useReducer=function(t,e,s){return is.current.useReducer(t,e,s)};Pe.useRef=function(t){return is.current.useRef(t)};Pe.useState=function(t){return is.current.useState(t)};Pe.useSyncExternalStore=function(t,e,s){return is.current.useSyncExternalStore(t,e,s)};Pe.useTransition=function(){return is.current.useTransition()};Pe.version="18.3.1";gj.exports=Pe;var j=gj.exports;const Yn=qp(j),sv=O4({__proto__:null,default:Yn},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y4=j,J4=Symbol.for("react.element"),X4=Symbol.for("react.fragment"),Z4=Object.prototype.hasOwnProperty,eD=Y4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tD={key:!0,ref:!0,__self:!0,__source:!0};function Nj(t,e,s){var n,r={},i=null,o=null;s!==void 0&&(i=""+s),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Z4.call(e,n)&&!tD.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:J4,type:t,key:i,ref:o,props:r,_owner:eD.current}}Qp.Fragment=X4;Qp.jsx=Nj;Qp.jsxs=Nj;mj.exports=Qp;var a=mj.exports,Vm={},kj={exports:{}},Ts={},Cj={exports:{}},jj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,H){var Y=U.length;U.push(H);e:for(;0<Y;){var G=Y-1>>>1,te=U[G];if(0<r(te,H))U[G]=H,U[Y]=te,Y=G;else break e}}function s(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var H=U[0],Y=U.pop();if(Y!==H){U[0]=Y;e:for(var G=0,te=U.length,we=te>>>1;G<we;){var Re=2*(G+1)-1,$e=U[Re],bt=Re+1,yn=U[bt];if(0>r($e,Y))bt<te&&0>r(yn,$e)?(U[G]=yn,U[bt]=Y,G=bt):(U[G]=$e,U[Re]=Y,G=Re);else if(bt<te&&0>r(yn,Y))U[G]=yn,U[bt]=Y,G=bt;else break e}}return H}function r(U,H){var Y=U.sortIndex-H.sortIndex;return Y!==0?Y:U.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,p=null,f=3,y=!1,g=!1,h=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(U){for(var H=s(d);H!==null;){if(H.callback===null)n(d);else if(H.startTime<=U)n(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=s(d)}}function E(U){if(h=!1,k(U),!g)if(s(c)!==null)g=!0,B(C);else{var H=s(d);H!==null&&F(E,H.startTime-U)}}function C(U,H){g=!1,h&&(h=!1,m(_),_=-1),y=!0;var Y=f;try{for(k(H),p=s(c);p!==null&&(!(p.expirationTime>H)||U&&!D());){var G=p.callback;if(typeof G=="function"){p.callback=null,f=p.priorityLevel;var te=G(p.expirationTime<=H);H=t.unstable_now(),typeof te=="function"?p.callback=te:p===s(c)&&n(c),k(H)}else n(c);p=s(c)}if(p!==null)var we=!0;else{var Re=s(d);Re!==null&&F(E,Re.startTime-H),we=!1}return we}finally{p=null,f=Y,y=!1}}var R=!1,N=null,_=-1,O=5,T=-1;function D(){return!(t.unstable_now()-T<O)}function V(){if(N!==null){var U=t.unstable_now();T=U;var H=!0;try{H=N(!0,U)}finally{H?L():(R=!1,N=null)}}else R=!1}var L;if(typeof x=="function")L=function(){x(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,I=w.port2;w.port1.onmessage=V,L=function(){I.postMessage(null)}}else L=function(){b(V,0)};function B(U){N=U,R||(R=!0,L())}function F(U,H){_=b(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||y||(g=!0,B(C))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var Y=f;f=H;try{return U()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=f;f=U;try{return H()}finally{f=Y}},t.unstable_scheduleCallback=function(U,H,Y){var G=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?G+Y:G):Y=G,U){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Y+te,U={id:u++,callback:H,priorityLevel:U,startTime:Y,expirationTime:te,sortIndex:-1},Y>G?(U.sortIndex=Y,e(d,U),s(c)===null&&U===s(d)&&(h?(m(_),_=-1):h=!0,F(E,Y-G))):(U.sortIndex=te,e(c,U),g||y||(g=!0,B(C))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var H=f;return function(){var Y=f;f=H;try{return U.apply(this,arguments)}finally{f=Y}}}})(jj);Cj.exports=jj;var sD=Cj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nD=j,As=sD;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Aj=new Set,Zl={};function Sa(t,e){Co(t,e),Co(t+"Capture",e)}function Co(t,e){for(Zl[t]=e,t=0;t<e.length;t++)Aj.add(e[t])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hm=Object.prototype.hasOwnProperty,rD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G0={},W0={};function iD(t){return Hm.call(W0,t)?!0:Hm.call(G0,t)?!1:rD.test(t)?W0[t]=!0:(G0[t]=!0,!1)}function aD(t,e,s,n){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oD(t,e,s,n){if(e===null||typeof e>"u"||aD(t,e,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function as(t,e,s,n,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new as(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new as(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new as(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new as(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new as(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new as(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new as(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new as(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new as(t,5,!1,t.toLowerCase(),null,!1,!1)});var nv=/[\-:]([a-z])/g;function rv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nv,rv);Bt[e]=new as(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nv,rv);Bt[e]=new as(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nv,rv);Bt[e]=new as(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new as(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new as("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new as(t,1,!1,t.toLowerCase(),null,!0,!0)});function iv(t,e,s,n){var r=Bt.hasOwnProperty(e)?Bt[e]:null;(r!==null?r.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oD(e,s,r,n)&&(s=null),n||r===null?iD(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):r.mustUseProperty?t[r.propertyName]=s===null?r.type===3?!1:"":s:(e=r.attributeName,n=r.attributeNamespace,s===null?t.removeAttribute(e):(r=r.type,s=r===3||r===4&&s===!0?"":""+s,n?t.setAttributeNS(n,e,s):t.setAttribute(e,s))))}var yr=nD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Su=Symbol.for("react.element"),qa=Symbol.for("react.portal"),Qa=Symbol.for("react.fragment"),av=Symbol.for("react.strict_mode"),Gm=Symbol.for("react.profiler"),Tj=Symbol.for("react.provider"),Rj=Symbol.for("react.context"),ov=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Km=Symbol.for("react.suspense_list"),lv=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),Ij=Symbol.for("react.offscreen"),K0=Symbol.iterator;function pl(t){return t===null||typeof t!="object"?null:(t=K0&&t[K0]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,yh;function Tl(t){if(yh===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);yh=e&&e[1]||""}return`
`+yh+t}var vh=!1;function xh(t,e){if(!t||vh)return"";vh=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=n.stack.split(`
`),o=r.length-1,l=i.length-1;1<=o&&0<=l&&r[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==i[l]){var c=`
`+r[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{vh=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Tl(t):""}function lD(t){switch(t.tag){case 5:return Tl(t.type);case 16:return Tl("Lazy");case 13:return Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 2:case 15:return t=xh(t.type,!1),t;case 11:return t=xh(t.type.render,!1),t;case 1:return t=xh(t.type,!0),t;default:return""}}function Ym(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qa:return"Fragment";case qa:return"Portal";case Gm:return"Profiler";case av:return"StrictMode";case Wm:return"Suspense";case Km:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rj:return(t.displayName||"Context")+".Consumer";case Tj:return(t._context.displayName||"Context")+".Provider";case ov:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lv:return e=t.displayName||null,e!==null?e:Ym(t.type)||"Memo";case Tr:e=t._payload,t=t._init;try{return Ym(t(e))}catch{}}return null}function cD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ym(e);case 8:return e===av?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uD(t){var e=Oj(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,i=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _u(t){t._valueTracker||(t._valueTracker=uD(t))}function Pj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),n="";return t&&(n=Oj(t)?t.checked?"true":"false":t.value),t=n,t!==s?(e.setValue(t),!0):!1}function Fd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jm(t,e){var s=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Y0(t,e){var s=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;s=di(e.value!=null?e.value:s),t._wrapperState={initialChecked:n,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dj(t,e){e=e.checked,e!=null&&iv(t,"checked",e,!1)}function Xm(t,e){Dj(t,e);var s=di(e.value),n=e.type;if(s!=null)n==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zm(t,e.type,s):e.hasOwnProperty("defaultValue")&&Zm(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function J0(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Zm(t,e,s){(e!=="number"||Fd(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Rl=Array.isArray;function ro(t,e,s,n){if(t=t.options,e){e={};for(var r=0;r<s.length;r++)e["$"+s[r]]=!0;for(s=0;s<t.length;s++)r=e.hasOwnProperty("$"+t[s].value),t[s].selected!==r&&(t[s].selected=r),r&&n&&(t[s].defaultSelected=!0)}else{for(s=""+di(s),e=null,r=0;r<t.length;r++){if(t[r].value===s){t[r].selected=!0,n&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function eg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function X0(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(re(92));if(Rl(s)){if(1<s.length)throw Error(re(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:di(s)}}function Mj(t,e){var s=di(e.value),n=di(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),n!=null&&(t.defaultValue=""+n)}function Z0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Eu,Fj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,n,r){MSApp.execUnsafeLocalFunction(function(){return t(e,s,n,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Eu=Eu||document.createElement("div"),Eu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Eu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ec(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var $l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dD=["Webkit","ms","Moz","O"];Object.keys($l).forEach(function(t){dD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$l[e]=$l[t]})});function Bj(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||$l.hasOwnProperty(t)&&$l[t]?(""+e).trim():e+"px"}function $j(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var n=s.indexOf("--")===0,r=Bj(s,e[s],n);s==="float"&&(s="cssFloat"),n?t.setProperty(s,r):t[s]=r}}var pD=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sg(t,e){if(e){if(pD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function ng(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rg=null;function cv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ig=null,io=null,ao=null;function eb(t){if(t=Gc(t)){if(typeof ig!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Kp(e),ig(t.stateNode,t.type,e))}}function Uj(t){io?ao?ao.push(t):ao=[t]:io=t}function zj(){if(io){var t=io,e=ao;if(ao=io=null,eb(t),e)for(t=0;t<e.length;t++)eb(e[t])}}function qj(t,e){return t(e)}function Qj(){}var bh=!1;function Vj(t,e,s){if(bh)return t(e,s);bh=!0;try{return qj(t,e,s)}finally{bh=!1,(io!==null||ao!==null)&&(Qj(),zj())}}function tc(t,e){var s=t.stateNode;if(s===null)return null;var n=Kp(s);if(n===null)return null;s=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(re(231,e,typeof s));return s}var ag=!1;if(dr)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){ag=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{ag=!1}function fD(t,e,s,n,r,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(s,d)}catch(u){this.onError(u)}}var Ul=!1,Bd=null,$d=!1,og=null,hD={onError:function(t){Ul=!0,Bd=t}};function mD(t,e,s,n,r,i,o,l,c){Ul=!1,Bd=null,fD.apply(hD,arguments)}function gD(t,e,s,n,r,i,o,l,c){if(mD.apply(this,arguments),Ul){if(Ul){var d=Bd;Ul=!1,Bd=null}else throw Error(re(198));$d||($d=!0,og=d)}}function _a(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function Hj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tb(t){if(_a(t)!==t)throw Error(re(188))}function yD(t){var e=t.alternate;if(!e){if(e=_a(t),e===null)throw Error(re(188));return e!==t?null:t}for(var s=t,n=e;;){var r=s.return;if(r===null)break;var i=r.alternate;if(i===null){if(n=r.return,n!==null){s=n;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===s)return tb(r),t;if(i===n)return tb(r),e;i=i.sibling}throw Error(re(188))}if(s.return!==n.return)s=r,n=i;else{for(var o=!1,l=r.child;l;){if(l===s){o=!0,s=r,n=i;break}if(l===n){o=!0,n=r,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,n=r;break}if(l===n){o=!0,n=i,s=r;break}l=l.sibling}if(!o)throw Error(re(189))}}if(s.alternate!==n)throw Error(re(190))}if(s.tag!==3)throw Error(re(188));return s.stateNode.current===s?t:e}function Gj(t){return t=yD(t),t!==null?Wj(t):null}function Wj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wj(t);if(e!==null)return e;t=t.sibling}return null}var Kj=As.unstable_scheduleCallback,sb=As.unstable_cancelCallback,vD=As.unstable_shouldYield,xD=As.unstable_requestPaint,vt=As.unstable_now,bD=As.unstable_getCurrentPriorityLevel,uv=As.unstable_ImmediatePriority,Yj=As.unstable_UserBlockingPriority,Ud=As.unstable_NormalPriority,wD=As.unstable_LowPriority,Jj=As.unstable_IdlePriority,Vp=null,Rn=null;function SD(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Vp,t,void 0,(t.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:ND,_D=Math.log,ED=Math.LN2;function ND(t){return t>>>=0,t===0?32:31-(_D(t)/ED|0)|0}var Nu=64,ku=4194304;function Il(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zd(t,e){var s=t.pendingLanes;if(s===0)return 0;var n=0,r=t.suspendedLanes,i=t.pingedLanes,o=s&268435455;if(o!==0){var l=o&~r;l!==0?n=Il(l):(i&=o,i!==0&&(n=Il(i)))}else o=s&~r,o!==0?n=Il(o):i!==0&&(n=Il(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&r)&&(r=n&-n,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(n&4&&(n|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)s=31-on(e),r=1<<s,n|=t[s],e&=~r;return n}function kD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CD(t,e){for(var s=t.suspendedLanes,n=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-on(i),l=1<<o,c=r[o];c===-1?(!(l&s)||l&n)&&(r[o]=kD(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function lg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xj(){var t=Nu;return Nu<<=1,!(Nu&4194240)&&(Nu=64),t}function wh(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function Vc(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-on(e),t[e]=s}function jD(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<s;){var r=31-on(s),i=1<<r;e[r]=0,n[r]=-1,t[r]=-1,s&=~i}}function dv(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var n=31-on(s),r=1<<n;r&e|t[n]&e&&(t[n]|=e),s&=~r}}var Qe=0;function Zj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var e2,pv,t2,s2,n2,cg=!1,Cu=[],Xr=null,Zr=null,ei=null,sc=new Map,nc=new Map,Ir=[],AD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nb(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":sc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(e.pointerId)}}function hl(t,e,s,n,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:s,eventSystemFlags:n,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Gc(e),e!==null&&pv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function TD(t,e,s,n,r){switch(e){case"focusin":return Xr=hl(Xr,t,e,s,n,r),!0;case"dragenter":return Zr=hl(Zr,t,e,s,n,r),!0;case"mouseover":return ei=hl(ei,t,e,s,n,r),!0;case"pointerover":var i=r.pointerId;return sc.set(i,hl(sc.get(i)||null,t,e,s,n,r)),!0;case"gotpointercapture":return i=r.pointerId,nc.set(i,hl(nc.get(i)||null,t,e,s,n,r)),!0}return!1}function r2(t){var e=Ii(t.target);if(e!==null){var s=_a(e);if(s!==null){if(e=s.tag,e===13){if(e=Hj(s),e!==null){t.blockedOn=e,n2(t.priority,function(){t2(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=ug(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);rg=n,s.target.dispatchEvent(n),rg=null}else return e=Gc(s),e!==null&&pv(e),t.blockedOn=s,!1;e.shift()}return!0}function rb(t,e,s){pd(t)&&s.delete(e)}function RD(){cg=!1,Xr!==null&&pd(Xr)&&(Xr=null),Zr!==null&&pd(Zr)&&(Zr=null),ei!==null&&pd(ei)&&(ei=null),sc.forEach(rb),nc.forEach(rb)}function ml(t,e){t.blockedOn===e&&(t.blockedOn=null,cg||(cg=!0,As.unstable_scheduleCallback(As.unstable_NormalPriority,RD)))}function rc(t){function e(r){return ml(r,t)}if(0<Cu.length){ml(Cu[0],t);for(var s=1;s<Cu.length;s++){var n=Cu[s];n.blockedOn===t&&(n.blockedOn=null)}}for(Xr!==null&&ml(Xr,t),Zr!==null&&ml(Zr,t),ei!==null&&ml(ei,t),sc.forEach(e),nc.forEach(e),s=0;s<Ir.length;s++)n=Ir[s],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ir.length&&(s=Ir[0],s.blockedOn===null);)r2(s),s.blockedOn===null&&Ir.shift()}var oo=yr.ReactCurrentBatchConfig,qd=!0;function ID(t,e,s,n){var r=Qe,i=oo.transition;oo.transition=null;try{Qe=1,fv(t,e,s,n)}finally{Qe=r,oo.transition=i}}function OD(t,e,s,n){var r=Qe,i=oo.transition;oo.transition=null;try{Qe=4,fv(t,e,s,n)}finally{Qe=r,oo.transition=i}}function fv(t,e,s,n){if(qd){var r=ug(t,e,s,n);if(r===null)Rh(t,e,n,Qd,s),nb(t,n);else if(TD(r,t,e,s,n))n.stopPropagation();else if(nb(t,n),e&4&&-1<AD.indexOf(t)){for(;r!==null;){var i=Gc(r);if(i!==null&&e2(i),i=ug(t,e,s,n),i===null&&Rh(t,e,n,Qd,s),i===r)break;r=i}r!==null&&n.stopPropagation()}else Rh(t,e,n,null,s)}}var Qd=null;function ug(t,e,s,n){if(Qd=null,t=cv(n),t=Ii(t),t!==null)if(e=_a(t),e===null)t=null;else if(s=e.tag,s===13){if(t=Hj(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qd=t,null}function i2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bD()){case uv:return 1;case Yj:return 4;case Ud:case wD:return 16;case Jj:return 536870912;default:return 16}default:return 16}}var Hr=null,hv=null,fd=null;function a2(){if(fd)return fd;var t,e=hv,s=e.length,n,r="value"in Hr?Hr.value:Hr.textContent,i=r.length;for(t=0;t<s&&e[t]===r[t];t++);var o=s-t;for(n=1;n<=o&&e[s-n]===r[i-n];n++);return fd=r.slice(t,1<n?1-n:void 0)}function hd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ju(){return!0}function ib(){return!1}function Rs(t){function e(s,n,r,i,o){this._reactName=s,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(s=t[l],this[l]=s?s(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ju:ib,this.isPropagationStopped=ib,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),e}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mv=Rs(Go),Hc=lt({},Go,{view:0,detail:0}),PD=Rs(Hc),Sh,_h,gl,Hp=lt({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gl&&(gl&&t.type==="mousemove"?(Sh=t.screenX-gl.screenX,_h=t.screenY-gl.screenY):_h=Sh=0,gl=t),Sh)},movementY:function(t){return"movementY"in t?t.movementY:_h}}),ab=Rs(Hp),DD=lt({},Hp,{dataTransfer:0}),MD=Rs(DD),LD=lt({},Hc,{relatedTarget:0}),Eh=Rs(LD),FD=lt({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),BD=Rs(FD),$D=lt({},Go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UD=Rs($D),zD=lt({},Go,{data:0}),ob=Rs(zD),qD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VD[t])?!!e[t]:!1}function gv(){return HD}var GD=lt({},Hc,{key:function(t){if(t.key){var e=qD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gv,charCode:function(t){return t.type==="keypress"?hd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WD=Rs(GD),KD=lt({},Hp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lb=Rs(KD),YD=lt({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gv}),JD=Rs(YD),XD=lt({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZD=Rs(XD),eM=lt({},Hp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tM=Rs(eM),sM=[9,13,27,32],yv=dr&&"CompositionEvent"in window,zl=null;dr&&"documentMode"in document&&(zl=document.documentMode);var nM=dr&&"TextEvent"in window&&!zl,o2=dr&&(!yv||zl&&8<zl&&11>=zl),cb=" ",ub=!1;function l2(t,e){switch(t){case"keyup":return sM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function rM(t,e){switch(t){case"compositionend":return c2(e);case"keypress":return e.which!==32?null:(ub=!0,cb);case"textInput":return t=e.data,t===cb&&ub?null:t;default:return null}}function iM(t,e){if(Va)return t==="compositionend"||!yv&&l2(t,e)?(t=a2(),fd=hv=Hr=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o2&&e.locale!=="ko"?null:e.data;default:return null}}var aM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function db(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aM[t.type]:e==="textarea"}function u2(t,e,s,n){Uj(n),e=Vd(e,"onChange"),0<e.length&&(s=new mv("onChange","change",null,s,n),t.push({event:s,listeners:e}))}var ql=null,ic=null;function oM(t){w2(t,0)}function Gp(t){var e=Wa(t);if(Pj(e))return t}function lM(t,e){if(t==="change")return e}var d2=!1;if(dr){var Nh;if(dr){var kh="oninput"in document;if(!kh){var pb=document.createElement("div");pb.setAttribute("oninput","return;"),kh=typeof pb.oninput=="function"}Nh=kh}else Nh=!1;d2=Nh&&(!document.documentMode||9<document.documentMode)}function fb(){ql&&(ql.detachEvent("onpropertychange",p2),ic=ql=null)}function p2(t){if(t.propertyName==="value"&&Gp(ic)){var e=[];u2(e,ic,t,cv(t)),Vj(oM,e)}}function cM(t,e,s){t==="focusin"?(fb(),ql=e,ic=s,ql.attachEvent("onpropertychange",p2)):t==="focusout"&&fb()}function uM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gp(ic)}function dM(t,e){if(t==="click")return Gp(e)}function pM(t,e){if(t==="input"||t==="change")return Gp(e)}function fM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:fM;function ac(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var r=s[n];if(!Hm.call(e,r)||!dn(t[r],e[r]))return!1}return!0}function hb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mb(t,e){var s=hb(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=e&&n>=e)return{node:s,offset:e-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=hb(s)}}function f2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?f2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function h2(){for(var t=window,e=Fd();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=Fd(t.document)}return e}function vv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hM(t){var e=h2(),s=t.focusedElem,n=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&f2(s.ownerDocument.documentElement,s)){if(n!==null&&vv(s)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=s.textContent.length,i=Math.min(n.start,r);n=n.end===void 0?i:Math.min(n.end,r),!t.extend&&i>n&&(r=n,n=i,i=r),r=mb(s,i);var o=mb(s,n);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mM=dr&&"documentMode"in document&&11>=document.documentMode,Ha=null,dg=null,Ql=null,pg=!1;function gb(t,e,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;pg||Ha==null||Ha!==Fd(n)||(n=Ha,"selectionStart"in n&&vv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ql&&ac(Ql,n)||(Ql=n,n=Vd(dg,"onSelect"),0<n.length&&(e=new mv("onSelect","select",null,e,s),t.push({event:e,listeners:n}),e.target=Ha)))}function Au(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var Ga={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},Ch={},m2={};dr&&(m2=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Wp(t){if(Ch[t])return Ch[t];if(!Ga[t])return t;var e=Ga[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in m2)return Ch[t]=e[s];return t}var g2=Wp("animationend"),y2=Wp("animationiteration"),v2=Wp("animationstart"),x2=Wp("transitionend"),b2=new Map,yb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(t,e){b2.set(t,e),Sa(e,[t])}for(var jh=0;jh<yb.length;jh++){var Ah=yb[jh],gM=Ah.toLowerCase(),yM=Ah[0].toUpperCase()+Ah.slice(1);vi(gM,"on"+yM)}vi(g2,"onAnimationEnd");vi(y2,"onAnimationIteration");vi(v2,"onAnimationStart");vi("dblclick","onDoubleClick");vi("focusin","onFocus");vi("focusout","onBlur");vi(x2,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function vb(t,e,s){var n=t.type||"unknown-event";t.currentTarget=s,gD(n,e,void 0,t),t.currentTarget=null}function w2(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],r=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;vb(r,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;vb(r,l,d),i=c}}}if($d)throw t=og,$d=!1,og=null,t}function Ye(t,e){var s=e[yg];s===void 0&&(s=e[yg]=new Set);var n=t+"__bubble";s.has(n)||(S2(e,t,2,!1),s.add(n))}function Th(t,e,s){var n=0;e&&(n|=4),S2(s,t,n,e)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function oc(t){if(!t[Tu]){t[Tu]=!0,Aj.forEach(function(s){s!=="selectionchange"&&(vM.has(s)||Th(s,!1,t),Th(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tu]||(e[Tu]=!0,Th("selectionchange",!1,e))}}function S2(t,e,s,n){switch(i2(e)){case 1:var r=ID;break;case 4:r=OD;break;default:r=fv}s=r.bind(null,e,s,t),r=void 0,!ag||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),n?r!==void 0?t.addEventListener(e,s,{capture:!0,passive:r}):t.addEventListener(e,s,!0):r!==void 0?t.addEventListener(e,s,{passive:r}):t.addEventListener(e,s,!1)}function Rh(t,e,s,n,r){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Ii(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Vj(function(){var d=i,u=cv(s),p=[];e:{var f=b2.get(t);if(f!==void 0){var y=mv,g=t;switch(t){case"keypress":if(hd(s)===0)break e;case"keydown":case"keyup":y=WD;break;case"focusin":g="focus",y=Eh;break;case"focusout":g="blur",y=Eh;break;case"beforeblur":case"afterblur":y=Eh;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ab;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=MD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=JD;break;case g2:case y2:case v2:y=BD;break;case x2:y=ZD;break;case"scroll":y=PD;break;case"wheel":y=tM;break;case"copy":case"cut":case"paste":y=UD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=lb}var h=(e&4)!==0,b=!h&&t==="scroll",m=h?f!==null?f+"Capture":null:f;h=[];for(var x=d,k;x!==null;){k=x;var E=k.stateNode;if(k.tag===5&&E!==null&&(k=E,m!==null&&(E=tc(x,m),E!=null&&h.push(lc(x,E,k)))),b)break;x=x.return}0<h.length&&(f=new y(f,g,null,s,u),p.push({event:f,listeners:h}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&s!==rg&&(g=s.relatedTarget||s.fromElement)&&(Ii(g)||g[pr]))break e;if((y||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,y?(g=s.relatedTarget||s.toElement,y=d,g=g?Ii(g):null,g!==null&&(b=_a(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=d),y!==g)){if(h=ab,E="onMouseLeave",m="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(h=lb,E="onPointerLeave",m="onPointerEnter",x="pointer"),b=y==null?f:Wa(y),k=g==null?f:Wa(g),f=new h(E,x+"leave",y,s,u),f.target=b,f.relatedTarget=k,E=null,Ii(u)===d&&(h=new h(m,x+"enter",g,s,u),h.target=k,h.relatedTarget=b,E=h),b=E,y&&g)t:{for(h=y,m=g,x=0,k=h;k;k=ka(k))x++;for(k=0,E=m;E;E=ka(E))k++;for(;0<x-k;)h=ka(h),x--;for(;0<k-x;)m=ka(m),k--;for(;x--;){if(h===m||m!==null&&h===m.alternate)break t;h=ka(h),m=ka(m)}h=null}else h=null;y!==null&&xb(p,f,y,h,!1),g!==null&&b!==null&&xb(p,b,g,h,!0)}}e:{if(f=d?Wa(d):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var C=lM;else if(db(f))if(d2)C=pM;else{C=uM;var R=cM}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=dM);if(C&&(C=C(t,d))){u2(p,C,s,u);break e}R&&R(t,f,d),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&Zm(f,"number",f.value)}switch(R=d?Wa(d):window,t){case"focusin":(db(R)||R.contentEditable==="true")&&(Ha=R,dg=d,Ql=null);break;case"focusout":Ql=dg=Ha=null;break;case"mousedown":pg=!0;break;case"contextmenu":case"mouseup":case"dragend":pg=!1,gb(p,s,u);break;case"selectionchange":if(mM)break;case"keydown":case"keyup":gb(p,s,u)}var N;if(yv)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Va?l2(t,s)&&(_="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(_="onCompositionStart");_&&(o2&&s.locale!=="ko"&&(Va||_!=="onCompositionStart"?_==="onCompositionEnd"&&Va&&(N=a2()):(Hr=u,hv="value"in Hr?Hr.value:Hr.textContent,Va=!0)),R=Vd(d,_),0<R.length&&(_=new ob(_,t,null,s,u),p.push({event:_,listeners:R}),N?_.data=N:(N=c2(s),N!==null&&(_.data=N)))),(N=nM?rM(t,s):iM(t,s))&&(d=Vd(d,"onBeforeInput"),0<d.length&&(u=new ob("onBeforeInput","beforeinput",null,s,u),p.push({event:u,listeners:d}),u.data=N))}w2(p,e)})}function lc(t,e,s){return{instance:t,listener:e,currentTarget:s}}function Vd(t,e){for(var s=e+"Capture",n=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=tc(t,s),i!=null&&n.unshift(lc(t,i,r)),i=tc(t,e),i!=null&&n.push(lc(t,i,r))),t=t.return}return n}function ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xb(t,e,s,n,r){for(var i=e._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,r?(c=tc(s,i),c!=null&&o.unshift(lc(s,c,l))):r||(c=tc(s,i),c!=null&&o.push(lc(s,c,l)))),s=s.return}o.length!==0&&t.push({event:e,listeners:o})}var xM=/\r\n?/g,bM=/\u0000|\uFFFD/g;function bb(t){return(typeof t=="string"?t:""+t).replace(xM,`
`).replace(bM,"")}function Ru(t,e,s){if(e=bb(e),bb(t)!==e&&s)throw Error(re(425))}function Hd(){}var fg=null,hg=null;function mg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gg=typeof setTimeout=="function"?setTimeout:void 0,wM=typeof clearTimeout=="function"?clearTimeout:void 0,wb=typeof Promise=="function"?Promise:void 0,SM=typeof queueMicrotask=="function"?queueMicrotask:typeof wb<"u"?function(t){return wb.resolve(null).then(t).catch(_M)}:gg;function _M(t){setTimeout(function(){throw t})}function Ih(t,e){var s=e,n=0;do{var r=s.nextSibling;if(t.removeChild(s),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(n===0){t.removeChild(r),rc(e);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=r}while(s);rc(e)}function ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),jn="__reactFiber$"+Wo,cc="__reactProps$"+Wo,pr="__reactContainer$"+Wo,yg="__reactEvents$"+Wo,EM="__reactListeners$"+Wo,NM="__reactHandles$"+Wo;function Ii(t){var e=t[jn];if(e)return e;for(var s=t.parentNode;s;){if(e=s[pr]||s[jn]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=Sb(t);t!==null;){if(s=t[jn])return s;t=Sb(t)}return e}t=s,s=t.parentNode}return null}function Gc(t){return t=t[jn]||t[pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Kp(t){return t[cc]||null}var vg=[],Ka=-1;function xi(t){return{current:t}}function Je(t){0>Ka||(t.current=vg[Ka],vg[Ka]=null,Ka--)}function We(t,e){Ka++,vg[Ka]=t.current,t.current=e}var pi={},Wt=xi(pi),gs=xi(!1),ta=pi;function jo(t,e){var s=t.type.contextTypes;if(!s)return pi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in s)r[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function ys(t){return t=t.childContextTypes,t!=null}function Gd(){Je(gs),Je(Wt)}function _b(t,e,s){if(Wt.current!==pi)throw Error(re(168));We(Wt,e),We(gs,s)}function _2(t,e,s){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var r in n)if(!(r in e))throw Error(re(108,cD(t)||"Unknown",r));return lt({},s,n)}function Wd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pi,ta=Wt.current,We(Wt,t),We(gs,gs.current),!0}function Eb(t,e,s){var n=t.stateNode;if(!n)throw Error(re(169));s?(t=_2(t,e,ta),n.__reactInternalMemoizedMergedChildContext=t,Je(gs),Je(Wt),We(Wt,t)):Je(gs),We(gs,s)}var Xn=null,Yp=!1,Oh=!1;function E2(t){Xn===null?Xn=[t]:Xn.push(t)}function kM(t){Yp=!0,E2(t)}function bi(){if(!Oh&&Xn!==null){Oh=!0;var t=0,e=Qe;try{var s=Xn;for(Qe=1;t<s.length;t++){var n=s[t];do n=n(!0);while(n!==null)}Xn=null,Yp=!1}catch(r){throw Xn!==null&&(Xn=Xn.slice(t+1)),Kj(uv,bi),r}finally{Qe=e,Oh=!1}}return null}var Ya=[],Ja=0,Kd=null,Yd=0,Bs=[],$s=0,sa=null,rr=1,ir="";function ji(t,e){Ya[Ja++]=Yd,Ya[Ja++]=Kd,Kd=t,Yd=e}function N2(t,e,s){Bs[$s++]=rr,Bs[$s++]=ir,Bs[$s++]=sa,sa=t;var n=rr;t=ir;var r=32-on(n)-1;n&=~(1<<r),s+=1;var i=32-on(e)+r;if(30<i){var o=r-r%5;i=(n&(1<<o)-1).toString(32),n>>=o,r-=o,rr=1<<32-on(e)+r|s<<r|n,ir=i+t}else rr=1<<i|s<<r|n,ir=t}function xv(t){t.return!==null&&(ji(t,1),N2(t,1,0))}function bv(t){for(;t===Kd;)Kd=Ya[--Ja],Ya[Ja]=null,Yd=Ya[--Ja],Ya[Ja]=null;for(;t===sa;)sa=Bs[--$s],Bs[$s]=null,ir=Bs[--$s],Bs[$s]=null,rr=Bs[--$s],Bs[$s]=null}var ks=null,_s=null,et=!1,sn=null;function k2(t,e){var s=zs(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function Nb(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ks=t,_s=ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ks=t,_s=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=sa!==null?{id:rr,overflow:ir}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=zs(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,ks=t,_s=null,!0):!1;default:return!1}}function xg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bg(t){if(et){var e=_s;if(e){var s=e;if(!Nb(t,e)){if(xg(t))throw Error(re(418));e=ti(s.nextSibling);var n=ks;e&&Nb(t,e)?k2(n,s):(t.flags=t.flags&-4097|2,et=!1,ks=t)}}else{if(xg(t))throw Error(re(418));t.flags=t.flags&-4097|2,et=!1,ks=t}}}function kb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ks=t}function Iu(t){if(t!==ks)return!1;if(!et)return kb(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mg(t.type,t.memoizedProps)),e&&(e=_s)){if(xg(t))throw C2(),Error(re(418));for(;e;)k2(t,e),e=ti(e.nextSibling)}if(kb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){_s=ti(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}_s=null}}else _s=ks?ti(t.stateNode.nextSibling):null;return!0}function C2(){for(var t=_s;t;)t=ti(t.nextSibling)}function Ao(){_s=ks=null,et=!1}function wv(t){sn===null?sn=[t]:sn.push(t)}var CM=yr.ReactCurrentBatchConfig;function yl(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(re(309));var n=s.stateNode}if(!n)throw Error(re(147,t));var r=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=r.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(re(284));if(!s._owner)throw Error(re(290,t))}return t}function Ou(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cb(t){var e=t._init;return e(t._payload)}function j2(t){function e(m,x){if(t){var k=m.deletions;k===null?(m.deletions=[x],m.flags|=16):k.push(x)}}function s(m,x){if(!t)return null;for(;x!==null;)e(m,x),x=x.sibling;return null}function n(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function r(m,x){return m=ii(m,x),m.index=0,m.sibling=null,m}function i(m,x,k){return m.index=k,t?(k=m.alternate,k!==null?(k=k.index,k<x?(m.flags|=2,x):k):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,x,k,E){return x===null||x.tag!==6?(x=$h(k,m.mode,E),x.return=m,x):(x=r(x,k),x.return=m,x)}function c(m,x,k,E){var C=k.type;return C===Qa?u(m,x,k.props.children,E,k.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Tr&&Cb(C)===x.type)?(E=r(x,k.props),E.ref=yl(m,x,k),E.return=m,E):(E=wd(k.type,k.key,k.props,null,m.mode,E),E.ref=yl(m,x,k),E.return=m,E)}function d(m,x,k,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=Uh(k,m.mode,E),x.return=m,x):(x=r(x,k.children||[]),x.return=m,x)}function u(m,x,k,E,C){return x===null||x.tag!==7?(x=Hi(k,m.mode,E,C),x.return=m,x):(x=r(x,k),x.return=m,x)}function p(m,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return x=$h(""+x,m.mode,k),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Su:return k=wd(x.type,x.key,x.props,null,m.mode,k),k.ref=yl(m,null,x),k.return=m,k;case qa:return x=Uh(x,m.mode,k),x.return=m,x;case Tr:var E=x._init;return p(m,E(x._payload),k)}if(Rl(x)||pl(x))return x=Hi(x,m.mode,k,null),x.return=m,x;Ou(m,x)}return null}function f(m,x,k,E){var C=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return C!==null?null:l(m,x,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Su:return k.key===C?c(m,x,k,E):null;case qa:return k.key===C?d(m,x,k,E):null;case Tr:return C=k._init,f(m,x,C(k._payload),E)}if(Rl(k)||pl(k))return C!==null?null:u(m,x,k,E,null);Ou(m,k)}return null}function y(m,x,k,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(k)||null,l(x,m,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Su:return m=m.get(E.key===null?k:E.key)||null,c(x,m,E,C);case qa:return m=m.get(E.key===null?k:E.key)||null,d(x,m,E,C);case Tr:var R=E._init;return y(m,x,k,R(E._payload),C)}if(Rl(E)||pl(E))return m=m.get(k)||null,u(x,m,E,C,null);Ou(x,E)}return null}function g(m,x,k,E){for(var C=null,R=null,N=x,_=x=0,O=null;N!==null&&_<k.length;_++){N.index>_?(O=N,N=null):O=N.sibling;var T=f(m,N,k[_],E);if(T===null){N===null&&(N=O);break}t&&N&&T.alternate===null&&e(m,N),x=i(T,x,_),R===null?C=T:R.sibling=T,R=T,N=O}if(_===k.length)return s(m,N),et&&ji(m,_),C;if(N===null){for(;_<k.length;_++)N=p(m,k[_],E),N!==null&&(x=i(N,x,_),R===null?C=N:R.sibling=N,R=N);return et&&ji(m,_),C}for(N=n(m,N);_<k.length;_++)O=y(N,m,_,k[_],E),O!==null&&(t&&O.alternate!==null&&N.delete(O.key===null?_:O.key),x=i(O,x,_),R===null?C=O:R.sibling=O,R=O);return t&&N.forEach(function(D){return e(m,D)}),et&&ji(m,_),C}function h(m,x,k,E){var C=pl(k);if(typeof C!="function")throw Error(re(150));if(k=C.call(k),k==null)throw Error(re(151));for(var R=C=null,N=x,_=x=0,O=null,T=k.next();N!==null&&!T.done;_++,T=k.next()){N.index>_?(O=N,N=null):O=N.sibling;var D=f(m,N,T.value,E);if(D===null){N===null&&(N=O);break}t&&N&&D.alternate===null&&e(m,N),x=i(D,x,_),R===null?C=D:R.sibling=D,R=D,N=O}if(T.done)return s(m,N),et&&ji(m,_),C;if(N===null){for(;!T.done;_++,T=k.next())T=p(m,T.value,E),T!==null&&(x=i(T,x,_),R===null?C=T:R.sibling=T,R=T);return et&&ji(m,_),C}for(N=n(m,N);!T.done;_++,T=k.next())T=y(N,m,_,T.value,E),T!==null&&(t&&T.alternate!==null&&N.delete(T.key===null?_:T.key),x=i(T,x,_),R===null?C=T:R.sibling=T,R=T);return t&&N.forEach(function(V){return e(m,V)}),et&&ji(m,_),C}function b(m,x,k,E){if(typeof k=="object"&&k!==null&&k.type===Qa&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Su:e:{for(var C=k.key,R=x;R!==null;){if(R.key===C){if(C=k.type,C===Qa){if(R.tag===7){s(m,R.sibling),x=r(R,k.props.children),x.return=m,m=x;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Tr&&Cb(C)===R.type){s(m,R.sibling),x=r(R,k.props),x.ref=yl(m,R,k),x.return=m,m=x;break e}s(m,R);break}else e(m,R);R=R.sibling}k.type===Qa?(x=Hi(k.props.children,m.mode,E,k.key),x.return=m,m=x):(E=wd(k.type,k.key,k.props,null,m.mode,E),E.ref=yl(m,x,k),E.return=m,m=E)}return o(m);case qa:e:{for(R=k.key;x!==null;){if(x.key===R)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){s(m,x.sibling),x=r(x,k.children||[]),x.return=m,m=x;break e}else{s(m,x);break}else e(m,x);x=x.sibling}x=Uh(k,m.mode,E),x.return=m,m=x}return o(m);case Tr:return R=k._init,b(m,x,R(k._payload),E)}if(Rl(k))return g(m,x,k,E);if(pl(k))return h(m,x,k,E);Ou(m,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,x!==null&&x.tag===6?(s(m,x.sibling),x=r(x,k),x.return=m,m=x):(s(m,x),x=$h(k,m.mode,E),x.return=m,m=x),o(m)):s(m,x)}return b}var To=j2(!0),A2=j2(!1),Jd=xi(null),Xd=null,Xa=null,Sv=null;function _v(){Sv=Xa=Xd=null}function Ev(t){var e=Jd.current;Je(Jd),t._currentValue=e}function wg(t,e,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===s)break;t=t.return}}function lo(t,e){Xd=t,Sv=Xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ms=!0),t.firstContext=null)}function Vs(t){var e=t._currentValue;if(Sv!==t)if(t={context:t,memoizedValue:e,next:null},Xa===null){if(Xd===null)throw Error(re(308));Xa=t,Xd.dependencies={lanes:0,firstContext:t}}else Xa=Xa.next=t;return e}var Oi=null;function Nv(t){Oi===null?Oi=[t]:Oi.push(t)}function T2(t,e,s,n){var r=e.interleaved;return r===null?(s.next=s,Nv(e)):(s.next=r.next,r.next=s),e.interleaved=s,fr(t,n)}function fr(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Rr=!1;function kv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function si(t,e,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ue&2){var r=n.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e,fr(t,s)}return r=n.interleaved,r===null?(e.next=e,Nv(n)):(e.next=r.next,r.next=e),n.interleaved=e,fr(t,s)}function md(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,dv(t,s)}}function jb(t,e){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var r=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?r=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?r=i=e:i=i.next=e}else r=i=e;s={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function Zd(t,e,s,n){var r=t.updateQueue;Rr=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var p=r.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,y=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,h=l;switch(f=e,y=s,h.tag){case 1:if(g=h.payload,typeof g=="function"){p=g.call(y,p,f);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=h.payload,f=typeof g=="function"?g.call(y,p,f):g,f==null)break e;p=lt({},p,f);break e;case 2:Rr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=y,c=p):u=u.next=y,o|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(c=p),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);ra|=o,t.lanes=o,t.memoizedState=p}}function Ab(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(r!==null){if(n.callback=null,n=s,typeof r!="function")throw Error(re(191,r));r.call(n)}}}var Wc={},In=xi(Wc),uc=xi(Wc),dc=xi(Wc);function Pi(t){if(t===Wc)throw Error(re(174));return t}function Cv(t,e){switch(We(dc,e),We(uc,t),We(In,Wc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tg(e,t)}Je(In),We(In,e)}function Ro(){Je(In),Je(uc),Je(dc)}function I2(t){Pi(dc.current);var e=Pi(In.current),s=tg(e,t.type);e!==s&&(We(uc,t),We(In,s))}function jv(t){uc.current===t&&(Je(In),Je(uc))}var it=xi(0);function ep(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ph=[];function Av(){for(var t=0;t<Ph.length;t++)Ph[t]._workInProgressVersionPrimary=null;Ph.length=0}var gd=yr.ReactCurrentDispatcher,Dh=yr.ReactCurrentBatchConfig,na=0,ot=null,kt=null,It=null,tp=!1,Vl=!1,pc=0,jM=0;function Ut(){throw Error(re(321))}function Tv(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!dn(t[s],e[s]))return!1;return!0}function Rv(t,e,s,n,r,i){if(na=i,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gd.current=t===null||t.memoizedState===null?IM:OM,t=s(n,r),Vl){i=0;do{if(Vl=!1,pc=0,25<=i)throw Error(re(301));i+=1,It=kt=null,e.updateQueue=null,gd.current=PM,t=s(n,r)}while(Vl)}if(gd.current=sp,e=kt!==null&&kt.next!==null,na=0,It=kt=ot=null,tp=!1,e)throw Error(re(300));return t}function Iv(){var t=pc!==0;return pc=0,t}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?ot.memoizedState=It=t:It=It.next=t,It}function Hs(){if(kt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=It===null?ot.memoizedState:It.next;if(e!==null)It=e,kt=t;else{if(t===null)throw Error(re(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},It===null?ot.memoizedState=It=t:It=It.next=t}return It}function fc(t,e){return typeof e=="function"?e(t):e}function Mh(t){var e=Hs(),s=e.queue;if(s===null)throw Error(re(311));s.lastRenderedReducer=t;var n=kt,r=n.baseQueue,i=s.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}n.baseQueue=r=i,s.pending=null}if(r!==null){i=r.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((na&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=p,o=n):c=c.next=p,ot.lanes|=u,ra|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,dn(n,e.memoizedState)||(ms=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,s.lastRenderedState=n}if(t=s.interleaved,t!==null){r=t;do i=r.lane,ot.lanes|=i,ra|=i,r=r.next;while(r!==t)}else r===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function Lh(t){var e=Hs(),s=e.queue;if(s===null)throw Error(re(311));s.lastRenderedReducer=t;var n=s.dispatch,r=s.pending,i=e.memoizedState;if(r!==null){s.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);dn(i,e.memoizedState)||(ms=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),s.lastRenderedState=i}return[i,n]}function O2(){}function P2(t,e){var s=ot,n=Hs(),r=e(),i=!dn(n.memoizedState,r);if(i&&(n.memoizedState=r,ms=!0),n=n.queue,Ov(L2.bind(null,s,n,t),[t]),n.getSnapshot!==e||i||It!==null&&It.memoizedState.tag&1){if(s.flags|=2048,hc(9,M2.bind(null,s,n,r,e),void 0,null),Pt===null)throw Error(re(349));na&30||D2(s,e,r)}return r}function D2(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function M2(t,e,s,n){e.value=s,e.getSnapshot=n,F2(e)&&B2(t)}function L2(t,e,s){return s(function(){F2(e)&&B2(t)})}function F2(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!dn(t,s)}catch{return!0}}function B2(t){var e=fr(t,1);e!==null&&ln(e,t,1,-1)}function Tb(t){var e=_n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:t},e.queue=t,t=t.dispatch=RM.bind(null,ot,t),[e.memoizedState,t]}function hc(t,e,s,n){return t={tag:t,create:e,destroy:s,deps:n,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,e.lastEffect=t)),t}function $2(){return Hs().memoizedState}function yd(t,e,s,n){var r=_n();ot.flags|=t,r.memoizedState=hc(1|e,s,void 0,n===void 0?null:n)}function Jp(t,e,s,n){var r=Hs();n=n===void 0?null:n;var i=void 0;if(kt!==null){var o=kt.memoizedState;if(i=o.destroy,n!==null&&Tv(n,o.deps)){r.memoizedState=hc(e,s,i,n);return}}ot.flags|=t,r.memoizedState=hc(1|e,s,i,n)}function Rb(t,e){return yd(8390656,8,t,e)}function Ov(t,e){return Jp(2048,8,t,e)}function U2(t,e){return Jp(4,2,t,e)}function z2(t,e){return Jp(4,4,t,e)}function q2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Q2(t,e,s){return s=s!=null?s.concat([t]):null,Jp(4,4,q2.bind(null,e,t),s)}function Pv(){}function V2(t,e){var s=Hs();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&Tv(e,n[1])?n[0]:(s.memoizedState=[t,e],t)}function H2(t,e){var s=Hs();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&Tv(e,n[1])?n[0]:(t=t(),s.memoizedState=[t,e],t)}function G2(t,e,s){return na&21?(dn(s,e)||(s=Xj(),ot.lanes|=s,ra|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ms=!0),t.memoizedState=s)}function AM(t,e){var s=Qe;Qe=s!==0&&4>s?s:4,t(!0);var n=Dh.transition;Dh.transition={};try{t(!1),e()}finally{Qe=s,Dh.transition=n}}function W2(){return Hs().memoizedState}function TM(t,e,s){var n=ri(t);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},K2(t))Y2(e,s);else if(s=T2(t,e,s,n),s!==null){var r=ns();ln(s,t,n,r),J2(s,e,n)}}function RM(t,e,s){var n=ri(t),r={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(K2(t))Y2(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,s);if(r.hasEagerState=!0,r.eagerState=l,dn(l,o)){var c=e.interleaved;c===null?(r.next=r,Nv(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}s=T2(t,e,r,n),s!==null&&(r=ns(),ln(s,t,n,r),J2(s,e,n))}}function K2(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function Y2(t,e){Vl=tp=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function J2(t,e,s){if(s&4194240){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,dv(t,s)}}var sp={readContext:Vs,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},IM={readContext:Vs,useCallback:function(t,e){return _n().memoizedState=[t,e===void 0?null:e],t},useContext:Vs,useEffect:Rb,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,yd(4194308,4,q2.bind(null,e,t),s)},useLayoutEffect:function(t,e){return yd(4194308,4,t,e)},useInsertionEffect:function(t,e){return yd(4,2,t,e)},useMemo:function(t,e){var s=_n();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var n=_n();return e=s!==void 0?s(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=TM.bind(null,ot,t),[n.memoizedState,t]},useRef:function(t){var e=_n();return t={current:t},e.memoizedState=t},useState:Tb,useDebugValue:Pv,useDeferredValue:function(t){return _n().memoizedState=t},useTransition:function(){var t=Tb(!1),e=t[0];return t=AM.bind(null,t[1]),_n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var n=ot,r=_n();if(et){if(s===void 0)throw Error(re(407));s=s()}else{if(s=e(),Pt===null)throw Error(re(349));na&30||D2(n,e,s)}r.memoizedState=s;var i={value:s,getSnapshot:e};return r.queue=i,Rb(L2.bind(null,n,i,t),[t]),n.flags|=2048,hc(9,M2.bind(null,n,i,s,e),void 0,null),s},useId:function(){var t=_n(),e=Pt.identifierPrefix;if(et){var s=ir,n=rr;s=(n&~(1<<32-on(n)-1)).toString(32)+s,e=":"+e+"R"+s,s=pc++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=jM++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OM={readContext:Vs,useCallback:V2,useContext:Vs,useEffect:Ov,useImperativeHandle:Q2,useInsertionEffect:U2,useLayoutEffect:z2,useMemo:H2,useReducer:Mh,useRef:$2,useState:function(){return Mh(fc)},useDebugValue:Pv,useDeferredValue:function(t){var e=Hs();return G2(e,kt.memoizedState,t)},useTransition:function(){var t=Mh(fc)[0],e=Hs().memoizedState;return[t,e]},useMutableSource:O2,useSyncExternalStore:P2,useId:W2,unstable_isNewReconciler:!1},PM={readContext:Vs,useCallback:V2,useContext:Vs,useEffect:Ov,useImperativeHandle:Q2,useInsertionEffect:U2,useLayoutEffect:z2,useMemo:H2,useReducer:Lh,useRef:$2,useState:function(){return Lh(fc)},useDebugValue:Pv,useDeferredValue:function(t){var e=Hs();return kt===null?e.memoizedState=t:G2(e,kt.memoizedState,t)},useTransition:function(){var t=Lh(fc)[0],e=Hs().memoizedState;return[t,e]},useMutableSource:O2,useSyncExternalStore:P2,useId:W2,unstable_isNewReconciler:!1};function Ks(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function Sg(t,e,s,n){e=t.memoizedState,s=s(n,e),s=s==null?e:lt({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Xp={isMounted:function(t){return(t=t._reactInternals)?_a(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var n=ns(),r=ri(t),i=or(n,r);i.payload=e,s!=null&&(i.callback=s),e=si(t,i,r),e!==null&&(ln(e,t,r,n),md(e,t,r))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var n=ns(),r=ri(t),i=or(n,r);i.tag=1,i.payload=e,s!=null&&(i.callback=s),e=si(t,i,r),e!==null&&(ln(e,t,r,n),md(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=ns(),n=ri(t),r=or(s,n);r.tag=2,e!=null&&(r.callback=e),e=si(t,r,n),e!==null&&(ln(e,t,n,s),md(e,t,n))}};function Ib(t,e,s,n,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!ac(s,n)||!ac(r,i):!0}function X2(t,e,s){var n=!1,r=pi,i=e.contextType;return typeof i=="object"&&i!==null?i=Vs(i):(r=ys(e)?ta:Wt.current,n=e.contextTypes,i=(n=n!=null)?jo(t,r):pi),e=new e(s,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ob(t,e,s,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,n),e.state!==t&&Xp.enqueueReplaceState(e,e.state,null)}function _g(t,e,s,n){var r=t.stateNode;r.props=s,r.state=t.memoizedState,r.refs={},kv(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Vs(i):(i=ys(e)?ta:Wt.current,r.context=jo(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Sg(t,e,i,s),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Xp.enqueueReplaceState(r,r.state,null),Zd(t,s,r,n),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Io(t,e){try{var s="",n=e;do s+=lD(n),n=n.return;while(n);var r=s}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Fh(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function Eg(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var DM=typeof WeakMap=="function"?WeakMap:Map;function Z2(t,e,s){s=or(-1,s),s.tag=3,s.payload={element:null};var n=e.value;return s.callback=function(){rp||(rp=!0,Pg=n),Eg(t,e)},s}function eA(t,e,s){s=or(-1,s),s.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var r=e.value;s.payload=function(){return n(r)},s.callback=function(){Eg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){Eg(t,e),typeof n!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),s}function Pb(t,e,s){var n=t.pingCache;if(n===null){n=t.pingCache=new DM;var r=new Set;n.set(e,r)}else r=n.get(e),r===void 0&&(r=new Set,n.set(e,r));r.has(s)||(r.add(s),t=KM.bind(null,t,e,s),e.then(t,t))}function Db(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mb(t,e,s,n,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=or(-1,1),e.tag=2,si(s,e,1))),s.lanes|=1),t)}var MM=yr.ReactCurrentOwner,ms=!1;function es(t,e,s,n){e.child=t===null?A2(e,null,s,n):To(e,t.child,s,n)}function Lb(t,e,s,n,r){s=s.render;var i=e.ref;return lo(e,r),n=Rv(t,e,s,n,i,r),s=Iv(),t!==null&&!ms?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,hr(t,e,r)):(et&&s&&xv(e),e.flags|=1,es(t,e,n,r),e.child)}function Fb(t,e,s,n,r){if(t===null){var i=s.type;return typeof i=="function"&&!zv(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=i,tA(t,e,i,n,r)):(t=wd(s.type,null,n,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:ac,s(o,n)&&t.ref===e.ref)return hr(t,e,r)}return e.flags|=1,t=ii(i,n),t.ref=e.ref,t.return=e,e.child=t}function tA(t,e,s,n,r){if(t!==null){var i=t.memoizedProps;if(ac(i,n)&&t.ref===e.ref)if(ms=!1,e.pendingProps=n=i,(t.lanes&r)!==0)t.flags&131072&&(ms=!0);else return e.lanes=t.lanes,hr(t,e,r)}return Ng(t,e,s,n,r)}function sA(t,e,s){var n=e.pendingProps,r=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(eo,ws),ws|=s;else{if(!(s&1073741824))return t=i!==null?i.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(eo,ws),ws|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:s,We(eo,ws),ws|=n}else i!==null?(n=i.baseLanes|s,e.memoizedState=null):n=s,We(eo,ws),ws|=n;return es(t,e,r,s),e.child}function nA(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function Ng(t,e,s,n,r){var i=ys(s)?ta:Wt.current;return i=jo(e,i),lo(e,r),s=Rv(t,e,s,n,i,r),n=Iv(),t!==null&&!ms?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,hr(t,e,r)):(et&&n&&xv(e),e.flags|=1,es(t,e,s,r),e.child)}function Bb(t,e,s,n,r){if(ys(s)){var i=!0;Wd(e)}else i=!1;if(lo(e,r),e.stateNode===null)vd(t,e),X2(e,s,n),_g(e,s,n,r),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=Vs(d):(d=ys(s)?ta:Wt.current,d=jo(e,d));var u=s.getDerivedStateFromProps,p=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Ob(e,o,n,d),Rr=!1;var f=e.memoizedState;o.state=f,Zd(e,n,o,r),c=e.memoizedState,l!==n||f!==c||gs.current||Rr?(typeof u=="function"&&(Sg(e,s,u,n),c=e.memoizedState),(l=Rr||Ib(e,s,l,n,f,c,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,R2(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Ks(e.type,l),o.props=d,p=e.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Vs(c):(c=ys(s)?ta:Wt.current,c=jo(e,c));var y=s.getDerivedStateFromProps;(u=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||f!==c)&&Ob(e,o,n,c),Rr=!1,f=e.memoizedState,o.state=f,Zd(e,n,o,r);var g=e.memoizedState;l!==p||f!==g||gs.current||Rr?(typeof y=="function"&&(Sg(e,s,y,n),g=e.memoizedState),(d=Rr||Ib(e,s,d,n,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return kg(t,e,s,n,i,r)}function kg(t,e,s,n,r,i){nA(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return r&&Eb(e,s,!1),hr(t,e,i);n=e.stateNode,MM.current=e;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=To(e,t.child,null,i),e.child=To(e,null,l,i)):es(t,e,l,i),e.memoizedState=n.state,r&&Eb(e,s,!0),e.child}function rA(t){var e=t.stateNode;e.pendingContext?_b(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_b(t,e.context,!1),Cv(t,e.containerInfo)}function $b(t,e,s,n,r){return Ao(),wv(r),e.flags|=256,es(t,e,s,n),e.child}var Cg={dehydrated:null,treeContext:null,retryLane:0};function jg(t){return{baseLanes:t,cachePool:null,transitions:null}}function iA(t,e,s){var n=e.pendingProps,r=it.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),We(it,r&1),t===null)return bg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=tf(o,n,0,null),t=Hi(t,n,s,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jg(s),e.memoizedState=Cg,t):Dv(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return LM(t,e,o,n,l,r,s);if(i){i=n.fallback,o=e.mode,r=t.child,l=r.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==r?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ii(r,c),n.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=ii(l,i):(i=Hi(i,o,s,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?jg(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~s,e.memoizedState=Cg,n}return i=t.child,t=i.sibling,n=ii(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=s),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n}function Dv(t,e){return e=tf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pu(t,e,s,n){return n!==null&&wv(n),To(e,t.child,null,s),t=Dv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LM(t,e,s,n,r,i,o){if(s)return e.flags&256?(e.flags&=-257,n=Fh(Error(re(422))),Pu(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,r=e.mode,n=tf({mode:"visible",children:n.children},r,0,null),i=Hi(i,r,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&To(e,t.child,null,o),e.child.memoizedState=jg(o),e.memoizedState=Cg,i);if(!(e.mode&1))return Pu(t,e,o,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(re(419)),n=Fh(i,n,void 0),Pu(t,e,o,n)}if(l=(o&t.childLanes)!==0,ms||l){if(n=Pt,n!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,fr(t,r),ln(n,t,r,-1))}return Uv(),n=Fh(Error(re(421))),Pu(t,e,o,n)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=YM.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,_s=ti(r.nextSibling),ks=e,et=!0,sn=null,t!==null&&(Bs[$s++]=rr,Bs[$s++]=ir,Bs[$s++]=sa,rr=t.id,ir=t.overflow,sa=e),e=Dv(e,n.children),e.flags|=4096,e)}function Ub(t,e,s){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),wg(t.return,e,s)}function Bh(t,e,s,n,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=s,i.tailMode=r)}function aA(t,e,s){var n=e.pendingProps,r=n.revealOrder,i=n.tail;if(es(t,e,n.children,s),n=it.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ub(t,s,e);else if(t.tag===19)Ub(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(We(it,n),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(s=e.child,r=null;s!==null;)t=s.alternate,t!==null&&ep(t)===null&&(r=s),s=s.sibling;s=r,s===null?(r=e.child,e.child=null):(r=s.sibling,s.sibling=null),Bh(e,!1,r,s,i);break;case"backwards":for(s=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ep(t)===null){e.child=r;break}t=r.sibling,r.sibling=s,s=r,r=t}Bh(e,!0,s,null,i);break;case"together":Bh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hr(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),ra|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,s=ii(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=ii(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function FM(t,e,s){switch(e.tag){case 3:rA(e),Ao();break;case 5:I2(e);break;case 1:ys(e.type)&&Wd(e);break;case 4:Cv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,r=e.memoizedProps.value;We(Jd,n._currentValue),n._currentValue=r;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(We(it,it.current&1),e.flags|=128,null):s&e.child.childLanes?iA(t,e,s):(We(it,it.current&1),t=hr(t,e,s),t!==null?t.sibling:null);We(it,it.current&1);break;case 19:if(n=(s&e.childLanes)!==0,t.flags&128){if(n)return aA(t,e,s);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),We(it,it.current),n)break;return null;case 22:case 23:return e.lanes=0,sA(t,e,s)}return hr(t,e,s)}var oA,Ag,lA,cA;oA=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Ag=function(){};lA=function(t,e,s,n){var r=t.memoizedProps;if(r!==n){t=e.stateNode,Pi(In.current);var i=null;switch(s){case"input":r=Jm(t,r),n=Jm(t,n),i=[];break;case"select":r=lt({},r,{value:void 0}),n=lt({},n,{value:void 0}),i=[];break;case"textarea":r=eg(t,r),n=eg(t,n),i=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Hd)}sg(s,n);var o;s=null;for(d in r)if(!n.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Zl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=r!=null?r[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Zl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ye("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};cA=function(t,e,s,n){s!==n&&(e.flags|=4)};function vl(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(e)for(var r=t.child;r!==null;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=n,t.childLanes=s,e}function BM(t,e,s){var n=e.pendingProps;switch(bv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return ys(e.type)&&Gd(),zt(e),null;case 3:return n=e.stateNode,Ro(),Je(gs),Je(Wt),Av(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Iu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sn!==null&&(Lg(sn),sn=null))),Ag(t,e),zt(e),null;case 5:jv(e);var r=Pi(dc.current);if(s=e.type,t!==null&&e.stateNode!=null)lA(t,e,s,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(re(166));return zt(e),null}if(t=Pi(In.current),Iu(e)){n=e.stateNode,s=e.type;var i=e.memoizedProps;switch(n[jn]=e,n[cc]=i,t=(e.mode&1)!==0,s){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(r=0;r<Ol.length;r++)Ye(Ol[r],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":Y0(n,i),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ye("invalid",n);break;case"textarea":X0(n,i),Ye("invalid",n)}sg(s,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ru(n.textContent,l,t),r=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ru(n.textContent,l,t),r=["children",""+l]):Zl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ye("scroll",n)}switch(s){case"input":_u(n),J0(n,i,!0);break;case"textarea":_u(n),Z0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Hd)}n=r,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lj(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(s,{is:n.is}):(t=o.createElement(s),s==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,s),t[jn]=e,t[cc]=n,oA(t,e,!1,!1),e.stateNode=t;e:{switch(o=ng(s,n),s){case"dialog":Ye("cancel",t),Ye("close",t),r=n;break;case"iframe":case"object":case"embed":Ye("load",t),r=n;break;case"video":case"audio":for(r=0;r<Ol.length;r++)Ye(Ol[r],t);r=n;break;case"source":Ye("error",t),r=n;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),r=n;break;case"details":Ye("toggle",t),r=n;break;case"input":Y0(t,n),r=Jm(t,n),Ye("invalid",t);break;case"option":r=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},r=lt({},n,{value:void 0}),Ye("invalid",t);break;case"textarea":X0(t,n),r=eg(t,n),Ye("invalid",t);break;default:r=n}sg(s,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?$j(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Fj(t,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&ec(t,c):typeof c=="number"&&ec(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ye("scroll",t):c!=null&&iv(t,i,c,o))}switch(s){case"input":_u(t),J0(t,n,!1);break;case"textarea":_u(t),Z0(t);break;case"option":n.value!=null&&t.setAttribute("value",""+di(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ro(t,!!n.multiple,i,!1):n.defaultValue!=null&&ro(t,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Hd)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)cA(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(re(166));if(s=Pi(dc.current),Pi(In.current),Iu(e)){if(n=e.stateNode,s=e.memoizedProps,n[jn]=e,(i=n.nodeValue!==s)&&(t=ks,t!==null))switch(t.tag){case 3:Ru(n.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ru(n.nodeValue,s,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[jn]=e,e.stateNode=n}return zt(e),null;case 13:if(Je(it),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&_s!==null&&e.mode&1&&!(e.flags&128))C2(),Ao(),e.flags|=98560,i=!1;else if(i=Iu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(re(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[jn]=e}else Ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),i=!1}else sn!==null&&(Lg(sn),sn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Tt===0&&(Tt=3):Uv())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return Ro(),Ag(t,e),t===null&&oc(e.stateNode.containerInfo),zt(e),null;case 10:return Ev(e.type._context),zt(e),null;case 17:return ys(e.type)&&Gd(),zt(e),null;case 19:if(Je(it),i=e.memoizedState,i===null)return zt(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)vl(i,!1);else{if(Tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ep(t),o!==null){for(e.flags|=128,vl(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=s,s=e.child;s!==null;)i=s,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return We(it,it.current&1|2),e.child}t=t.sibling}i.tail!==null&&vt()>Oo&&(e.flags|=128,n=!0,vl(i,!1),e.lanes=4194304)}else{if(!n)if(t=ep(o),t!==null){if(e.flags|=128,n=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),vl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!et)return zt(e),null}else 2*vt()-i.renderingStartTime>Oo&&s!==1073741824&&(e.flags|=128,n=!0,vl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(s=i.last,s!==null?s.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=vt(),e.sibling=null,s=it.current,We(it,n?s&1|2:s&1),e):(zt(e),null);case 22:case 23:return $v(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ws&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function $M(t,e){switch(bv(e),e.tag){case 1:return ys(e.type)&&Gd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ro(),Je(gs),Je(Wt),Av(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jv(e),null;case 13:if(Je(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(it),null;case 4:return Ro(),null;case 10:return Ev(e.type._context),null;case 22:case 23:return $v(),null;case 24:return null;default:return null}}var Du=!1,Ht=!1,UM=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Za(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){ft(t,e,n)}else s.current=null}function Tg(t,e,s){try{s()}catch(n){ft(t,e,n)}}var zb=!1;function zM(t,e){if(fg=qd,t=h2(),vv(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,p=t,f=null;t:for(;;){for(var y;p!==s||r!==0&&p.nodeType!==3||(l=o+r),p!==i||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)f=p,p=y;for(;;){if(p===t)break t;if(f===s&&++d===r&&(l=o),f===i&&++u===n&&(c=o),(y=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=y}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(hg={focusedElem:t,selectionRange:s},qd=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var h=g.memoizedProps,b=g.memoizedState,m=e.stateNode,x=m.getSnapshotBeforeUpdate(e.elementType===e.type?h:Ks(e.type,h),b);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(E){ft(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return g=zb,zb=!1,g}function Hl(t,e,s){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Tg(e,s,i)}r=r.next}while(r!==n)}}function Zp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var n=s.create;s.destroy=n()}s=s.next}while(s!==e)}}function Rg(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function uA(t){var e=t.alternate;e!==null&&(t.alternate=null,uA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[cc],delete e[yg],delete e[EM],delete e[NM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dA(t){return t.tag===5||t.tag===3||t.tag===4}function qb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ig(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Hd));else if(n!==4&&(t=t.child,t!==null))for(Ig(t,e,s),t=t.sibling;t!==null;)Ig(t,e,s),t=t.sibling}function Og(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Og(t,e,s),t=t.sibling;t!==null;)Og(t,e,s),t=t.sibling}var Mt=null,Xs=!1;function Sr(t,e,s){for(s=s.child;s!==null;)pA(t,e,s),s=s.sibling}function pA(t,e,s){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Vp,s)}catch{}switch(s.tag){case 5:Ht||Za(s,e);case 6:var n=Mt,r=Xs;Mt=null,Sr(t,e,s),Mt=n,Xs=r,Mt!==null&&(Xs?(t=Mt,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):Mt.removeChild(s.stateNode));break;case 18:Mt!==null&&(Xs?(t=Mt,s=s.stateNode,t.nodeType===8?Ih(t.parentNode,s):t.nodeType===1&&Ih(t,s),rc(t)):Ih(Mt,s.stateNode));break;case 4:n=Mt,r=Xs,Mt=s.stateNode.containerInfo,Xs=!0,Sr(t,e,s),Mt=n,Xs=r;break;case 0:case 11:case 14:case 15:if(!Ht&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Tg(s,e,o),r=r.next}while(r!==n)}Sr(t,e,s);break;case 1:if(!Ht&&(Za(s,e),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){ft(s,e,l)}Sr(t,e,s);break;case 21:Sr(t,e,s);break;case 22:s.mode&1?(Ht=(n=Ht)||s.memoizedState!==null,Sr(t,e,s),Ht=n):Sr(t,e,s);break;default:Sr(t,e,s)}}function Qb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new UM),e.forEach(function(n){var r=JM.bind(null,t,n);s.has(n)||(s.add(n),n.then(r,r))})}}function Gs(t,e){var s=e.deletions;if(s!==null)for(var n=0;n<s.length;n++){var r=s[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Mt=l.stateNode,Xs=!1;break e;case 3:Mt=l.stateNode.containerInfo,Xs=!0;break e;case 4:Mt=l.stateNode.containerInfo,Xs=!0;break e}l=l.return}if(Mt===null)throw Error(re(160));pA(i,o,r),Mt=null,Xs=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){ft(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fA(e,t),e=e.sibling}function fA(t,e){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gs(e,t),xn(t),n&4){try{Hl(3,t,t.return),Zp(3,t)}catch(h){ft(t,t.return,h)}try{Hl(5,t,t.return)}catch(h){ft(t,t.return,h)}}break;case 1:Gs(e,t),xn(t),n&512&&s!==null&&Za(s,s.return);break;case 5:if(Gs(e,t),xn(t),n&512&&s!==null&&Za(s,s.return),t.flags&32){var r=t.stateNode;try{ec(r,"")}catch(h){ft(t,t.return,h)}}if(n&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=s!==null?s.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Dj(r,i),ng(l,o);var d=ng(l,i);for(o=0;o<c.length;o+=2){var u=c[o],p=c[o+1];u==="style"?$j(r,p):u==="dangerouslySetInnerHTML"?Fj(r,p):u==="children"?ec(r,p):iv(r,u,p,d)}switch(l){case"input":Xm(r,i);break;case"textarea":Mj(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ro(r,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?ro(r,!!i.multiple,i.defaultValue,!0):ro(r,!!i.multiple,i.multiple?[]:"",!1))}r[cc]=i}catch(h){ft(t,t.return,h)}}break;case 6:if(Gs(e,t),xn(t),n&4){if(t.stateNode===null)throw Error(re(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(h){ft(t,t.return,h)}}break;case 3:if(Gs(e,t),xn(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{rc(e.containerInfo)}catch(h){ft(t,t.return,h)}break;case 4:Gs(e,t),xn(t);break;case 13:Gs(e,t),xn(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Fv=vt())),n&4&&Qb(t);break;case 22:if(u=s!==null&&s.memoizedState!==null,t.mode&1?(Ht=(d=Ht)||u,Gs(e,t),Ht=d):Gs(e,t),xn(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(ce=t,u=t.child;u!==null;){for(p=ce=u;ce!==null;){switch(f=ce,y=f.child,f.tag){case 0:case 11:case 14:case 15:Hl(4,f,f.return);break;case 1:Za(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,s=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(h){ft(n,s,h)}}break;case 5:Za(f,f.return);break;case 22:if(f.memoizedState!==null){Hb(p);continue}}y!==null?(y.return=f,ce=y):Hb(p)}u=u.sibling}e:for(u=null,p=t;;){if(p.tag===5){if(u===null){u=p;try{r=p.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Bj("display",o))}catch(h){ft(t,t.return,h)}}}else if(p.tag===6){if(u===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(h){ft(t,t.return,h)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Gs(e,t),xn(t),n&4&&Qb(t);break;case 21:break;default:Gs(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(dA(s)){var n=s;break e}s=s.return}throw Error(re(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(ec(r,""),n.flags&=-33);var i=qb(t);Og(t,i,r);break;case 3:case 4:var o=n.stateNode.containerInfo,l=qb(t);Ig(t,l,o);break;default:throw Error(re(161))}}catch(c){ft(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qM(t,e,s){ce=t,hA(t)}function hA(t,e,s){for(var n=(t.mode&1)!==0;ce!==null;){var r=ce,i=r.child;if(r.tag===22&&n){var o=r.memoizedState!==null||Du;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Ht;l=Du;var d=Ht;if(Du=o,(Ht=c)&&!d)for(ce=r;ce!==null;)o=ce,c=o.child,o.tag===22&&o.memoizedState!==null?Gb(r):c!==null?(c.return=o,ce=c):Gb(r);for(;i!==null;)ce=i,hA(i),i=i.sibling;ce=r,Du=l,Ht=d}Vb(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,ce=i):Vb(t)}}function Vb(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Zp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ht)if(s===null)n.componentDidMount();else{var r=e.elementType===e.type?s.memoizedProps:Ks(e.type,s.memoizedProps);n.componentDidUpdate(r,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ab(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}Ab(e,o,s)}break;case 5:var l=e.stateNode;if(s===null&&e.flags&4){s=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var p=u.dehydrated;p!==null&&rc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Ht||e.flags&512&&Rg(e)}catch(f){ft(e,e.return,f)}}if(e===t){ce=null;break}if(s=e.sibling,s!==null){s.return=e.return,ce=s;break}ce=e.return}}function Hb(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ce=s;break}ce=e.return}}function Gb(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Zp(4,e)}catch(c){ft(e,s,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var r=e.return;try{n.componentDidMount()}catch(c){ft(e,r,c)}}var i=e.return;try{Rg(e)}catch(c){ft(e,i,c)}break;case 5:var o=e.return;try{Rg(e)}catch(c){ft(e,o,c)}}}catch(c){ft(e,e.return,c)}if(e===t){ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ce=l;break}ce=e.return}}var QM=Math.ceil,np=yr.ReactCurrentDispatcher,Mv=yr.ReactCurrentOwner,qs=yr.ReactCurrentBatchConfig,Ue=0,Pt=null,_t=null,Lt=0,ws=0,eo=xi(0),Tt=0,mc=null,ra=0,ef=0,Lv=0,Gl=null,hs=null,Fv=0,Oo=1/0,Jn=null,rp=!1,Pg=null,ni=null,Mu=!1,Gr=null,ip=0,Wl=0,Dg=null,xd=-1,bd=0;function ns(){return Ue&6?vt():xd!==-1?xd:xd=vt()}function ri(t){return t.mode&1?Ue&2&&Lt!==0?Lt&-Lt:CM.transition!==null?(bd===0&&(bd=Xj()),bd):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:i2(t.type)),t):1}function ln(t,e,s,n){if(50<Wl)throw Wl=0,Dg=null,Error(re(185));Vc(t,s,n),(!(Ue&2)||t!==Pt)&&(t===Pt&&(!(Ue&2)&&(ef|=s),Tt===4&&Or(t,Lt)),vs(t,n),s===1&&Ue===0&&!(e.mode&1)&&(Oo=vt()+500,Yp&&bi()))}function vs(t,e){var s=t.callbackNode;CD(t,e);var n=zd(t,t===Pt?Lt:0);if(n===0)s!==null&&sb(s),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(s!=null&&sb(s),e===1)t.tag===0?kM(Wb.bind(null,t)):E2(Wb.bind(null,t)),SM(function(){!(Ue&6)&&bi()}),s=null;else{switch(Zj(n)){case 1:s=uv;break;case 4:s=Yj;break;case 16:s=Ud;break;case 536870912:s=Jj;break;default:s=Ud}s=SA(s,mA.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function mA(t,e){if(xd=-1,bd=0,Ue&6)throw Error(re(327));var s=t.callbackNode;if(co()&&t.callbackNode!==s)return null;var n=zd(t,t===Pt?Lt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ap(t,n);else{e=n;var r=Ue;Ue|=2;var i=yA();(Pt!==t||Lt!==e)&&(Jn=null,Oo=vt()+500,Vi(t,e));do try{GM();break}catch(l){gA(t,l)}while(!0);_v(),np.current=i,Ue=r,_t!==null?e=0:(Pt=null,Lt=0,e=Tt)}if(e!==0){if(e===2&&(r=lg(t),r!==0&&(n=r,e=Mg(t,r))),e===1)throw s=mc,Vi(t,0),Or(t,n),vs(t,vt()),s;if(e===6)Or(t,n);else{if(r=t.current.alternate,!(n&30)&&!VM(r)&&(e=ap(t,n),e===2&&(i=lg(t),i!==0&&(n=i,e=Mg(t,i))),e===1))throw s=mc,Vi(t,0),Or(t,n),vs(t,vt()),s;switch(t.finishedWork=r,t.finishedLanes=n,e){case 0:case 1:throw Error(re(345));case 2:Ai(t,hs,Jn);break;case 3:if(Or(t,n),(n&130023424)===n&&(e=Fv+500-vt(),10<e)){if(zd(t,0)!==0)break;if(r=t.suspendedLanes,(r&n)!==n){ns(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=gg(Ai.bind(null,t,hs,Jn),e);break}Ai(t,hs,Jn);break;case 4:if(Or(t,n),(n&4194240)===n)break;for(e=t.eventTimes,r=-1;0<n;){var o=31-on(n);i=1<<o,o=e[o],o>r&&(r=o),n&=~i}if(n=r,n=vt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*QM(n/1960))-n,10<n){t.timeoutHandle=gg(Ai.bind(null,t,hs,Jn),n);break}Ai(t,hs,Jn);break;case 5:Ai(t,hs,Jn);break;default:throw Error(re(329))}}}return vs(t,vt()),t.callbackNode===s?mA.bind(null,t):null}function Mg(t,e){var s=Gl;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=ap(t,e),t!==2&&(e=hs,hs=s,e!==null&&Lg(e)),t}function Lg(t){hs===null?hs=t:hs.push.apply(hs,t)}function VM(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var r=s[n],i=r.getSnapshot;r=r.value;try{if(!dn(i(),r))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Or(t,e){for(e&=~Lv,e&=~ef,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-on(e),n=1<<s;t[s]=-1,e&=~n}}function Wb(t){if(Ue&6)throw Error(re(327));co();var e=zd(t,0);if(!(e&1))return vs(t,vt()),null;var s=ap(t,e);if(t.tag!==0&&s===2){var n=lg(t);n!==0&&(e=n,s=Mg(t,n))}if(s===1)throw s=mc,Vi(t,0),Or(t,e),vs(t,vt()),s;if(s===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ai(t,hs,Jn),vs(t,vt()),null}function Bv(t,e){var s=Ue;Ue|=1;try{return t(e)}finally{Ue=s,Ue===0&&(Oo=vt()+500,Yp&&bi())}}function ia(t){Gr!==null&&Gr.tag===0&&!(Ue&6)&&co();var e=Ue;Ue|=1;var s=qs.transition,n=Qe;try{if(qs.transition=null,Qe=1,t)return t()}finally{Qe=n,qs.transition=s,Ue=e,!(Ue&6)&&bi()}}function $v(){ws=eo.current,Je(eo)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,wM(s)),_t!==null)for(s=_t.return;s!==null;){var n=s;switch(bv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gd();break;case 3:Ro(),Je(gs),Je(Wt),Av();break;case 5:jv(n);break;case 4:Ro();break;case 13:Je(it);break;case 19:Je(it);break;case 10:Ev(n.type._context);break;case 22:case 23:$v()}s=s.return}if(Pt=t,_t=t=ii(t.current,null),Lt=ws=e,Tt=0,mc=null,Lv=ef=ra=0,hs=Gl=null,Oi!==null){for(e=0;e<Oi.length;e++)if(s=Oi[e],n=s.interleaved,n!==null){s.interleaved=null;var r=n.next,i=s.pending;if(i!==null){var o=i.next;i.next=r,n.next=o}s.pending=n}Oi=null}return t}function gA(t,e){do{var s=_t;try{if(_v(),gd.current=sp,tp){for(var n=ot.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}tp=!1}if(na=0,It=kt=ot=null,Vl=!1,pc=0,Mv.current=null,s===null||s.return===null){Tt=1,mc=e,_t=null;break}e:{var i=t,o=s.return,l=s,c=e;if(e=Lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,p=u.tag;if(!(u.mode&1)&&(p===0||p===11||p===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=Db(o);if(y!==null){y.flags&=-257,Mb(y,o,l,i,e),y.mode&1&&Pb(i,d,e),e=y,c=d;var g=e.updateQueue;if(g===null){var h=new Set;h.add(c),e.updateQueue=h}else g.add(c);break e}else{if(!(e&1)){Pb(i,d,e),Uv();break e}c=Error(re(426))}}else if(et&&l.mode&1){var b=Db(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Mb(b,o,l,i,e),wv(Io(c,l));break e}}i=c=Io(c,l),Tt!==4&&(Tt=2),Gl===null?Gl=[i]:Gl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Z2(i,c,e);jb(i,m);break e;case 1:l=c;var x=i.type,k=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ni===null||!ni.has(k)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=eA(i,l,e);jb(i,E);break e}}i=i.return}while(i!==null)}xA(s)}catch(C){e=C,_t===s&&s!==null&&(_t=s=s.return);continue}break}while(!0)}function yA(){var t=np.current;return np.current=sp,t===null?sp:t}function Uv(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Pt===null||!(ra&268435455)&&!(ef&268435455)||Or(Pt,Lt)}function ap(t,e){var s=Ue;Ue|=2;var n=yA();(Pt!==t||Lt!==e)&&(Jn=null,Vi(t,e));do try{HM();break}catch(r){gA(t,r)}while(!0);if(_v(),Ue=s,np.current=n,_t!==null)throw Error(re(261));return Pt=null,Lt=0,Tt}function HM(){for(;_t!==null;)vA(_t)}function GM(){for(;_t!==null&&!vD();)vA(_t)}function vA(t){var e=wA(t.alternate,t,ws);t.memoizedProps=t.pendingProps,e===null?xA(t):_t=e,Mv.current=null}function xA(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=$M(s,e),s!==null){s.flags&=32767,_t=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,_t=null;return}}else if(s=BM(s,e,ws),s!==null){_t=s;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);Tt===0&&(Tt=5)}function Ai(t,e,s){var n=Qe,r=qs.transition;try{qs.transition=null,Qe=1,WM(t,e,s,n)}finally{qs.transition=r,Qe=n}return null}function WM(t,e,s,n){do co();while(Gr!==null);if(Ue&6)throw Error(re(327));s=t.finishedWork;var r=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var i=s.lanes|s.childLanes;if(jD(t,i),t===Pt&&(_t=Pt=null,Lt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Mu||(Mu=!0,SA(Ud,function(){return co(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=qs.transition,qs.transition=null;var o=Qe;Qe=1;var l=Ue;Ue|=4,Mv.current=null,zM(t,s),fA(s,t),hM(hg),qd=!!fg,hg=fg=null,t.current=s,qM(s),xD(),Ue=l,Qe=o,qs.transition=i}else t.current=s;if(Mu&&(Mu=!1,Gr=t,ip=r),i=t.pendingLanes,i===0&&(ni=null),SD(s.stateNode),vs(t,vt()),e!==null)for(n=t.onRecoverableError,s=0;s<e.length;s++)r=e[s],n(r.value,{componentStack:r.stack,digest:r.digest});if(rp)throw rp=!1,t=Pg,Pg=null,t;return ip&1&&t.tag!==0&&co(),i=t.pendingLanes,i&1?t===Dg?Wl++:(Wl=0,Dg=t):Wl=0,bi(),null}function co(){if(Gr!==null){var t=Zj(ip),e=qs.transition,s=Qe;try{if(qs.transition=null,Qe=16>t?16:t,Gr===null)var n=!1;else{if(t=Gr,Gr=null,ip=0,Ue&6)throw Error(re(331));var r=Ue;for(Ue|=4,ce=t.current;ce!==null;){var i=ce,o=i.child;if(ce.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ce=d;ce!==null;){var u=ce;switch(u.tag){case 0:case 11:case 15:Hl(8,u,i)}var p=u.child;if(p!==null)p.return=u,ce=p;else for(;ce!==null;){u=ce;var f=u.sibling,y=u.return;if(uA(u),u===d){ce=null;break}if(f!==null){f.return=y,ce=f;break}ce=y}}}var g=i.alternate;if(g!==null){var h=g.child;if(h!==null){g.child=null;do{var b=h.sibling;h.sibling=null,h=b}while(h!==null)}}ce=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ce=o;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hl(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,ce=m;break e}ce=i.return}}var x=t.current;for(ce=x;ce!==null;){o=ce;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,ce=k;else e:for(o=x;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zp(9,l)}}catch(C){ft(l,l.return,C)}if(l===o){ce=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,ce=E;break e}ce=l.return}}if(Ue=r,bi(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Vp,t)}catch{}n=!0}return n}finally{Qe=s,qs.transition=e}}return!1}function Kb(t,e,s){e=Io(s,e),e=Z2(t,e,1),t=si(t,e,1),e=ns(),t!==null&&(Vc(t,1,e),vs(t,e))}function ft(t,e,s){if(t.tag===3)Kb(t,t,s);else for(;e!==null;){if(e.tag===3){Kb(e,t,s);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ni===null||!ni.has(n))){t=Io(s,t),t=eA(e,t,1),e=si(e,t,1),t=ns(),e!==null&&(Vc(e,1,t),vs(e,t));break}}e=e.return}}function KM(t,e,s){var n=t.pingCache;n!==null&&n.delete(e),e=ns(),t.pingedLanes|=t.suspendedLanes&s,Pt===t&&(Lt&s)===s&&(Tt===4||Tt===3&&(Lt&130023424)===Lt&&500>vt()-Fv?Vi(t,0):Lv|=s),vs(t,e)}function bA(t,e){e===0&&(t.mode&1?(e=ku,ku<<=1,!(ku&130023424)&&(ku=4194304)):e=1);var s=ns();t=fr(t,e),t!==null&&(Vc(t,e,s),vs(t,s))}function YM(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),bA(t,s)}function JM(t,e){var s=0;switch(t.tag){case 13:var n=t.stateNode,r=t.memoizedState;r!==null&&(s=r.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(e),bA(t,s)}var wA;wA=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||gs.current)ms=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return ms=!1,FM(t,e,s);ms=!!(t.flags&131072)}else ms=!1,et&&e.flags&1048576&&N2(e,Yd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;vd(t,e),t=e.pendingProps;var r=jo(e,Wt.current);lo(e,s),r=Rv(null,e,n,t,r,s);var i=Iv();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ys(n)?(i=!0,Wd(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,kv(e),r.updater=Xp,e.stateNode=r,r._reactInternals=e,_g(e,n,t,s),e=kg(null,e,n,!0,i,s)):(e.tag=0,et&&i&&xv(e),es(null,e,r,s),e=e.child),e;case 16:n=e.elementType;e:{switch(vd(t,e),t=e.pendingProps,r=n._init,n=r(n._payload),e.type=n,r=e.tag=ZM(n),t=Ks(n,t),r){case 0:e=Ng(null,e,n,t,s);break e;case 1:e=Bb(null,e,n,t,s);break e;case 11:e=Lb(null,e,n,t,s);break e;case 14:e=Fb(null,e,n,Ks(n.type,t),s);break e}throw Error(re(306,n,""))}return e;case 0:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Ks(n,r),Ng(t,e,n,r,s);case 1:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Ks(n,r),Bb(t,e,n,r,s);case 3:e:{if(rA(e),t===null)throw Error(re(387));n=e.pendingProps,i=e.memoizedState,r=i.element,R2(t,e),Zd(e,n,null,s);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Io(Error(re(423)),e),e=$b(t,e,n,s,r);break e}else if(n!==r){r=Io(Error(re(424)),e),e=$b(t,e,n,s,r);break e}else for(_s=ti(e.stateNode.containerInfo.firstChild),ks=e,et=!0,sn=null,s=A2(e,null,n,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ao(),n===r){e=hr(t,e,s);break e}es(t,e,n,s)}e=e.child}return e;case 5:return I2(e),t===null&&bg(e),n=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,mg(n,r)?o=null:i!==null&&mg(n,i)&&(e.flags|=32),nA(t,e),es(t,e,o,s),e.child;case 6:return t===null&&bg(e),null;case 13:return iA(t,e,s);case 4:return Cv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=To(e,null,n,s):es(t,e,n,s),e.child;case 11:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Ks(n,r),Lb(t,e,n,r,s);case 7:return es(t,e,e.pendingProps,s),e.child;case 8:return es(t,e,e.pendingProps.children,s),e.child;case 12:return es(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(n=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,We(Jd,n._currentValue),n._currentValue=o,i!==null)if(dn(i.value,o)){if(i.children===r.children&&!gs.current){e=hr(t,e,s);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=or(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),wg(i.return,s,e),l.lanes|=s;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),wg(o,s,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}es(t,e,r.children,s),e=e.child}return e;case 9:return r=e.type,n=e.pendingProps.children,lo(e,s),r=Vs(r),n=n(r),e.flags|=1,es(t,e,n,s),e.child;case 14:return n=e.type,r=Ks(n,e.pendingProps),r=Ks(n.type,r),Fb(t,e,n,r,s);case 15:return tA(t,e,e.type,e.pendingProps,s);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Ks(n,r),vd(t,e),e.tag=1,ys(n)?(t=!0,Wd(e)):t=!1,lo(e,s),X2(e,n,r),_g(e,n,r,s),kg(null,e,n,!0,t,s);case 19:return aA(t,e,s);case 22:return sA(t,e,s)}throw Error(re(156,e.tag))};function SA(t,e){return Kj(t,e)}function XM(t,e,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zs(t,e,s,n){return new XM(t,e,s,n)}function zv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZM(t){if(typeof t=="function")return zv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ov)return 11;if(t===lv)return 14}return 2}function ii(t,e){var s=t.alternate;return s===null?(s=zs(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function wd(t,e,s,n,r,i){var o=2;if(n=t,typeof t=="function")zv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qa:return Hi(s.children,r,i,e);case av:o=8,r|=8;break;case Gm:return t=zs(12,s,e,r|2),t.elementType=Gm,t.lanes=i,t;case Wm:return t=zs(13,s,e,r),t.elementType=Wm,t.lanes=i,t;case Km:return t=zs(19,s,e,r),t.elementType=Km,t.lanes=i,t;case Ij:return tf(s,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tj:o=10;break e;case Rj:o=9;break e;case ov:o=11;break e;case lv:o=14;break e;case Tr:o=16,n=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=zs(o,s,e,r),e.elementType=t,e.type=n,e.lanes=i,e}function Hi(t,e,s,n){return t=zs(7,t,n,e),t.lanes=s,t}function tf(t,e,s,n){return t=zs(22,t,n,e),t.elementType=Ij,t.lanes=s,t.stateNode={isHidden:!1},t}function $h(t,e,s){return t=zs(6,t,null,e),t.lanes=s,t}function Uh(t,e,s){return e=zs(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function e6(t,e,s,n,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wh(0),this.expirationTimes=wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function qv(t,e,s,n,r,i,o,l,c){return t=new e6(t,e,s,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=zs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kv(i),t}function t6(t,e,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qa,key:n==null?null:""+n,children:t,containerInfo:e,implementation:s}}function _A(t){if(!t)return pi;t=t._reactInternals;e:{if(_a(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ys(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var s=t.type;if(ys(s))return _2(t,s,e)}return e}function EA(t,e,s,n,r,i,o,l,c){return t=qv(s,n,!0,t,r,i,o,l,c),t.context=_A(null),s=t.current,n=ns(),r=ri(s),i=or(n,r),i.callback=e??null,si(s,i,r),t.current.lanes=r,Vc(t,r,n),vs(t,n),t}function sf(t,e,s,n){var r=e.current,i=ns(),o=ri(r);return s=_A(s),e.context===null?e.context=s:e.pendingContext=s,e=or(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=si(r,e,o),t!==null&&(ln(t,r,o,i),md(t,r,o)),o}function op(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function Qv(t,e){Yb(t,e),(t=t.alternate)&&Yb(t,e)}function s6(){return null}var NA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vv(t){this._internalRoot=t}nf.prototype.render=Vv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));sf(t,e,null,null)};nf.prototype.unmount=Vv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ia(function(){sf(null,t,null,null)}),e[pr]=null}};function nf(t){this._internalRoot=t}nf.prototype.unstable_scheduleHydration=function(t){if(t){var e=s2();t={blockedOn:null,target:t,priority:e};for(var s=0;s<Ir.length&&e!==0&&e<Ir[s].priority;s++);Ir.splice(s,0,t),s===0&&r2(t)}};function Hv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jb(){}function n6(t,e,s,n,r){if(r){if(typeof n=="function"){var i=n;n=function(){var d=op(o);i.call(d)}}var o=EA(e,n,t,0,null,!1,!1,"",Jb);return t._reactRootContainer=o,t[pr]=o.current,oc(t.nodeType===8?t.parentNode:t),ia(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof n=="function"){var l=n;n=function(){var d=op(c);l.call(d)}}var c=qv(t,0,!1,null,null,!1,!1,"",Jb);return t._reactRootContainer=c,t[pr]=c.current,oc(t.nodeType===8?t.parentNode:t),ia(function(){sf(e,c,s,n)}),c}function af(t,e,s,n,r){var i=s._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var l=r;r=function(){var c=op(o);l.call(c)}}sf(e,o,t,r)}else o=n6(s,e,t,r,n);return op(o)}e2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=Il(e.pendingLanes);s!==0&&(dv(e,s|1),vs(e,vt()),!(Ue&6)&&(Oo=vt()+500,bi()))}break;case 13:ia(function(){var n=fr(t,1);if(n!==null){var r=ns();ln(n,t,1,r)}}),Qv(t,1)}};pv=function(t){if(t.tag===13){var e=fr(t,134217728);if(e!==null){var s=ns();ln(e,t,134217728,s)}Qv(t,134217728)}};t2=function(t){if(t.tag===13){var e=ri(t),s=fr(t,e);if(s!==null){var n=ns();ln(s,t,e,n)}Qv(t,e)}};s2=function(){return Qe};n2=function(t,e){var s=Qe;try{return Qe=t,e()}finally{Qe=s}};ig=function(t,e,s){switch(e){case"input":if(Xm(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var n=s[e];if(n!==t&&n.form===t.form){var r=Kp(n);if(!r)throw Error(re(90));Pj(n),Xm(n,r)}}}break;case"textarea":Mj(t,s);break;case"select":e=s.value,e!=null&&ro(t,!!s.multiple,e,!1)}};qj=Bv;Qj=ia;var r6={usingClientEntryPoint:!1,Events:[Gc,Wa,Kp,Uj,zj,Bv]},xl={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i6={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gj(t),t===null?null:t.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||s6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Vp=Lu.inject(i6),Rn=Lu}catch{}}Ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r6;Ts.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hv(e))throw Error(re(200));return t6(t,e,null,s)};Ts.createRoot=function(t,e){if(!Hv(t))throw Error(re(299));var s=!1,n="",r=NA;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=qv(t,1,!1,null,null,s,!1,n,r),t[pr]=e.current,oc(t.nodeType===8?t.parentNode:t),new Vv(e)};Ts.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=Gj(e),t=t===null?null:t.stateNode,t};Ts.flushSync=function(t){return ia(t)};Ts.hydrate=function(t,e,s){if(!rf(e))throw Error(re(200));return af(null,t,e,!0,s)};Ts.hydrateRoot=function(t,e,s){if(!Hv(t))throw Error(re(405));var n=s!=null&&s.hydratedSources||null,r=!1,i="",o=NA;if(s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),e=EA(e,null,t,1,s??null,r,!1,i,o),t[pr]=e.current,oc(t),n)for(t=0;t<n.length;t++)s=n[t],r=s._getVersion,r=r(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,r]:e.mutableSourceEagerHydrationData.push(s,r);return new nf(e)};Ts.render=function(t,e,s){if(!rf(e))throw Error(re(200));return af(null,t,e,!1,s)};Ts.unmountComponentAtNode=function(t){if(!rf(t))throw Error(re(40));return t._reactRootContainer?(ia(function(){af(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0):!1};Ts.unstable_batchedUpdates=Bv;Ts.unstable_renderSubtreeIntoContainer=function(t,e,s,n){if(!rf(s))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return af(t,e,s,!1,n)};Ts.version="18.3.1-next-f1338f8080-20240426";function kA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kA)}catch(t){console.error(t)}}kA(),kj.exports=Ts;var Gv=kj.exports;const a6=qp(Gv);var Xb=Gv;Vm.createRoot=Xb.createRoot,Vm.hydrateRoot=Xb.hydrateRoot;function o6(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var s,n,r,i,o=[],l="",c=t.split("/");for(c[0]||c.shift();r=c.shift();)s=r[0],s==="*"?(o.push(s),l+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(n=r.indexOf("?",1),i=r.indexOf(".",1),o.push(r.substring(1,~n?n:~i?i:r.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+r.substring(i))):l+="/"+r;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var CA={exports:{}},jA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=j;function l6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var c6=typeof Object.is=="function"?Object.is:l6,u6=Po.useState,d6=Po.useEffect,p6=Po.useLayoutEffect,f6=Po.useDebugValue;function h6(t,e){var s=e(),n=u6({inst:{value:s,getSnapshot:e}}),r=n[0].inst,i=n[1];return p6(function(){r.value=s,r.getSnapshot=e,zh(r)&&i({inst:r})},[t,s,e]),d6(function(){return zh(r)&&i({inst:r}),t(function(){zh(r)&&i({inst:r})})},[t]),f6(s),s}function zh(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!c6(t,s)}catch{return!0}}function m6(t,e){return e()}var g6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m6:h6;jA.useSyncExternalStore=Po.useSyncExternalStore!==void 0?Po.useSyncExternalStore:g6;CA.exports=jA;var y6=CA.exports;const v6=sv.useInsertionEffect,x6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b6=x6?j.useLayoutEffect:j.useEffect,w6=v6||b6,AA=t=>{const e=j.useRef([t,(...s)=>e[0](...s)]).current;return w6(()=>{e[0]=t}),e[1]},S6="popstate",Wv="pushState",Kv="replaceState",_6="hashchange",Zb=[S6,Wv,Kv,_6],E6=t=>{for(const e of Zb)addEventListener(e,t);return()=>{for(const e of Zb)removeEventListener(e,t)}},TA=(t,e)=>y6.useSyncExternalStore(E6,t,e),N6=()=>location.search,k6=({ssrSearch:t=""}={})=>TA(N6,()=>t),ew=()=>location.pathname,C6=({ssrPath:t}={})=>TA(ew,t?()=>t:ew),j6=(t,{replace:e=!1,state:s=null}={})=>history[e?Kv:Wv](s,"",t),A6=(t={})=>[C6(t),j6],tw=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[tw]>"u"){for(const t of[Wv,Kv]){const e=history[t];history[t]=function(){const s=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),s}}Object.defineProperty(window,tw,{value:!0})}const T6=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",RA=(t="")=>t==="/"?"":t,R6=(t,e)=>t[0]==="~"?t.slice(1):RA(e)+t,I6=(t="",e)=>T6(sw(RA(t)),sw(e)),sw=t=>{try{return decodeURI(t)}catch{return t}},IA={hook:A6,searchHook:k6,parser:o6,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},OA=j.createContext(IA),Ko=()=>j.useContext(OA),PA={},DA=j.createContext(PA),O6=()=>j.useContext(DA),of=t=>{const[e,s]=t.hook(t);return[I6(t.base,e),AA((n,r)=>s(R6(n,t.base),r))]},fi=()=>of(Ko()),Yv=(t,e,s,n)=>{const{pattern:r,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=r.exec(s)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((p,f)=>[p,c[f]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[l]:[]]:[!1,null]},Tie=t=>Yv(Ko().parser,t,fi()[0]),MA=({children:t,...e})=>{var u,p;const s=Ko(),n=e.hook?IA:s;let r=n;const[i,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((p=e.hook)==null?void 0:p.hrefs);let l=j.useRef({}),c=l.current,d=c;for(let f in n){const y=f==="base"?n[f]+(e[f]||""):e[f]||n[f];c===d&&y!==d[f]&&(l.current=d={...d}),d[f]=y,(y!==n[f]||y!==r[f])&&(r=d)}return j.createElement(OA.Provider,{value:r,children:t})},nw=({children:t,component:e},s)=>e?j.createElement(e,{params:s}):typeof t=="function"?t(s):t,P6=t=>{let e=j.useRef(PA);const s=e.current;return e.current=Object.keys(t).length!==Object.keys(s).length||Object.entries(t).some(([n,r])=>r!==s[n])?t:s},cs=({path:t,nest:e,match:s,...n})=>{const r=Ko(),[i]=of(r),[o,l,c]=s??Yv(r.parser,t,i,e),d=P6({...O6(),...l});if(!o)return null;const u=c?j.createElement(MA,{base:c},nw(n,d)):nw(n,d);return j.createElement(DA.Provider,{value:d,children:u})},D6=j.forwardRef((t,e)=>{const s=Ko(),[n,r]=of(s),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:p,state:f,...y}=t,g=AA(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),r(o,t)))}),h=s.hrefs(o[0]==="~"?o.slice(1):s.base+o,s);return c&&j.isValidElement(d)?j.cloneElement(d,{onClick:g,href:h}):j.createElement("a",{...y,onClick:g,href:h,className:u!=null&&u.call?u(n===o):u,children:d,ref:e})}),LA=t=>Array.isArray(t)?t.flatMap(e=>LA(e&&e.type===j.Fragment?e.props.children:e)):[t],M6=({children:t,location:e})=>{const s=Ko(),[n]=of(s);for(const r of LA(t)){let i=0;if(j.isValidElement(r)&&(i=Yv(s.parser,r.props.path,e||n,r.props.nest))[0])return j.cloneElement(r,{match:i})}return null};var Yo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},aa=typeof window>"u"||"Deno"in globalThis;function ts(){}function L6(t,e){return typeof t=="function"?t(e):t}function Fg(t){return typeof t=="number"&&t>=0&&t!==1/0}function FA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ai(t,e){return typeof t=="function"?t(e):t}function Fs(t,e){return typeof t=="function"?t(e):t}function rw(t,e){const{type:s="all",exact:n,fetchStatus:r,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==Jv(o,e.options))return!1}else if(!gc(e.queryKey,o))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||i&&!i(e))}function iw(t,e){const{exact:s,status:n,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(s){if(oa(e.options.mutationKey)!==oa(i))return!1}else if(!gc(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||r&&!r(e))}function Jv(t,e){return((e==null?void 0:e.queryKeyHashFn)||oa)(t)}function oa(t){return JSON.stringify(t,(e,s)=>Bg(s)?Object.keys(s).sort().reduce((n,r)=>(n[r]=s[r],n),{}):s)}function gc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>gc(t[s],e[s])):!1}function BA(t,e){if(t===e)return t;const s=aw(t)&&aw(e);if(s||Bg(t)&&Bg(e)){const n=s?t:Object.keys(t),r=n.length,i=s?e:Object.keys(e),o=i.length,l=s?[]:{},c=new Set(n);let d=0;for(let u=0;u<o;u++){const p=s?u:i[u];(!s&&c.has(p)||s)&&t[p]===void 0&&e[p]===void 0?(l[p]=void 0,d++):(l[p]=BA(t[p],e[p]),l[p]===t[p]&&t[p]!==void 0&&d++)}return r===o&&d===r?t:l}return e}function lp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function aw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Bg(t){if(!ow(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!ow(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ow(t){return Object.prototype.toString.call(t)==="[object Object]"}function F6(t){return new Promise(e=>{setTimeout(e,t)})}function $g(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?BA(t,e):e}function B6(t,e,s=0){const n=[...t,e];return s&&n.length>s?n.slice(1):n}function $6(t,e,s=0){const n=[e,...t];return s&&n.length>s?n.slice(0,-1):n}var Xv=Symbol();function $A(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Xv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function UA(t,e){return typeof t=="function"?t(...e):!!t}var Mi,Mr,mo,l_,U6=(l_=class extends Yo{constructor(){super();he(this,Mi);he(this,Mr);he(this,mo);ae(this,mo,e=>{if(!aa&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){$(this,Mr)||this.setEventListener($(this,mo))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Mr))==null||e.call(this),ae(this,Mr,void 0))}setEventListener(e){var s;ae(this,mo,e),(s=$(this,Mr))==null||s.call(this),ae(this,Mr,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){$(this,Mi)!==e&&(ae(this,Mi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof $(this,Mi)=="boolean"?$(this,Mi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Mi=new WeakMap,Mr=new WeakMap,mo=new WeakMap,l_),Zv=new U6,go,Lr,yo,c_,z6=(c_=class extends Yo{constructor(){super();he(this,go,!0);he(this,Lr);he(this,yo);ae(this,yo,e=>{if(!aa&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,Lr)||this.setEventListener($(this,yo))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Lr))==null||e.call(this),ae(this,Lr,void 0))}setEventListener(e){var s;ae(this,yo,e),(s=$(this,Lr))==null||s.call(this),ae(this,Lr,e(this.setOnline.bind(this)))}setOnline(e){$(this,go)!==e&&(ae(this,go,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return $(this,go)}},go=new WeakMap,Lr=new WeakMap,yo=new WeakMap,c_),cp=new z6;function Ug(){let t,e;const s=new Promise((r,i)=>{t=r,e=i});s.status="pending",s.catch(()=>{});function n(r){Object.assign(s,r),delete s.resolve,delete s.reject}return s.resolve=r=>{n({status:"fulfilled",value:r}),t(r)},s.reject=r=>{n({status:"rejected",reason:r}),e(r)},s}function q6(t){return Math.min(1e3*2**t,3e4)}function zA(t){return(t??"online")==="online"?cp.isOnline():!0}var qA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function qh(t){return t instanceof qA}function QA(t){let e=!1,s=0,n=!1,r;const i=Ug(),o=h=>{var b;n||(f(new qA(h)),(b=t.abort)==null||b.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>Zv.isFocused()&&(t.networkMode==="always"||cp.isOnline())&&t.canRun(),u=()=>zA(t.networkMode)&&t.canRun(),p=h=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,h),r==null||r(),i.resolve(h))},f=h=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,h),r==null||r(),i.reject(h))},y=()=>new Promise(h=>{var b;r=m=>{(n||d())&&h(m)},(b=t.onPause)==null||b.call(t)}).then(()=>{var h;r=void 0,n||(h=t.onContinue)==null||h.call(t)}),g=()=>{if(n)return;let h;const b=s===0?t.initialPromise:void 0;try{h=b??t.fn()}catch(m){h=Promise.reject(m)}Promise.resolve(h).then(p).catch(m=>{var R;if(n)return;const x=t.retry??(aa?0:3),k=t.retryDelay??q6,E=typeof k=="function"?k(s,m):k,C=x===!0||typeof x=="number"&&s<x||typeof x=="function"&&x(s,m);if(e||!C){f(m);return}s++,(R=t.onFail)==null||R.call(t,s,m),F6(E).then(()=>d()?void 0:y()).then(()=>{e?f(m):g()})})};return{promise:i,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():y().then(g),i)}}var Q6=t=>setTimeout(t,0);function V6(){let t=[],e=0,s=l=>{l()},n=l=>{l()},r=Q6;const i=l=>{e?t.push(l):r(()=>{s(l)})},o=()=>{const l=t;t=[],l.length&&r(()=>{n(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{r=l}}}var jt=V6(),Li,u_,VA=(u_=class{constructor(){he(this,Li)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fg(this.gcTime)&&ae(this,Li,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(aa?1/0:5*60*1e3))}clearGcTimeout(){$(this,Li)&&(clearTimeout($(this,Li)),ae(this,Li,void 0))}},Li=new WeakMap,u_),vo,Fi,Ls,Bi,Qt,Bc,$i,Ys,Gn,d_,H6=(d_=class extends VA{constructor(s){super();he(this,Ys);he(this,vo);he(this,Fi);he(this,Ls);he(this,Bi);he(this,Qt);he(this,Bc);he(this,$i);ae(this,$i,!1),ae(this,Bc,s.defaultOptions),this.setOptions(s.options),this.observers=[],ae(this,Bi,s.client),ae(this,Ls,$(this,Bi).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,ae(this,vo,G6(this.options)),this.state=s.state??$(this,vo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=$(this,Qt))==null?void 0:s.promise}setOptions(s){this.options={...$(this,Bc),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Ls).remove(this)}setData(s,n){const r=$g(this.state.data,s,this.options);return je(this,Ys,Gn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(s,n){je(this,Ys,Gn).call(this,{type:"setState",state:s,setStateOptions:n})}cancel(s){var r,i;const n=(r=$(this,Qt))==null?void 0:r.promise;return(i=$(this,Qt))==null||i.cancel(s),n?n.then(ts).catch(ts):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,vo))}isActive(){return this.observers.some(s=>Fs(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>ai(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!FA(this.state.dataUpdatedAt,s)}onFocus(){var n;const s=this.observers.find(r=>r.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(n=$(this,Qt))==null||n.continue()}onOnline(){var n;const s=this.observers.find(r=>r.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(n=$(this,Qt))==null||n.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),$(this,Ls).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(n=>n!==s),this.observers.length||($(this,Qt)&&($(this,$i)?$(this,Qt).cancel({revert:!0}):$(this,Qt).cancelRetry()),this.scheduleGc()),$(this,Ls).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,Ys,Gn).call(this,{type:"invalidate"})}fetch(s,n){var u,p,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if($(this,Qt))return $(this,Qt).continueRetry(),$(this,Qt).promise}if(s&&this.setOptions(s),!this.options.queryFn){const y=this.observers.find(g=>g.options.queryFn);y&&this.setOptions(y.options)}const r=new AbortController,i=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(ae(this,$i,!0),r.signal)})},o=()=>{const y=$A(this.options,n),h=(()=>{const b={client:$(this,Bi),queryKey:this.queryKey,meta:this.meta};return i(b),b})();return ae(this,$i,!1),this.options.persister?this.options.persister(y,h,this):y(h)},c=(()=>{const y={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:$(this,Bi),state:this.state,fetchFn:o};return i(y),y})();(u=this.options.behavior)==null||u.onFetch(c,this),ae(this,Fi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&je(this,Ys,Gn).call(this,{type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta});const d=y=>{var g,h,b,m;qh(y)&&y.silent||je(this,Ys,Gn).call(this,{type:"error",error:y}),qh(y)||((h=(g=$(this,Ls).config).onError)==null||h.call(g,y,this),(m=(b=$(this,Ls).config).onSettled)==null||m.call(b,this.state.data,y,this)),this.scheduleGc()};return ae(this,Qt,QA({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:y=>{var g,h,b,m;if(y===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(x){d(x);return}(h=(g=$(this,Ls).config).onSuccess)==null||h.call(g,y,this),(m=(b=$(this,Ls).config).onSettled)==null||m.call(b,y,this.state.error,this),this.scheduleGc()},onError:d,onFail:(y,g)=>{je(this,Ys,Gn).call(this,{type:"failed",failureCount:y,error:g})},onPause:()=>{je(this,Ys,Gn).call(this,{type:"pause"})},onContinue:()=>{je(this,Ys,Gn).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),$(this,Qt).start()}},vo=new WeakMap,Fi=new WeakMap,Ls=new WeakMap,Bi=new WeakMap,Qt=new WeakMap,Bc=new WeakMap,$i=new WeakMap,Ys=new WeakSet,Gn=function(s){const n=r=>{switch(s.type){case"failed":return{...r,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...HA(r.data,this.options),fetchMeta:s.meta??null};case"success":return ae(this,Fi,void 0),{...r,data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=s.error;return qh(i)&&i.revert&&$(this,Fi)?{...$(this,Fi),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...s.state}}};this.state=n(this.state),jt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),$(this,Ls).notify({query:this,type:"updated",action:s})})},d_);function HA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function G6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,n=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Nn,p_,W6=(p_=class extends Yo{constructor(e={}){super();he(this,Nn);this.config=e,ae(this,Nn,new Map)}build(e,s,n){const r=s.queryKey,i=s.queryHash??Jv(r,s);let o=this.get(i);return o||(o=new H6({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){$(this,Nn).has(e.queryHash)||($(this,Nn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=$(this,Nn).get(e.queryHash);s&&(e.destroy(),s===e&&$(this,Nn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,Nn).get(e)}getAll(){return[...$(this,Nn).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>rw(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>rw(e,n)):s}notify(e){jt.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){jt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){jt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Nn=new WeakMap,p_),kn,Jt,Ui,Cn,Cr,f_,K6=(f_=class extends VA{constructor(e){super();he(this,Cn);he(this,kn);he(this,Jt);he(this,Ui);this.mutationId=e.mutationId,ae(this,Jt,e.mutationCache),ae(this,kn,[]),this.state=e.state||GA(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){$(this,kn).includes(e)||($(this,kn).push(e),this.clearGcTimeout(),$(this,Jt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ae(this,kn,$(this,kn).filter(s=>s!==e)),this.scheduleGc(),$(this,Jt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){$(this,kn).length||(this.state.status==="pending"?this.scheduleGc():$(this,Jt).remove(this))}continue(){var e;return((e=$(this,Ui))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,l,c,d,u,p,f,y,g,h,b,m,x,k,E,C,R,N,_;const s=()=>{je(this,Cn,Cr).call(this,{type:"continue"})};ae(this,Ui,QA({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,T)=>{je(this,Cn,Cr).call(this,{type:"failed",failureCount:O,error:T})},onPause:()=>{je(this,Cn,Cr).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Jt).canRun(this)}));const n=this.state.status==="pending",r=!$(this,Ui).canStart();try{if(n)s();else{je(this,Cn,Cr).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(i=$(this,Jt).config).onMutate)==null?void 0:o.call(i,e,this));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));T!==this.state.context&&je(this,Cn,Cr).call(this,{type:"pending",context:T,variables:e,isPaused:r})}const O=await $(this,Ui).start();return await((u=(d=$(this,Jt).config).onSuccess)==null?void 0:u.call(d,O,e,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,O,e,this.state.context)),await((g=(y=$(this,Jt).config).onSettled)==null?void 0:g.call(y,O,null,this.state.variables,this.state.context,this)),await((b=(h=this.options).onSettled)==null?void 0:b.call(h,O,null,e,this.state.context)),je(this,Cn,Cr).call(this,{type:"success",data:O}),O}catch(O){try{throw await((x=(m=$(this,Jt).config).onError)==null?void 0:x.call(m,O,e,this.state.context,this)),await((E=(k=this.options).onError)==null?void 0:E.call(k,O,e,this.state.context)),await((R=(C=$(this,Jt).config).onSettled)==null?void 0:R.call(C,void 0,O,this.state.variables,this.state.context,this)),await((_=(N=this.options).onSettled)==null?void 0:_.call(N,void 0,O,e,this.state.context)),O}finally{je(this,Cn,Cr).call(this,{type:"error",error:O})}}finally{$(this,Jt).runNext(this)}}},kn=new WeakMap,Jt=new WeakMap,Ui=new WeakMap,Cn=new WeakSet,Cr=function(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),jt.batch(()=>{$(this,kn).forEach(n=>{n.onMutationUpdate(e)}),$(this,Jt).notify({mutation:this,type:"updated",action:e})})},f_);function GA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tr,Js,$c,h_,Y6=(h_=class extends Yo{constructor(e={}){super();he(this,tr);he(this,Js);he(this,$c);this.config=e,ae(this,tr,new Set),ae(this,Js,new Map),ae(this,$c,0)}build(e,s,n){const r=new K6({mutationCache:this,mutationId:++bu(this,$c)._,options:e.defaultMutationOptions(s),state:n});return this.add(r),r}add(e){$(this,tr).add(e);const s=Fu(e);if(typeof s=="string"){const n=$(this,Js).get(s);n?n.push(e):$(this,Js).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if($(this,tr).delete(e)){const s=Fu(e);if(typeof s=="string"){const n=$(this,Js).get(s);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&$(this,Js).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=Fu(e);if(typeof s=="string"){const n=$(this,Js).get(s),r=n==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var n;const s=Fu(e);if(typeof s=="string"){const r=(n=$(this,Js).get(s))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){jt.batch(()=>{$(this,tr).forEach(e=>{this.notify({type:"removed",mutation:e})}),$(this,tr).clear(),$(this,Js).clear()})}getAll(){return Array.from($(this,tr))}find(e){const s={exact:!0,...e};return this.getAll().find(n=>iw(s,n))}findAll(e={}){return this.getAll().filter(s=>iw(e,s))}notify(e){jt.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return jt.batch(()=>Promise.all(e.map(s=>s.continue().catch(ts))))}},tr=new WeakMap,Js=new WeakMap,$c=new WeakMap,h_);function Fu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function lw(t){return{onFetch:(e,s)=>{var u,p,f,y,g;const n=e.options,r=(f=(p=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let h=!1;const b=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},m=$A(e.options,e.fetchOptions),x=async(k,E,C)=>{if(h)return Promise.reject();if(E==null&&k.pages.length)return Promise.resolve(k);const N=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:E,direction:C?"backward":"forward",meta:e.options.meta};return b(D),D})(),_=await m(N),{maxPages:O}=e.options,T=C?$6:B6;return{pages:T(k.pages,_,O),pageParams:T(k.pageParams,E,O)}};if(r&&i.length){const k=r==="backward",E=k?J6:cw,C={pages:i,pageParams:o},R=E(n,C);l=await x(C,R,k)}else{const k=t??i.length;do{const E=c===0?o[0]??n.initialPageParam:cw(n,l);if(c>0&&E==null)break;l=await x(l,E),c++}while(c<k)}return l};e.options.persister?e.fetchFn=()=>{var h,b;return(b=(h=e.options).persister)==null?void 0:b.call(h,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=d}}}function cw(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function J6(t,{pages:e,pageParams:s}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,s[0],s):void 0}var pt,Fr,Br,xo,bo,$r,wo,So,m_,WA=(m_=class{constructor(t={}){he(this,pt);he(this,Fr);he(this,Br);he(this,xo);he(this,bo);he(this,$r);he(this,wo);he(this,So);ae(this,pt,t.queryCache||new W6),ae(this,Fr,t.mutationCache||new Y6),ae(this,Br,t.defaultOptions||{}),ae(this,xo,new Map),ae(this,bo,new Map),ae(this,$r,0)}mount(){bu(this,$r)._++,$(this,$r)===1&&(ae(this,wo,Zv.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,pt).onFocus())})),ae(this,So,cp.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,pt).onOnline())})))}unmount(){var t,e;bu(this,$r)._--,$(this,$r)===0&&((t=$(this,wo))==null||t.call(this),ae(this,wo,void 0),(e=$(this,So))==null||e.call(this),ae(this,So,void 0))}isFetching(t){return $(this,pt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,Fr).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=$(this,pt).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=$(this,pt).build(this,e),n=s.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(ai(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return $(this,pt).findAll(t).map(({queryKey:e,state:s})=>{const n=s.data;return[e,n]})}setQueryData(t,e,s){const n=this.defaultQueryOptions({queryKey:t}),r=$(this,pt).get(n.queryHash),i=r==null?void 0:r.state.data,o=L6(e,i);if(o!==void 0)return $(this,pt).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return jt.batch(()=>$(this,pt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=$(this,pt).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=$(this,pt);jt.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=$(this,pt);return jt.batch(()=>(s.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},n=jt.batch(()=>$(this,pt).findAll(t).map(r=>r.cancel(s)));return Promise.all(n).then(ts).catch(ts)}invalidateQueries(t,e={}){return jt.batch(()=>($(this,pt).findAll(t).forEach(s=>{s.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},n=jt.batch(()=>$(this,pt).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,s);return s.throwOnError||(i=i.catch(ts)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ts)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=$(this,pt).build(this,e);return s.isStaleByTime(ai(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ts).catch(ts)}fetchInfiniteQuery(t){return t.behavior=lw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ts).catch(ts)}ensureInfiniteQueryData(t){return t.behavior=lw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return cp.isOnline()?$(this,Fr).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,pt)}getMutationCache(){return $(this,Fr)}getDefaultOptions(){return $(this,Br)}setDefaultOptions(t){ae(this,Br,t)}setQueryDefaults(t,e){$(this,xo).set(oa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,xo).values()],s={};return e.forEach(n=>{gc(t,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(t,e){$(this,bo).set(oa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,bo).values()],s={};return e.forEach(n=>{gc(t,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,Br).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Jv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Xv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,Br).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,pt).clear(),$(this,Fr).clear()}},pt=new WeakMap,Fr=new WeakMap,Br=new WeakMap,xo=new WeakMap,bo=new WeakMap,$r=new WeakMap,wo=new WeakMap,So=new WeakMap,m_),ds,Me,Uc,Xt,zi,_o,Ur,zr,zc,Eo,No,qi,Qi,qr,ko,qe,Pl,zg,qg,Qg,Vg,Hg,Gg,Wg,KA,g_,X6=(g_=class extends Yo{constructor(e,s){super();he(this,qe);he(this,ds);he(this,Me);he(this,Uc);he(this,Xt);he(this,zi);he(this,_o);he(this,Ur);he(this,zr);he(this,zc);he(this,Eo);he(this,No);he(this,qi);he(this,Qi);he(this,qr);he(this,ko,new Set);this.options=s,ae(this,ds,e),ae(this,zr,null),ae(this,Ur,Ug()),this.options.experimental_prefetchInRender||$(this,Ur).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,Me).addObserver(this),uw($(this,Me),this.options)?je(this,qe,Pl).call(this):this.updateResult(),je(this,qe,Vg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kg($(this,Me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kg($(this,Me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,je(this,qe,Hg).call(this),je(this,qe,Gg).call(this),$(this,Me).removeObserver(this)}setOptions(e){const s=this.options,n=$(this,Me);if(this.options=$(this,ds).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fs(this.options.enabled,$(this,Me))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");je(this,qe,Wg).call(this),$(this,Me).setOptions(this.options),s._defaulted&&!lp(this.options,s)&&$(this,ds).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,Me),observer:this});const r=this.hasListeners();r&&dw($(this,Me),n,this.options,s)&&je(this,qe,Pl).call(this),this.updateResult(),r&&($(this,Me)!==n||Fs(this.options.enabled,$(this,Me))!==Fs(s.enabled,$(this,Me))||ai(this.options.staleTime,$(this,Me))!==ai(s.staleTime,$(this,Me)))&&je(this,qe,zg).call(this);const i=je(this,qe,qg).call(this);r&&($(this,Me)!==n||Fs(this.options.enabled,$(this,Me))!==Fs(s.enabled,$(this,Me))||i!==$(this,qr))&&je(this,qe,Qg).call(this,i)}getOptimisticResult(e){const s=$(this,ds).getQueryCache().build($(this,ds),e),n=this.createResult(s,e);return eL(this,n)&&(ae(this,Xt,n),ae(this,_o,this.options),ae(this,zi,$(this,Me).state)),n}getCurrentResult(){return $(this,Xt)}trackResult(e,s){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),s==null||s(r),Reflect.get(n,r))})}trackProp(e){$(this,ko).add(e)}getCurrentQuery(){return $(this,Me)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=$(this,ds).defaultQueryOptions(e),n=$(this,ds).getQueryCache().build($(this,ds),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(e){return je(this,qe,Pl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Xt)))}createResult(e,s){var O;const n=$(this,Me),r=this.options,i=$(this,Xt),o=$(this,zi),l=$(this,_o),d=e!==n?e.state:$(this,Uc),{state:u}=e;let p={...u},f=!1,y;if(s._optimisticResults){const T=this.hasListeners(),D=!T&&uw(e,s),V=T&&dw(e,n,s,r);(D||V)&&(p={...p,...HA(u.data,e.options)}),s._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:g,errorUpdatedAt:h,status:b}=p;y=p.data;let m=!1;if(s.placeholderData!==void 0&&y===void 0&&b==="pending"){let T;i!=null&&i.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,m=!0):T=typeof s.placeholderData=="function"?s.placeholderData((O=$(this,No))==null?void 0:O.state.data,$(this,No)):s.placeholderData,T!==void 0&&(b="success",y=$g(i==null?void 0:i.data,T,s),f=!0)}if(s.select&&y!==void 0&&!m)if(i&&y===(o==null?void 0:o.data)&&s.select===$(this,zc))y=$(this,Eo);else try{ae(this,zc,s.select),y=s.select(y),y=$g(i==null?void 0:i.data,y,s),ae(this,Eo,y),ae(this,zr,null)}catch(T){ae(this,zr,T)}$(this,zr)&&(g=$(this,zr),y=$(this,Eo),h=Date.now(),b="error");const x=p.fetchStatus==="fetching",k=b==="pending",E=b==="error",C=k&&x,R=y!==void 0,_={status:b,fetchStatus:p.fetchStatus,isPending:k,isSuccess:b==="success",isError:E,isInitialLoading:C,isLoading:C,data:y,dataUpdatedAt:p.dataUpdatedAt,error:g,errorUpdatedAt:h,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!k,isLoadingError:E&&!R,isPaused:p.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:E&&R,isStale:ex(e,s),refetch:this.refetch,promise:$(this,Ur),isEnabled:Fs(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const T=L=>{_.status==="error"?L.reject(_.error):_.data!==void 0&&L.resolve(_.data)},D=()=>{const L=ae(this,Ur,_.promise=Ug());T(L)},V=$(this,Ur);switch(V.status){case"pending":e.queryHash===n.queryHash&&T(V);break;case"fulfilled":(_.status==="error"||_.data!==V.value)&&D();break;case"rejected":(_.status!=="error"||_.error!==V.reason)&&D();break}}return _}updateResult(){const e=$(this,Xt),s=this.createResult($(this,Me),this.options);if(ae(this,zi,$(this,Me).state),ae(this,_o,this.options),$(this,zi).data!==void 0&&ae(this,No,$(this,Me)),lp(s,e))return;ae(this,Xt,s);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!$(this,ko).size)return!0;const o=new Set(i??$(this,ko));return this.options.throwOnError&&o.add("error"),Object.keys($(this,Xt)).some(l=>{const c=l;return $(this,Xt)[c]!==e[c]&&o.has(c)})};je(this,qe,KA).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&je(this,qe,Vg).call(this)}},ds=new WeakMap,Me=new WeakMap,Uc=new WeakMap,Xt=new WeakMap,zi=new WeakMap,_o=new WeakMap,Ur=new WeakMap,zr=new WeakMap,zc=new WeakMap,Eo=new WeakMap,No=new WeakMap,qi=new WeakMap,Qi=new WeakMap,qr=new WeakMap,ko=new WeakMap,qe=new WeakSet,Pl=function(e){je(this,qe,Wg).call(this);let s=$(this,Me).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(ts)),s},zg=function(){je(this,qe,Hg).call(this);const e=ai(this.options.staleTime,$(this,Me));if(aa||$(this,Xt).isStale||!Fg(e))return;const n=FA($(this,Xt).dataUpdatedAt,e)+1;ae(this,qi,setTimeout(()=>{$(this,Xt).isStale||this.updateResult()},n))},qg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,Me)):this.options.refetchInterval)??!1},Qg=function(e){je(this,qe,Gg).call(this),ae(this,qr,e),!(aa||Fs(this.options.enabled,$(this,Me))===!1||!Fg($(this,qr))||$(this,qr)===0)&&ae(this,Qi,setInterval(()=>{(this.options.refetchIntervalInBackground||Zv.isFocused())&&je(this,qe,Pl).call(this)},$(this,qr)))},Vg=function(){je(this,qe,zg).call(this),je(this,qe,Qg).call(this,je(this,qe,qg).call(this))},Hg=function(){$(this,qi)&&(clearTimeout($(this,qi)),ae(this,qi,void 0))},Gg=function(){$(this,Qi)&&(clearInterval($(this,Qi)),ae(this,Qi,void 0))},Wg=function(){const e=$(this,ds).getQueryCache().build($(this,ds),this.options);if(e===$(this,Me))return;const s=$(this,Me);ae(this,Me,e),ae(this,Uc,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},KA=function(e){jt.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s($(this,Xt))}),$(this,ds).getQueryCache().notify({query:$(this,Me),type:"observerResultsUpdated"})})},g_);function Z6(t,e){return Fs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function uw(t,e){return Z6(t,e)||t.state.data!==void 0&&Kg(t,e,e.refetchOnMount)}function Kg(t,e,s){if(Fs(e.enabled,t)!==!1&&ai(e.staleTime,t)!=="static"){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&ex(t,e)}return!1}function dw(t,e,s,n){return(t!==e||Fs(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&ex(t,s)}function ex(t,e){return Fs(e.enabled,t)!==!1&&t.isStaleByTime(ai(e.staleTime,t))}function eL(t,e){return!lp(t.getCurrentResult(),e)}var Qr,Vr,ps,sr,ur,Sd,Yg,y_,tL=(y_=class extends Yo{constructor(s,n){super();he(this,ur);he(this,Qr);he(this,Vr);he(this,ps);he(this,sr);ae(this,Qr,s),this.setOptions(n),this.bindMethods(),je(this,ur,Sd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var r;const n=this.options;this.options=$(this,Qr).defaultMutationOptions(s),lp(this.options,n)||$(this,Qr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,ps),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&oa(n.mutationKey)!==oa(this.options.mutationKey)?this.reset():((r=$(this,ps))==null?void 0:r.state.status)==="pending"&&$(this,ps).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=$(this,ps))==null||s.removeObserver(this)}onMutationUpdate(s){je(this,ur,Sd).call(this),je(this,ur,Yg).call(this,s)}getCurrentResult(){return $(this,Vr)}reset(){var s;(s=$(this,ps))==null||s.removeObserver(this),ae(this,ps,void 0),je(this,ur,Sd).call(this),je(this,ur,Yg).call(this)}mutate(s,n){var r;return ae(this,sr,n),(r=$(this,ps))==null||r.removeObserver(this),ae(this,ps,$(this,Qr).getMutationCache().build($(this,Qr),this.options)),$(this,ps).addObserver(this),$(this,ps).execute(s)}},Qr=new WeakMap,Vr=new WeakMap,ps=new WeakMap,sr=new WeakMap,ur=new WeakSet,Sd=function(){var n;const s=((n=$(this,ps))==null?void 0:n.state)??GA();ae(this,Vr,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Yg=function(s){jt.batch(()=>{var n,r,i,o,l,c,d,u;if($(this,sr)&&this.hasListeners()){const p=$(this,Vr).variables,f=$(this,Vr).context;(s==null?void 0:s.type)==="success"?((r=(n=$(this,sr)).onSuccess)==null||r.call(n,s.data,p,f),(o=(i=$(this,sr)).onSettled)==null||o.call(i,s.data,null,p,f)):(s==null?void 0:s.type)==="error"&&((c=(l=$(this,sr)).onError)==null||c.call(l,s.error,p,f),(u=(d=$(this,sr)).onSettled)==null||u.call(d,void 0,s.error,p,f))}this.listeners.forEach(p=>{p($(this,Vr))})})},y_),YA=j.createContext(void 0),Kc=t=>{const e=j.useContext(YA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},JA=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(YA.Provider,{value:t,children:e})),XA=j.createContext(!1),sL=()=>j.useContext(XA);XA.Provider;function nL(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var rL=j.createContext(nL()),iL=()=>j.useContext(rL),aL=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},oL=t=>{j.useEffect(()=>{t.clearReset()},[t])},lL=({result:t,errorResetBoundary:e,throwOnError:s,query:n,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(r&&t.data===void 0||UA(s,[t.error,n])),cL=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...n)=>e(s(...n)):e(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},uL=(t,e)=>t.isLoading&&t.isFetching&&!e,dL=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,pw=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function pL(t,e,s){var p,f,y,g,h;const n=sL(),r=iL(),i=Kc(),o=i.defaultQueryOptions(t);(f=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||f.call(p,o),o._optimisticResults=n?"isRestoring":"optimistic",cL(o),aL(o,r),oL(r);const l=!i.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new e(i,o)),d=c.getOptimisticResult(o),u=!n&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(b=>{const m=u?c.subscribe(jt.batchCalls(b)):ts;return c.updateResult(),m},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o)},[o,c]),dL(o,d))throw pw(o,c,r);if(lL({result:d,errorResetBoundary:r,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((g=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||g.call(y,o,d),o.experimental_prefetchInRender&&!aa&&uL(d,n)){const b=l?pw(o,c,r):(h=i.getQueryCache().get(o.queryHash))==null?void 0:h.promise;b==null||b.catch(ts).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Gi(t,e){return pL(t,X6)}function Wi(t,e){const s=Kc(),[n]=j.useState(()=>new tL(s,t));j.useEffect(()=>{n.setOptions(t)},[n,t]);const r=j.useSyncExternalStore(j.useCallback(o=>n.subscribe(jt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=j.useCallback((o,l)=>{n.mutate(o,l).catch(ts)},[n]);if(r.error&&UA(n.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}const fL=1,hL=1e6;let Qh=0;function mL(){return Qh=(Qh+1)%Number.MAX_SAFE_INTEGER,Qh.toString()}const Vh=new Map,fw=t=>{if(Vh.has(t))return;const e=setTimeout(()=>{Vh.delete(t),Kl({type:"REMOVE_TOAST",toastId:t})},hL);Vh.set(t,e)},gL=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,fL)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?fw(s):t.toasts.forEach(n=>{fw(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},_d=[];let Ed={toasts:[]};function Kl(t){Ed=gL(Ed,t),_d.forEach(e=>{e(Ed)})}function yL({...t}){const e=mL(),s=r=>Kl({type:"UPDATE_TOAST",toast:{...r,id:e}}),n=()=>Kl({type:"DISMISS_TOAST",toastId:e});return Kl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||n()}}}),{id:e,dismiss:n,update:s}}function Jo(){const[t,e]=j.useState(Ed);return j.useEffect(()=>(_d.push(e),()=>{const s=_d.indexOf(e);s>-1&&_d.splice(s,1)}),[t]),{...t,toast:yL,dismiss:s=>Kl({type:"DISMISS_TOAST",toastId:s})}}function vL(){const{toasts:t}=Jo();return a.jsx("div",{className:"fixed bottom-0 right-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",children:t.map(({id:e,title:s,description:n,action:r,...i})=>a.jsxs("div",{className:"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",...i,children:[a.jsxs("div",{className:"grid gap-1",children:[s&&a.jsx("div",{className:"text-sm font-semibold",children:s}),n&&a.jsx("div",{className:"text-sm opacity-90",children:n})]}),r]},e))})}const Ni={signIn:async({email:t,password:e})=>await Ca("/auth/login",{method:"POST",body:JSON.stringify({email:t,password:e})}),signUp:async({email:t,password:e,fullName:s,role:n,phone:r})=>await Ca("/auth/signup",{method:"POST",body:JSON.stringify({email:t,password:e,fullName:s,role:n,phone:r})}),validateSession:async()=>{const t=await Ca("/auth/validate-session");return t.success?t.user:null},logout:async()=>await Ca("/auth/logout",{method:"POST"}),fetchUser:async()=>await Ca("/auth/me"),updateUser:async(t,e)=>await Ca(`/auth/users/${t}`,{method:"PUT",body:JSON.stringify(e)})},ZA=j.createContext(null),Ca=async(t,e={})=>{const s=await fetch(`/api${t}`,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e});if(s.status===204)return{success:s.ok,data:null,error:null,user:null};const n=await s.json();return{success:s.ok,data:s.ok?n:null,error:s.ok?null:n.message||n.error||"Request failed",user:n.user}};function xL({children:t}){const[e,s]=j.useState(null),[n,r]=j.useState(!0),[i,o]=j.useState(null),[l,c]=j.useState(!1),[d,u]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const k=localStorage.getItem("user");if(k){const E=JSON.parse(k),C=await Ni.validateSession();C?(s(C),u(!0)):(localStorage.removeItem("user"),localStorage.removeItem("token"),s(null),u(!1))}else{const E=await Ni.validateSession();E?(s(E),u(!0),localStorage.setItem("user",JSON.stringify(E))):(s(null),u(!1))}}catch(k){console.error("Auth initialization error:",k),localStorage.removeItem("user"),localStorage.removeItem("token"),s(null),u(!1)}finally{c(!1),r(!1)}})()},[]);const p=async(x,k)=>{c(!0),b();try{const E=await Ni.signIn({email:x,password:k});if(E.success&&E.user)s(E.user),u(!0),localStorage.setItem("user",JSON.stringify(E.user)),E.token&&localStorage.setItem("token",E.token);else throw new Error(E.message||"Login failed")}catch(E){throw console.error("Login error:",E),o(E.message||"Login failed. Please check your credentials and try again."),E}finally{c(!1)}},f=async(x,k,E,C,R)=>{c(!0),b();try{const N=C||x.split("@")[0],_=await Ni.signUp({email:x,password:k,fullName:N,phone:R||"",role:E});if(_.success&&_.user)s(_.user),u(!0),localStorage.setItem("user",JSON.stringify(_.user)),_.token&&localStorage.setItem("token",_.token);else if(_.success&&_.requiresEmailVerification)console.log("Email verification required for",x);else throw new Error(_.message||"Registration failed")}catch(N){throw console.error("Registration error:",N),o(N.message||"Registration failed. Please try again."),N}finally{c(!1)}},y=async()=>{try{await Ni.logout()}catch(x){console.error("Logout error:",x)}finally{s(null),localStorage.removeItem("user"),localStorage.removeItem("token"),u(!1)}},g=async()=>{if(!(!d&&!e))try{const x=await Ni.fetchUser();x.success&&x.user?(s(x.user),u(!0),localStorage.setItem("user",JSON.stringify(x.user))):(s(null),localStorage.removeItem("user"),localStorage.removeItem("token"),u(!1),o(x.error||"Session expired. Please log in again."))}catch(x){console.error("Failed to refresh user:",x),s(null),localStorage.removeItem("user"),localStorage.removeItem("token"),u(!1),o(x.message||"An error occurred while refreshing user data.")}},h=async x=>{if(e){c(!0),o(null);try{const k=await Ni.updateUser(e.id,x);if(!k.success)throw new Error(k.error||"Failed to update user");const E=k.user;s(E),localStorage.setItem("user",JSON.stringify(E))}catch(k){o(k.message),console.error("Update user error:",k)}finally{c(!1)}}},b=()=>{o(null)},m=()=>!!e;return a.jsx(ZA.Provider,{value:{user:e,setUser:s,login:p,logout:y,signup:f,isLoading:n,loading:l,refreshUser:g,updateUser:h,error:i,clearError:b,isAuthenticated:m,setIsAuthenticated:u},children:t})}function Xo(){const t=j.useContext(ZA);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const tx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAABlCAYAAACC2feqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAgiSURBVHgB7Z3PbxtFFMffjB23ElAZKiHBAdwD4pog7nGB0iAKpH9B0/+gPXJom7RCXJu/oOmBA6em0KqhKo3LARUJqam4gCoUA6IFRIrTNG3seGeYt/bau/b+mLHXu154H6m1dz0bV/n2vXnz3ttZBmPAoU+uTuYsmATCg2BWjQOr7bWaa8vzR2swBAzGgMPnrqxKCWUgwqgyzipSWpevn/pwGQxJXejy/KVigU/8A4QJtugsxxdWPn6vqnNB7ELPnPuyHDXG7YrePffFLEh+CYhBqCoBF786feR81MBYhZ6Zv1YS3FqH8C+sqn/YAef48NmrFyTIOSAGhjGosHzueJh1c4gRya3Z6EHysucQZPQ1RCgY34hda3Xm02uloDHxCs3gWNQYxqETSLTdfBGIOCiFiR2b0Oi2lXmGLpHQba+c+qDiHEvJI/9jEEaURNO6NKsC3N4PYhPa4qIcOUhFiu5D5bajryHMUMb2lE+c6T0dm9CcyWi3LcVF5z0mSdRLCYjYkQAnelc/sQiNblsj4VFzu23WFBSEjRAJzGPVsQit47bVAt+bzeHsIyBGBhqe26pjEVrLbQu45bzXCdyI4XFb9dBCYwpTJ0+9VzQ6Fq0VuBFDg7o4EfjQQk/wQuRci5kbd/VFxwMQ8bDd1mdooZWIkXMtk6wTbet6ACIeOIdp+xWGRpYih0zwSvdtgaLtBJGilasYWujrp45MyRybYlIuqtTXWu/n6LbdyXYdD0DESgn/ir9MiWtqLG4oQdFFqy846S6jvXv2CtaeKb+dIHwid2CkjQco+l7YqTmBGK7rhGSrQCSKCn4P5mEAsIaMTh9Tmu5sVy8r8976aKuIIYFIHmOL9mku0O5lUm4brysBkSho0cZCHzp7dY6BvBDwcQ1TnX6ik9tOj4Fctx01B3vfogrn59SPnlPW6xHdEjDLxqLn9P+J0a9+iI5NJytG0XYK5AWbMrLoQi5XHjCWIoFTpACNqlHChMkcJTuyh728NRKaOjazB2tnK7WFpo7NjCLkXXzRFpo6NrOJ016tLzR1bGYSvP0JX7WEbrvtEhCZwt3woSU0JjuAyBzuhg8toRmjjs1M4mr4iBSaGu2zCZNw2d3wESk0tygIyyKciyXPcdQFOndIEuMF3sx4rad6GCo0NdpnEwZsofdcaFEDG+1NyluP7j8Awp+drceRY/KFAuT3FDrHOXW857ln1bk9oIt9a/Lp95f6fnbYRdhoLzWrVRvVX+DHlRtAxA+K/8z+/erPC7D/wKuw7+WXAsf6WXPrfAA6+5G4ubf6Dfz10z0gRg9a+StvvgEvvv6a53zv/jBuAudo0/ujHiqLJpKhrqYBNKzvP/vcY1xsIncw6JpAoU0a7XFubtYbQCSLI/j6t7cBb6AI25UoeI6W+rXnP8llp8rvd3+An29/Nw3F2SLUln23kvS1aHuTNwMo2k6X3UYDpLAmmdxatcX2wVdok5ah7b83tJYOxGiQUkBzt+4coNi+rdi+QpvUnh89IGtOk/rTbe8JNeXyfW+d6B3XJ7Rp7Xlj/Vcg0mG3UQchRN95lfo4A8WZkvtcn9AmLUP1rS3YpPk5FYRlKaF3gj4uMrnrceH9Qhu47c37fwCRPDgvN+pPogaVofhO2Tn0CG3qth+uU5IkaVBknJf9XHYvXHSXyB6hTVuGNigbligmItvjQR5zllseoRln06AJiZwspiK3USI/tsvMHaFNa8/ktpNjQJFtHPfdSYFqbarugrJhyYDRdX1nW4k92N2NkrW2n+rmusPve/aAIlM2bPQ06jvdrNegyNb2YLbQdu1ZWmXda2l+Hi0tV/1EuWoLYqAIxXLJFtq0ZYjWz6MB3XNztxGWCBmUoi20ScsQZsOwkEHEiyPwoHNxOPli3nRvTrLm+HAsGOfh0QjcJd/am1P/S6gvbHgwkm42d8FqNkYusEOeGUTbTVXgpiKGOSimsJpg4R8lcFLiuskzKW+pL76rM/i3O3emVWmsDEQkGDlLleDAyDkNYb00a0bbT/F9b9PjBTOI5Puep81q/vvUsGFQW+h8q7ZJm9VkDcbMdiUSgp6DkUWYBMNdiRjdJ51FBIcKvuoJXTw0qSboEhAZxNJ33VzoFzyIMYKxCtQqVXyrJbSkzWoyCXM9lD1aaOwPljQ/ZxHBRWd7i0ihc9AoA5E9XG4biRRaSHLbWUQKedF9HJ4CLZaLTPBBdtwn0qUqH9307HwQatE5K1cGInNIDou950KFlvR4wSxSVRNu32OpIoSmaDtrqILoRXcQ5hA4R2MRwxKCnlOVLfrmZodAixZCUEkyY0gJC0GfBQotQf8+LCJ9lGtegq2bS0Gf+wtt3y0vaQ/Q7FBTWbCFsAG+QnPRILedIZTLPukXgLnx36yGihiZIcplO/QLTUWMLFFVLvukzsA+oamIkRmqkouDymXXdAb3CU1FjGygRD4aNS+76Xfd5LbHHhV8HVcir5lc4xGaWnrHH1tkjeCrF4/Q1NI73gwqMuIRmooYY0ttGJGR7h4m2NIrrBIQ40a1HXgZzcm9dCyaC4uyYeMGY2vtJdRQIiPd7acAl1Vp395JOCg9FmHz6xMQE616tMqGMdHQfiIOMVKUq+Zq+XSjAjFiu27Kho0Hyp8uKFc9FbfIiO26VTbsGLntFGGsIpl13CTTZfwV1NKbIrbAbGEUFtxLHlt6BSNrTpCa+m0vqmXOed2CRBzkqaU3AdQyCTcFEpwvJ2G9fqg5WjBg3UfEE4OjxKy2324K7K/mXK1/m2touWn7zH8Bvai15PL7l8AAAAAASUVORK5CYII=";function eT(){const[,t]=fi(),{user:e,isLoading:s,isAuthenticated:n}=Xo();return j.useEffect(()=>{const r=setTimeout(()=>{s||(n()&&e?(console.log("Splash: User authenticated, redirecting to role dashboard"),e.role==="CONSUMER"?t("/consumer-home"):e.role==="MERCHANT"?t("/merchant-dashboard"):e.role==="DRIVER"?t("/driver-dashboard"):e.role==="ADMIN"?t("/admin-dashboard"):t("/consumer-home")):localStorage.getItem("hasSeenOnboarding")==="true"?(console.log("Splash: User not authenticated, redirecting to signin"),t("/signin")):(console.log("Splash: New user, redirecting to onboarding"),t("/onboarding")))},2e3);return()=>clearTimeout(r)},[t,s,e,n]),a.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white flex flex-col items-center justify-center relative overflow-hidden",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 lg:w-56 lg:h-56 flex items-center justify-center",children:a.jsx("img",{src:tx,alt:"Brillprime Logo",className:"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 lg:w-48 lg:h-48 object-contain animate-bounce",style:{animationDuration:"2s"},onError:r=>{r.currentTarget.style.display="none",r.currentTarget.parentElement.innerHTML='<div class="text-blue-600 text-2xl font-bold">BP</div>'}})}),a.jsxs("div",{className:"mt-8 flex space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce"}),a.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),a.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]})})}const bL=Object.freeze(Object.defineProperty({__proto__:null,default:eT},Symbol.toStringTag,{value:"Module"})),wL="/src/assets/images/onboarding_img1.png",SL="/src/assets/images/onboarding_img2.png",_L="/src/assets/images/onboarding_img3.png",Bu=[{title:`Welcome to
Brillprime`,description:"Your trusted financial partner for secure transactions and seamless money management",image:wL},{title:`Smart Financial
Management`,description:"Track your expenses, manage multiple accounts, and make informed financial decisions with our advanced analytics",image:SL},{title:`Bank-Level
Security`,description:"Your data is protected with end-to-end encryption, biometric authentication, and advanced fraud detection",image:_L}];function tT(){const[t,e]=j.useState(1),[s,n]=j.useState(!1),[,r]=fi(),i=Bu[t-1];j.useEffect(()=>{const l=Bu.map(c=>new Promise((d,u)=>{const p=new Image;p.onload=d,p.onerror=u,p.src=c.image}));Promise.all(l).then(()=>n(!0)).catch(()=>n(!0))},[]);const o=()=>{t<Bu.length?e(t+1):(localStorage.setItem("hasSeenOnboarding","true"),r("/role-selection"))};return s?a.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white relative overflow-hidden",children:a.jsxs("div",{className:"px-4 sm:px-6 py-6 sm:py-8 flex flex-col min-h-screen",children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center text-center",children:[a.jsx("div",{className:"w-48 sm:w-56 md:w-64 h-56 sm:h-64 md:h-72 lg:h-80 mb-6 sm:mb-8 flex items-center justify-center mx-auto",children:a.jsx("img",{src:i.image,alt:"Financial illustration",className:"w-full h-full object-cover rounded-xl shadow-lg"})}),a.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold text-[#2d3748] mb-3 sm:mb-4 leading-tight whitespace-pre-line px-2",children:i.title}),a.jsx("p",{className:"text-[#718096] font-light text-sm sm:text-base mb-6 sm:mb-8 max-w-xs sm:max-w-sm leading-relaxed px-2",children:i.description})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 sm:pt-8 px-2",children:[a.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(l=>a.jsx("div",{className:`w-2 h-2 rounded-full transition-colors duration-300 ${l===t?"bg-[#4682B4]":"bg-gray-300"}`},l))}),t<Bu.length?a.jsx("button",{onClick:o,className:"w-12 h-12 sm:w-16 sm:h-16 bg-[#4682B4] rounded-full text-white shadow-lg hover:bg-[#3a70a0] transition-all duration-200 flex items-center justify-center",children:a.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}):a.jsx("button",{onClick:o,className:"w-32 sm:w-40 h-10 sm:h-12 bg-[#4682B4] text-white font-medium shadow-lg hover:bg-[#3a70a0] transition-all duration-200 text-sm sm:text-base",style:{borderRadius:"25px"},children:"Get Started"})]})]})}):a.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white flex items-center justify-center",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-[var(--brill-primary)] rounded-full animate-bounce"}),a.jsx("div",{className:"w-3 h-3 bg-[var(--brill-primary)] rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),a.jsx("div",{className:"w-3 h-3 bg-[var(--brill-primary)] rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}const EL=Object.freeze(Object.defineProperty({__proto__:null,default:tT},Symbol.toStringTag,{value:"Module"})),NL="/src/assets/images/sign_up_option_logo.png";function sT(){const[t,e]=j.useState(null),s=()=>{t&&(localStorage.setItem("selectedRole",t),window.location.href="/signup")};return a.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white flex flex-col",children:a.jsxs("div",{className:"flex-1 flex flex-col justify-center px-4 sm:px-6 py-6 sm:py-8",children:[a.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[a.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg",children:a.jsx("img",{src:NL,alt:"Sign Up",className:"w-12 h-12 sm:w-16 sm:h-16 object-contain"})}),a.jsx("h1",{className:"text-lg sm:text-xl font-extrabold text-[#2d3748] mb-3",children:"Choose Your Role"}),a.jsx("p",{className:"text-[#718096] font-light text-sm",children:"Select how you'll be using Brillprime"})]}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsx("button",{className:`w-full py-4 px-6 text-center border transition-all duration-200 hover:shadow-lg ${t==="CONSUMER"?"bg-[#f8f9fa] text-[#2d3748] border-gray-300":"bg-[#2d3748] text-white border-[#2d3748] hover:bg-[#f8f9fa] hover:text-[#2d3748]"}`,style:{borderRadius:"25px"},onClick:()=>e("CONSUMER"),children:a.jsx("div",{className:"font-semibold text-lg",children:"Consumer"})}),a.jsx("button",{className:`w-full py-4 px-6 text-center border transition-all duration-200 hover:shadow-lg ${t==="MERCHANT"?"bg-[#f8f9fa] text-[#2d3748] border-gray-300":"bg-[#2d3748] text-white border-[#2d3748] hover:bg-[#f8f9fa] hover:text-[#2d3748]"}`,style:{borderRadius:"25px"},onClick:()=>e("MERCHANT"),children:a.jsx("div",{className:"font-semibold text-lg",children:"Merchant"})}),a.jsx("button",{className:`w-full py-4 px-6 text-center border transition-all duration-200 hover:shadow-lg ${t==="DRIVER"?"bg-[#f8f9fa] text-[#2d3748] border-gray-300":"bg-[#2d3748] text-white border-[#2d3748] hover:bg-[#f8f9fa] hover:text-[#2d3748]"}`,style:{borderRadius:"25px"},onClick:()=>e("DRIVER"),children:a.jsx("div",{className:"font-semibold text-lg",children:"Driver"})})]}),a.jsx("button",{onClick:s,disabled:!t,className:`w-full py-4 px-6 font-medium shadow-lg transition-all text-base ${t?"bg-[#4682B4] text-white hover:bg-[#3a70a0] cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,style:{borderRadius:"25px"},children:"Continue"})]})})}const kL=Object.freeze(Object.defineProperty({__proto__:null,default:sT},Symbol.toStringTag,{value:"Module"})),CL="/src/assets/images/logo.png";function nT(){const[t,e]=j.useState(""),[s,n]=j.useState(""),[r,i]=j.useState(""),[o,l]=j.useState(!1),[c,d]=j.useState(!1),{signup:u,loading:p,error:f,clearError:y,setUser:g}=Xo(),[,h]=fi(),b=localStorage.getItem("selectedRole")||"CONSUMER",m=async()=>{if(y(),t.length<4){alert("Please enter a valid email");return}if(s.trim().length<8){alert("Password must be at least 8 characters");return}if(s!==r){alert("Passwords do not match");return}try{const _=await u(t,s,b);_!=null&&_.requiresEmailVerification?(localStorage.setItem("verification-email",t),h("/otp-verification")):_!=null&&_.user?(g(_.user),h("/dashboard")):(console.warn("Unexpected signup response:",_),h("/signin"))}catch(_){console.error("Registration error:",_)}},x=()=>{l(!o)},k=()=>{d(!c)},E=async _=>{try{_==="google"?await C():_==="facebook"?await R():_==="apple"&&await N()}catch(O){console.error(`${_} login error:`,O),alert(`${_} login failed. Please try again.`)}},C=async()=>{{alert("Google Sign-In is not configured. Please add GOOGLE_CLIENT_ID to environment variables.");return}},R=async()=>{{alert("Facebook Login is not configured. Please add FACEBOOK_APP_ID to environment variables.");return}},N=async()=>{{alert("Apple Sign In is not configured. Please add APPLE_CLIENT_ID to environment variables.");return}};return a.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white flex flex-col",children:a.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 py-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"mb-2",children:a.jsx("img",{src:CL,alt:"Logo",className:"w-20 h-16 mx-auto object-contain"})}),a.jsx("h1",{className:"text-[#2d3748] text-2xl font-extrabold",children:"Sign Up"}),a.jsxs("p",{className:"text-[#718096] text-sm mt-2",children:["Create your ",b.toLowerCase()," account"]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none",children:a.jsxs("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[a.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),a.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),a.jsx("input",{type:"email",value:t,onChange:_=>e(_.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-300 curved-input focus:ring-2 focus:ring-[#4682B4] focus:border-[#4682B4] text-base",placeholder:"Email or phone number"})]})}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),a.jsx("input",{type:o?"text":"password",value:s,onChange:_=>n(_.target.value),className:"w-full pl-12 pr-14 py-4 border border-gray-300 curved-input focus:ring-2 focus:ring-[#4682B4] focus:border-[#4682B4] text-base",placeholder:"Password"}),a.jsx("button",{type:"button",onClick:x,className:"absolute inset-y-0 right-0 pr-5 flex items-center",children:a.jsxs("svg",{className:"w-5 h-5 text-gray-400 hover:text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:[a.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),a.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]})}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),a.jsx("input",{type:c?"text":"password",value:r,onChange:_=>i(_.target.value),className:"w-full pl-12 pr-14 py-4 border border-gray-300 curved-input focus:ring-2 focus:ring-[#4682B4] focus:border-[#4682B4] text-base",placeholder:"Confirm Password"}),a.jsx("button",{type:"button",onClick:k,className:"absolute inset-y-0 right-0 pr-5 flex items-center",children:a.jsxs("svg",{className:"w-5 h-5 text-gray-400 hover:text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:[a.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),a.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]})}),f&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-md text-sm",children:f}),a.jsx("button",{onClick:m,disabled:p,className:"w-full bg-[#4682B4] text-white py-4 px-4 curved-button font-medium hover:bg-[#3a70a0] transition duration-200 mb-10 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Creating Account...":"Sign Up"}),a.jsxs("div",{className:"flex items-center mb-5",children:[a.jsx("div",{className:"flex-1 border-t border-black"}),a.jsx("span",{className:"px-2 text-[#2d3748] text-sm font-light",children:"or continue with"}),a.jsx("div",{className:"flex-1 border-t border-black"})]}),a.jsxs("div",{className:"flex justify-center space-x-5 mb-5",children:[a.jsx("button",{onClick:()=>E("google"),className:"w-14 h-14 border border-gray-300 curved-social flex items-center justify-center hover:bg-gray-50 transition duration-200",children:a.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}),a.jsx("button",{onClick:()=>E("apple"),className:"w-14 h-14 border border-gray-300 curved-social flex items-center justify-center hover:bg-gray-50 transition duration-200",children:a.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})})}),a.jsx("button",{onClick:()=>E("facebook"),className:"w-14 h-14 border border-gray-300 curved-social flex items-center justify-center hover:bg-gray-50 transition duration-200",children:a.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"#1877F2",children:a.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-[#2d3748] text-sm font-light",children:"Already have an account? "}),a.jsx("a",{href:"/signin",className:"text-[#4682B4] text-sm font-bold hover:underline",children:"Sign in"})]})]})})}const jL=Object.freeze(Object.defineProperty({__proto__:null,default:nT},Symbol.toStringTag,{value:"Module"})),AL="/src/assets/images/logo.png";function rT(){const[t,e]=j.useState(""),[s,n]=j.useState(""),[r,i]=j.useState(!1),{login:o,loading:l,error:c,clearError:d,setUser:u}=Xo(),[,p]=fi(),f=k=>{k.role==="CONSUMER"?p("/consumer-home"):k.role==="MERCHANT"?p("/merchant-dashboard"):k.role==="DRIVER"?p("/driver-dashboard"):k.role==="ADMIN"?p("/admin-dashboard"):p("/consumer-home")},y=async()=>{if(d(),t.length<4){alert("Please enter a valid email");return}if(s.trim().length<8){alert("Password must be at least 8 characters");return}try{const k=await o(t,s);k&&f(k)}catch(k){console.error("Sign in error:",k)}},g=()=>{i(!r)},h=async k=>{try{k==="google"?await b():k==="facebook"?await m():k==="apple"&&await x()}catch(E){console.error(`${k} login error:`,E),alert(`${k} login failed. Please try again.`)}},b=async()=>{{alert("Google Sign-In is not configured. Please add GOOGLE_CLIENT_ID to environment variables.");return}},m=async()=>{{alert("Facebook Login is not configured. Please add FACEBOOK_APP_ID to environment variables.");return}},x=async()=>{{alert("Apple Sign In is not configured. Please add APPLE_CLIENT_ID to environment variables.");return}};return a.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white flex flex-col",children:a.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 py-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"mb-2",children:a.jsx("img",{src:AL,alt:"Logo",className:"w-20 h-16 mx-auto object-contain"})}),a.jsx("h1",{className:"text-[#2d3748] text-2xl font-extrabold",children:"Sign In"})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none",children:a.jsxs("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[a.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),a.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),a.jsx("input",{type:"email",value:t,onChange:k=>e(k.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-300 curved-input focus:ring-2 focus:ring-[#4682B4] focus:border-[#4682B4] text-base",placeholder:"Email or phone number"})]})}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),a.jsx("input",{type:r?"text":"password",value:s,onChange:k=>n(k.target.value),className:"w-full pl-12 pr-14 py-4 border border-gray-300 curved-input focus:ring-2 focus:ring-[#4682B4] focus:border-[#4682B4] text-base",placeholder:"Password"}),a.jsx("button",{type:"button",onClick:g,className:"absolute inset-y-0 right-0 pr-5 flex items-center",children:a.jsxs("svg",{className:"w-5 h-5 text-gray-400 hover:text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:[a.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),a.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]})}),a.jsxs("div",{className:"text-center mb-5",children:[a.jsx("span",{className:"text-[#2d3748] text-sm font-light",children:"Forgot password? "}),a.jsx("a",{href:"#",className:"text-[#4682B4] text-sm font-bold hover:underline",children:"Reset password"})]}),c&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-md text-sm",children:c}),a.jsx("button",{onClick:y,disabled:l,className:"w-full bg-[#4682B4] text-white py-4 px-4 curved-button font-medium hover:bg-[#3a70a0] transition duration-200 mb-10 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Signing In...":"Sign In"}),a.jsxs("div",{className:"flex items-center mb-5",children:[a.jsx("div",{className:"flex-1 border-t border-black"}),a.jsx("span",{className:"px-2 text-[#2d3748] text-sm font-light",children:"or continue with"}),a.jsx("div",{className:"flex-1 border-t border-black"})]}),a.jsxs("div",{className:"flex justify-center space-x-5 mb-5",children:[a.jsx("button",{onClick:()=>h("google"),className:"w-14 h-14 border border-gray-300 curved-social flex items-center justify-center hover:bg-gray-50 transition duration-200",children:a.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}),a.jsx("button",{onClick:()=>h("apple"),className:"w-14 h-14 border border-gray-300 curved-social flex items-center justify-center hover:bg-gray-50 transition duration-200",children:a.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})})}),a.jsx("button",{onClick:()=>h("facebook"),className:"w-14 h-14 border border-gray-300 curved-social flex items-center justify-center hover:bg-gray-50 transition duration-200",children:a.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"#1877F2",children:a.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-[#2d3748] text-sm font-light",children:"Don't have an account? "}),a.jsx("a",{href:"/signup",className:"text-[#4682B4] text-sm font-bold hover:underline",children:"Sign up"})]})]})})}const TL=Object.freeze(Object.defineProperty({__proto__:null,default:rT},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iT=(...t)=>t.filter((e,s,n)=>!!e&&n.indexOf(e)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:r="",children:i,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...IL,width:e,height:e,stroke:t,strokeWidth:n?Number(s)*24/Number(e):s,className:iT("lucide",r),...l},[...o.map(([d,u])=>j.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(t,e)=>{const s=j.forwardRef(({className:n,...r},i)=>j.createElement(OL,{ref:i,iconNode:e,className:iT(`lucide-${RL(t)}`,n),...r}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=fe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=fe("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=fe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=fe("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=fe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=fe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=fe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=fe("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=fe("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=fe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=fe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=fe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=fe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=fe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=fe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=fe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=fe("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=fe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=fe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=fe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=fe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Fn=Object.create(null);Fn.open="0";Fn.close="1";Fn.ping="2";Fn.pong="3";Fn.message="4";Fn.upgrade="5";Fn.noop="6";const kd=Object.create(null);Object.keys(Fn).forEach(t=>{kd[Fn[t]]=t});const Jg={type:"error",data:"parser error"},yT=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",vT=typeof ArrayBuffer=="function",xT=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,df=({type:t,data:e},s,n)=>yT&&e instanceof Blob?s?n(e):vw(e,n):vT&&(e instanceof ArrayBuffer||xT(e))?s?n(e):vw(new Blob([e]),n):n(Fn[t]+(e||"")),vw=(t,e)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];e("b"+(n||""))},s.readAsDataURL(t)};function xw(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Gh;function t5(t,e){if(yT&&t.data instanceof Blob)return t.data.arrayBuffer().then(xw).then(e);if(vT&&(t.data instanceof ArrayBuffer||xT(t.data)))return e(xw(t.data));df(t,!1,s=>{Gh||(Gh=new TextEncoder),e(Gh.encode(s))})}const bw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<bw.length;t++)Dl[bw.charCodeAt(t)]=t;const s5=t=>{let e=t.length*.75,s=t.length,n,r=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),u=new Uint8Array(d);for(n=0;n<s;n+=4)i=Dl[t.charCodeAt(n)],o=Dl[t.charCodeAt(n+1)],l=Dl[t.charCodeAt(n+2)],c=Dl[t.charCodeAt(n+3)],u[r++]=i<<2|o>>4,u[r++]=(o&15)<<4|l>>2,u[r++]=(l&3)<<6|c&63;return d},n5=typeof ArrayBuffer=="function",pf=(t,e)=>{if(typeof t!="string")return{type:"message",data:bT(t,e)};const s=t.charAt(0);return s==="b"?{type:"message",data:r5(t.substring(1),e)}:kd[s]?t.length>1?{type:kd[s],data:t.substring(1)}:{type:kd[s]}:Jg},r5=(t,e)=>{if(n5){const s=s5(t);return bT(s,e)}else return{base64:!0,data:t}},bT=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},wT="",ST=(t,e)=>{const s=t.length,n=new Array(s);let r=0;t.forEach((i,o)=>{df(i,!1,l=>{n[o]=l,++r===s&&e(n.join(wT))})})},_T=(t,e)=>{const s=t.split(wT),n=[];for(let r=0;r<s.length;r++){const i=pf(s[r],e);if(n.push(i),i.type==="error")break}return n};function ET(){return new TransformStream({transform(t,e){t5(t,s=>{const n=s.length;let r;if(n<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,n);else if(n<65536){r=new Uint8Array(3);const i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{r=new Uint8Array(9);const i=new DataView(r.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(s)})}})}let Wh;function $u(t){return t.reduce((e,s)=>e+s.length,0)}function Uu(t,e){if(t[0].length===e)return t.shift();const s=new Uint8Array(e);let n=0;for(let r=0;r<e;r++)s[r]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),s}function NT(t,e){Wh||(Wh=new TextDecoder);const s=[];let n=0,r=-1,i=!1;return new TransformStream({transform(o,l){for(s.push(o);;){if(n===0){if($u(s)<1)break;const c=Uu(s,1);i=(c[0]&128)===128,r=c[0]&127,r<126?n=3:r===126?n=1:n=2}else if(n===1){if($u(s)<2)break;const c=Uu(s,2);r=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if($u(s)<8)break;const c=Uu(s,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(Jg);break}r=u*Math.pow(2,32)+d.getUint32(4),n=3}else{if($u(s)<r)break;const c=Uu(s,r);l.enqueue(pf(i?c:Wh.decode(c),e)),n=0}if(r===0||r>t){l.enqueue(Jg);break}}}})}const nx=4,i5=Object.freeze(Object.defineProperty({__proto__:null,createPacketDecoderStream:NT,createPacketEncoderStream:ET,decodePacket:pf,decodePayload:_T,encodePacket:df,encodePayload:ST,protocol:nx},Symbol.toStringTag,{value:"Module"}));function Et(t){if(t)return a5(t)}function a5(t){for(var e in Et.prototype)t[e]=Et.prototype[e];return t}Et.prototype.on=Et.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Et.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this};Et.prototype.off=Et.prototype.removeListener=Et.prototype.removeAllListeners=Et.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+t];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,r=0;r<s.length;r++)if(n=s[r],n===e||n.fn===e){s.splice(r,1);break}return s.length===0&&delete this._callbacks["$"+t],this};Et.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,r=s.length;n<r;++n)s[n].apply(this,e)}return this};Et.prototype.emitReserved=Et.prototype.emit;Et.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Et.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ff=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,s)=>s(e,0),Us=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),o5="arraybuffer";function kT(t,...e){return e.reduce((s,n)=>(t.hasOwnProperty(n)&&(s[n]=t[n]),s),{})}const l5=Us.setTimeout,c5=Us.clearTimeout;function hf(t,e){e.useNativeTimers?(t.setTimeoutFn=l5.bind(Us),t.clearTimeoutFn=c5.bind(Us)):(t.setTimeoutFn=Us.setTimeout.bind(Us),t.clearTimeoutFn=Us.clearTimeout.bind(Us))}const u5=1.33;function d5(t){return typeof t=="string"?p5(t):Math.ceil((t.byteLength||t.size)*u5)}function p5(t){let e=0,s=0;for(let n=0,r=t.length;n<r;n++)e=t.charCodeAt(n),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(n++,s+=4);return s}function CT(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function f5(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}function h5(t){let e={},s=t.split("&");for(let n=0,r=s.length;n<r;n++){let i=s[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class m5 extends Error{constructor(e,s,n){super(e),this.description=s,this.context=n,this.type="TransportError"}}let rx=class extends Et{constructor(e){super(),this.writable=!1,hf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,s,n){return super.emitReserved("error",new m5(e,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const s=pf(e,this.socket.binaryType);this.onPacket(s)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,s={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const s=f5(e);return s.length?"?"+s:""}},g5=class extends rx{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const s=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};_T(e,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,ST(e,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=CT()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(e,s)}},jT=!1;try{jT=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const y5=jT;function v5(){}class x5 extends g5{constructor(e){if(super(e),typeof location<"u"){const s=location.protocol==="https:";let n=location.port;n||(n=s?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,s){const n=this.request({method:"POST",data:e});n.on("success",s),n.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=e}}class Pn extends Et{constructor(e,s,n){super(),this.createRequest=e,hf(this,n),this._opts=n,this._method=n.method||"GET",this._uri=s,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const s=kT(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(s);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var r;n.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=Pn.requestsCount++,Pn.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=v5,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Pn.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Pn.requestsCount=0;Pn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ww);else if(typeof addEventListener=="function"){const t="onpagehide"in Us?"pagehide":"unload";addEventListener(t,ww,!1)}}function ww(){for(let t in Pn.requests)Pn.requests.hasOwnProperty(t)&&Pn.requests[t].abort()}const b5=function(){const t=AT({xdomain:!1});return t&&t.responseType!==null}();class w5 extends x5{constructor(e){super(e);const s=e&&e.forceBase64;this.supportsBinary=b5&&!s}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Pn(AT,this.uri(),e)}}function AT(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||y5))return new XMLHttpRequest}catch{}if(!e)try{return new Us[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const TT=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class S5 extends rx{get name(){return"websocket"}doOpen(){const e=this.uri(),s=this.opts.protocols,n=TT?{}:kT(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,s,n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let s=0;s<e.length;s++){const n=e[s],r=s===e.length-1;df(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}r&&ff(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=CT()),this.supportsBinary||(s.b64=1),this.createUri(e,s)}}const Kh=Us.WebSocket||Us.MozWebSocket;class _5 extends S5{createSocket(e,s,n){return TT?new Kh(e,s,n):s?new Kh(e,s):new Kh(e)}doWrite(e,s){this.ws.send(s)}}class E5 extends rx{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const s=NT(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(s).getReader(),r=ET();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let s=0;s<e.length;s++){const n=e[s],r=s===e.length-1;this._writer.write(n).then(()=>{r&&ff(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const N5={websocket:_5,webtransport:E5,polling:w5},k5=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,C5=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Xg(t){if(t.length>8e3)throw"URI too long";const e=t,s=t.indexOf("["),n=t.indexOf("]");s!=-1&&n!=-1&&(t=t.substring(0,s)+t.substring(s,n).replace(/:/g,";")+t.substring(n,t.length));let r=k5.exec(t||""),i={},o=14;for(;o--;)i[C5[o]]=r[o]||"";return s!=-1&&n!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=j5(i,i.path),i.queryKey=A5(i,i.query),i}function j5(t,e){const s=/\/{2,9}/g,n=e.replace(s,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function A5(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,r,i){r&&(s[r]=i)}),s}const Zg=typeof addEventListener=="function"&&typeof removeEventListener=="function",Cd=[];Zg&&addEventListener("offline",()=>{Cd.forEach(t=>t())},!1);class li extends Et{constructor(e,s){if(super(),this.binaryType=o5,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(s=e,e=null),e){const n=Xg(e);s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)}else s.host&&(s.hostname=Xg(s.host).host);hf(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(n=>{const r=n.prototype.name;this.transports.push(r),this._transportsByName[r]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=h5(this.opts.query)),Zg&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Cd.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const s=Object.assign({},this.opts.query);s.EIO=nx,s.transport=e,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&li.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(e);s.open(),this.setTransport(s)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",li.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=e.data,this._onError(s);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(s+=d5(r)),n>0&&s>this._maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ff(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,s,n){return this._sendPacket("message",e,s,n),this}send(e,s,n){return this._sendPacket("message",e,s,n),this}_sendPacket(e,s,n,r){if(typeof s=="function"&&(r=s,s=void 0),typeof n=="function"&&(r=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:e,data:s,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),e()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(li.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Zg&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Cd.indexOf(this._offlineEventListener);n!==-1&&Cd.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,s),this.writeBuffer=[],this._prevBufferLen=0}}}li.protocol=nx;class T5 extends li{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let s=this.createTransport(e),n=!1;li.priorWebsocketSuccess=!1;const r=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;li.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=s.name,this.emitReserved("upgradeError",f)}}))};function i(){n||(n=!0,u(),s.close(),s=null)}const o=p=>{const f=new Error("probe error: "+p);f.transport=s.name,i(),this.emitReserved("upgradeError",f)};function l(){o("transport closed")}function c(){o("socket closed")}function d(p){s&&p.name!==s.name&&i()}const u=()=>{s.removeListener("open",r),s.removeListener("error",o),s.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};s.once("open",r),s.once("error",o),s.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const s=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&s.push(e[n]);return s}}let R5=class extends T5{constructor(e,s={}){const n=typeof e=="object"?e:s;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(r=>N5[r]).filter(r=>!!r)),super(e,n)}};function I5(t,e="",s){let n=t;s=s||typeof location<"u"&&location,t==null&&(t=s.protocol+"//"+s.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=s.protocol+t:t=s.host+t),/^(https?|wss?):\/\//.test(t)||(typeof s<"u"?t=s.protocol+"//"+t:t="https://"+t),n=Xg(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(s&&s.port===n.port?"":":"+n.port),n}const O5=typeof ArrayBuffer=="function",P5=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,RT=Object.prototype.toString,D5=typeof Blob=="function"||typeof Blob<"u"&&RT.call(Blob)==="[object BlobConstructor]",M5=typeof File=="function"||typeof File<"u"&&RT.call(File)==="[object FileConstructor]";function ix(t){return O5&&(t instanceof ArrayBuffer||P5(t))||D5&&t instanceof Blob||M5&&t instanceof File}function jd(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let s=0,n=t.length;s<n;s++)if(jd(t[s]))return!0;return!1}if(ix(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return jd(t.toJSON(),!0);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&jd(t[s]))return!0;return!1}function L5(t){const e=[],s=t.data,n=t;return n.data=ey(s,e),n.attachments=e.length,{packet:n,buffers:e}}function ey(t,e){if(!t)return t;if(ix(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}else if(Array.isArray(t)){const s=new Array(t.length);for(let n=0;n<t.length;n++)s[n]=ey(t[n],e);return s}else if(typeof t=="object"&&!(t instanceof Date)){const s={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=ey(t[n],e));return s}return t}function F5(t,e){return t.data=ty(t.data,e),delete t.attachments,t}function ty(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=ty(t[s],e);else if(typeof t=="object")for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=ty(t[s],e));return t}const B5=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],$5=5;var Le;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Le||(Le={}));class U5{constructor(e){this.replacer=e}encode(e){return(e.type===Le.EVENT||e.type===Le.ACK)&&jd(e)?this.encodeAsBinary({type:e.type===Le.EVENT?Le.BINARY_EVENT:Le.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let s=""+e.type;return(e.type===Le.BINARY_EVENT||e.type===Le.BINARY_ACK)&&(s+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(s+=e.nsp+","),e.id!=null&&(s+=e.id),e.data!=null&&(s+=JSON.stringify(e.data,this.replacer)),s}encodeAsBinary(e){const s=L5(e),n=this.encodeAsString(s.packet),r=s.buffers;return r.unshift(n),r}}function Sw(t){return Object.prototype.toString.call(t)==="[object Object]"}class ax extends Et{constructor(e){super(),this.reviver=e}add(e){let s;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(e);const n=s.type===Le.BINARY_EVENT;n||s.type===Le.BINARY_ACK?(s.type=n?Le.EVENT:Le.ACK,this.reconstructor=new z5(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(ix(e)||e.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(e),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let s=0;const n={type:Number(e.charAt(0))};if(Le[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Le.BINARY_EVENT||n.type===Le.BINARY_ACK){const i=s+1;for(;e.charAt(++s)!=="-"&&s!=e.length;);const o=e.substring(i,s);if(o!=Number(o)||e.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(s+1)==="/"){const i=s+1;for(;++s&&!(e.charAt(s)===","||s===e.length););n.nsp=e.substring(i,s)}else n.nsp="/";const r=e.charAt(s+1);if(r!==""&&Number(r)==r){const i=s+1;for(;++s;){const o=e.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===e.length)break}n.id=Number(e.substring(i,s+1))}if(e.charAt(++s)){const i=this.tryParse(e.substr(s));if(ax.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,s){switch(e){case Le.CONNECT:return Sw(s);case Le.DISCONNECT:return s===void 0;case Le.CONNECT_ERROR:return typeof s=="string"||Sw(s);case Le.EVENT:case Le.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&B5.indexOf(s[0])===-1);case Le.ACK:case Le.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class z5{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const s=F5(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const IT=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ax,Encoder:U5,get PacketType(){return Le},protocol:$5},Symbol.toStringTag,{value:"Module"}));function Zs(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const q5=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});let OT=class extends Et{constructor(e,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Zs(e,"open",this.onopen.bind(this)),Zs(e,"packet",this.onpacket.bind(this)),Zs(e,"error",this.onerror.bind(this)),Zs(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...s){var n,r,i;if(q5.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:Le.EVENT,data:s};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const u=this.ids++,p=s.pop();this._registerAckCallback(u,p),o.id=u}const l=(r=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||r===void 0?void 0:r.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,s){var n;const r=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(r===void 0){this.acks[e]=s;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);s.call(this,new Error("operation has timed out"))},r),o=(...l)=>{this.io.clearTimeoutFn(i),s.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...s){return new Promise((n,r)=>{const i=(o,l)=>o?r(o):n(l);i.withError=!0,s.push(i),this.emit(e,...s)})}_addToQueue(e){let s;typeof e[e.length-1]=="function"&&(s=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...i)=>n!==this._queue[0]?void 0:(r!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(r)):(this._queue.shift(),s&&s(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!e||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Le.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Le.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Le.EVENT:case Le.BINARY_EVENT:this.onevent(e);break;case Le.ACK:case Le.BINARY_ACK:this.onack(e);break;case Le.DISCONNECT:this.ondisconnect();break;case Le.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const s=e.data||[];e.id!=null&&s.push(this.ack(e.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const s=this;let n=!1;return function(...r){n||(n=!0,s.packet({type:Le.ACK,id:e,data:r}))}}onack(e){const s=this.acks[e.id];typeof s=="function"&&(delete this.acks[e.id],s.withError&&e.data.unshift(null),s.apply(this,e.data))}onconnect(e,s){this.id=e,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Le.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(e===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(e===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,e.data)}}};function Zo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Zo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+s:t-s}return Math.min(t,this.max)|0};Zo.prototype.reset=function(){this.attempts=0};Zo.prototype.setMin=function(t){this.ms=t};Zo.prototype.setMax=function(t){this.max=t};Zo.prototype.setJitter=function(t){this.jitter=t};class sy extends Et{constructor(e,s){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(s=e,e=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,hf(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Zo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=e;const r=s.parser||IT;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var s;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(s=this.backoff)===null||s===void 0||s.setMin(e),this)}randomizationFactor(e){var s;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(s=this.backoff)===null||s===void 0||s.setJitter(e),this)}reconnectionDelayMax(e){var s;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(s=this.backoff)===null||s===void 0||s.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new R5(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Zs(s,"open",function(){n.onopen(),e&&e()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=Zs(s,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),s.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Zs(e,"ping",this.onping.bind(this)),Zs(e,"data",this.ondata.bind(this)),Zs(e,"error",this.onerror.bind(this)),Zs(e,"close",this.onclose.bind(this)),Zs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(s){this.onclose("parse error",s)}}ondecoded(e){ff(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,s){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new OT(this,e,s),this.nsps[e]=n),n}_destroy(e){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(e){const s=this.encoder.encode(e);for(let n=0;n<s.length;n++)this.engine.write(s[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,s){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const bl={};function uo(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const s=I5(t,e.path||"/socket.io"),n=s.source,r=s.id,i=s.path,o=bl[r]&&i in bl[r].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new sy(n,e):(bl[r]||(bl[r]=new sy(n,e)),c=bl[r]),s.query&&!e.query&&(e.query=s.queryKey),c.socket(s.path,e)}Object.assign(uo,{Manager:sy,Socket:OT,io:uo,connect:uo});function qn(){const[t,e]=j.useState(null),[s,n]=j.useState(!1),{user:r}=Xo(),i=j.useRef(0),o=5;return j.useEffect(()=>{if(!r){t&&(t.disconnect(),e(null),n(!1));return}const u=window.location.origin,p=uo(u,{transports:["websocket","polling"],autoConnect:!0,reconnection:!0,reconnectionAttempts:o,reconnectionDelay:1e3});return p.on("connect",()=>{console.log("WebSocket connected"),n(!0),i.current=0,p.emit("join_user_room",r.id),r.role==="ADMIN"&&(p.emit("join_admin_room","user_management"),p.emit("join_admin_room","transaction_monitoring"),p.emit("join_admin_room","kyc_verification"))}),p.on("disconnect",()=>{console.log("WebSocket disconnected"),n(!1)}),p.on("connect_error",f=>{console.error("WebSocket connection error:",f),i.current+=1,i.current>=o&&console.error("Max reconnection attempts reached")}),p.on("CONNECTION_ACK",f=>{console.log("Connection acknowledged:",f)}),e(p),()=>{p.disconnect()}},[r]),{socket:t,connected:s,emit:(u,p)=>{t&&s?t.emit(u,p):console.warn("Socket not connected, cannot emit event:",u)},on:(u,p)=>{t&&t.on(u,p)},off:(u,p)=>{t&&(p?t.off(u,p):t.off(u))}}}function Q5(){const{connected:t,on:e,off:s}=qn(),[n,r]=j.useState([]),[i,o]=j.useState({});return j.useEffect(()=>{if(!t)return;const l=u=>{console.log("Order update received:",u),o(p=>({...p,[u.orderId]:u})),r(p=>p.map(f=>f.id===u.orderId?{...f,status:u.status,...u}:f))},c=u=>{console.log("New order received:",u),r(p=>[u,...p])},d=u=>{console.log("Order status changed:",u),o(p=>({...p,[u.orderId]:u}))};return e("order_update",l),e("new_order",c),e("order_status_changed",d),()=>{s("order_update",l),s("new_order",c),s("order_status_changed",d)}},[t,e,s]),{orders:n,setOrders:r,orderUpdates:i,connected:t,connectionError:t?null:"WebSocket disconnected"}}function Lie(t){const{connected:e,on:s,off:n,emit:r}=qn(),[i,o]=j.useState(null),[l,c]=j.useState("");return j.useEffect(()=>{if(!e||!t)return;r("subscribe_driver_tracking",t);const u=f=>{f.orderId===t&&o({latitude:f.latitude,longitude:f.longitude,heading:f.heading,speed:f.speed,timestamp:f.timestamp})},p=f=>{f.orderId===t&&c(f.eta)};return s("driver_location_realtime",u),s("eta_updated",p),()=>{n("driver_location_realtime",u),n("eta_updated",p)}},[e,t,s,n,r]),{driverLocation:i,eta:l,updateDriverLocation:u=>{t&&r("broadcast_driver_location",{orderId:t,latitude:u.lat,longitude:u.lng})}}}function V5(){const{connected:t,on:e,off:s}=qn(),[n,r]=j.useState([]);return j.useEffect(()=>{if(!t)return;const o=c=>{console.log("New notification:",c),r(d=>[c,...d])},l=c=>{console.log("Order notification:",c),r(d=>[{id:Date.now(),title:"Order Update",message:c.message,type:c.type,isRead:!1,createdAt:new Date().toISOString(),...c},...d])};return e("notification",o),e("order_notification",l),()=>{s("notification",o),s("order_notification",l)}},[t,e,s]),{notifications:n,markAsRead:o=>{r(l=>l.map(c=>c.id===o?{...c,isRead:!0}:c))}}}function H5(t){const{connected:e,on:s,off:n,emit:r}=qn(),[i,o]=j.useState([]),[l,c]=j.useState([]);return j.useEffect(()=>{if(!e||!t)return;r("join_conversation",t);const f=h=>{console.log("New message:",h),o(b=>[...b,h])},y=h=>{c(b=>[...b.filter(m=>m.userId!==h.userId),h]),setTimeout(()=>{c(b=>b.filter(m=>m.userId!==h.userId))},3e3)},g=h=>{c(b=>b.filter(m=>m.userId!==h.userId))};return s("new_message",f),s("user_typing",y),s("user_stopped_typing",g),()=>{n("new_message",f),n("user_typing",y),n("user_stopped_typing",g)}},[e,t,s,n,r]),{messages:i,typing:l,sendMessage:(f,y="TEXT")=>{t&&e&&r("send_message",{conversationId:t,content:f,messageType:y})},startTyping:(f,y)=>{t&&e&&r("typing_start",{conversationId:t,userId:f,userName:y})},stopTyping:f=>{t&&e&&r("typing_stop",{conversationId:t,userId:f})}}}const G5=Q5,W5=V5,K5=H5,Fie=()=>{const[t,e]=j.useState(new Map),{socket:s,connected:n}=qn();return j.useEffect(()=>{if(!s||!n)return;const r=i=>{e(o=>new Map(o.set(i.driverId,i.location)))};return s.on("driver_location_update",r),()=>{s.off("driver_location_update",r)}},[s,n]),t},Bie=()=>{const[t,e]=j.useState({}),{socket:s,connected:n}=qn();return j.useEffect(()=>{if(!s||!n)return;const r=i=>{e(o=>({...o,[i.orderId]:i.status}))};return s.on("delivery_status_update",r),()=>{s.off("delivery_status_update",r)}},[s,n]),t},$ie=()=>{const[t,e]=j.useState([]),{socket:s,connected:n}=qn();return j.useEffect(()=>{if(!s||!n)return;const r=i=>{e(o=>o.map(l=>l.id===i.id?i:l))};return s.on("fuel_order_update",r),()=>{s.off("fuel_order_update",r)}},[s,n]),t},Uie=()=>{const[t,e]=j.useState({}),{socket:s,connected:n}=qn();return j.useEffect(()=>{if(!s||!n)return;const r=i=>{e(o=>({...o,[i.orderId]:i.status}))};return s.on("payment_status_update",r),()=>{s.off("payment_status_update",r)}},[s,n]),t};var ny={exports:{}};const Y5={},J5=Object.freeze(Object.defineProperty({__proto__:null,default:Y5},Symbol.toStringTag,{value:"Module"})),oe=qc(J5);var ox={exports:{}},lx={exports:{}};lx.exports=PT;lx.exports.preferredCharsets=PT;var X5=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function Z5(t){for(var e=t.split(","),s=0,n=0;s<e.length;s++){var r=eF(e[s].trim(),s);r&&(e[n++]=r)}return e.length=n,e}function eF(t,e){var s=X5.exec(t);if(!s)return null;var n=s[1],r=1;if(s[2])for(var i=s[2].split(";"),o=0;o<i.length;o++){var l=i[o].trim().split("=");if(l[0]==="q"){r=parseFloat(l[1]);break}}return{charset:n,q:r,i:e}}function tF(t,e,s){for(var n={o:-1,q:0,s:0},r=0;r<e.length;r++){var i=sF(t,e[r],s);i&&(n.s-i.s||n.q-i.q||n.o-i.o)<0&&(n=i)}return n}function sF(t,e,s){var n=0;if(e.charset.toLowerCase()===t.toLowerCase())n|=1;else if(e.charset!=="*")return null;return{i:s,o:e.i,q:e.q,s:n}}function PT(t,e){var s=Z5(t===void 0?"*":t||"");if(!e)return s.filter(Ew).sort(_w).map(nF);var n=e.map(function(i,o){return tF(i,s,o)});return n.filter(Ew).sort(_w).map(function(i){return e[n.indexOf(i)]})}function _w(t,e){return e.q-t.q||e.s-t.s||t.o-e.o||t.i-e.i||0}function nF(t){return t.charset}function Ew(t){return t.q>0}var rF=lx.exports,cx={exports:{}};cx.exports=MT;cx.exports.preferredEncodings=MT;var iF=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function aF(t){for(var e=t.split(","),s=!1,n=1,r=0,i=0;r<e.length;r++){var o=oF(e[r].trim(),r);o&&(e[i++]=o,s=s||DT("identity",o),n=Math.min(n,o.q||1))}return s||(e[i++]={encoding:"identity",q:n,i:r}),e.length=i,e}function oF(t,e){var s=iF.exec(t);if(!s)return null;var n=s[1],r=1;if(s[2])for(var i=s[2].split(";"),o=0;o<i.length;o++){var l=i[o].trim().split("=");if(l[0]==="q"){r=parseFloat(l[1]);break}}return{encoding:n,q:r,i:e}}function lF(t,e,s){for(var n={o:-1,q:0,s:0},r=0;r<e.length;r++){var i=DT(t,e[r],s);i&&(n.s-i.s||n.q-i.q||n.o-i.o)<0&&(n=i)}return n}function DT(t,e,s){var n=0;if(e.encoding.toLowerCase()===t.toLowerCase())n|=1;else if(e.encoding!=="*")return null;return{i:s,o:e.i,q:e.q,s:n}}function MT(t,e){var s=aF(t||"");if(!e)return s.filter(kw).sort(Nw).map(cF);var n=e.map(function(i,o){return lF(i,s,o)});return n.filter(kw).sort(Nw).map(function(i){return e[n.indexOf(i)]})}function Nw(t,e){return e.q-t.q||e.s-t.s||t.o-e.o||t.i-e.i||0}function cF(t){return t.encoding}function kw(t){return t.q>0}var uF=cx.exports,ux={exports:{}};ux.exports=FT;ux.exports.preferredLanguages=FT;var dF=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function pF(t){for(var e=t.split(","),s=0,n=0;s<e.length;s++){var r=LT(e[s].trim(),s);r&&(e[n++]=r)}return e.length=n,e}function LT(t,e){var s=dF.exec(t);if(!s)return null;var n=s[1],r=s[2],i=n;r&&(i+="-"+r);var o=1;if(s[3])for(var l=s[3].split(";"),c=0;c<l.length;c++){var d=l[c].split("=");d[0]==="q"&&(o=parseFloat(d[1]))}return{prefix:n,suffix:r,q:o,i:e,full:i}}function fF(t,e,s){for(var n={o:-1,q:0,s:0},r=0;r<e.length;r++){var i=hF(t,e[r],s);i&&(n.s-i.s||n.q-i.q||n.o-i.o)<0&&(n=i)}return n}function hF(t,e,s){var n=LT(t);if(!n)return null;var r=0;if(e.full.toLowerCase()===n.full.toLowerCase())r|=4;else if(e.prefix.toLowerCase()===n.full.toLowerCase())r|=2;else if(e.full.toLowerCase()===n.prefix.toLowerCase())r|=1;else if(e.full!=="*")return null;return{i:s,o:e.i,q:e.q,s:r}}function FT(t,e){var s=pF(t===void 0?"*":t||"");if(!e)return s.filter(jw).sort(Cw).map(mF);var n=e.map(function(i,o){return fF(i,s,o)});return n.filter(jw).sort(Cw).map(function(i){return e[n.indexOf(i)]})}function Cw(t,e){return e.q-t.q||e.s-t.s||t.o-e.o||t.i-e.i||0}function mF(t){return t.full}function jw(t){return t.q>0}var gF=ux.exports,dx={exports:{}};dx.exports=$T;dx.exports.preferredMediaTypes=$T;var yF=/^\s*([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/;function vF(t){for(var e=_F(t),s=0,n=0;s<e.length;s++){var r=BT(e[s].trim(),s);r&&(e[n++]=r)}return e.length=n,e}function BT(t,e){var s=yF.exec(t);if(!s)return null;var n=Object.create(null),r=1,i=s[2],o=s[1];if(s[3])for(var l=EF(s[3]).map(SF),c=0;c<l.length;c++){var d=l[c],u=d[0].toLowerCase(),p=d[1],f=p&&p[0]==='"'&&p[p.length-1]==='"'?p.substr(1,p.length-2):p;if(u==="q"){r=parseFloat(f);break}n[u]=f}return{type:o,subtype:i,params:n,q:r,i:e}}function xF(t,e,s){for(var n={o:-1,q:0,s:0},r=0;r<e.length;r++){var i=bF(t,e[r],s);i&&(n.s-i.s||n.q-i.q||n.o-i.o)<0&&(n=i)}return n}function bF(t,e,s){var n=BT(t),r=0;if(!n)return null;if(e.type.toLowerCase()==n.type.toLowerCase())r|=4;else if(e.type!="*")return null;if(e.subtype.toLowerCase()==n.subtype.toLowerCase())r|=2;else if(e.subtype!="*")return null;var i=Object.keys(e.params);if(i.length>0)if(i.every(function(o){return e.params[o]=="*"||(e.params[o]||"").toLowerCase()==(n.params[o]||"").toLowerCase()}))r|=1;else return null;return{i:s,o:e.i,q:e.q,s:r}}function $T(t,e){var s=vF(t===void 0?"*/*":t||"");if(!e)return s.filter(Tw).sort(Aw).map(wF);var n=e.map(function(i,o){return xF(i,s,o)});return n.filter(Tw).sort(Aw).map(function(i){return e[n.indexOf(i)]})}function Aw(t,e){return e.q-t.q||e.s-t.s||t.o-e.o||t.i-e.i||0}function wF(t){return t.type+"/"+t.subtype}function Tw(t){return t.q>0}function UT(t){for(var e=0,s=0;(s=t.indexOf('"',s))!==-1;)e++,s++;return e}function SF(t){var e=t.indexOf("="),s,n;return e===-1?s=t:(s=t.substr(0,e),n=t.substr(e+1)),[s,n]}function _F(t){for(var e=t.split(","),s=1,n=0;s<e.length;s++)UT(e[n])%2==0?e[++n]=e[s]:e[n]+=","+e[s];return e.length=n+1,e}function EF(t){for(var e=t.split(";"),s=1,n=0;s<e.length;s++)UT(e[n])%2==0?e[++n]=e[s]:e[n]+=";"+e[s];e.length=n+1;for(var s=0;s<e.length;s++)e[s]=e[s].trim();return e}var NF=dx.exports;/*!
 * negotiator
 * Copyright(c) 2012 Federico Romero
 * Copyright(c) 2012-2014 Isaac Z. Schlueter
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var kF=rF,CF=uF,jF=gF,AF=NF;ox.exports=He;ox.exports.Negotiator=He;function He(t){if(!(this instanceof He))return new He(t);this.request=t}He.prototype.charset=function(e){var s=this.charsets(e);return s&&s[0]};He.prototype.charsets=function(e){return kF(this.request.headers["accept-charset"],e)};He.prototype.encoding=function(e){var s=this.encodings(e);return s&&s[0]};He.prototype.encodings=function(e){return CF(this.request.headers["accept-encoding"],e)};He.prototype.language=function(e){var s=this.languages(e);return s&&s[0]};He.prototype.languages=function(e){return jF(this.request.headers["accept-language"],e)};He.prototype.mediaType=function(e){var s=this.mediaTypes(e);return s&&s[0]};He.prototype.mediaTypes=function(e){return AF(this.request.headers.accept,e)};He.prototype.preferredCharset=He.prototype.charset;He.prototype.preferredCharsets=He.prototype.charsets;He.prototype.preferredEncoding=He.prototype.encoding;He.prototype.preferredEncodings=He.prototype.encodings;He.prototype.preferredLanguage=He.prototype.language;He.prototype.preferredLanguages=He.prototype.languages;He.prototype.preferredMediaType=He.prototype.mediaType;He.prototype.preferredMediaTypes=He.prototype.mediaTypes;var TF=ox.exports,zT={};const RF={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */var IF=RF;/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */(function(t){var e=IF,s=oe.extname,n=/^\s*([^;\s]*)(?:;|\s|$)/,r=/^text\//i;t.charset=i,t.charsets={lookup:i},t.contentType=o,t.extension=l,t.extensions=Object.create(null),t.lookup=c,t.types=Object.create(null),d(t.extensions,t.types);function i(u){if(!u||typeof u!="string")return!1;var p=n.exec(u),f=p&&e[p[1].toLowerCase()];return f&&f.charset?f.charset:p&&r.test(p[1])?"UTF-8":!1}function o(u){if(!u||typeof u!="string")return!1;var p=u.indexOf("/")===-1?t.lookup(u):u;if(!p)return!1;if(p.indexOf("charset")===-1){var f=t.charset(p);f&&(p+="; charset="+f.toLowerCase())}return p}function l(u){if(!u||typeof u!="string")return!1;var p=n.exec(u),f=p&&t.extensions[p[1].toLowerCase()];return!f||!f.length?!1:f[0]}function c(u){if(!u||typeof u!="string")return!1;var p=s("x."+u).toLowerCase().substr(1);return p&&t.types[p]||!1}function d(u,p){var f=["nginx","apache",void 0,"iana"];Object.keys(e).forEach(function(g){var h=e[g],b=h.extensions;if(!(!b||!b.length)){u[g]=b;for(var m=0;m<b.length;m++){var x=b[m];if(p[x]){var k=f.indexOf(e[p[x]].source),E=f.indexOf(h.source);if(p[x]!=="application/octet-stream"&&(k>E||k===E&&p[x].substr(0,12)==="application/"))continue}p[x]=g}}})}})(zT);/*!
 * accepts
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var OF=TF,PF=zT,px=Es;function Es(t){if(!(this instanceof Es))return new Es(t);this.headers=t.headers,this.negotiator=new OF(t)}Es.prototype.type=Es.prototype.types=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var s=0;s<e.length;s++)e[s]=arguments[s]}if(!e||e.length===0)return this.negotiator.mediaTypes();if(!this.headers.accept)return e[0];var n=e.map(DF),r=this.negotiator.mediaTypes(n.filter(MF)),i=r[0];return i?e[n.indexOf(i)]:!1};Es.prototype.encoding=Es.prototype.encodings=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var s=0;s<e.length;s++)e[s]=arguments[s]}return!e||e.length===0?this.negotiator.encodings():this.negotiator.encodings(e)[0]||!1};Es.prototype.charset=Es.prototype.charsets=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var s=0;s<e.length;s++)e[s]=arguments[s]}return!e||e.length===0?this.negotiator.charsets():this.negotiator.charsets(e)[0]||!1};Es.prototype.lang=Es.prototype.langs=Es.prototype.language=Es.prototype.languages=function(t){var e=t;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var s=0;s<e.length;s++)e[s]=arguments[s]}return!e||e.length===0?this.negotiator.languages():this.negotiator.languages(e)[0]||!1};function DF(t){return t.indexOf("/")===-1?PF.lookup(t):t}function MF(t){return typeof t=="string"}var qT={},la={},QT={exports:{}};(function(t,e){var s=["buffer","Buffer"];/*!
 * base64id v0.1.0
 */var n=oe,r=function(){};r.prototype.getRandomBytes=function(i){var o=4096,l=this;if(i=i||12,i>o)return n.randomBytes(i);var c=parseInt(o/i),d=parseInt(c*.85);if(!d||(this.bytesBufferIndex==null&&(this.bytesBufferIndex=-1),this.bytesBufferIndex==c&&(this.bytesBuffer=null,this.bytesBufferIndex=-1),(this.bytesBufferIndex==-1||this.bytesBufferIndex>d)&&(this.isGeneratingBytes||(this.isGeneratingBytes=!0,n.randomBytes(o,function(p,f){l.bytesBuffer=f,l.bytesBufferIndex=0,l.isGeneratingBytes=!1})),this.bytesBufferIndex==-1)))return n.randomBytes(i);var u=this.bytesBuffer.slice(i*this.bytesBufferIndex,i*(this.bytesBufferIndex+1));return this.bytesBufferIndex++,u},r.prototype.generateId=function(){var i=s.alloc(15);return i.writeInt32BE?(this.sequenceNumber=this.sequenceNumber+1|0,i.writeInt32BE(this.sequenceNumber,11),n.randomBytes?this.getRandomBytes(12).copy(i):[0,4,8].forEach(function(o){i.writeInt32BE(Math.random()*Math.pow(2,32)|0,o)}),i.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")):Math.abs(Math.random()*Math.random()*Date.now()|0).toString()+Math.abs(Math.random()*Math.random()*Date.now()|0).toString()},t.exports=new r})(QT);var VT=QT.exports,mf={},Jc={},vr={};const gf=qc(i5);var HT={};/*! https://mths.be/utf8js v2.1.2 by @mathias */var Pr=String.fromCharCode;function GT(t){for(var e=[],s=0,n=t.length,r,i;s<n;)r=t.charCodeAt(s++),r>=55296&&r<=56319&&s<n?(i=t.charCodeAt(s++),(i&64512)==56320?e.push(((r&1023)<<10)+(i&1023)+65536):(e.push(r),s--)):e.push(r);return e}function LF(t){for(var e=t.length,s=-1,n,r="";++s<e;)n=t[s],n>65535&&(n-=65536,r+=Pr(n>>>10&1023|55296),n=56320|n&1023),r+=Pr(n);return r}function WT(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function Yh(t,e){return Pr(t>>e&63|128)}function FF(t,e){if(!(t&4294967168))return Pr(t);var s="";return t&4294965248?t&4294901760?t&4292870144||(s=Pr(t>>18&7|240),s+=Yh(t,12),s+=Yh(t,6)):(WT(t,e)||(t=65533),s=Pr(t>>12&15|224),s+=Yh(t,6)):s=Pr(t>>6&31|192),s+=Pr(t&63|128),s}function BF(t,e){e=e||{};for(var s=e.strict!==!1,n=GT(t),r=n.length,i=-1,o,l="";++i<r;)o=n[i],l+=FF(o,s);return l}function ja(){if(Wr>=pp)throw Error("Invalid byte index");var t=dp[Wr]&255;if(Wr++,(t&192)==128)return t&63;throw Error("Invalid continuation byte")}function $F(t){var e,s,n,r,i;if(Wr>pp)throw Error("Invalid byte index");if(Wr==pp)return!1;if(e=dp[Wr]&255,Wr++,!(e&128))return e;if((e&224)==192){if(s=ja(),i=(e&31)<<6|s,i>=128)return i;throw Error("Invalid continuation byte")}if((e&240)==224){if(s=ja(),n=ja(),i=(e&15)<<12|s<<6|n,i>=2048)return WT(i,t)?i:65533;throw Error("Invalid continuation byte")}if((e&248)==240&&(s=ja(),n=ja(),r=ja(),i=(e&7)<<18|s<<12|n<<6|r,i>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}var dp,pp,Wr;function UF(t,e){e=e||{};var s=e.strict!==!1;dp=GT(t),pp=dp.length,Wr=0;for(var n=[],r;(r=$F(s))!==!1;)n.push(r);return LF(n)}var zF={version:"2.1.2",encode:BF,decode:UF};(function(t){var e=["buffer","Buffer"];Object.defineProperty(t,"__esModule",{value:!0}),t.packets=t.protocol=void 0,t.encodePacket=l,t.encodeBase64Packet=d,t.decodePacket=u,t.decodeBase64Packet=f,t.encodePayload=y,t.decodePayload=b,t.encodePayloadAsBinary=E,t.decodePayloadAsBinary=R;var s=zF;t.protocol=3;const n=N=>{for(const _ of N)if(_.data instanceof ArrayBuffer||ArrayBuffer.isView(_.data))return!0;return!1};t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6};var r=Object.keys(t.packets),i={type:"error",data:"parser error"};const o=e.concat([]);function l(N,_,O,T){if(typeof _=="function"&&(T=_,_=null),typeof O=="function"&&(T=O,O=null),e.isBuffer(N.data))return c(N,_,T);if(N.data&&(N.data.buffer||N.data)instanceof ArrayBuffer)return c({type:N.type,data:k(N.data)},_,T);var D=t.packets[N.type];return N.data!==void 0&&(D+=O?s.encode(String(N.data),{strict:!1}):String(N.data)),T(""+D)}function c(N,_,O){if(!_)return d(N,O);var T=N.data,D=e.allocUnsafe(1);return D[0]=t.packets[N.type],O(e.concat([D,T]))}function d(N,_){var O=e.isBuffer(N.data)?N.data:k(N.data),T="b"+t.packets[N.type];return T+=O.toString("base64"),_(T)}function u(N,_,O){if(N===void 0)return i;var T;if(typeof N=="string")return T=N.charAt(0),T==="b"?f(N.slice(1),_):O&&(N=p(N),N===!1)||Number(T)!=T||!r[T]?i:N.length>1?{type:r[T],data:N.slice(1)}:{type:r[T]};if(_==="arraybuffer"){var D=new Uint8Array(N);return T=D[0],{type:r[T],data:D.buffer.slice(1)}}return N instanceof ArrayBuffer&&(N=k(N)),T=N[0],{type:r[T],data:N.slice(1)}}function p(N){try{N=s.decode(N,{strict:!1})}catch{return!1}return N}function f(N,_){var O=r[N.charAt(0)],T=e.from(N.slice(1),"base64");if(_==="arraybuffer"){for(var D=new Uint8Array(T.length),V=0;V<D.length;V++)D[V]=T[V];T=D.buffer}return{type:O,data:T}}function y(N,_,O){if(typeof _=="function"&&(O=_,_=null),_&&n(N))return E(N,O);if(!N.length)return O("0:");function T(D,V){l(D,_,!1,function(L){V(null,g(L))})}h(N,T,function(D,V){return O(V.join(""))})}function g(N){return N.length+":"+N}function h(N,_,O){const T=new Array(N.length);let D=0;for(let V=0;V<N.length;V++)_(N[V],(L,w)=>{T[V]=w,++D===N.length&&O(null,T)})}function b(N,_,O){if(typeof N!="string")return R(N,_,O);if(typeof _=="function"&&(O=_,_=null),N==="")return O(i,0,1);for(var T="",D,V,L,w=0,I=N.length;w<I;w++){var B=N.charAt(w);if(B!==":"){T+=B;continue}if(T===""||T!=(D=Number(T))||(V=N.slice(w+1,w+1+D),T!=V.length))return O(i,0,1);if(V.length){if(L=u(V,_,!1),i.type===L.type&&i.data===L.data)return O(i,0,1);var F=O(L,w+D,I);if(F===!1)return}w+=D,T=""}if(T!=="")return O(i,0,1)}function m(N){for(var _="",O=0,T=N.length;O<T;O++)_+=String.fromCharCode(N[O]);return _}function x(N){for(var _=e.allocUnsafe(N.length),O=0,T=N.length;O<T;O++)_.writeUInt8(N.charCodeAt(O),O);return _}function k(N){var _=N.byteLength||N.length,O=N.byteOffset||0;return e.from(N.buffer||N,O,_)}function E(N,_){if(!N.length)return _(o);h(N,C,function(O,T){return _(e.concat(T))})}function C(N,_){function O(T){var D=""+T.length,V;if(typeof T=="string"){V=e.allocUnsafe(D.length+2),V[0]=0;for(var L=0;L<D.length;L++)V[L+1]=parseInt(D[L],10);return V[V.length-1]=255,_(null,e.concat([V,x(T)]))}V=e.allocUnsafe(D.length+2),V[0]=1;for(var L=0;L<D.length;L++)V[L+1]=parseInt(D[L],10);V[V.length-1]=255,_(null,e.concat([V,T]))}l(N,!0,!0,O)}function R(N,_,O){typeof _=="function"&&(O=_,_=null);for(var T=N,D=[],V;T.length>0;){var L="",w=T[0]===0;for(V=1;T[V]!==255;V++){if(L.length>310)return O(i,0,1);L+=""+T[V]}T=T.slice(L.length+1);var I=parseInt(L,10),B=T.slice(1,I+1);w&&(B=m(B)),D.push(B),T=T.slice(I+1)}var F=D.length;for(V=0;V<F;V++){var U=D[V];O(u(U,_,!0),V,F)}}})(HT);var ry={exports:{}},Do=1e3,Mo=Do*60,Lo=Mo*60,ca=Lo*24,qF=ca*7,QF=ca*365.25,yf=function(t,e){e=e||{};var s=typeof t;if(s==="string"&&t.length>0)return VF(t);if(s==="number"&&isFinite(t))return e.long?GF(t):HF(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function VF(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var s=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return s*QF;case"weeks":case"week":case"w":return s*qF;case"days":case"day":case"d":return s*ca;case"hours":case"hour":case"hrs":case"hr":case"h":return s*Lo;case"minutes":case"minute":case"mins":case"min":case"m":return s*Mo;case"seconds":case"second":case"secs":case"sec":case"s":return s*Do;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function HF(t){var e=Math.abs(t);return e>=ca?Math.round(t/ca)+"d":e>=Lo?Math.round(t/Lo)+"h":e>=Mo?Math.round(t/Mo)+"m":e>=Do?Math.round(t/Do)+"s":t+"ms"}function GF(t){var e=Math.abs(t);return e>=ca?zu(t,e,ca,"day"):e>=Lo?zu(t,e,Lo,"hour"):e>=Mo?zu(t,e,Mo,"minute"):e>=Do?zu(t,e,Do,"second"):t+" ms"}function zu(t,e,s,n){var r=e>=s*1.5;return Math.round(t/s)+" "+n+(r?"s":"")}function WF(t){s.debug=s,s.default=s,s.coerce=c,s.disable=i,s.enable=r,s.enabled=o,s.humanize=yf,s.destroy=d,Object.keys(t).forEach(u=>{s[u]=t[u]}),s.names=[],s.skips=[],s.formatters={};function e(u){let p=0;for(let f=0;f<u.length;f++)p=(p<<5)-p+u.charCodeAt(f),p|=0;return s.colors[Math.abs(p)%s.colors.length]}s.selectColor=e;function s(u){let p,f=null,y,g;function h(...b){if(!h.enabled)return;const m=h,x=Number(new Date),k=x-(p||x);m.diff=k,m.prev=p,m.curr=x,p=x,b[0]=s.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let E=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(R,N)=>{if(R==="%%")return"%";E++;const _=s.formatters[N];if(typeof _=="function"){const O=b[E];R=_.call(m,O),b.splice(E,1),E--}return R}),s.formatArgs.call(m,b),(m.log||s.log).apply(m,b)}return h.namespace=u,h.useColors=s.useColors(),h.color=s.selectColor(u),h.extend=n,h.destroy=s.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(y!==s.namespaces&&(y=s.namespaces,g=s.enabled(u)),g),set:b=>{f=b}}),typeof s.init=="function"&&s.init(h),h}function n(u,p){const f=s(this.namespace+(typeof p>"u"?":":p)+u);return f.log=this.log,f}function r(u){s.save(u),s.namespaces=u,s.names=[],s.skips=[];let p;const f=(typeof u=="string"?u:"").split(/[\s,]+/),y=f.length;for(p=0;p<y;p++)f[p]&&(u=f[p].replace(/\*/g,".*?"),u[0]==="-"?s.skips.push(new RegExp("^"+u.slice(1)+"$")):s.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...s.names.map(l),...s.skips.map(l).map(p=>"-"+p)].join(",");return s.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let p,f;for(p=0,f=s.skips.length;p<f;p++)if(s.skips[p].test(u))return!1;for(p=0,f=s.names.length;p<f;p++)if(s.names[p].test(u))return!0;return!1}function l(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}var KF=WF;(function(t,e){var s={};e.formatArgs=r,e.save=i,e.load=o,e.useColors=n,e.storage=l(),e.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let d;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(d=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(d[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;d.splice(1,0,u,"color: inherit");let p=0,f=0;d[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(p++,y==="%c"&&(f=p))}),d.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function i(d){try{d?e.storage.setItem("debug",d):e.storage.removeItem("debug")}catch{}}function o(){let d;try{d=e.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=s.DEBUG),d}function l(){try{return localStorage}catch{}}t.exports=KF(e);const{formatters:c}=t.exports;c.j=function(d){try{return JSON.stringify(d)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(ry,ry.exports);var xr=ry.exports;Object.defineProperty(vr,"__esModule",{value:!0});vr.Transport=void 0;const YF=oe,JF=gf,XF=HT,ZF=xr,Rw=(0,ZF.default)("engine:transport");function eB(){}class tB extends YF.EventEmitter{get readyState(){return this._readyState}set readyState(e){Rw("readyState updated from %s to %s (%s)",this._readyState,e,this.name),this._readyState=e}constructor(e){super(),this.writable=!1,this._readyState="open",this.discarded=!1,this.protocol=e._query.EIO==="4"?4:3,this.parser=this.protocol===4?JF:XF,this.supportsBinary=!(e._query&&e._query.b64)}discard(){this.discarded=!0}onRequest(e){}close(e){this.readyState==="closed"||this.readyState==="closing"||(this.readyState="closing",this.doClose(e||eB))}onError(e,s){if(this.listeners("error").length){const n=new Error(e);n.type="TransportError",n.description=s,this.emit("error",n)}else Rw("ignored transport error %s (%s)",e,s)}onPacket(e){this.emit("packet",e)}onData(e){this.onPacket(this.parser.decodePacket(e))}onClose(){this.readyState="closed",this.emit("close")}}vr.Transport=tB;var Aa=["buffer","Buffer"];Object.defineProperty(Jc,"__esModule",{value:!0});Jc.Polling=void 0;const sB=vr,Iw=oe,nB=px,rB=xr,bs=(0,rB.default)("engine:polling"),iB={gzip:Iw.createGzip,deflate:Iw.createDeflate};let aB=class extends sB.Transport{constructor(e){super(e),this.closeTimeout=30*1e3}get name(){return"polling"}onRequest(e){const s=e.res;e.res=null,e.method==="GET"?this.onPollRequest(e,s):e.method==="POST"?this.onDataRequest(e,s):(s.writeHead(500),s.end())}onPollRequest(e,s){if(this.req){bs("request overlap"),this.onError("overlap from client"),s.writeHead(400),s.end();return}bs("setting request"),this.req=e,this.res=s;const n=()=>{this.onError("poll connection closed prematurely")},r=()=>{e.removeListener("close",n),this.req=this.res=null};e.cleanup=r,e.on("close",n),this.writable=!0,this.emit("ready"),this.writable&&this.shouldClose&&(bs("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,s){if(this.dataReq){this.onError("data request overlap from client"),s.writeHead(400),s.end();return}const n=e.headers["content-type"]==="application/octet-stream";if(n&&this.protocol===4)return this.onError("invalid content");this.dataReq=e,this.dataRes=s;let r=n?Aa.concat([]):"";const i=()=>{e.removeListener("data",l),e.removeListener("end",c),e.removeListener("close",o),this.dataReq=this.dataRes=r=null},o=()=>{i(),this.onError("data request connection closed prematurely")},l=d=>{let u;n?(r=Aa.concat([r,d]),u=r.length):(r+=d,u=Aa.byteLength(r)),u>this.maxHttpBufferSize&&(s.writeHead(413).end(),i())},c=()=>{this.onData(r);const d={"Content-Type":"text/html","Content-Length":"2"};s.writeHead(200,this.headers(e,d)),s.end("ok"),i()};e.on("close",o),n||e.setEncoding("utf8"),e.on("data",l),e.on("end",c)}onData(e){bs('received "%s"',e);const s=n=>{if(n.type==="close")return bs("got xhr close packet"),this.onClose(),!1;this.onPacket(n)};this.protocol===3?this.parser.decodePayload(e,s):this.parser.decodePayload(e).forEach(s)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(bs("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);const s=n=>{const r=e.some(i=>i.options&&i.options.compress);this.write(n,{compress:r})};this.protocol===3?this.parser.encodePayload(e,this.supportsBinary,s):this.parser.encodePayload(e,s)}write(e,s){bs('writing "%s"',e),this.doWrite(e,s,()=>{this.req.cleanup(),this.emit("drain")})}doWrite(e,s,n){const r=typeof e=="string",o={"Content-Type":r?"text/plain; charset=UTF-8":"application/octet-stream"},l=u=>{o["Content-Length"]=typeof u=="string"?Aa.byteLength(u):u.length,this.res.writeHead(200,this.headers(this.req,o)),this.res.end(u),n()};if(!this.httpCompression||!s.compress){l(e);return}if((r?Aa.byteLength(e):e.length)<this.httpCompression.threshold){l(e);return}const d=nB(this.req).encodings(["gzip","deflate"]);if(!d){l(e);return}this.compress(e,d,(u,p)=>{if(u){this.res.writeHead(500),this.res.end(),n(u);return}o["Content-Encoding"]=d,l(p)})}compress(e,s,n){bs("compressing");const r=[];let i=0;iB[s](this.httpCompression).on("error",n).on("data",function(o){r.push(o),i+=o.length}).on("end",function(){n(null,Aa.concat(r,i))}).end(e)}doClose(e){bs("closing");let s;this.dataReq&&(bs("aborting ongoing data request"),this.dataReq.destroy());const n=()=>{clearTimeout(s),e(),this.onClose()};this.writable?(bs("transport writable - closing right away"),this.send([{type:"close"}]),n()):this.discarded?(bs("transport discarded - closing right away"),n()):(bs("transport not writable - buffering orderly close"),this.shouldClose=n,s=setTimeout(n,this.closeTimeout))}headers(e,s={}){const n=e.headers["user-agent"];return n&&(~n.indexOf(";MSIE")||~n.indexOf("Trident/"))&&(s["X-XSS-Protection"]="0"),s["cache-control"]="no-store",this.emit("headers",s,e),s}};Jc.Polling=aB;var vf={};Object.defineProperty(vf,"__esModule",{value:!0});vf.JSONP=void 0;const oB=Jc,lB=oe,cB=/\\\\n/g,uB=/(\\)?\\n/g;class dB extends oB.Polling{constructor(e){super(e),this.head="___eio["+(e._query.j||"").replace(/[^0-9]/g,"")+"](",this.foot=");"}onData(e){e=lB.parse(e).d,typeof e=="string"&&(e=e.replace(uB,function(s,n){return n?s:`
`}),super.onData(e.replace(cB,"\\n")))}doWrite(e,s,n){const r=JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029");e=this.head+r+this.foot,super.doWrite(e,s,n)}}vf.JSONP=dB;var xf={};Object.defineProperty(xf,"__esModule",{value:!0});xf.WebSocket=void 0;const pB=vr,fB=xr,Ow=(0,fB.default)("engine:ws");let hB=class extends pB.Transport{constructor(e){super(e),this._doSend=s=>{this.socket.send(s,this._onSent)},this._doSendLast=s=>{this.socket.send(s,this._onSentLast)},this._onSent=s=>{s&&this.onError("write error",s.stack)},this._onSentLast=s=>{s?this.onError("write error",s.stack):(this.emit("drain"),this.writable=!0,this.emit("ready"))},this.socket=e.websocket,this.socket.on("message",(s,n)=>{const r=n?s:s.toString();Ow('received "%s"',r),super.onData(r)}),this.socket.once("close",this.onClose.bind(this)),this.socket.on("error",this.onError.bind(this)),this.writable=!0,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}send(e){this.writable=!1;for(let s=0;s<e.length;s++){const n=e[s],r=s+1===e.length;this._canSendPreEncodedFrame(n)?this.socket._sender.sendFrame(n.options.wsPreEncodedFrame,r?this._onSentLast:this._onSent):this.parser.encodePacket(n,this.supportsBinary,r?this._doSendLast:this._doSend)}}_canSendPreEncodedFrame(e){var s,n,r;return!this.perMessageDeflate&&typeof((n=(s=this.socket)===null||s===void 0?void 0:s._sender)===null||n===void 0?void 0:n.sendFrame)=="function"&&((r=e.options)===null||r===void 0?void 0:r.wsPreEncodedFrame)!==void 0}doClose(e){Ow("closing"),this.socket.close(),e&&e()}};xf.WebSocket=hB;var Xc={};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.WebTransport=void 0;const mB=vr,gB=xr,yB=gf,Ta=(0,gB.default)("engine:webtransport");let vB=class extends mB.Transport{constructor(e,s,n){super({_query:{EIO:"4"}}),this.session=e;const r=(0,yB.createPacketEncoderStream)();r.readable.pipeTo(s.writable).catch(()=>{Ta("the stream was closed")}),this.writer=r.writable.getWriter(),(async()=>{try{for(;;){const{value:i,done:o}=await n.read();if(o){Ta("session is closed");break}Ta("received chunk: %o",i),this.onPacket(i)}}catch(i){Ta("error while reading: %s",i.message)}})(),e.closed.then(()=>this.onClose()),this.writable=!0}get name(){return"webtransport"}async send(e){this.writable=!1;try{for(let s=0;s<e.length;s++){const n=e[s];await this.writer.write(n)}}catch(s){Ta("error while writing: %s",s.message)}this.emit("drain"),this.writable=!0,this.emit("ready")}doClose(e){Ta("closing WebTransport session"),this.session.close(),e&&e()}};Xc.WebTransport=vB;Object.defineProperty(mf,"__esModule",{value:!0});const xB=Jc,bB=vf,wB=xf,SB=Xc;mf.default={polling:KT,websocket:wB.WebSocket,webtransport:SB.WebTransport};function KT(t){return typeof t._query.j=="string"?new bB.JSONP(t):new xB.Polling(t)}KT.upgradesTo=["websocket","webtransport"];var Zc={};Object.defineProperty(Zc,"__esModule",{value:!0});Zc.Socket=void 0;const _B=oe,EB=xr,Vn=oe,mt=(0,EB.default)("engine:socket");let NB=class extends _B.EventEmitter{get readyState(){return this._readyState}set readyState(e){mt("readyState updated from %s to %s",this._readyState,e),this._readyState=e}constructor(e,s,n,r,i){super(),this._readyState="opening",this.upgrading=!1,this.upgraded=!1,this.writeBuffer=[],this.packetsFn=[],this.sentCallbackFn=[],this.cleanupFn=[],this.id=e,this.server=s,this.request=r,this.protocol=i,r&&(r.websocket&&r.websocket._socket?this.remoteAddress=r.websocket._socket.remoteAddress:this.remoteAddress=r.connection.remoteAddress),this.pingTimeoutTimer=null,this.pingIntervalTimer=null,this.setTransport(n),this.onOpen()}onOpen(){this.readyState="open",this.transport.sid=this.id,this.sendPacket("open",JSON.stringify({sid:this.id,upgrades:this.getAvailableUpgrades(),pingInterval:this.server.opts.pingInterval,pingTimeout:this.server.opts.pingTimeout,maxPayload:this.server.opts.maxHttpBufferSize})),this.server.opts.initialPacket&&this.sendPacket("message",this.server.opts.initialPacket),this.emit("open"),this.protocol===3?this.resetPingTimeout():this.schedulePing()}onPacket(e){if(this.readyState!=="open")return mt("packet received with closed socket");switch(mt(`received packet ${e.type}`),this.emit("packet",e),e.type){case"ping":if(this.transport.protocol!==3){this.onError(new Error("invalid heartbeat direction"));return}mt("got ping"),this.pingTimeoutTimer.refresh(),this.sendPacket("pong"),this.emit("heartbeat");break;case"pong":if(this.transport.protocol===3){this.onError(new Error("invalid heartbeat direction"));return}mt("got pong"),(0,Vn.clearTimeout)(this.pingTimeoutTimer),this.pingIntervalTimer.refresh(),this.emit("heartbeat");break;case"error":this.onClose("parse error");break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}}onError(e){mt("transport error"),this.onClose("transport error",e)}schedulePing(){this.pingIntervalTimer=(0,Vn.setTimeout)(()=>{mt("writing ping packet - expecting pong within %sms",this.server.opts.pingTimeout),this.sendPacket("ping"),this.resetPingTimeout()},this.server.opts.pingInterval)}resetPingTimeout(){(0,Vn.clearTimeout)(this.pingTimeoutTimer),this.pingTimeoutTimer=(0,Vn.setTimeout)(()=>{this.readyState!=="closed"&&this.onClose("ping timeout")},this.protocol===3?this.server.opts.pingInterval+this.server.opts.pingTimeout:this.server.opts.pingTimeout)}setTransport(e){const s=this.onError.bind(this),n=()=>this.flush(),r=this.onPacket.bind(this),i=this.onDrain.bind(this),o=this.onClose.bind(this,"transport close");this.transport=e,this.transport.once("error",s),this.transport.on("ready",n),this.transport.on("packet",r),this.transport.on("drain",i),this.transport.once("close",o),this.cleanupFn.push(function(){e.removeListener("error",s),e.removeListener("ready",n),e.removeListener("packet",r),e.removeListener("drain",i),e.removeListener("close",o)})}onDrain(){if(this.sentCallbackFn.length>0){mt("executing batch send callback");const e=this.sentCallbackFn.shift();if(e)for(let s=0;s<e.length;s++)e[s](this.transport)}}_maybeUpgrade(e){mt('might upgrade socket transport from "%s" to "%s"',this.transport.name,e.name),this.upgrading=!0;const s=(0,Vn.setTimeout)(()=>{mt("client did not complete upgrade - closing transport"),o(),e.readyState==="open"&&e.close()},this.server.opts.upgradeTimeout);let n;const r=u=>{u.type==="ping"&&u.data==="probe"?(mt("got probe ping packet, sending pong"),e.send([{type:"pong",data:"probe"}]),this.emit("upgrading",e),clearInterval(n),n=setInterval(i,100)):u.type==="upgrade"&&this.readyState!=="closed"?(mt("got upgrade packet - upgrading"),o(),this.transport.discard(),this.upgraded=!0,this.clearTransport(),this.setTransport(e),this.emit("upgrade",e),this.flush(),this.readyState==="closing"&&e.close(()=>{this.onClose("forced close")})):(o(),e.close())},i=()=>{this.transport.name==="polling"&&this.transport.writable&&(mt("writing a noop packet to polling for fast upgrade"),this.transport.send([{type:"noop"}]))},o=()=>{this.upgrading=!1,clearInterval(n),(0,Vn.clearTimeout)(s),e.removeListener("packet",r),e.removeListener("close",c),e.removeListener("error",l),this.removeListener("close",d)},l=u=>{mt("client did not complete upgrade - %s",u),o(),e.close(),e=null},c=()=>{l("transport closed")},d=()=>{l("socket closed")};e.on("packet",r),e.once("close",c),e.once("error",l),this.once("close",d)}clearTransport(){let e;const s=this.cleanupFn.length;for(let n=0;n<s;n++)e=this.cleanupFn.shift(),e();this.transport.on("error",function(){mt("error triggered by discarded transport")}),this.transport.close(),(0,Vn.clearTimeout)(this.pingTimeoutTimer)}onClose(e,s){this.readyState!=="closed"&&(this.readyState="closed",(0,Vn.clearTimeout)(this.pingIntervalTimer),(0,Vn.clearTimeout)(this.pingTimeoutTimer),process.nextTick(()=>{this.writeBuffer=[]}),this.packetsFn=[],this.sentCallbackFn=[],this.clearTransport(),this.emit("close",e,s))}send(e,s,n){return this.sendPacket("message",e,s,n),this}write(e,s,n){return this.sendPacket("message",e,s,n),this}sendPacket(e,s,n={},r){if(typeof n=="function"&&(r=n,n={}),this.readyState!=="closing"&&this.readyState!=="closed"){mt('sending packet "%s" (%s)',e,s),n.compress=n.compress!==!1;const i={type:e,options:n};s&&(i.data=s),this.emit("packetCreate",i),this.writeBuffer.push(i),typeof r=="function"&&this.packetsFn.push(r),this.flush()}}flush(){if(this.readyState!=="closed"&&this.transport.writable&&this.writeBuffer.length){mt("flushing buffer to transport"),this.emit("flush",this.writeBuffer),this.server.emit("flush",this,this.writeBuffer);const e=this.writeBuffer;this.writeBuffer=[],this.packetsFn.length?(this.sentCallbackFn.push(this.packetsFn),this.packetsFn=[]):this.sentCallbackFn.push(null),this.transport.send(e),this.emit("drain"),this.server.emit("drain",this)}}getAvailableUpgrades(){const e=[],s=this.server.upgrades(this.transport.name);for(let n=0;n<s.length;++n){const r=s[n];this.server.opts.transports.indexOf(r)!==-1&&e.push(r)}return e}close(e){if(e&&(this.readyState==="open"||this.readyState==="closing"))return this.closeTransport(e);if(this.readyState==="open"){if(this.readyState="closing",this.writeBuffer.length){mt("there are %d remaining packets in the buffer, waiting for the 'drain' event",this.writeBuffer.length),this.once("drain",()=>{mt("all packets have been sent, closing the transport"),this.closeTransport(e)});return}mt("the buffer is empty, closing the transport right away"),this.closeTransport(e)}}closeTransport(e){mt("closing the transport (discard? %s)",!!e),e&&this.transport.discard(),this.transport.close(this.onClose.bind(this,"forced close"))}};Zc.Socket=NB;var fx={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */fx.parse=IB;fx.serialize=OB;var kB=Object.prototype.toString,CB=Object.prototype.hasOwnProperty,jB=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,AB=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,TB=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,RB=/^[\u0020-\u003A\u003D-\u007E]*$/;function IB(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");var s={},n=t.length;if(n<2)return s;var r=e&&e.decode||PB,i=0,o=0,l=0;do{if(o=t.indexOf("=",i),o===-1)break;if(l=t.indexOf(";",i),l===-1)l=n;else if(o>l){i=t.lastIndexOf(";",o-1)+1;continue}var c=Pw(t,i,o),d=Dw(t,o,c),u=t.slice(c,d);if(!CB.call(s,u)){var p=Pw(t,o+1,l),f=Dw(t,l,p);t.charCodeAt(p)===34&&t.charCodeAt(f-1)===34&&(p++,f--);var y=t.slice(p,f);s[u]=MB(y,r)}i=l+1}while(i<n);return s}function Pw(t,e,s){do{var n=t.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<s);return s}function Dw(t,e,s){for(;e>s;){var n=t.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return s}function OB(t,e,s){var n=s&&s.encode||encodeURIComponent;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!jB.test(t))throw new TypeError("argument name is invalid");var r=n(e);if(!AB.test(r))throw new TypeError("argument val is invalid");var i=t+"="+r;if(!s)return i;if(s.maxAge!=null){var o=Math.floor(s.maxAge);if(!isFinite(o))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+o}if(s.domain){if(!TB.test(s.domain))throw new TypeError("option domain is invalid");i+="; Domain="+s.domain}if(s.path){if(!RB.test(s.path))throw new TypeError("option path is invalid");i+="; Path="+s.path}if(s.expires){var l=s.expires;if(!DB(l)||isNaN(l.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+l.toUTCString()}if(s.httpOnly&&(i+="; HttpOnly"),s.secure&&(i+="; Secure"),s.partitioned&&(i+="; Partitioned"),s.priority){var c=typeof s.priority=="string"?s.priority.toLowerCase():s.priority;switch(c){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(s.sameSite){var d=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(d){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return i}function PB(t){return t.indexOf("%")!==-1?decodeURIComponent(t):t}function DB(t){return kB.call(t)==="[object Date]"}function MB(t,e){try{return e(t)}catch{return t}}var LB=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},YT={exports:{}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Mw=Object.getOwnPropertySymbols,FB=Object.prototype.hasOwnProperty,BB=Object.prototype.propertyIsEnumerable;function $B(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function UB(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},s=0;s<10;s++)e["_"+String.fromCharCode(s)]=s;var n=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(n.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(i){r[i]=i}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var zB=UB()?Object.assign:function(t,e){for(var s,n=$B(t),r,i=1;i<arguments.length;i++){s=Object(arguments[i]);for(var o in s)FB.call(s,o)&&(n[o]=s[o]);if(Mw){r=Mw(s);for(var l=0;l<r.length;l++)BB.call(s,r[l])&&(n[r[l]]=s[r[l]])}}return n},hx={exports:{}};/*!
 * vary
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */hx.exports=QB;hx.exports.append=JT;var qB=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function JT(t,e){if(typeof t!="string")throw new TypeError("header argument is required");if(!e)throw new TypeError("field argument is required");for(var s=Array.isArray(e)?e:Lw(String(e)),n=0;n<s.length;n++)if(!qB.test(s[n]))throw new TypeError("field argument contains an invalid header name");if(t==="*")return t;var r=t,i=Lw(t.toLowerCase());if(s.indexOf("*")!==-1||i.indexOf("*")!==-1)return"*";for(var o=0;o<s.length;o++){var l=s[o].toLowerCase();i.indexOf(l)===-1&&(i.push(l),r=r?r+", "+s[o]:s[o])}return r}function Lw(t){for(var e=0,s=[],n=0,r=0,i=t.length;r<i;r++)switch(t.charCodeAt(r)){case 32:n===e&&(n=e=r+1);break;case 44:s.push(t.substring(n,e)),n=e=r+1;break;default:e=r+1;break}return s.push(t.substring(n,e)),s}function QB(t,e){if(!t||!t.getHeader||!t.setHeader)throw new TypeError("res argument is required");var s=t.getHeader("Vary")||"",n=Array.isArray(s)?s.join(", "):String(s);(s=JT(n,e))&&t.setHeader("Vary",s)}var VB=hx.exports;(function(){var t=zB,e=VB,s={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function n(g){return typeof g=="string"||g instanceof String}function r(g,h){if(Array.isArray(h)){for(var b=0;b<h.length;++b)if(r(g,h[b]))return!0;return!1}else return n(h)?g===h:h instanceof RegExp?h.test(g):!!h}function i(g,h){var b=h.headers.origin,m=[],x;return!g.origin||g.origin==="*"?m.push([{key:"Access-Control-Allow-Origin",value:"*"}]):n(g.origin)?(m.push([{key:"Access-Control-Allow-Origin",value:g.origin}]),m.push([{key:"Vary",value:"Origin"}])):(x=r(b,g.origin),m.push([{key:"Access-Control-Allow-Origin",value:x?b:!1}]),m.push([{key:"Vary",value:"Origin"}])),m}function o(g){var h=g.methods;return h.join&&(h=g.methods.join(",")),{key:"Access-Control-Allow-Methods",value:h}}function l(g){return g.credentials===!0?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function c(g,h){var b=g.allowedHeaders||g.headers,m=[];return b?b.join&&(b=b.join(",")):(b=h.headers["access-control-request-headers"],m.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),b&&b.length&&m.push([{key:"Access-Control-Allow-Headers",value:b}]),m}function d(g){var h=g.exposedHeaders;if(h)h.join&&(h=h.join(","));else return null;return h&&h.length?{key:"Access-Control-Expose-Headers",value:h}:null}function u(g){var h=(typeof g.maxAge=="number"||g.maxAge)&&g.maxAge.toString();return h&&h.length?{key:"Access-Control-Max-Age",value:h}:null}function p(g,h){for(var b=0,m=g.length;b<m;b++){var x=g[b];x&&(Array.isArray(x)?p(x,h):x.key==="Vary"&&x.value?e(h,x.value):x.value&&h.setHeader(x.key,x.value))}}function f(g,h,b,m){var x=[],k=h.method&&h.method.toUpperCase&&h.method.toUpperCase();k==="OPTIONS"?(x.push(i(g,h)),x.push(l(g)),x.push(o(g)),x.push(c(g,h)),x.push(u(g)),x.push(d(g)),p(x,b),g.preflightContinue?m():(b.statusCode=g.optionsSuccessStatus,b.setHeader("Content-Length","0"),b.end())):(x.push(i(g,h)),x.push(l(g)),x.push(d(g)),p(x,b),m())}function y(g){var h=null;return typeof g=="function"?h=g:h=function(b,m){m(null,g)},function(m,x,k){h(m,function(E,C){if(E)k(E);else{var R=t({},s,C),N=null;R.origin&&typeof R.origin=="function"?N=R.origin:R.origin&&(N=function(_,O){O(null,R.origin)}),N?N(m.headers.origin,function(_,O){_||!O?k(_):(R.origin=O,f(R,m,x,k))}):k()}})}}YT.exports=y})();var XT=YT.exports,ZT=["buffer","Buffer"];Object.defineProperty(la,"__esModule",{value:!0});la.Server=la.BaseServer=void 0;const HB=oe,GB=oe,Fw=VT,Ad=mf,WB=oe,Bw=Zc,KB=xr,YB=fx,JB=LB,$w=Xc,XB=gf,Ae=(0,KB.default)("engine"),so=Symbol("responseHeaders");function ZB(t){try{const e=JSON.parse(t);if(typeof e.sid=="string")return e.sid}catch{}}class bf extends WB.EventEmitter{constructor(e={}){super(),this.middlewares=[],this.clients={},this.clientsCount=0,this.opts=Object.assign({wsEngine:JB.Server,pingTimeout:2e4,pingInterval:25e3,upgradeTimeout:1e4,maxHttpBufferSize:1e6,transports:["polling","websocket"],allowUpgrades:!0,httpCompression:{threshold:1024},cors:!1,allowEIO3:!1},e),e.cookie&&(this.opts.cookie=Object.assign({name:"io",path:"/",httpOnly:e.cookie.path!==!1,sameSite:"lax"},e.cookie)),this.opts.cors&&this.use(XT(this.opts.cors)),e.perMessageDeflate&&(this.opts.perMessageDeflate=Object.assign({threshold:1024},e.perMessageDeflate)),this.init()}_computePath(e){let s=(e.path||"/engine.io").replace(/\/$/,"");return e.addTrailingSlash!==!1&&(s+="/"),s}upgrades(e){return this.opts.allowUpgrades?Ad.default[e].upgradesTo||[]:[]}verify(e,s,n){const r=e._query.transport;if(!~this.opts.transports.indexOf(r)||r==="webtransport")return Ae('unknown transport "%s"',r),n(st.errors.UNKNOWN_TRANSPORT,{transport:r});if(t8(e.headers.origin)){const l=e.headers.origin;return e.headers.origin=null,Ae("origin header invalid"),n(st.errors.BAD_REQUEST,{name:"INVALID_ORIGIN",origin:l})}const o=e._query.sid;if(o){if(!this.clients.hasOwnProperty(o))return Ae('unknown sid "%s"',o),n(st.errors.UNKNOWN_SID,{sid:o});const l=this.clients[o].transport.name;if(!s&&l!==r)return Ae("bad request: unexpected transport without upgrade"),n(st.errors.BAD_REQUEST,{name:"TRANSPORT_MISMATCH",transport:r,previousTransport:l})}else return e.method!=="GET"?n(st.errors.BAD_HANDSHAKE_METHOD,{method:e.method}):r==="websocket"&&!s?(Ae("invalid transport upgrade"),n(st.errors.BAD_REQUEST,{name:"TRANSPORT_HANDSHAKE_ERROR"})):this.opts.allowRequest?this.opts.allowRequest(e,(l,c)=>{if(!c)return n(st.errors.FORBIDDEN,{message:l});n()}):n();n()}use(e){this.middlewares.push(e)}_applyMiddlewares(e,s,n){if(this.middlewares.length===0)return Ae("no middleware to apply, skipping"),n();const r=i=>{Ae("applying middleware n°%d",i+1),this.middlewares[i](e,s,o=>{if(o)return n(o);i+1<this.middlewares.length?r(i+1):n()})};r(0)}close(){Ae("closing all open clients");for(let e in this.clients)this.clients.hasOwnProperty(e)&&this.clients[e].close(!0);return this.cleanup(),this}generateId(e){return Fw.generateId()}async handshake(e,s,n){const r=s._query.EIO==="4"?4:3;if(r===3&&!this.opts.allowEIO3){Ae("unsupported protocol version"),this.emit("connection_error",{req:s,code:st.errors.UNSUPPORTED_PROTOCOL_VERSION,message:st.errorMessages[st.errors.UNSUPPORTED_PROTOCOL_VERSION],context:{protocol:r}}),n(st.errors.UNSUPPORTED_PROTOCOL_VERSION);return}let i;try{i=await this.generateId(s)}catch(c){Ae("error while generating an id"),this.emit("connection_error",{req:s,code:st.errors.BAD_REQUEST,message:st.errorMessages[st.errors.BAD_REQUEST],context:{name:"ID_GENERATION_ERROR",error:c}}),n(st.errors.BAD_REQUEST);return}Ae('handshaking client "%s"',i);try{var o=this.createTransport(e,s);e==="polling"?(o.maxHttpBufferSize=this.opts.maxHttpBufferSize,o.httpCompression=this.opts.httpCompression):e==="websocket"&&(o.perMessageDeflate=this.opts.perMessageDeflate)}catch(c){Ae('error handshaking to transport "%s"',e),this.emit("connection_error",{req:s,code:st.errors.BAD_REQUEST,message:st.errorMessages[st.errors.BAD_REQUEST],context:{name:"TRANSPORT_HANDSHAKE_ERROR",error:c}}),n(st.errors.BAD_REQUEST);return}const l=new Bw.Socket(i,this,o,s,r);return o.on("headers",(c,d)=>{!d._query.sid&&(this.opts.cookie&&(c["Set-Cookie"]=[(0,YB.serialize)(this.opts.cookie.name,i,this.opts.cookie)]),this.emit("initial_headers",c,d)),this.emit("headers",c,d)}),o.onRequest(s),this.clients[i]=l,this.clientsCount++,l.once("close",()=>{delete this.clients[i],this.clientsCount--}),this.emit("connection",l),o}async onWebTransportSession(e){const s=setTimeout(()=>{Ae("the client failed to establish a bidirectional stream in the given period"),e.close()},this.opts.upgradeTimeout),r=await e.incomingBidirectionalStreams.getReader().read();if(r.done){Ae("session is closed");return}const i=r.value,o=(0,XB.createPacketDecoderStream)(this.opts.maxHttpBufferSize,"nodebuffer"),l=i.readable.pipeThrough(o).getReader(),{value:c,done:d}=await l.read();if(d){Ae("stream is closed");return}if(clearTimeout(s),c.type!=="open")return Ae("invalid WebTransport handshake"),e.close();if(c.data===void 0){const f=new $w.WebTransport(e,i,l),y=Fw.generateId();Ae('handshaking client "%s" (WebTransport)',y);const g=new Bw.Socket(y,this,f,null,4);this.clients[y]=g,this.clientsCount++,g.once("close",()=>{delete this.clients[y],this.clientsCount--}),this.emit("connection",g);return}const u=ZB(c.data);if(!u)return Ae("invalid WebTransport handshake"),e.close();const p=this.clients[u];if(!p)Ae("upgrade attempt for closed client"),e.close();else if(p.upgrading)Ae("transport has already been trying to upgrade"),e.close();else if(p.upgraded)Ae("transport had already been upgraded"),e.close();else{Ae("upgrading existing transport");const f=new $w.WebTransport(e,i,l);p._maybeUpgrade(f)}}}la.BaseServer=bf;bf.errors={UNKNOWN_TRANSPORT:0,UNKNOWN_SID:1,BAD_HANDSHAKE_METHOD:2,BAD_REQUEST:3,FORBIDDEN:4,UNSUPPORTED_PROTOCOL_VERSION:5};bf.errorMessages={0:"Transport unknown",1:"Session ID unknown",2:"Bad handshake method",3:"Bad request",4:"Forbidden",5:"Unsupported protocol version"};class e8{constructor(e,s){this.req=e,this.socket=s,e[so]={}}setHeader(e,s){this.req[so][e]=s}getHeader(e){return this.req[so][e]}removeHeader(e){delete this.req[so][e]}write(){}writeHead(){}end(){this.socket.destroy()}}let st=class Ml extends bf{init(){~this.opts.transports.indexOf("websocket")&&(this.ws&&this.ws.close(),this.ws=new this.opts.wsEngine({noServer:!0,clientTracking:!1,perMessageDeflate:this.opts.perMessageDeflate,maxPayload:this.opts.maxHttpBufferSize}),typeof this.ws.on=="function"&&this.ws.on("headers",(e,s)=>{const n=s[so]||{};delete s[so],!s._query.sid&&this.emit("initial_headers",n,s),this.emit("headers",n,s),Ae("writing headers: %j",n),Object.keys(n).forEach(i=>{e.push(`${i}: ${n[i]}`)})}))}cleanup(){this.ws&&(Ae("closing webSocketServer"),this.ws.close())}prepare(e){e._query||(e._query=~e.url.indexOf("?")?HB.parse((0,GB.parse)(e.url).query):{})}createTransport(e,s){return new Ad.default[e](s)}handleRequest(e,s){Ae('handling "%s" http request "%s"',e.method,e.url),this.prepare(e),e.res=s;const n=(r,i)=>{if(r!==void 0){this.emit("connection_error",{req:e,code:r,message:Ml.errorMessages[r],context:i}),Uw(s,r,i);return}if(e._query.sid)Ae("setting new request for existing client"),this.clients[e._query.sid].transport.onRequest(e);else{const o=(l,c)=>Uw(s,l,c);this.handshake(e._query.transport,e,o)}};this._applyMiddlewares(e,s,r=>{r?n(Ml.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(e,!1,n)})}handleUpgrade(e,s,n){this.prepare(e);const r=new e8(e,s),i=(o,l)=>{if(o!==void 0){this.emit("connection_error",{req:e,code:o,message:Ml.errorMessages[o],context:l}),zw(s,o,l);return}const c=ZT.from(n);n=null,r.writeHead(),this.ws.handleUpgrade(e,s,c,d=>{this.onWebSocket(e,s,d)})};this._applyMiddlewares(e,r,o=>{o?i(Ml.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(e,!0,i)})}onWebSocket(e,s,n){if(n.on("error",i),Ad.default[e._query.transport]!==void 0&&!Ad.default[e._query.transport].prototype.handlesUpgrades){Ae("transport doesnt handle upgraded requests"),n.close();return}const r=e._query.sid;if(e.websocket=n,r){const o=this.clients[r];if(!o)Ae("upgrade attempt for closed client"),n.close();else if(o.upgrading)Ae("transport has already been trying to upgrade"),n.close();else if(o.upgraded)Ae("transport had already been upgraded"),n.close();else{Ae("upgrading existing transport"),n.removeListener("error",i);const l=this.createTransport(e._query.transport,e);l.perMessageDeflate=this.opts.perMessageDeflate,o._maybeUpgrade(l)}}else{const o=(l,c)=>zw(s,l,c);this.handshake(e._query.transport,e,o)}function i(){Ae("websocket error before upgrade")}}attach(e,s={}){const n=this._computePath(s),r=s.destroyUpgradeTimeout||1e3;function i(l){return n===l.url.slice(0,n.length)}const o=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("close",this.close.bind(this)),e.on("listening",this.init.bind(this)),e.on("request",(l,c)=>{if(i(l))Ae('intercepting request for path "%s"',n),this.handleRequest(l,c);else{let d=0;const u=o.length;for(;d<u;d++)o[d].call(e,l,c)}}),~this.opts.transports.indexOf("websocket")&&e.on("upgrade",(l,c,d)=>{i(l)?this.handleUpgrade(l,c,d):s.destroyUpgrade!==!1&&setTimeout(function(){if(c.writable&&c.bytesWritten<=0)return c.on("error",u=>{Ae("error while destroying upgrade: %s",u.message)}),c.end()},r)})}};la.Server=st;function Uw(t,e,s){const n=e===st.errors.FORBIDDEN?403:400,r=s&&s.message?s.message:st.errorMessages[e];t.writeHead(n,{"Content-Type":"application/json"}),t.end(JSON.stringify({code:e,message:r}))}function zw(t,e,s={}){if(t.on("error",()=>{Ae("ignoring error from closed connection")}),t.writable){const n=s.message||st.errorMessages[e],r=ZT.byteLength(n);t.write(`HTTP/1.1 400 Bad Request\r
Connection: close\r
Content-type: text/html\r
Content-Length: `+r+`\r
\r
`+n)}t.destroy()}const wl=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];function t8(t){if(t+="",t.length<1)return!1;if(!wl[t.charCodeAt(0)])return Ae('invalid header, index 0, char "%s"',t.charCodeAt(0)),!0;if(t.length<2)return!1;if(!wl[t.charCodeAt(1)])return Ae('invalid header, index 1, char "%s"',t.charCodeAt(1)),!0;if(t.length<3)return!1;if(!wl[t.charCodeAt(2)])return Ae('invalid header, index 2, char "%s"',t.charCodeAt(2)),!0;if(t.length<4)return!1;if(!wl[t.charCodeAt(3)])return Ae('invalid header, index 3, char "%s"',t.charCodeAt(3)),!0;for(let e=4;e<t.length;++e)if(!wl[t.charCodeAt(e)])return Ae('invalid header, index "%i", char "%s"',e,t.charCodeAt(e)),!0;return!1}var wf={},mx={},Sf={},Sl=["buffer","Buffer"];Object.defineProperty(Sf,"__esModule",{value:!0});Sf.Polling=void 0;const s8=vr,qw=oe,n8=px,r8=xr,Is=(0,r8.default)("engine:polling"),i8={gzip:qw.createGzip,deflate:qw.createDeflate};class a8 extends s8.Transport{constructor(e){super(e),this.closeTimeout=30*1e3}get name(){return"polling"}onRequest(e){const s=e.res;e.res=null,e.getMethod()==="get"?this.onPollRequest(e,s):e.getMethod()==="post"?this.onDataRequest(e,s):(s.writeStatus("500 Internal Server Error"),s.end())}onPollRequest(e,s){if(this.req){Is("request overlap"),this.onError("overlap from client"),s.writeStatus("500 Internal Server Error"),s.end();return}Is("setting request"),this.req=e,this.res=s;const n=()=>{this.writable=!1,this.onError("poll connection closed prematurely")},r=()=>{this.req=this.res=null};e.cleanup=r,s.onAborted(n),this.writable=!0,this.emit("ready"),this.writable&&this.shouldClose&&(Is("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,s){if(this.dataReq){this.onError("data request overlap from client"),s.writeStatus("500 Internal Server Error"),s.end();return}const n=Number(e.headers["content-length"]);if(!n){this.onError("content-length header required"),s.writeStatus("411 Length Required").end();return}if(n>this.maxHttpBufferSize){this.onError("payload too large"),s.writeStatus("413 Payload Too Large").end();return}if(e.headers["content-type"]==="application/octet-stream"&&this.protocol===4)return this.onError("invalid content");this.dataReq=e,this.dataRes=s;let i,o=0;const l={"Content-Type":"text/html"};this.headers(e,l);for(let d in l)s.writeHeader(d,String(l[d]));const c=d=>{this.onData(d.toString()),this.onDataRequestCleanup(),s.cork(()=>{s.end("ok")})};s.onAborted(()=>{this.onDataRequestCleanup(),this.onError("data request connection closed prematurely")}),s.onData((d,u)=>{const p=o+d.byteLength;if(p>n){this.onError("content-length mismatch"),s.close();return}if(!i){if(u){c(Sl.from(d));return}i=Sl.allocUnsafe(n)}if(Sl.from(d).copy(i,o),u){if(p!=n){this.onError("content-length mismatch"),s.writeStatus("400 Content-Length Mismatch").end(),this.onDataRequestCleanup();return}c(i);return}o=p})}onDataRequestCleanup(){this.dataReq=this.dataRes=null}onData(e){Is('received "%s"',e);const s=n=>{if(n.type==="close")return Is("got xhr close packet"),this.onClose(),!1;this.onPacket(n)};this.protocol===3?this.parser.decodePayload(e,s):this.parser.decodePayload(e).forEach(s)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(Is("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);const s=n=>{const r=e.some(i=>i.options&&i.options.compress);this.write(n,{compress:r})};this.protocol===3?this.parser.encodePayload(e,this.supportsBinary,s):this.parser.encodePayload(e,s)}write(e,s){Is('writing "%s"',e),this.doWrite(e,s,()=>{this.req.cleanup(),this.emit("drain")})}doWrite(e,s,n){const r=typeof e=="string",o={"Content-Type":r?"text/plain; charset=UTF-8":"application/octet-stream"},l=u=>{this.headers(this.req,o),this.res.cork(()=>{Object.keys(o).forEach(p=>{this.res.writeHeader(p,String(o[p]))}),this.res.end(u)}),n()};if(!this.httpCompression||!s.compress){l(e);return}if((r?Sl.byteLength(e):e.length)<this.httpCompression.threshold){l(e);return}const d=n8(this.req).encodings(["gzip","deflate"]);if(!d){l(e);return}this.compress(e,d,(u,p)=>{if(u){this.res.writeStatus("500 Internal Server Error"),this.res.end(),n(u);return}o["Content-Encoding"]=d,l(p)})}compress(e,s,n){Is("compressing");const r=[];let i=0;i8[s](this.httpCompression).on("error",n).on("data",function(o){r.push(o),i+=o.length}).on("end",function(){n(null,Sl.concat(r,i))}).end(e)}doClose(e){Is("closing");let s;const n=()=>{clearTimeout(s),e(),this.onClose()};this.writable?(Is("transport writable - closing right away"),this.send([{type:"close"}]),n()):this.discarded?(Is("transport discarded - closing right away"),n()):(Is("transport not writable - buffering orderly close"),this.shouldClose=n,s=setTimeout(n,this.closeTimeout))}headers(e,s){s=s||{};const n=e.headers["user-agent"];return n&&(~n.indexOf(";MSIE")||~n.indexOf("Trident/"))&&(s["X-XSS-Protection"]="0"),s["cache-control"]="no-store",this.emit("headers",s,e),s}}Sf.Polling=a8;var _f={},o8=["buffer","Buffer"];Object.defineProperty(_f,"__esModule",{value:!0});_f.WebSocket=void 0;const l8=vr,c8=xr,Qw=(0,c8.default)("engine:ws");let u8=class extends l8.Transport{constructor(e){super(e),this.writable=!1,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}send(e){this.writable=!1;for(let s=0;s<e.length;s++){const n=e[s],r=s+1===e.length,i=o=>{const l=typeof o!="string",c=this.perMessageDeflate&&o8.byteLength(o)>this.perMessageDeflate.threshold;Qw('writing "%s"',o),this.socket.send(o,l,c),r&&(this.emit("drain"),this.writable=!0,this.emit("ready"))};n.options&&typeof n.options.wsPreEncoded=="string"?i(n.options.wsPreEncoded):this.parser.encodePacket(n,this.supportsBinary,i)}}doClose(e){Qw("closing"),e&&e(),this.socket.end()}};_f.WebSocket=u8;Object.defineProperty(mx,"__esModule",{value:!0});const d8=Sf,p8=_f;mx.default={polling:d8.Polling,websocket:p8.WebSocket};var Vw=["buffer","Buffer"];Object.defineProperty(wf,"__esModule",{value:!0});wf.uServer=void 0;const f8=xr,ki=la,h8=mx,_r=(0,f8.default)("engine:uws");class m8 extends ki.BaseServer{init(){}cleanup(){}prepare(e,s){e.method=e.getMethod().toUpperCase(),e.url=e.getUrl();const n=new URLSearchParams(e.getQuery());e._query=Object.fromEntries(n.entries()),e.headers={},e.forEach((r,i)=>{e.headers[r]=i}),e.connection={remoteAddress:Vw.from(s.getRemoteAddressAsText()).toString()},s.onAborted(()=>{_r("response has been aborted")})}createTransport(e,s){return new h8.default[e](s)}attach(e,s={}){const n=this._computePath(s);e.any(n,this.handleRequest.bind(this)).ws(n,{compression:s.compression,idleTimeout:s.idleTimeout,maxBackpressure:s.maxBackpressure,maxPayloadLength:this.opts.maxHttpBufferSize,upgrade:this.handleUpgrade.bind(this),open:r=>{const i=r.getUserData().transport;i.socket=r,i.writable=!0,i.emit("ready")},message:(r,i,o)=>{r.getUserData().transport.onData(o?i:Vw.from(i).toString())},close:(r,i,o)=>{r.getUserData().transport.onClose(i,o)}})}_applyMiddlewares(e,s,n){if(this.middlewares.length===0)return n();e.res=new g8(s),super._applyMiddlewares(e,e.res,r=>{e.res.writeHead(),n(r)})}handleRequest(e,s){_r('handling "%s" http request "%s"',s.getMethod(),s.getUrl()),this.prepare(s,e),s.res=e;const n=(r,i)=>{if(r!==void 0){this.emit("connection_error",{req:s,code:r,message:ki.Server.errorMessages[r],context:i}),this.abortRequest(s.res,r,i);return}if(s._query.sid)_r("setting new request for existing client"),this.clients[s._query.sid].transport.onRequest(s);else{const o=(l,c)=>this.abortRequest(e,l,c);this.handshake(s._query.transport,s,o)}};this._applyMiddlewares(s,e,r=>{r?n(ki.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(s,!1,n)})}handleUpgrade(e,s,n){_r("on upgrade"),this.prepare(s,e),s.res=e;const r=async(i,o)=>{if(i!==void 0){this.emit("connection_error",{req:s,code:i,message:ki.Server.errorMessages[i],context:o}),this.abortRequest(e,i,o);return}const l=s._query.sid;let c;if(l){const d=this.clients[l];if(d){if(d.upgrading)return _r("transport has already been trying to upgrade"),e.close();if(d.upgraded)return _r("transport had already been upgraded"),e.close();_r("upgrading existing transport"),c=this.createTransport(s._query.transport,s),d._maybeUpgrade(c)}else return _r("upgrade attempt for closed client"),e.close()}else if(c=await this.handshake(s._query.transport,s,(d,u)=>this.abortRequest(e,d,u)),!c)return;s.res.writeStatus("101 Switching Protocols"),e.upgrade({transport:c},s.getHeader("sec-websocket-key"),s.getHeader("sec-websocket-protocol"),s.getHeader("sec-websocket-extensions"),n)};this._applyMiddlewares(s,e,i=>{i?r(ki.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(s,!0,r)})}abortRequest(e,s,n){const r=s===ki.Server.errors.FORBIDDEN?"403 Forbidden":"400 Bad Request",i=n&&n.message?n.message:ki.Server.errorMessages[s];e.writeStatus(r),e.writeHeader("Content-Type","application/json"),e.end(JSON.stringify({code:s,message:i}))}}wf.uServer=m8;class g8{constructor(e){this.res=e,this.statusWritten=!1,this.headers=[],this.isAborted=!1}set statusCode(e){e&&this.writeStatus(e===200?"200 OK":"204 No Content")}writeHead(e){this.statusCode=e}setHeader(e,s){Array.isArray(s)?s.forEach(n=>{this.writeHeader(e,n)}):this.writeHeader(e,s)}removeHeader(){}getHeader(){}writeStatus(e){if(!this.isAborted)return this.res.writeStatus(e),this.statusWritten=!0,this.writeBufferedHeaders(),this}writeHeader(e,s){this.isAborted||e!=="Content-Length"&&(this.statusWritten?this.res.writeHeader(e,s):this.headers.push([e,s]))}writeBufferedHeaders(){this.headers.forEach(([e,s])=>{this.res.writeHeader(e,s)})}end(e){this.isAborted||this.res.cork(()=>{this.statusWritten||this.writeBufferedHeaders(),this.res.end(e)})}onData(e){this.isAborted||this.res.onData(e)}onAborted(e){this.isAborted||this.res.onAborted(()=>{this.isAborted=!0,e()})}cork(e){this.isAborted||this.res.cork(e)}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.protocol=t.Transport=t.Socket=t.uServer=t.parser=t.transports=t.Server=void 0,t.listen=c,t.attach=d;const e=oe,s=la;Object.defineProperty(t,"Server",{enumerable:!0,get:function(){return s.Server}});const n=mf;t.transports=n.default;const r=gf;t.parser=r;var i=wf;Object.defineProperty(t,"uServer",{enumerable:!0,get:function(){return i.uServer}});var o=Zc;Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return o.Socket}});var l=vr;Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return l.Transport}}),t.protocol=r.protocol;function c(u,p,f){typeof p=="function"&&(f=p,p={});const y=(0,e.createServer)(function(h,b){b.writeHead(501),b.end("Not Implemented")}),g=d(y,p);return g.httpServer=y,y.listen(u,f),g}function d(u,p){const f=new s.Server(p);return f.attach(u,p),f}})(qT);var Ef={};const Nf=qc(IT);var iy={exports:{}};function y8(t){s.debug=s,s.default=s,s.coerce=c,s.disable=i,s.enable=r,s.enabled=o,s.humanize=yf,s.destroy=d,Object.keys(t).forEach(u=>{s[u]=t[u]}),s.names=[],s.skips=[],s.formatters={};function e(u){let p=0;for(let f=0;f<u.length;f++)p=(p<<5)-p+u.charCodeAt(f),p|=0;return s.colors[Math.abs(p)%s.colors.length]}s.selectColor=e;function s(u){let p,f=null,y,g;function h(...b){if(!h.enabled)return;const m=h,x=Number(new Date),k=x-(p||x);m.diff=k,m.prev=p,m.curr=x,p=x,b[0]=s.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let E=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(R,N)=>{if(R==="%%")return"%";E++;const _=s.formatters[N];if(typeof _=="function"){const O=b[E];R=_.call(m,O),b.splice(E,1),E--}return R}),s.formatArgs.call(m,b),(m.log||s.log).apply(m,b)}return h.namespace=u,h.useColors=s.useColors(),h.color=s.selectColor(u),h.extend=n,h.destroy=s.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(y!==s.namespaces&&(y=s.namespaces,g=s.enabled(u)),g),set:b=>{f=b}}),typeof s.init=="function"&&s.init(h),h}function n(u,p){const f=s(this.namespace+(typeof p>"u"?":":p)+u);return f.log=this.log,f}function r(u){s.save(u),s.namespaces=u,s.names=[],s.skips=[];let p;const f=(typeof u=="string"?u:"").split(/[\s,]+/),y=f.length;for(p=0;p<y;p++)f[p]&&(u=f[p].replace(/\*/g,".*?"),u[0]==="-"?s.skips.push(new RegExp("^"+u.slice(1)+"$")):s.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...s.names.map(l),...s.skips.map(l).map(p=>"-"+p)].join(",");return s.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let p,f;for(p=0,f=s.skips.length;p<f;p++)if(s.skips[p].test(u))return!1;for(p=0,f=s.names.length;p<f;p++)if(s.names[p].test(u))return!0;return!1}function l(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}var v8=y8;(function(t,e){var s={};e.formatArgs=r,e.save=i,e.load=o,e.useColors=n,e.storage=l(),e.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let d;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(d=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(d[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;d.splice(1,0,u,"color: inherit");let p=0,f=0;d[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(p++,y==="%c"&&(f=p))}),d.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function i(d){try{d?e.storage.setItem("debug",d):e.storage.removeItem("debug")}catch{}}function o(){let d;try{d=e.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=s.DEBUG),d}function l(){try{return localStorage}catch{}}t.exports=v8(e);const{formatters:c}=t.exports;c.j=function(d){try{return JSON.stringify(d)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(iy,iy.exports);var el=iy.exports;Object.defineProperty(Ef,"__esModule",{value:!0});Ef.Client=void 0;const qu=Nf,x8=el,b8=oe,Ws=x8("socket.io:client");let w8=class{constructor(e,s){this.sockets=new Map,this.nsps=new Map,this.server=e,this.conn=s,this.encoder=e.encoder,this.decoder=new e._parser.Decoder,this.id=s.id,this.setup()}get request(){return this.conn.request}setup(){this.onclose=this.onclose.bind(this),this.ondata=this.ondata.bind(this),this.onerror=this.onerror.bind(this),this.ondecoded=this.ondecoded.bind(this),this.decoder.on("decoded",this.ondecoded),this.conn.on("data",this.ondata),this.conn.on("error",this.onerror),this.conn.on("close",this.onclose),this.connectTimeout=setTimeout(()=>{this.nsps.size===0?(Ws("no namespace joined yet, close the client"),this.close()):Ws("the client has already joined a namespace, nothing to do")},this.server._connectTimeout)}connect(e,s={}){if(this.server._nsps.has(e))return Ws("connecting to namespace %s",e),this.doConnect(e,s);this.server._checkNamespace(e,s,n=>{n?this.doConnect(e,s):(Ws("creation of namespace %s was denied",e),this._packet({type:qu.PacketType.CONNECT_ERROR,nsp:e,data:{message:"Invalid namespace"}}))})}doConnect(e,s){const n=this.server.of(e);n._add(this,s,r=>{this.sockets.set(r.id,r),this.nsps.set(n.name,r),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)})}_disconnect(){for(const e of this.sockets.values())e.disconnect();this.sockets.clear(),this.close()}_remove(e){if(this.sockets.has(e.id)){const s=this.sockets.get(e.id).nsp.name;this.sockets.delete(e.id),this.nsps.delete(s)}else Ws("ignoring remove for %s",e.id)}close(){this.conn.readyState==="open"&&(Ws("forcing transport close"),this.conn.close(),this.onclose("forced server close"))}_packet(e,s={}){if(this.conn.readyState!=="open"){Ws("ignoring packet write %j",e);return}const n=s.preEncoded?e:this.encoder.encode(e);this.writeToEngine(n,s)}writeToEngine(e,s){if(s.volatile&&!this.conn.transport.writable){Ws("volatile packet is discarded since the transport is not currently writable");return}const n=Array.isArray(e)?e:[e];for(const r of n)this.conn.write(r,s)}ondata(e){try{this.decoder.add(e)}catch(s){Ws("invalid packet format"),this.onerror(s)}}ondecoded(e){let s,n;if(this.conn.protocol===3){const i=b8.parse(e.nsp,!0);s=i.pathname,n=i.query}else s=e.nsp,n=e.data;const r=this.nsps.get(s);!r&&e.type===qu.PacketType.CONNECT?this.connect(s,n):r&&e.type!==qu.PacketType.CONNECT&&e.type!==qu.PacketType.CONNECT_ERROR?process.nextTick(function(){r._onpacket(e)}):(Ws("invalid state (packet type: %s)",e.type),this.close())}onerror(e){for(const s of this.sockets.values())s._onerror(e);this.conn.close()}onclose(e,s){Ws("client close with reason %s",e),this.destroy();for(const n of this.sockets.values())n._onclose(e,s);this.sockets.clear(),this.decoder.destroy()}destroy(){this.conn.removeListener("data",this.ondata),this.conn.removeListener("error",this.onerror),this.conn.removeListener("close",this.onclose),this.decoder.removeListener("decoded",this.ondecoded),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)}};Ef.Client=w8;var gx={},eu={},tl={};Object.defineProperty(tl,"__esModule",{value:!0});tl.StrictEventEmitter=void 0;const S8=oe;class _8 extends S8.EventEmitter{on(e,s){return super.on(e,s)}once(e,s){return super.once(e,s)}emit(e,...s){return super.emit(e,...s)}emitReserved(e,...s){return super.emit(e,...s)}emitUntyped(e,...s){return super.emit(e,...s)}listeners(e){return super.listeners(e)}}tl.StrictEventEmitter=_8;var ua={},tu={};Object.defineProperty(tu,"__esModule",{value:!0});tu.RESERVED_EVENTS=void 0;tu.RESERVED_EVENTS=new Set(["connect","connect_error","disconnect","disconnecting","newListener","removeListener"]);Object.defineProperty(ua,"__esModule",{value:!0});ua.RemoteSocket=ua.BroadcastOperator=void 0;const E8=tu,N8=Nf;class Zn{constructor(e,s=new Set,n=new Set,r={}){this.adapter=e,this.rooms=s,this.exceptRooms=n,this.flags=r}to(e){const s=new Set(this.rooms);return Array.isArray(e)?e.forEach(n=>s.add(n)):s.add(e),new Zn(this.adapter,s,this.exceptRooms,this.flags)}in(e){return this.to(e)}except(e){const s=new Set(this.exceptRooms);return Array.isArray(e)?e.forEach(n=>s.add(n)):s.add(e),new Zn(this.adapter,this.rooms,s,this.flags)}compress(e){const s=Object.assign({},this.flags,{compress:e});return new Zn(this.adapter,this.rooms,this.exceptRooms,s)}get volatile(){const e=Object.assign({},this.flags,{volatile:!0});return new Zn(this.adapter,this.rooms,this.exceptRooms,e)}get local(){const e=Object.assign({},this.flags,{local:!0});return new Zn(this.adapter,this.rooms,this.exceptRooms,e)}timeout(e){const s=Object.assign({},this.flags,{timeout:e});return new Zn(this.adapter,this.rooms,this.exceptRooms,s)}emit(e,...s){if(E8.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);const n=[e,...s],r={type:N8.PacketType.EVENT,data:n};if(!(typeof n[n.length-1]=="function"))return this.adapter.broadcast(r,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags}),!0;const o=n.pop();let l=!1,c=[];const d=setTimeout(()=>{l=!0,o.apply(this,[new Error("operation has timed out"),this.flags.expectSingleResponse?null:c])},this.flags.timeout);let u=-1,p=0,f=0;const y=()=>{!l&&u===p&&c.length===f&&(clearTimeout(d),o.apply(this,[null,this.flags.expectSingleResponse?c[0]:c]))};return this.adapter.broadcastWithAck(r,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags},g=>{f+=g,p++,y()},g=>{c.push(g),y()}),this.adapter.serverCount().then(g=>{u=g,y()}),!0}emitWithAck(e,...s){return new Promise((n,r)=>{s.push((i,o)=>i?(i.responses=o,r(i)):n(o)),this.emit(e,...s)})}allSockets(){if(!this.adapter)throw new Error("No adapter for this namespace, are you trying to get the list of clients of a dynamic namespace?");return this.adapter.sockets(this.rooms)}fetchSockets(){return this.adapter.fetchSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags}).then(e=>e.map(s=>s.server?s:new eR(this.adapter,s)))}socketsJoin(e){this.adapter.addSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}socketsLeave(e){this.adapter.delSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}disconnectSockets(e=!1){this.adapter.disconnectSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},e)}}ua.BroadcastOperator=Zn;class eR{constructor(e,s){this.id=s.id,this.handshake=s.handshake,this.rooms=new Set(s.rooms),this.data=s.data,this.operator=new Zn(e,new Set([this.id]),new Set,{expectSingleResponse:!0})}timeout(e){return this.operator.timeout(e)}emit(e,...s){return this.operator.emit(e,...s)}join(e){return this.operator.socketsJoin(e)}leave(e){return this.operator.socketsLeave(e)}disconnect(e=!1){return this.operator.disconnectSockets(e),this}}ua.RemoteSocket=eR;var tR=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eu,"__esModule",{value:!0});eu.Socket=void 0;const Os=Nf,k8=tR(el),C8=tl,Hw=tR(VT),j8=ua,A8=tu,qt=(0,k8.default)("socket.io:socket"),T8=new Set(["transport error","transport close","forced close","ping timeout","server shutting down","forced server close"]);function Gw(){}let R8=class extends C8.StrictEventEmitter{constructor(e,s,n,r){super(),this.nsp=e,this.client=s,this.recovered=!1,this.data={},this.connected=!1,this.acks=new Map,this.fns=[],this.flags={},this.server=e.server,this.adapter=this.nsp.adapter,r?(this.id=r.sid,this.pid=r.pid,r.rooms.forEach(i=>this.join(i)),this.data=r.data,r.missedPackets.forEach(i=>{this.packet({type:Os.PacketType.EVENT,data:i})}),this.recovered=!0):(s.conn.protocol===3?this.id=e.name!=="/"?e.name+"#"+s.id:s.id:this.id=Hw.default.generateId(),this.server._opts.connectionStateRecovery&&(this.pid=Hw.default.generateId())),this.handshake=this.buildHandshake(n),this.on("error",Gw)}buildHandshake(e){var s,n,r,i;return{headers:((s=this.request)===null||s===void 0?void 0:s.headers)||{},time:new Date+"",address:this.conn.remoteAddress,xdomain:!!(!((n=this.request)===null||n===void 0)&&n.headers.origin),secure:!this.request||!!this.request.connection.encrypted,issued:+new Date,url:(r=this.request)===null||r===void 0?void 0:r.url,query:((i=this.request)===null||i===void 0?void 0:i._query)||{},auth:e}}emit(e,...s){if(A8.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);const n=[e,...s],r={type:Os.PacketType.EVENT,data:n};if(typeof n[n.length-1]=="function"){const o=this.nsp._ids++;qt("emitting packet with ack id %d",o),this.registerAckCallback(o,n.pop()),r.id=o}const i=Object.assign({},this.flags);return this.flags={},this.nsp.server.opts.connectionStateRecovery?this.adapter.broadcast(r,{rooms:new Set([this.id]),except:new Set,flags:i}):(this.notifyOutgoingListeners(r),this.packet(r,i)),!0}emitWithAck(e,...s){const n=this.flags.timeout!==void 0;return new Promise((r,i)=>{s.push((o,l)=>n?o?i(o):r(l):r(o)),this.emit(e,...s)})}registerAckCallback(e,s){const n=this.flags.timeout;if(n===void 0){this.acks.set(e,s);return}const r=setTimeout(()=>{qt("event with ack id %d has timed out after %d ms",e,n),this.acks.delete(e),s.call(this,new Error("operation has timed out"))},n);this.acks.set(e,(...i)=>{clearTimeout(r),s.apply(this,[null,...i])})}to(e){return this.newBroadcastOperator().to(e)}in(e){return this.newBroadcastOperator().in(e)}except(e){return this.newBroadcastOperator().except(e)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}packet(e,s={}){e.nsp=this.nsp.name,s.compress=s.compress!==!1,this.client._packet(e,s)}join(e){return qt("join room %s",e),this.adapter.addAll(this.id,new Set(Array.isArray(e)?e:[e]))}leave(e){return qt("leave room %s",e),this.adapter.del(this.id,e)}leaveAll(){this.adapter.delAll(this.id)}_onconnect(){qt("socket connected - writing packet"),this.connected=!0,this.join(this.id),this.conn.protocol===3?this.packet({type:Os.PacketType.CONNECT}):this.packet({type:Os.PacketType.CONNECT,data:{sid:this.id,pid:this.pid}})}_onpacket(e){switch(qt("got packet %j",e),e.type){case Os.PacketType.EVENT:this.onevent(e);break;case Os.PacketType.BINARY_EVENT:this.onevent(e);break;case Os.PacketType.ACK:this.onack(e);break;case Os.PacketType.BINARY_ACK:this.onack(e);break;case Os.PacketType.DISCONNECT:this.ondisconnect();break}}onevent(e){const s=e.data||[];if(qt("emitting event %j",s),e.id!=null&&(qt("attaching ack callback to event"),s.push(this.ack(e.id))),this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,s)}this.dispatch(s)}ack(e){const s=this;let n=!1;return function(){if(n)return;const r=Array.prototype.slice.call(arguments);qt("sending ack %j",r),s.packet({id:e,type:Os.PacketType.ACK,data:r}),n=!0}}onack(e){const s=this.acks.get(e.id);typeof s=="function"?(qt("calling ack %s with %j",e.id,e.data),s.apply(this,e.data),this.acks.delete(e.id)):qt("bad ack %s",e.id)}ondisconnect(){qt("got disconnect packet"),this._onclose("client namespace disconnect")}_onerror(e){this.emitReserved("error",e)}_onclose(e,s){if(!this.connected)return this;qt("closing socket - reason %s",e),this.emitReserved("disconnecting",e,s),this.server._opts.connectionStateRecovery&&T8.has(e)&&(qt("connection state recovery is enabled for sid %s",this.id),this.adapter.persistSession({sid:this.id,pid:this.pid,rooms:[...this.rooms],data:this.data})),this._cleanup(),this.client._remove(this),this.connected=!1,this.emitReserved("disconnect",e,s)}_cleanup(){this.leaveAll(),this.nsp._remove(this),this.join=Gw}_error(e){this.packet({type:Os.PacketType.CONNECT_ERROR,data:e})}disconnect(e=!1){return this.connected?(e?this.client._disconnect():(this.packet({type:Os.PacketType.DISCONNECT}),this._onclose("server namespace disconnect")),this):this}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}get broadcast(){return this.newBroadcastOperator()}get local(){return this.newBroadcastOperator().local}timeout(e){return this.flags.timeout=e,this}dispatch(e){qt("dispatching an event %j",e),this.run(e,s=>{process.nextTick(()=>{if(s)return this._onerror(s);this.connected?super.emitUntyped.apply(this,e):qt("ignore packet received after disconnection")})})}use(e){return this.fns.push(e),this}run(e,s){if(!this.fns.length)return s();const n=this.fns.slice(0);function r(i){n[i](e,o=>{if(o)return s(o);if(!n[i+1])return s();r(i+1)})}r(0)}get disconnected(){return!this.connected}get request(){return this.client.request}get conn(){return this.client.conn}get rooms(){return this.adapter.socketRooms(this.id)||new Set}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(e===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(e===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,e.data)}}newBroadcastOperator(){const e=Object.assign({},this.flags);return this.flags={},new j8.BroadcastOperator(this.adapter,new Set,new Set([this.id]),e)}};eu.Socket=R8;(function(t){var e=St&&St.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.Namespace=t.RESERVED_EVENTS=void 0;const s=eu,n=tl,r=e(el),i=ua,o=(0,r.default)("socket.io:namespace");t.RESERVED_EVENTS=new Set(["connect","connection","new_namespace"]);class l extends n.StrictEventEmitter{constructor(d,u){super(),this.sockets=new Map,this._preConnectSockets=new Map,this._fns=[],this._ids=0,this.server=d,this.name=u,this._initAdapter()}_initAdapter(){this.adapter=new(this.server.adapter())(this)}use(d){return this._fns.push(d),this}run(d,u){if(!this._fns.length)return u();const p=this._fns.slice(0);function f(y){p[y](d,g=>{if(g)return u(g);if(!p[y+1])return u();f(y+1)})}f(0)}to(d){return new i.BroadcastOperator(this.adapter).to(d)}in(d){return new i.BroadcastOperator(this.adapter).in(d)}except(d){return new i.BroadcastOperator(this.adapter).except(d)}async _add(d,u,p){var f;o("adding socket to nsp %s",this.name);const y=await this._createSocket(d,u);if(this._preConnectSockets.set(y.id,y),!((f=this.server.opts.connectionStateRecovery)===null||f===void 0)&&f.skipMiddlewares&&y.recovered&&d.conn.readyState==="open")return this._doConnect(y,p);this.run(y,g=>{process.nextTick(()=>{if(d.conn.readyState!=="open"){o("next called after client was closed - ignoring socket"),y._cleanup();return}if(g)return o("middleware error, sending CONNECT_ERROR packet to the client"),y._cleanup(),d.conn.protocol===3?y._error(g.data||g.message):y._error({message:g.message,data:g.data});this._doConnect(y,p)})})}async _createSocket(d,u){const p=u.pid,f=u.offset;if(this.server.opts.connectionStateRecovery&&typeof p=="string"&&typeof f=="string"){let y;try{y=await this.adapter.restoreSession(p,f)}catch(g){o("error while restoring session: %s",g)}if(y)return o("connection state recovered for sid %s",y.sid),new s.Socket(this,d,u,y)}return new s.Socket(this,d,u)}_doConnect(d,u){this._preConnectSockets.delete(d.id),this.sockets.set(d.id,d),d._onconnect(),u&&u(d),this.emitReserved("connect",d),this.emitReserved("connection",d)}_remove(d){this.sockets.delete(d.id)||this._preConnectSockets.delete(d.id)}emit(d,...u){return new i.BroadcastOperator(this.adapter).emit(d,...u)}send(...d){return this.emit("message",...d),this}write(...d){return this.emit("message",...d),this}serverSideEmit(d,...u){if(t.RESERVED_EVENTS.has(d))throw new Error(`"${String(d)}" is a reserved event name`);return u.unshift(d),this.adapter.serverSideEmit(u),!0}serverSideEmitWithAck(d,...u){return new Promise((p,f)=>{u.push((y,g)=>y?(y.responses=g,f(y)):p(g)),this.serverSideEmit(d,...u)})}_onServerSideEmit(d){super.emitUntyped.apply(this,d)}allSockets(){return new i.BroadcastOperator(this.adapter).allSockets()}compress(d){return new i.BroadcastOperator(this.adapter).compress(d)}get volatile(){return new i.BroadcastOperator(this.adapter).volatile}get local(){return new i.BroadcastOperator(this.adapter).local}timeout(d){return new i.BroadcastOperator(this.adapter).timeout(d)}fetchSockets(){return new i.BroadcastOperator(this.adapter).fetchSockets()}socketsJoin(d){return new i.BroadcastOperator(this.adapter).socketsJoin(d)}socketsLeave(d){return new i.BroadcastOperator(this.adapter).socketsLeave(d)}disconnectSockets(d=!1){return new i.BroadcastOperator(this.adapter).disconnectSockets(d)}}t.Namespace=l})(gx);var kf={},Cf={},da={},ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.yeast=ci.decode=ci.encode=void 0;const sR="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),fp=64,nR={};let Ww=0,Kr=0,Kw;function ay(t){let e="";do e=sR[t%fp]+e,t=Math.floor(t/fp);while(t>0);return e}ci.encode=ay;function I8(t){let e=0;for(Kr=0;Kr<t.length;Kr++)e=e*fp+nR[t.charAt(Kr)];return e}ci.decode=I8;function O8(){const t=ay(+new Date);return t!==Kw?(Ww=0,Kw=t):t+"."+ay(Ww++)}ci.yeast=O8;for(;Kr<fp;Kr++)nR[sR[Kr]]=Kr;var P8=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},D8=["buffer","Buffer"],Jh;Object.defineProperty(da,"__esModule",{value:!0});da.SessionAwareAdapter=da.Adapter=void 0;const M8=oe,L8=ci,Td=P8,F8=typeof((Jh=Td==null?void 0:Td.Sender)===null||Jh===void 0?void 0:Jh.frame)=="function";class rR extends M8.EventEmitter{constructor(e){super(),this.nsp=e,this.rooms=new Map,this.sids=new Map,this.encoder=e.server.encoder}init(){}close(){}serverCount(){return Promise.resolve(1)}addAll(e,s){this.sids.has(e)||this.sids.set(e,new Set);for(const n of s)this.sids.get(e).add(n),this.rooms.has(n)||(this.rooms.set(n,new Set),this.emit("create-room",n)),this.rooms.get(n).has(e)||(this.rooms.get(n).add(e),this.emit("join-room",n,e))}del(e,s){this.sids.has(e)&&this.sids.get(e).delete(s),this._del(s,e)}_del(e,s){const n=this.rooms.get(e);n!=null&&(n.delete(s)&&this.emit("leave-room",e,s),n.size===0&&this.rooms.delete(e)&&this.emit("delete-room",e))}delAll(e){if(this.sids.has(e)){for(const s of this.sids.get(e))this._del(s,e);this.sids.delete(e)}}broadcast(e,s){const n=s.flags||{},r={preEncoded:!0,volatile:n.volatile,compress:n.compress};e.nsp=this.nsp.name;const i=this._encode(e,r);this.apply(s,o=>{typeof o.notifyOutgoingListeners=="function"&&o.notifyOutgoingListeners(e),o.client.writeToEngine(i,r)})}broadcastWithAck(e,s,n,r){const i=s.flags||{},o={preEncoded:!0,volatile:i.volatile,compress:i.compress};e.nsp=this.nsp.name,e.id=this.nsp._ids++;const l=this._encode(e,o);let c=0;this.apply(s,d=>{c++,d.acks.set(e.id,r),typeof d.notifyOutgoingListeners=="function"&&d.notifyOutgoingListeners(e),d.client.writeToEngine(l,o)}),n(c)}_encode(e,s){const n=this.encoder.encode(e);if(F8&&n.length===1&&typeof n[0]=="string"){const r=D8.from("4"+n[0]);s.wsPreEncodedFrame=Td.Sender.frame(r,{readOnly:!1,mask:!1,rsv1:!1,opcode:1,fin:!0})}return n}sockets(e){const s=new Set;return this.apply({rooms:e},n=>{s.add(n.id)}),Promise.resolve(s)}socketRooms(e){return this.sids.get(e)}fetchSockets(e){const s=[];return this.apply(e,n=>{s.push(n)}),Promise.resolve(s)}addSockets(e,s){this.apply(e,n=>{n.join(s)})}delSockets(e,s){this.apply(e,n=>{s.forEach(r=>n.leave(r))})}disconnectSockets(e,s){this.apply(e,n=>{n.disconnect(s)})}apply(e,s){const n=e.rooms,r=this.computeExceptSids(e.except);if(n.size){const i=new Set;for(const o of n)if(this.rooms.has(o))for(const l of this.rooms.get(o)){if(i.has(l)||r.has(l))continue;const c=this.nsp.sockets.get(l);c&&(s(c),i.add(l))}}else for(const[i]of this.sids){if(r.has(i))continue;const o=this.nsp.sockets.get(i);o&&s(o)}}computeExceptSids(e){const s=new Set;if(e&&e.size>0)for(const n of e)this.rooms.has(n)&&this.rooms.get(n).forEach(r=>s.add(r));return s}serverSideEmit(e){console.warn("this adapter does not support the serverSideEmit() functionality")}persistSession(e){}restoreSession(e,s){return null}}da.Adapter=rR;class B8 extends rR{constructor(e){super(e),this.nsp=e,this.sessions=new Map,this.packets=[],this.maxDisconnectionDuration=e.server.opts.connectionStateRecovery.maxDisconnectionDuration,setInterval(()=>{const n=Date.now()-this.maxDisconnectionDuration;this.sessions.forEach((r,i)=>{r.disconnectedAt<n&&this.sessions.delete(i)});for(let r=this.packets.length-1;r>=0;r--)if(this.packets[r].emittedAt<n){this.packets.splice(0,r+1);break}},60*1e3).unref()}persistSession(e){e.disconnectedAt=Date.now(),this.sessions.set(e.pid,e)}restoreSession(e,s){const n=this.sessions.get(e);if(!n)return null;if(n.disconnectedAt+this.maxDisconnectionDuration<Date.now())return this.sessions.delete(e),null;const i=this.packets.findIndex(l=>l.id===s);if(i===-1)return null;const o=[];for(let l=i+1;l<this.packets.length;l++){const c=this.packets[l];$8(n.rooms,c.opts)&&o.push(c.data)}return Promise.resolve(Object.assign(Object.assign({},n),{missedPackets:o}))}broadcast(e,s){var n;const r=e.type===2,i=e.id===void 0,o=((n=s.flags)===null||n===void 0?void 0:n.volatile)===void 0;if(r&&i&&o){const l=(0,L8.yeast)();e.data.push(l),this.packets.push({id:l,opts:s,data:e.data,emittedAt:Date.now()})}super.broadcast(e,s)}}da.SessionAwareAdapter=B8;function $8(t,e){const s=e.rooms.size===0||t.some(r=>e.rooms.has(r)),n=t.every(r=>!e.except.has(r));return s&&n}var iR={},oy={exports:{}};function U8(t){s.debug=s,s.default=s,s.coerce=c,s.disable=i,s.enable=r,s.enabled=o,s.humanize=yf,s.destroy=d,Object.keys(t).forEach(u=>{s[u]=t[u]}),s.names=[],s.skips=[],s.formatters={};function e(u){let p=0;for(let f=0;f<u.length;f++)p=(p<<5)-p+u.charCodeAt(f),p|=0;return s.colors[Math.abs(p)%s.colors.length]}s.selectColor=e;function s(u){let p,f=null,y,g;function h(...b){if(!h.enabled)return;const m=h,x=Number(new Date),k=x-(p||x);m.diff=k,m.prev=p,m.curr=x,p=x,b[0]=s.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let E=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(R,N)=>{if(R==="%%")return"%";E++;const _=s.formatters[N];if(typeof _=="function"){const O=b[E];R=_.call(m,O),b.splice(E,1),E--}return R}),s.formatArgs.call(m,b),(m.log||s.log).apply(m,b)}return h.namespace=u,h.useColors=s.useColors(),h.color=s.selectColor(u),h.extend=n,h.destroy=s.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(y!==s.namespaces&&(y=s.namespaces,g=s.enabled(u)),g),set:b=>{f=b}}),typeof s.init=="function"&&s.init(h),h}function n(u,p){const f=s(this.namespace+(typeof p>"u"?":":p)+u);return f.log=this.log,f}function r(u){s.save(u),s.namespaces=u,s.names=[],s.skips=[];let p;const f=(typeof u=="string"?u:"").split(/[\s,]+/),y=f.length;for(p=0;p<y;p++)f[p]&&(u=f[p].replace(/\*/g,".*?"),u[0]==="-"?s.skips.push(new RegExp("^"+u.slice(1)+"$")):s.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...s.names.map(l),...s.skips.map(l).map(p=>"-"+p)].join(",");return s.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let p,f;for(p=0,f=s.skips.length;p<f;p++)if(s.skips[p].test(u))return!1;for(p=0,f=s.names.length;p<f;p++)if(s.names[p].test(u))return!0;return!1}function l(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}var z8=U8;(function(t,e){var s={};e.formatArgs=r,e.save=i,e.load=o,e.useColors=n,e.storage=l(),e.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let d;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(d=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(d[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;d.splice(1,0,u,"color: inherit");let p=0,f=0;d[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(p++,y==="%c"&&(f=p))}),d.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function i(d){try{d?e.storage.setItem("debug",d):e.storage.removeItem("debug")}catch{}}function o(){let d;try{d=e.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=s.DEBUG),d}function l(){try{return localStorage}catch{}}t.exports=z8(e);const{formatters:c}=t.exports;c.j=function(d){try{return JSON.stringify(d)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(oy,oy.exports);var q8=oy.exports;(function(t){var e=St&&St.__rest||function(g,h){var b={};for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&h.indexOf(m)<0&&(b[m]=g[m]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,m=Object.getOwnPropertySymbols(g);x<m.length;x++)h.indexOf(m[x])<0&&Object.prototype.propertyIsEnumerable.call(g,m[x])&&(b[m[x]]=g[m[x]]);return b};Object.defineProperty(t,"__esModule",{value:!0}),t.ClusterAdapterWithHeartbeat=t.ClusterAdapter=t.MessageType=void 0;const s=da,n=q8,r=oe,i=(0,n.debug)("socket.io-adapter"),o="emitter",l=5e3;function c(){return(0,r.randomBytes)(8).toString("hex")}var d;(function(g){g[g.INITIAL_HEARTBEAT=1]="INITIAL_HEARTBEAT",g[g.HEARTBEAT=2]="HEARTBEAT",g[g.BROADCAST=3]="BROADCAST",g[g.SOCKETS_JOIN=4]="SOCKETS_JOIN",g[g.SOCKETS_LEAVE=5]="SOCKETS_LEAVE",g[g.DISCONNECT_SOCKETS=6]="DISCONNECT_SOCKETS",g[g.FETCH_SOCKETS=7]="FETCH_SOCKETS",g[g.FETCH_SOCKETS_RESPONSE=8]="FETCH_SOCKETS_RESPONSE",g[g.SERVER_SIDE_EMIT=9]="SERVER_SIDE_EMIT",g[g.SERVER_SIDE_EMIT_RESPONSE=10]="SERVER_SIDE_EMIT_RESPONSE",g[g.BROADCAST_CLIENT_COUNT=11]="BROADCAST_CLIENT_COUNT",g[g.BROADCAST_ACK=12]="BROADCAST_ACK",g[g.ADAPTER_CLOSE=13]="ADAPTER_CLOSE"})(d=t.MessageType||(t.MessageType={}));function u(g){return{rooms:[...g.rooms],except:[...g.except],flags:g.flags}}function p(g){return{rooms:new Set(g.rooms),except:new Set(g.except),flags:g.flags}}class f extends s.Adapter{constructor(h){super(h),this.requests=new Map,this.ackRequests=new Map,this.uid=c()}onMessage(h,b){if(h.uid===this.uid)return i("[%s] ignore message from self",this.uid);switch(i("[%s] new event of type %d from %s",this.uid,h.type,h.uid),h.type){case d.BROADCAST:{if(h.data.requestId!==void 0)super.broadcastWithAck(h.data.packet,p(h.data.opts),x=>{i("[%s] waiting for %d client acknowledgements",this.uid,x),this.publishResponse(h.uid,{type:d.BROADCAST_CLIENT_COUNT,data:{requestId:h.data.requestId,clientCount:x}})},x=>{i("[%s] received acknowledgement with value %j",this.uid,x),this.publishResponse(h.uid,{type:d.BROADCAST_ACK,data:{requestId:h.data.requestId,packet:x}})});else{const x=h.data.packet,k=p(h.data.opts);this.addOffsetIfNecessary(x,k,b),super.broadcast(x,k)}break}case d.SOCKETS_JOIN:super.addSockets(p(h.data.opts),h.data.rooms);break;case d.SOCKETS_LEAVE:super.delSockets(p(h.data.opts),h.data.rooms);break;case d.DISCONNECT_SOCKETS:super.disconnectSockets(p(h.data.opts),h.data.close);break;case d.FETCH_SOCKETS:{i("[%s] calling fetchSockets with opts %j",this.uid,h.data.opts),super.fetchSockets(p(h.data.opts)).then(m=>{this.publishResponse(h.uid,{type:d.FETCH_SOCKETS_RESPONSE,data:{requestId:h.data.requestId,sockets:m.map(x=>{const k=x.handshake,{sessionStore:E}=k,C=e(k,["sessionStore"]);return{id:x.id,handshake:C,rooms:[...x.rooms],data:x.data}})}})});break}case d.SERVER_SIDE_EMIT:{const m=h.data.packet;if(!(h.data.requestId!==void 0)){this.nsp._onServerSideEmit(m);return}let k=!1;const E=C=>{k||(k=!0,i("[%s] calling acknowledgement with %j",this.uid,C),this.publishResponse(h.uid,{type:d.SERVER_SIDE_EMIT_RESPONSE,data:{requestId:h.data.requestId,packet:C}}))};this.nsp._onServerSideEmit([...m,E]);break}case d.BROADCAST_CLIENT_COUNT:case d.BROADCAST_ACK:case d.FETCH_SOCKETS_RESPONSE:case d.SERVER_SIDE_EMIT_RESPONSE:this.onResponse(h);break;default:i("[%s] unknown message type: %s",this.uid,h.type)}}onResponse(h){var b,m;const x=h.data.requestId;switch(i("[%s] received response %s to request %s",this.uid,h.type,x),h.type){case d.BROADCAST_CLIENT_COUNT:{(b=this.ackRequests.get(x))===null||b===void 0||b.clientCountCallback(h.data.clientCount);break}case d.BROADCAST_ACK:{(m=this.ackRequests.get(x))===null||m===void 0||m.ack(h.data.packet);break}case d.FETCH_SOCKETS_RESPONSE:{const k=this.requests.get(x);if(!k)return;k.current++,h.data.sockets.forEach(E=>k.responses.push(E)),k.current===k.expected&&(clearTimeout(k.timeout),k.resolve(k.responses),this.requests.delete(x));break}case d.SERVER_SIDE_EMIT_RESPONSE:{const k=this.requests.get(x);if(!k)return;k.current++,k.responses.push(h.data.packet),k.current===k.expected&&(clearTimeout(k.timeout),k.resolve(null,k.responses),this.requests.delete(x));break}default:i("[%s] unknown response type: %s",this.uid,h.type)}}async broadcast(h,b){var m;if(!((m=b.flags)===null||m===void 0?void 0:m.local))try{const k=await this.publishAndReturnOffset({type:d.BROADCAST,data:{packet:h,opts:u(b)}});this.addOffsetIfNecessary(h,b,k)}catch(k){return i("[%s] error while broadcasting message: %s",this.uid,k.message)}super.broadcast(h,b)}addOffsetIfNecessary(h,b,m){var x;if(!this.nsp.server.opts.connectionStateRecovery)return;const k=h.type===2,E=h.id===void 0,C=((x=b.flags)===null||x===void 0?void 0:x.volatile)===void 0;k&&E&&C&&h.data.push(m)}broadcastWithAck(h,b,m,x){var k;if(!((k=b==null?void 0:b.flags)===null||k===void 0?void 0:k.local)){const C=c();this.ackRequests.set(C,{clientCountCallback:m,ack:x}),this.publish({type:d.BROADCAST,data:{packet:h,requestId:C,opts:u(b)}}),setTimeout(()=>{this.ackRequests.delete(C)},b.flags.timeout)}super.broadcastWithAck(h,b,m,x)}async addSockets(h,b){var m;if(!((m=h.flags)===null||m===void 0?void 0:m.local))try{await this.publishAndReturnOffset({type:d.SOCKETS_JOIN,data:{opts:u(h),rooms:b}})}catch(k){i("[%s] error while publishing message: %s",this.uid,k.message)}super.addSockets(h,b)}async delSockets(h,b){var m;if(!((m=h.flags)===null||m===void 0?void 0:m.local))try{await this.publishAndReturnOffset({type:d.SOCKETS_LEAVE,data:{opts:u(h),rooms:b}})}catch(k){i("[%s] error while publishing message: %s",this.uid,k.message)}super.delSockets(h,b)}async disconnectSockets(h,b){var m;if(!((m=h.flags)===null||m===void 0?void 0:m.local))try{await this.publishAndReturnOffset({type:d.DISCONNECT_SOCKETS,data:{opts:u(h),close:b}})}catch(k){i("[%s] error while publishing message: %s",this.uid,k.message)}super.disconnectSockets(h,b)}async fetchSockets(h){var b;const[m,x]=await Promise.all([super.fetchSockets(h),this.serverCount()]),k=x-1;if(!((b=h.flags)===null||b===void 0)&&b.local||k<=0)return m;const E=c();return new Promise((C,R)=>{const N=setTimeout(()=>{const O=this.requests.get(E);O&&(R(new Error(`timeout reached: only ${O.current} responses received out of ${O.expected}`)),this.requests.delete(E))},h.flags.timeout||l),_={type:d.FETCH_SOCKETS,resolve:C,timeout:N,current:0,expected:k,responses:m};this.requests.set(E,_),this.publish({type:d.FETCH_SOCKETS,data:{opts:u(h),requestId:E}})})}async serverSideEmit(h){if(!(typeof h[h.length-1]=="function"))return this.publish({type:d.SERVER_SIDE_EMIT,data:{packet:h}});const m=h.pop(),x=await this.serverCount()-1;if(i('[%s] waiting for %d responses to "serverSideEmit" request',this.uid,x),x<=0)return m(null,[]);const k=c(),E=setTimeout(()=>{const R=this.requests.get(k);R&&(m(new Error(`timeout reached: only ${R.current} responses received out of ${R.expected}`),R.responses),this.requests.delete(k))},l),C={type:d.SERVER_SIDE_EMIT,resolve:m,timeout:E,current:0,expected:x,responses:[]};this.requests.set(k,C),this.publish({type:d.SERVER_SIDE_EMIT,data:{requestId:k,packet:h}})}publish(h){this.publishAndReturnOffset(h).catch(b=>{i("[%s] error while publishing message: %s",this.uid,b)})}publishAndReturnOffset(h){return h.uid=this.uid,h.nsp=this.nsp.name,this.doPublish(h)}publishResponse(h,b){b.uid=this.uid,b.nsp=this.nsp.name,this.doPublishResponse(h,b).catch(m=>{i("[%s] error while publishing response: %s",this.uid,m)})}}t.ClusterAdapter=f;class y extends f{constructor(h,b){super(h),this.nodesMap=new Map,this.customRequests=new Map,this._opts=Object.assign({heartbeatInterval:5e3,heartbeatTimeout:1e4},b),this.cleanupTimer=setInterval(()=>{const m=Date.now();this.nodesMap.forEach((x,k)=>{m-x>this._opts.heartbeatTimeout&&(i("[%s] node %s seems down",this.uid,k),this.removeNode(k))})},1e3)}init(){this.publish({type:d.INITIAL_HEARTBEAT})}scheduleHeartbeat(){this.heartbeatTimer?this.heartbeatTimer.refresh():this.heartbeatTimer=setTimeout(()=>{this.publish({type:d.HEARTBEAT})},this._opts.heartbeatInterval)}close(){this.publish({type:d.ADAPTER_CLOSE}),clearTimeout(this.heartbeatTimer),this.cleanupTimer&&clearInterval(this.cleanupTimer)}onMessage(h,b){if(h.uid===this.uid)return i("[%s] ignore message from self",this.uid);switch(h.uid&&h.uid!==o&&this.nodesMap.set(h.uid,Date.now()),i("[%s] new event of type %d from %s",this.uid,h.type,h.uid),h.type){case d.INITIAL_HEARTBEAT:this.publish({type:d.HEARTBEAT});break;case d.HEARTBEAT:break;case d.ADAPTER_CLOSE:this.removeNode(h.uid);break;default:super.onMessage(h,b)}}serverCount(){return Promise.resolve(1+this.nodesMap.size)}publish(h){return this.scheduleHeartbeat(),super.publish(h)}async serverSideEmit(h){if(!(typeof h[h.length-1]=="function"))return this.publish({type:d.SERVER_SIDE_EMIT,data:{packet:h}});const m=h.pop(),x=this.nodesMap.size;if(i('[%s] waiting for %d responses to "serverSideEmit" request',this.uid,x),x<=0)return m(null,[]);const k=c(),E=setTimeout(()=>{const R=this.customRequests.get(k);R&&(m(new Error(`timeout reached: missing ${R.missingUids.size} responses`),R.responses),this.customRequests.delete(k))},l),C={type:d.SERVER_SIDE_EMIT,resolve:m,timeout:E,missingUids:new Set([...this.nodesMap.keys()]),responses:[]};this.customRequests.set(k,C),this.publish({type:d.SERVER_SIDE_EMIT,data:{requestId:k,packet:h}})}async fetchSockets(h){var b;const[m,x]=await Promise.all([super.fetchSockets({rooms:h.rooms,except:h.except,flags:{local:!0}}),this.serverCount()]),k=x-1;if(!((b=h.flags)===null||b===void 0)&&b.local||k<=0)return m;const E=c();return new Promise((C,R)=>{const N=setTimeout(()=>{const O=this.customRequests.get(E);O&&(R(new Error(`timeout reached: missing ${O.missingUids.size} responses`)),this.customRequests.delete(E))},h.flags.timeout||l),_={type:d.FETCH_SOCKETS,resolve:C,timeout:N,missingUids:new Set([...this.nodesMap.keys()]),responses:m};this.customRequests.set(E,_),this.publish({type:d.FETCH_SOCKETS,data:{opts:u(h),requestId:E}})})}onResponse(h){const b=h.data.requestId;switch(i("[%s] received response %s to request %s",this.uid,h.type,b),h.type){case d.FETCH_SOCKETS_RESPONSE:{const m=this.customRequests.get(b);if(!m)return;h.data.sockets.forEach(x=>m.responses.push(x)),m.missingUids.delete(h.uid),m.missingUids.size===0&&(clearTimeout(m.timeout),m.resolve(m.responses),this.customRequests.delete(b));break}case d.SERVER_SIDE_EMIT_RESPONSE:{const m=this.customRequests.get(b);if(!m)return;m.responses.push(h.data.packet),m.missingUids.delete(h.uid),m.missingUids.size===0&&(clearTimeout(m.timeout),m.resolve(null,m.responses),this.customRequests.delete(b));break}default:super.onResponse(h)}}removeNode(h){this.customRequests.forEach((b,m)=>{b.missingUids.delete(h),b.missingUids.size===0&&(clearTimeout(b.timeout),b.type===d.FETCH_SOCKETS?b.resolve(b.responses):b.type===d.SERVER_SIDE_EMIT&&b.resolve(null,b.responses),this.customRequests.delete(m))}),this.nodesMap.delete(h)}}t.ClusterAdapterWithHeartbeat=y})(iR);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageType=t.ClusterAdapterWithHeartbeat=t.ClusterAdapter=t.SessionAwareAdapter=t.Adapter=void 0;var e=da;Object.defineProperty(t,"Adapter",{enumerable:!0,get:function(){return e.Adapter}}),Object.defineProperty(t,"SessionAwareAdapter",{enumerable:!0,get:function(){return e.SessionAwareAdapter}});var s=iR;Object.defineProperty(t,"ClusterAdapter",{enumerable:!0,get:function(){return s.ClusterAdapter}}),Object.defineProperty(t,"ClusterAdapterWithHeartbeat",{enumerable:!0,get:function(){return s.ClusterAdapterWithHeartbeat}}),Object.defineProperty(t,"MessageType",{enumerable:!0,get:function(){return s.MessageType}})})(Cf);var Q8=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kf,"__esModule",{value:!0});kf.ParentNamespace=void 0;const Yw=gx,V8=Cf,H8=Q8(el),Jw=(0,H8.default)("socket.io:parent-namespace");class jf extends Yw.Namespace{constructor(e){super(e,"/_"+jf.count++),this.children=new Set}_initAdapter(){this.adapter=new G8(this)}emit(e,...s){return this.children.forEach(n=>{n.emit(e,...s)}),!0}createChild(e){Jw("creating child namespace %s",e);const s=new Yw.Namespace(this.server,e);if(this._fns.forEach(n=>s.use(n)),this.listeners("connect").forEach(n=>s.on("connect",n)),this.listeners("connection").forEach(n=>s.on("connection",n)),this.children.add(s),this.server._opts.cleanupEmptyChildNamespaces){const n=s._remove;s._remove=r=>{n.call(s,r),s.sockets.size===0&&(Jw("closing child namespace %s",e),s.adapter.close(),this.server._nsps.delete(s.name),this.children.delete(s))}}return this.server._nsps.set(e,s),this.server.sockets.emitReserved("new_namespace",s),s}fetchSockets(){throw new Error("fetchSockets() is not supported on parent namespaces")}}kf.ParentNamespace=jf;jf.count=0;class G8 extends V8.Adapter{broadcast(e,s){this.nsp.children.forEach(n=>{n.adapter.broadcast(e,s)})}}var su={},W8=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(su,"__esModule",{value:!0});su.patchAdapter=Y8;su.restoreAdapter=J8;su.serveFile=Z8;const Ji=Cf,Xw=oe,K8=W8(el),hp=(0,K8.default)("socket.io:adapter-uws"),ly="",{addAll:aR,del:oR,broadcast:lR}=Ji.Adapter.prototype;function Y8(t){Ji.Adapter.prototype.addAll=function(e,s){const n=!this.sids.has(e);aR.call(this,e,s);const r=this.nsp.sockets.get(e)||this.nsp._preConnectSockets.get(e);if(r){if(r.conn.transport.name==="websocket"){Zw(this.nsp.name,r,n,s);return}n&&r.conn.on("upgrade",()=>{const i=this.sids.get(e);i&&Zw(this.nsp.name,r,n,i)})}},Ji.Adapter.prototype.del=function(e,s){oR.call(this,e,s);const n=this.nsp.sockets.get(e)||this.nsp._preConnectSockets.get(e);if(n&&n.conn.transport.name==="websocket"){const r=n.conn.id,i=n.conn.transport.socket,o=`${this.nsp.name}${ly}${s}`;hp("unsubscribe connection %s from topic %s",r,o),i.unsubscribe(o)}},Ji.Adapter.prototype.broadcast=function(e,s){if(!(s.rooms.size<=1&&s.except.size===0)){lR.call(this,e,s);return}const r=s.flags||{},i={preEncoded:!0,volatile:r.volatile,compress:r.compress};e.nsp=this.nsp.name;const o=this.encoder.encode(e),l=s.rooms.size===0?this.nsp.name:`${this.nsp.name}${ly}${s.rooms.keys().next().value}`;hp("fast publish to %s",l),o.forEach(c=>{const d=typeof c!="string";t.publish(l,d?c:"4"+c,d)}),this.apply(s,c=>{c.conn.transport.name!=="websocket"&&c.client.writeToEngine(o,i)})}}function Zw(t,e,s,n){const r=e.conn.id,i=e.conn.transport.socket;s&&(hp("subscribe connection %s to topic %s",r,t),i.subscribe(t)),n.forEach(o=>{const l=`${t}${ly}${o}`;hp("subscribe connection %s to topic %s",r,l),i.subscribe(l)})}function J8(){Ji.Adapter.prototype.addAll=aR,Ji.Adapter.prototype.del=oR,Ji.Adapter.prototype.broadcast=lR}const X8=t=>{const{buffer:e,byteOffset:s,byteLength:n}=t;return e.slice(s,s+n)};function Z8(t,e){const{size:s}=(0,Xw.statSync)(e),n=(0,Xw.createReadStream)(e),r=()=>!n.destroyed&&n.destroy(),i=l=>{throw r(),l},o=l=>{const c=X8(l);t.cork(()=>{const d=t.getWriteOffset(),[u,p]=t.tryEnd(c,s);!p&&!u&&(n.pause(),t.onWritable(f=>{const[y,g]=t.tryEnd(c.slice(f-d),s);return!g&&y&&n.resume(),y}))})};t.onAborted(r),n.on("data",o).on("error",i).on("end",r)}const e$="4.8.1",t$={version:e$};(function(t,e){var s=St&&St.__createBinding||(Object.create?function(L,w,I,B){B===void 0&&(B=I);var F=Object.getOwnPropertyDescriptor(w,I);(!F||("get"in F?!w.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return w[I]}}),Object.defineProperty(L,B,F)}:function(L,w,I,B){B===void 0&&(B=I),L[B]=w[I]}),n=St&&St.__setModuleDefault||(Object.create?function(L,w){Object.defineProperty(L,"default",{enumerable:!0,value:w})}:function(L,w){L.default=w}),r=St&&St.__importStar||function(L){if(L&&L.__esModule)return L;var w={};if(L!=null)for(var I in L)I!=="default"&&Object.prototype.hasOwnProperty.call(L,I)&&s(w,L,I);return n(w,L),w},i=St&&St.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(e,"__esModule",{value:!0}),e.Namespace=e.Socket=e.Server=void 0;const o=oe,l=oe,c=oe,d=px,u=oe,p=oe,f=qT,y=Ef,g=oe,h=gx;Object.defineProperty(e,"Namespace",{enumerable:!0,get:function(){return h.Namespace}});const b=kf,m=Cf,x=r(Nf),k=i(el),E=eu;Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return E.Socket}});const C=tl,R=su,N=i(XT),_=(0,k.default)("socket.io:server"),O=t$.version,T=/\.map/;class D extends C.StrictEventEmitter{constructor(w,I={}){super(),this._nsps=new Map,this.parentNsps=new Map,this.parentNamespacesFromRegExp=new Map,typeof w=="object"&&w instanceof Object&&!w.listen&&(I=w,w=void 0),this.path(I.path||"/socket.io"),this.connectTimeout(I.connectTimeout||45e3),this.serveClient(I.serveClient!==!1),this._parser=I.parser||x,this.encoder=new this._parser.Encoder,this.opts=I,I.connectionStateRecovery?(I.connectionStateRecovery=Object.assign({maxDisconnectionDuration:2*60*1e3,skipMiddlewares:!0},I.connectionStateRecovery),this.adapter(I.adapter||m.SessionAwareAdapter)):this.adapter(I.adapter||m.Adapter),I.cleanupEmptyChildNamespaces=!!I.cleanupEmptyChildNamespaces,this.sockets=this.of("/"),(w||typeof w=="number")&&this.attach(w),this.opts.cors&&(this._corsMiddleware=(0,N.default)(this.opts.cors))}get _opts(){return this.opts}serveClient(w){return arguments.length?(this._serveClient=w,this):this._serveClient}_checkNamespace(w,I,B){if(this.parentNsps.size===0)return B(!1);const F=this.parentNsps.keys(),U=()=>{const H=F.next();if(H.done)return B(!1);H.value(w,I,(Y,G)=>{if(Y||!G)return U();if(this._nsps.has(w))return _("dynamic namespace %s already exists",w),B(this._nsps.get(w));const te=this.parentNsps.get(H.value).createChild(w);_("dynamic namespace %s was created",w),B(te)})};U()}path(w){if(!arguments.length)return this._path;this._path=w.replace(/\/$/,"");const I=this._path.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return this.clientPathRegex=new RegExp("^"+I+"/socket\\.io(\\.msgpack|\\.esm)?(\\.min)?\\.js(\\.map)?(?:\\?|$)"),this}connectTimeout(w){return w===void 0?this._connectTimeout:(this._connectTimeout=w,this)}adapter(w){if(!arguments.length)return this._adapter;this._adapter=w;for(const I of this._nsps.values())I._initAdapter();return this}listen(w,I={}){return this.attach(w,I)}attach(w,I={}){if(typeof w=="function"){const B="You are trying to attach socket.io to an express request handler function. Please pass a http.Server instance.";throw new Error(B)}if(Number(w)==w&&(w=Number(w)),typeof w=="number"){_("creating http server and binding to %d",w);const B=w;w=o.createServer((F,U)=>{U.writeHead(404),U.end()}),w.listen(B)}return Object.assign(I,this.opts),I.path=I.path||this._path,this.initEngine(w,I),this}attachApp(w,I={}){Object.assign(I,this.opts),I.path=I.path||this._path,_("creating uWebSockets.js-based engine with opts %j",I);const B=new f.uServer(I);B.attach(w,I),this.bind(B),this._serveClient&&w.get(`${this._path}/*`,(F,U)=>{if(!this.clientPathRegex.test(U.getUrl())){U.setYield(!0);return}const H=U.getUrl().replace(this._path,"").replace(/\?.*$/,"").replace(/^\//,""),Y=T.test(H),G=Y?"map":"source",te='"'+O+'"',we="W/"+te,Re=U.getHeader("if-none-match");if(Re&&(te===Re||we===Re)){_("serve client %s 304",G),F.writeStatus("304 Not Modified"),F.end();return}_("serve client %s",G),F.writeHeader("cache-control","public, max-age=0"),F.writeHeader("content-type","application/"+(Y?"json":"javascript")+"; charset=utf-8"),F.writeHeader("etag",te);const $e=p.join(__dirname,"../client-dist/",H);(0,R.serveFile)(F,$e)}),(0,R.patchAdapter)(w)}initEngine(w,I){_("creating engine.io instance with opts %j",I),this.eio=(0,f.attach)(w,I),this._serveClient&&this.attachServe(w),this.httpServer=w,this.bind(this.eio)}attachServe(w){_("attaching client serving req handler");const I=w.listeners("request").slice(0);w.removeAllListeners("request"),w.on("request",(B,F)=>{if(this.clientPathRegex.test(B.url))this._corsMiddleware?this._corsMiddleware(B,F,()=>{this.serve(B,F)}):this.serve(B,F);else for(let U=0;U<I.length;U++)I[U].call(w,B,F)})}serve(w,I){const B=w.url.replace(this._path,"").replace(/\?.*$/,""),F=T.test(B),U=F?"map":"source",H='"'+O+'"',Y="W/"+H,G=w.headers["if-none-match"];if(G&&(H===G||Y===G)){_("serve client %s 304",U),I.writeHead(304),I.end();return}_("serve client %s",U),I.setHeader("Cache-Control","public, max-age=0"),I.setHeader("Content-Type","application/"+(F?"json":"javascript")+"; charset=utf-8"),I.setHeader("ETag",H),D.sendFile(B,w,I)}static sendFile(w,I,B){const F=(0,l.createReadStream)(p.join(__dirname,"../client-dist/",w)),U=d(I).encodings(["br","gzip","deflate"]),H=Y=>{Y&&B.end()};switch(U){case"br":B.writeHead(200,{"content-encoding":"br"}),(0,u.pipeline)(F,(0,c.createBrotliCompress)(),B,H);break;case"gzip":B.writeHead(200,{"content-encoding":"gzip"}),(0,u.pipeline)(F,(0,c.createGzip)(),B,H);break;case"deflate":B.writeHead(200,{"content-encoding":"deflate"}),(0,u.pipeline)(F,(0,c.createDeflate)(),B,H);break;default:B.writeHead(200),(0,u.pipeline)(F,B,H)}}bind(w){return this.engine=w,this.engine.on("connection",this.onconnection.bind(this)),this}onconnection(w){_("incoming connection with id %s",w.id);const I=new y.Client(this,w);return w.protocol===3&&I.connect("/"),this}of(w,I){if(typeof w=="function"||w instanceof RegExp){const F=new b.ParentNamespace(this);return _("initializing parent namespace %s",F.name),typeof w=="function"?this.parentNsps.set(w,F):(this.parentNsps.set((U,H,Y)=>Y(null,w.test(U)),F),this.parentNamespacesFromRegExp.set(w,F)),I&&F.on("connect",I),F}String(w)[0]!=="/"&&(w="/"+w);let B=this._nsps.get(w);if(!B){for(const[F,U]of this.parentNamespacesFromRegExp)if(F.test(w))return _("attaching namespace %s to parent namespace %s",w,F),U.createChild(w);_("initializing namespace %s",w),B=new h.Namespace(this,w),this._nsps.set(w,B),w!=="/"&&this.sockets.emitReserved("new_namespace",B)}return I&&B.on("connect",I),B}async close(w){await Promise.allSettled([...this._nsps.values()].map(async I=>{I.sockets.forEach(B=>{B._onclose("server shutting down")}),await I.adapter.close()})),this.engine.close(),(0,R.restoreAdapter)(),this.httpServer?this.httpServer.close(w):w&&w()}use(w){return this.sockets.use(w),this}to(w){return this.sockets.to(w)}in(w){return this.sockets.in(w)}except(w){return this.sockets.except(w)}send(...w){return this.sockets.emit("message",...w),this}write(...w){return this.sockets.emit("message",...w),this}serverSideEmit(w,...I){return this.sockets.serverSideEmit(w,...I)}serverSideEmitWithAck(w,...I){return this.sockets.serverSideEmitWithAck(w,...I)}allSockets(){return this.sockets.allSockets()}compress(w){return this.sockets.compress(w)}get volatile(){return this.sockets.volatile}get local(){return this.sockets.local}timeout(w){return this.sockets.timeout(w)}fetchSockets(){return this.sockets.fetchSockets()}socketsJoin(w){return this.sockets.socketsJoin(w)}socketsLeave(w){return this.sockets.socketsLeave(w)}disconnectSockets(w=!1){return this.sockets.disconnectSockets(w)}}e.Server=D,Object.keys(g.EventEmitter.prototype).filter(function(L){return typeof g.EventEmitter.prototype[L]=="function"}).forEach(function(L){D.prototype[L]=function(){return this.sockets[L].apply(this.sockets,arguments)}}),t.exports=(L,w)=>new D(L,w),t.exports.Server=D,t.exports.Namespace=h.Namespace,t.exports.Socket=E.Socket})(ny,ny.exports);var s$=ny.exports;const n$=qp(s$),{Server:Kie,Namespace:Yie,Socket:Jie}=n$;var cy={exports:{}},Qu={},sl={};const r$={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},i$={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},a$={arity:1,flags:["fast"],keyStart:0,keyStop:0,step:0},o$={arity:-2,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},l$={arity:1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},c$={arity:-1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},u$={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},d$={arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},p$={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},f$={arity:-4,flags:["write","denyoom"],keyStart:2,keyStop:-1,step:1},h$={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},m$={arity:6,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},g$={arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},y$={arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},v$={arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},x$={arity:4,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},b$={arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},w$={arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},S$={arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},_$={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},E$={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},N$={arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},k$={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},C$={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},j$={arity:1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},A$={arity:-2,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},T$={arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},R$={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},I$={arity:-2,flags:["write"],keyStart:1,keyStop:-1,step:1},O$={arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},P$={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},D$={arity:2,flags:["fast"],keyStart:0,keyStop:0,step:0},M$={arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},L$={arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},F$={arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},B$={arity:1,flags:["noscript","loading","stale","skip_slowlog"],keyStart:0,keyStop:0,step:0},$$={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},U$={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},z$={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},q$={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},Q$={arity:-1,flags:["admin","noscript","stale"],keyStart:0,keyStop:0,step:0},V$={arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},H$={arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},G$={arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},W$={arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},K$={arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},Y$={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},J$={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},X$={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},Z$={arity:-6,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},eU={arity:-6,flags:["readonly"],keyStart:1,keyStop:1,step:1},tU={arity:-5,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},sU={arity:-5,flags:["readonly"],keyStart:1,keyStop:1,step:1},nU={arity:-7,flags:["readonly"],keyStart:1,keyStop:1,step:1},rU={arity:-8,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},iU={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},aU={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},oU={arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},lU={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},cU={arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},uU={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},dU={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pU={arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},fU={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hU={arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},mU={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},gU={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},yU={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},vU={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},xU={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},bU={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},wU={arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},SU={arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},_U={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},EU={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},NU={arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},kU={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},CU={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},jU={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},AU={arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},TU={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},RU={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},IU={arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},OU={arity:2,flags:["readonly"],keyStart:0,keyStop:0,step:0},PU={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},DU={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},MU={arity:-3,flags:["readonly"],keyStart:1,keyStop:2,step:1},LU={arity:3,flags:["readonly"],keyStart:1,keyStop:1,step:1},FU={arity:5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},BU={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},$U={arity:5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},UU={arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},zU={arity:-1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},qU={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},QU={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},VU={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},HU={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},GU={arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},WU={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},KU={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},YU={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},JU={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},XU={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},ZU={arity:-6,flags:["write","movablekeys"],keyStart:3,keyStop:3,step:1},ez={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},tz={arity:1,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},sz={arity:3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},nz={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},rz={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},iz={arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},az={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},oz={arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},lz={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},cz={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},uz={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},dz={arity:-2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},pz={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},fz={arity:3,flags:["write","denyoom","admin"],keyStart:2,keyStop:2,step:1},hz={arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},mz={arity:1,flags:["admin"],keyStart:0,keyStop:0,step:0},gz={arity:-1,flags:["fast"],keyStart:0,keyStop:0,step:0},yz={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},vz={arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},xz={arity:-3,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},bz={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},wz={arity:3,flags:["pubsub","loading","stale","fast"],keyStart:0,keyStop:0,step:0},Sz={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},_z={arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},Ez={arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},Nz={arity:1,flags:["readonly"],keyStart:0,keyStop:0,step:0},kz={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},Cz={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},jz={arity:3,flags:["write"],keyStart:1,keyStop:2,step:1},Az={arity:3,flags:["write","fast"],keyStart:1,keyStop:2,step:1},Tz={arity:-1,flags:["admin","noscript","loading","stale","allow_busy"],keyStart:0,keyStop:0,step:0},Rz={arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},Iz={arity:1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},Oz={arity:-4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},Pz={arity:1,flags:["noscript","loading","stale","fast"],keyStart:0,keyStop:0,step:0},Dz={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},Mz={arity:3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},Lz={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Fz={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Bz={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},$z={arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},Uz={arity:-2,flags:["readonly"],keyStart:0,keyStop:0,step:0},zz={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},qz={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},Qz={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},Vz={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},Hz={arity:2,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},Gz={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},Wz={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},Kz={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},Yz={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Jz={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},Xz={arity:-1,flags:["admin","noscript","loading","stale","no_multi","allow_busy"],keyStart:0,keyStop:0,step:0},Zz={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},e9={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},t9={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},s9={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},n9={arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},r9={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},i9={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},a9={arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},o9={arity:4,flags:["write","fast"],keyStart:1,keyStop:2,step:1},l9={arity:-2,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},c9={arity:-2,flags:["readonly","movablekeys"],keyStart:1,keyStop:1,step:1},u9={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},d9={arity:3,flags:["pubsub","loading","stale","fast"],keyStart:1,keyStop:1,step:1},p9={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},f9={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},h9={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},m9={arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},g9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},y9={arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},v9={arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},x9={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},b9={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},w9={arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},S9={arity:3,flags:["write","fast"],keyStart:0,keyStop:0,step:0},_9={arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},E9={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},N9={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},k9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},C9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},j9={arity:-2,flags:["write","fast"],keyStart:1,keyStop:-1,step:1},A9={arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},T9={arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},R9={arity:3,flags:["noscript"],keyStart:0,keyStop:0,step:0},I9={arity:-2,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:1,keyStop:-1,step:1},O9={arity:-4,flags:["write","fast"],keyStart:1,keyStop:1,step:1},P9={arity:-5,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},D9={arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},M9={arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},L9={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},F9={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},B9={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},$9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},U9={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},z9={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},q9={arity:-4,flags:["readonly","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},Q9={arity:-7,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},V9={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},H9={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},G9={arity:-4,flags:["write"],keyStart:1,keyStop:1,step:1},W9={arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},K9={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},Y9={arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},J9={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},X9={arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},Z9={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},e7={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},t7={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},s7={arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},n7={arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},r7={arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},i7={arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},a7={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},o7={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},l7={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},c7={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},u7={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},d7={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},p7={arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},f7={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},h7={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},m7={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},g7={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},y7={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},v7={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},x7={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},b7={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},w7={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},S7={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},_7={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},E7={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},N7={arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},k7={acl:r$,append:i$,asking:a$,auth:o$,bgrewriteaof:l$,bgsave:c$,bitcount:u$,bitfield:d$,bitfield_ro:p$,bitop:f$,bitpos:h$,blmove:m$,blmpop:g$,blpop:y$,brpop:v$,brpoplpush:x$,bzmpop:b$,bzpopmax:w$,bzpopmin:S$,client:_$,cluster:E$,command:N$,config:k$,copy:C$,dbsize:j$,debug:A$,decr:T$,decrby:R$,del:I$,discard:O$,dump:P$,echo:D$,eval:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},eval_ro:M$,evalsha:L$,evalsha_ro:F$,exec:B$,exists:$$,expire:U$,expireat:z$,expiretime:q$,failover:Q$,fcall:V$,fcall_ro:H$,flushall:G$,flushdb:W$,function:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},geoadd:K$,geodist:Y$,geohash:J$,geopos:X$,georadius:Z$,georadius_ro:eU,georadiusbymember:tU,georadiusbymember_ro:sU,geosearch:nU,geosearchstore:rU,get:iU,getbit:aU,getdel:oU,getex:lU,getrange:cU,getset:uU,hdel:dU,hello:pU,hexists:fU,hexpire:hU,hget:mU,hgetall:gU,hincrby:yU,hincrbyfloat:vU,hkeys:xU,hlen:bU,hmget:wU,hmset:SU,hrandfield:_U,hscan:EU,hset:NU,hsetnx:kU,hstrlen:CU,hvals:jU,incr:AU,incrby:TU,incrbyfloat:RU,info:IU,keys:OU,lastsave:PU,latency:DU,lcs:MU,lindex:LU,linsert:FU,llen:BU,lmove:$U,lmpop:UU,lolwut:zU,lpop:qU,lpos:QU,lpush:VU,lpushx:HU,lrange:GU,lrem:WU,lset:KU,ltrim:YU,memory:JU,mget:XU,migrate:ZU,module:ez,monitor:tz,move:sz,mset:nz,msetnx:rz,multi:iz,object:az,persist:oz,pexpire:lz,pexpireat:cz,pexpiretime:uz,pfadd:dz,pfcount:pz,pfdebug:fz,pfmerge:hz,pfselftest:mz,ping:gz,psetex:yz,psubscribe:vz,psync:xz,pttl:bz,publish:wz,pubsub:Sz,punsubscribe:_z,quit:Ez,randomkey:Nz,readonly:kz,readwrite:Cz,rename:jz,renamenx:Az,replconf:Tz,replicaof:Rz,reset:Iz,restore:Oz,"restore-asking":{arity:-4,flags:["write","denyoom","asking"],keyStart:1,keyStop:1,step:1},role:Pz,rpop:Dz,rpoplpush:Mz,rpush:Lz,rpushx:Fz,sadd:Bz,save:$z,scan:Uz,scard:zz,script:qz,sdiff:Qz,sdiffstore:Vz,select:Hz,set:Gz,setbit:Wz,setex:Kz,setnx:Yz,setrange:Jz,shutdown:Xz,sinter:Zz,sintercard:e9,sinterstore:t9,sismember:s9,slaveof:n9,slowlog:r9,smembers:i9,smismember:a9,smove:o9,sort:l9,sort_ro:c9,spop:u9,spublish:d9,srandmember:p9,srem:f9,sscan:h9,ssubscribe:m9,strlen:g9,subscribe:y9,substr:v9,sunion:x9,sunionstore:b9,sunsubscribe:w9,swapdb:S9,sync:_9,time:E9,touch:N9,ttl:k9,type:C9,unlink:j9,unsubscribe:A9,unwatch:T9,wait:R9,watch:I9,xack:O9,xadd:P9,xautoclaim:D9,xclaim:M9,xdel:L9,xgroup:F9,xinfo:B9,xlen:$9,xpending:U9,xrange:z9,xread:q9,xreadgroup:Q9,xrevrange:V9,xsetid:H9,xtrim:G9,zadd:W9,zcard:K9,zcount:Y9,zdiff:J9,zdiffstore:X9,zincrby:Z9,zinter:e7,zintercard:t7,zinterstore:s7,zlexcount:n7,zmpop:r7,zmscore:i7,zpopmax:a7,zpopmin:o7,zrandmember:l7,zrange:c7,zrangebylex:u7,zrangebyscore:d7,zrangestore:p7,zrank:f7,zrem:h7,zremrangebylex:m7,zremrangebyrank:g7,zremrangebyscore:y7,zrevrange:v7,zrevrangebylex:x7,zrevrangebyscore:b7,zrevrank:w7,zscan:S7,zscore:_7,zunion:E7,zunionstore:N7};(function(t){var e=St&&St.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyIndexes=t.hasFlag=t.exists=t.list=void 0;const s=e(k7);t.list=Object.keys(s.default);const n={};t.list.forEach(c=>{n[c]=s.default[c].flags.reduce(function(d,u){return d[u]=!0,d},{})});function r(c){return!!s.default[c]}t.exists=r;function i(c,d){if(!n[c])throw new Error("Unknown command "+c);return!!n[c][d]}t.hasFlag=i;function o(c,d,u){const p=s.default[c];if(!p)throw new Error("Unknown command "+c);if(!Array.isArray(d))throw new Error("Expect args to be an array");const f=[],y=!!(u&&u.parseExternalKey),g=(b,m)=>{const x=[],k=Number(b[m]);for(let E=0;E<k;E++)x.push(E+m+1);return x},h=(b,m,x)=>{for(let k=m;k<b.length-1;k+=1)if(String(b[k]).toLowerCase()===x.toLowerCase())return k+1;return null};switch(c){case"zunionstore":case"zinterstore":case"zdiffstore":f.push(0,...g(d,1));break;case"eval":case"evalsha":case"eval_ro":case"evalsha_ro":case"fcall":case"fcall_ro":case"blmpop":case"bzmpop":f.push(...g(d,1));break;case"sintercard":case"lmpop":case"zunion":case"zinter":case"zmpop":case"zintercard":case"zdiff":{f.push(...g(d,0));break}case"georadius":{f.push(0);const b=h(d,5,"STORE");b&&f.push(b);const m=h(d,5,"STOREDIST");m&&f.push(m);break}case"georadiusbymember":{f.push(0);const b=h(d,4,"STORE");b&&f.push(b);const m=h(d,4,"STOREDIST");m&&f.push(m);break}case"sort":case"sort_ro":f.push(0);for(let b=1;b<d.length-1;b++){let m=d[b];if(typeof m!="string")continue;const x=m.toUpperCase();x==="GET"?(b+=1,m=d[b],m!=="#"&&(y?f.push([b,l(m)]):f.push(b))):x==="BY"?(b+=1,y?f.push([b,l(d[b])]):f.push(b)):x==="STORE"&&(b+=1,f.push(b))}break;case"migrate":if(d[2]==="")for(let b=5;b<d.length-1;b++){const m=d[b];if(typeof m=="string"&&m.toUpperCase()==="KEYS"){for(let x=b+1;x<d.length;x++)f.push(x);break}}else f.push(2);break;case"xreadgroup":case"xread":for(let b=c==="xread"?0:3;b<d.length-1;b++)if(String(d[b]).toUpperCase()==="STREAMS"){for(let m=b+1;m<=b+(d.length-1-b)/2;m++)f.push(m);break}break;default:if(p.step>0){const b=p.keyStart-1,m=p.keyStop>0?p.keyStop:d.length+p.keyStop+1;for(let x=b;x<m;x+=p.step)f.push(x)}break}return f}t.getKeyIndexes=o;function l(c){typeof c!="string"&&(c=String(c));const d=c.indexOf("->");return d===-1?c.length:d}})(sl);var br={},cR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.tryCatch=t.errorObj=void 0,t.errorObj={e:{}};let e;function s(r,i){try{const o=e;return e=null,o.apply(this,arguments)}catch(o){return t.errorObj.e=o,t.errorObj}}function n(r){return e=r,s}t.tryCatch=n})(cR);Object.defineProperty(br,"__esModule",{value:!0});const Ra=cR;function e1(t){setTimeout(function(){throw t},0)}function C7(t,e,s){return typeof e=="function"&&t.then(n=>{let r;s!==void 0&&Object(s).spread&&Array.isArray(n)?r=Ra.tryCatch(e).apply(void 0,[null].concat(n)):r=n===void 0?Ra.tryCatch(e)(null):Ra.tryCatch(e)(null,n),r===Ra.errorObj&&e1(r.e)},n=>{if(!n){const i=new Error(n+"");Object.assign(i,{cause:n}),n=i}const r=Ra.tryCatch(e)(n);r===Ra.errorObj&&e1(r.e)}),t}br.default=C7;var Vu={},Xh,t1;function j7(){if(t1)return Xh;t1=1;const t=oe,e=oe;function s(l){Object.defineProperty(this,"message",{value:l||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}e.inherits(s,Error),Object.defineProperty(s.prototype,"name",{value:"RedisError",configurable:!0,writable:!0});function n(l,c,d){t(c),t.strictEqual(typeof d,"number"),Object.defineProperty(this,"message",{value:l||"",configurable:!0,writable:!0});const u=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=u,this.offset=d,this.buffer=c}e.inherits(n,s),Object.defineProperty(n.prototype,"name",{value:"ParserError",configurable:!0,writable:!0});function r(l){Object.defineProperty(this,"message",{value:l||"",configurable:!0,writable:!0});const c=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=c}e.inherits(r,s),Object.defineProperty(r.prototype,"name",{value:"ReplyError",configurable:!0,writable:!0});function i(l){Object.defineProperty(this,"message",{value:l||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}e.inherits(i,s),Object.defineProperty(i.prototype,"name",{value:"AbortError",configurable:!0,writable:!0});function o(l){Object.defineProperty(this,"message",{value:l||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}return e.inherits(o,i),Object.defineProperty(o.prototype,"name",{value:"InterruptError",configurable:!0,writable:!0}),Xh={RedisError:s,ParserError:n,ReplyError:r,AbortError:i,InterruptError:o},Xh}var Zh,s1;function A7(){if(s1)return Zh;s1=1;const t=oe;class e extends Error{get name(){return this.constructor.name}}class s extends e{constructor(l,c,d){t(c),t.strictEqual(typeof d,"number");const u=Error.stackTraceLimit;Error.stackTraceLimit=2,super(l),Error.stackTraceLimit=u,this.offset=d,this.buffer=c}get name(){return this.constructor.name}}class n extends e{constructor(l){const c=Error.stackTraceLimit;Error.stackTraceLimit=2,super(l),Error.stackTraceLimit=c}get name(){return this.constructor.name}}class r extends e{get name(){return this.constructor.name}}class i extends r{get name(){return this.constructor.name}}return Zh={RedisError:e,ParserError:s,ReplyError:n,AbortError:r,InterruptError:i},Zh}const T7=process.version.charCodeAt(1)<55&&process.version.charCodeAt(2)===46?j7():A7();var nl=T7,Qn={},yx={exports:{}},n1=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920],R7=function(e){for(var s,n=0,r=0,i=[],o=e.length;n<o;n++)s=e.charCodeAt(n),s<128?i[r++]=s:s<2048?(i[r++]=s>>6|192,i[r++]=s&63|128):(s&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),i[r++]=s>>18|240,i[r++]=s>>12&63|128,i[r++]=s>>6&63|128,i[r++]=s&63|128):(i[r++]=s>>12|224,i[r++]=s>>6&63|128,i[r++]=s&63|128);return i},r1=yx.exports=function(e){for(var s,n=0,r=-1,i=0,o=0,l=typeof e=="string"?R7(e):e,c=l.length;n<c;){if(s=l[n++],r===-1)s===123&&(r=n);else if(s!==125)o=n1[(s^o>>8)&255]^o<<8;else if(n-1!==r)return o&16383;i=n1[(s^i>>8)&255]^i<<8}return i&16383};yx.exports.generateMulti=function(e){for(var s=1,n=e.length,r=r1(e[0]);s<n;)if(r1(e[s++])!==r)return-1;return r};var Af=yx.exports,$t={},Dn={},uR=9007199254740991,I7="[object Arguments]",O7="[object Function]",P7="[object GeneratorFunction]",D7=/^(?:0|[1-9]\d*)$/;function dR(t,e,s){switch(s.length){case 0:return t.call(e);case 1:return t.call(e,s[0]);case 2:return t.call(e,s[0],s[1]);case 3:return t.call(e,s[0],s[1],s[2])}return t.apply(e,s)}function M7(t,e){for(var s=-1,n=Array(t);++s<t;)n[s]=e(s);return n}var nu=Object.prototype,Tf=nu.hasOwnProperty,pR=nu.toString,L7=nu.propertyIsEnumerable,i1=Math.max;function F7(t,e){var s=W7(t)||G7(t)?M7(t.length,String):[],n=s.length,r=!!n;for(var i in t)r&&(i=="length"||hR(i,n))||s.push(i);return s}function B7(t,e,s,n){return t===void 0||vx(t,nu[s])&&!Tf.call(n,s)?e:t}function $7(t,e,s){var n=t[e];(!(Tf.call(t,e)&&vx(n,s))||s===void 0&&!(e in t))&&(t[e]=s)}function U7(t){if(!bx(t))return H7(t);var e=V7(t),s=[];for(var n in t)n=="constructor"&&(e||!Tf.call(t,n))||s.push(n);return s}function fR(t,e){return e=i1(e===void 0?t.length-1:e,0),function(){for(var s=arguments,n=-1,r=i1(s.length-e,0),i=Array(r);++n<r;)i[n]=s[e+n];n=-1;for(var o=Array(e+1);++n<e;)o[n]=s[n];return o[e]=i,dR(t,this,o)}}function z7(t,e,s,n){s||(s={});for(var r=-1,i=e.length;++r<i;){var o=e[r],l=n?n(s[o],t[o],o,s,t):void 0;$7(s,o,l===void 0?t[o]:l)}return s}function q7(t){return fR(function(e,s){var n=-1,r=s.length,i=r>1?s[r-1]:void 0,o=r>2?s[2]:void 0;for(i=t.length>3&&typeof i=="function"?(r--,i):void 0,o&&Q7(s[0],s[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var l=s[n];l&&t(e,l,n,i)}return e})}function hR(t,e){return e=e??uR,!!e&&(typeof t=="number"||D7.test(t))&&t>-1&&t%1==0&&t<e}function Q7(t,e,s){if(!bx(s))return!1;var n=typeof e;return(n=="number"?xx(s)&&hR(e,s.length):n=="string"&&e in s)?vx(s[e],t):!1}function V7(t){var e=t&&t.constructor,s=typeof e=="function"&&e.prototype||nu;return t===s}function H7(t){var e=[];if(t!=null)for(var s in Object(t))e.push(s);return e}function vx(t,e){return t===e||t!==t&&e!==e}function G7(t){return K7(t)&&Tf.call(t,"callee")&&(!L7.call(t,"callee")||pR.call(t)==I7)}var W7=Array.isArray;function xx(t){return t!=null&&J7(t.length)&&!Y7(t)}function K7(t){return X7(t)&&xx(t)}function Y7(t){var e=bx(t)?pR.call(t):"";return e==O7||e==P7}function J7(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uR}function bx(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function X7(t){return!!t&&typeof t=="object"}var Z7=q7(function(t,e,s,n){z7(e,tq(e),t,n)}),eq=fR(function(t){return t.push(void 0,B7),dR(Z7,void 0,t)});function tq(t){return xx(t)?F7(t):U7(t)}var sq=eq,nq=9007199254740991,rq="[object Arguments]",iq="[object Function]",aq="[object GeneratorFunction]",wx=Object.prototype,oq=wx.hasOwnProperty,mR=wx.toString,lq=wx.propertyIsEnumerable;function cq(t){return dq(t)&&oq.call(t,"callee")&&(!lq.call(t,"callee")||mR.call(t)==rq)}function uq(t){return t!=null&&fq(t.length)&&!pq(t)}function dq(t){return mq(t)&&uq(t)}function pq(t){var e=hq(t)?mR.call(t):"";return e==iq||e==aq}function fq(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=nq}function hq(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function mq(t){return!!t&&typeof t=="object"}var gq=cq;Object.defineProperty(Dn,"__esModule",{value:!0});Dn.isArguments=Dn.defaults=Dn.noop=void 0;const yq=sq;Dn.defaults=yq;const vq=gq;Dn.isArguments=vq;function xq(){}Dn.noop=xq;var lr={},uy={exports:{}};function bq(t){s.debug=s,s.default=s,s.coerce=c,s.disable=o,s.enable=r,s.enabled=l,s.humanize=yf,s.destroy=d,Object.keys(t).forEach(u=>{s[u]=t[u]}),s.names=[],s.skips=[],s.formatters={};function e(u){let p=0;for(let f=0;f<u.length;f++)p=(p<<5)-p+u.charCodeAt(f),p|=0;return s.colors[Math.abs(p)%s.colors.length]}s.selectColor=e;function s(u){let p,f=null,y,g;function h(...b){if(!h.enabled)return;const m=h,x=Number(new Date),k=x-(p||x);m.diff=k,m.prev=p,m.curr=x,p=x,b[0]=s.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let E=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(R,N)=>{if(R==="%%")return"%";E++;const _=s.formatters[N];if(typeof _=="function"){const O=b[E];R=_.call(m,O),b.splice(E,1),E--}return R}),s.formatArgs.call(m,b),(m.log||s.log).apply(m,b)}return h.namespace=u,h.useColors=s.useColors(),h.color=s.selectColor(u),h.extend=n,h.destroy=s.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(y!==s.namespaces&&(y=s.namespaces,g=s.enabled(u)),g),set:b=>{f=b}}),typeof s.init=="function"&&s.init(h),h}function n(u,p){const f=s(this.namespace+(typeof p>"u"?":":p)+u);return f.log=this.log,f}function r(u){s.save(u),s.namespaces=u,s.names=[],s.skips=[];const p=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const f of p)f[0]==="-"?s.skips.push(f.slice(1)):s.names.push(f)}function i(u,p){let f=0,y=0,g=-1,h=0;for(;f<u.length;)if(y<p.length&&(p[y]===u[f]||p[y]==="*"))p[y]==="*"?(g=y,h=f,y++):(f++,y++);else if(g!==-1)y=g+1,h++,f=h;else return!1;for(;y<p.length&&p[y]==="*";)y++;return y===p.length}function o(){const u=[...s.names,...s.skips.map(p=>"-"+p)].join(",");return s.enable(""),u}function l(u){for(const p of s.skips)if(i(u,p))return!1;for(const p of s.names)if(i(u,p))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}var wq=bq;(function(t,e){var s={};e.formatArgs=r,e.save=i,e.load=o,e.useColors=n,e.storage=l(),e.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let d;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(d=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(d[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;d.splice(1,0,u,"color: inherit");let p=0,f=0;d[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(p++,y==="%c"&&(f=p))}),d.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function i(d){try{d?e.storage.setItem("debug",d):e.storage.removeItem("debug")}catch{}}function o(){let d;try{d=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=s.DEBUG),d}function l(){try{return localStorage}catch{}}t.exports=wq(e);const{formatters:c}=t.exports;c.j=function(d){try{return JSON.stringify(d)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(uy,uy.exports);var Sq=uy.exports,_q=["buffer","Buffer"];Object.defineProperty(lr,"__esModule",{value:!0});lr.genRedactedString=lr.getStringValue=lr.MAX_ARGUMENT_LENGTH=void 0;const Eq=Sq,dy=200;lr.MAX_ARGUMENT_LENGTH=dy;const Nq="ioredis";function gR(t){if(t!==null)switch(typeof t){case"boolean":return;case"number":return;case"object":if(_q.isBuffer(t))return t.toString("hex");if(Array.isArray(t))return t.join(",");try{return JSON.stringify(t)}catch{return}case"string":return t}}lr.getStringValue=gR;function yR(t,e){const{length:s}=t;return s<=e?t:t.slice(0,e)+' ... <REDACTED full-length="'+s+'">'}lr.genRedactedString=yR;function kq(t){const e=(0,Eq.default)(`${Nq}:${t}`);function s(...n){if(e.enabled){for(let r=1;r<n.length;r++){const i=gR(n[r]);typeof i=="string"&&i.length>dy&&(n[r]=yR(i,dy))}return e.apply(null,n)}}return Object.defineProperties(s,{namespace:{get(){return e.namespace}},enabled:{get(){return e.enabled}},destroy:{get(){return e.destroy}},log:{get(){return e.log},set(n){e.log=n}}}),s}lr.default=kq;var Sx={};Object.defineProperty(Sx,"__esModule",{value:!0});const a1=`-----BEGIN CERTIFICATE-----
MIIDTzCCAjegAwIBAgIJAKSVpiDswLcwMA0GCSqGSIb3DQEBBQUAMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTAeFw0xMzEwMDExMjE0NTVaFw0yMzA5MjkxMjE0NTVaMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALZqkh/DczWP
JnxnHLQ7QL0T4B4CDKWBKCcisriGbA6ZePWVNo4hfKQC6JrzfR+081NeD6VcWUiz
rmd+jtPhIY4c+WVQYm5PKaN6DT1imYdxQw7aqO5j2KUCEh/cznpLxeSHoTxlR34E
QwF28Wl3eg2vc5ct8LjU3eozWVk3gb7alx9mSA2SgmuX5lEQawl++rSjsBStemY2
BDwOpAMXIrdEyP/cVn8mkvi/BDs5M5G+09j0gfhyCzRWMQ7Hn71u1eolRxwVxgi3
TMn+/vTaFSqxKjgck6zuAYjBRPaHe7qLxHNr1So/Mc9nPy+3wHebFwbIcnUojwbp
4nctkWbjb2cCAwEAAaNQME4wHQYDVR0OBBYEFP1whtcrydmW3ZJeuSoKZIKjze3w
MB8GA1UdIwQYMBaAFP1whtcrydmW3ZJeuSoKZIKjze3wMAwGA1UdEwQFMAMBAf8w
DQYJKoZIhvcNAQEFBQADggEBAG2erXhwRAa7+ZOBs0B6X57Hwyd1R4kfmXcs0rta
lbPpvgULSiB+TCbf3EbhJnHGyvdCY1tvlffLjdA7HJ0PCOn+YYLBA0pTU/dyvrN6
Su8NuS5yubnt9mb13nDGYo1rnt0YRfxN+8DM3fXIVr038A30UlPX2Ou1ExFJT0MZ
uFKY6ZvLdI6/1cbgmguMlAhM+DhKyV6Sr5699LM3zqeI816pZmlREETYkGr91q7k
BpXJu/dtHaGxg1ZGu6w/PCsYGUcECWENYD4VQPd8N32JjOfu6vEgoEAwfPP+3oGp
Z4m3ewACcWOAenqflb+cQYC4PsF7qbXDmRaWrbKntOlZ3n0=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIGMTCCBBmgAwIBAgICEAAwDQYJKoZIhvcNAQELBQAwajELMAkGA1UEBhMCVVMx
CzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJzMS0w
KwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcN
MTgwMjI1MTUzNzM3WhcNMjgwMjIzMTUzNzM3WjBfMQswCQYDVQQGEwJVUzELMAkG
A1UECAwCQ0ExEjAQBgNVBAoMCVJlZGlzTGFiczEvMC0GA1UEAwwmUkNQIEludGVy
bWVkaWF0ZSBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwggIiMA0GCSqGSIb3DQEBAQUA
A4ICDwAwggIKAoICAQDf9dqbxc8Bq7Ctq9rWcxrGNKKHivqLAFpPq02yLPx6fsOv
Tq7GsDChAYBBc4v7Y2Ap9RD5Vs3dIhEANcnolf27QwrG9RMnnvzk8pCvp1o6zSU4
VuOE1W66/O1/7e2rVxyrnTcP7UgK43zNIXu7+tiAqWsO92uSnuMoGPGpeaUm1jym
hjWKtkAwDFSqvHY+XL5qDVBEjeUe+WHkYUg40cAXjusAqgm2hZt29c2wnVrxW25W
P0meNlzHGFdA2AC5z54iRiqj57dTfBTkHoBczQxcyw6hhzxZQ4e5I5zOKjXXEhZN
r0tA3YC14CTabKRus/JmZieyZzRgEy2oti64tmLYTqSlAD78pRL40VNoaSYetXLw
hhNsXCHgWaY6d5bLOc/aIQMAV5oLvZQKvuXAF1IDmhPA+bZbpWipp0zagf1P1H3s
UzsMdn2KM0ejzgotbtNlj5TcrVwpmvE3ktvUAuA+hi3FkVx1US+2Gsp5x4YOzJ7u
P1WPk6ShF0JgnJH2ILdj6kttTWwFzH17keSFICWDfH/+kM+k7Y1v3EXMQXE7y0T9
MjvJskz6d/nv+sQhY04xt64xFMGTnZjlJMzfQNi7zWFLTZnDD0lPowq7l3YiPoTT
t5Xky83lu0KZsZBo0WlWaDG00gLVdtRgVbcuSWxpi5BdLb1kRab66JptWjxwXQID
AQABo4HrMIHoMDoGA1UdHwQzMDEwL6AtoCuGKWh0dHBzOi8vcmwtY2Etc2VydmVy
LnJlZGlzbGFicy5jb20vdjEvY3JsMEYGCCsGAQUFBwEBBDowODA2BggrBgEFBQcw
AYYqaHR0cHM6Ly9ybC1jYS1zZXJ2ZXIucmVkaXNsYWJzLmNvbS92MS9vY3NwMB0G
A1UdDgQWBBQHar5OKvQUpP2qWt6mckzToeCOHDAfBgNVHSMEGDAWgBQi42wH6hM4
L2sujEvLM0/u8lRXTzASBgNVHRMBAf8ECDAGAQH/AgEAMA4GA1UdDwEB/wQEAwIB
hjANBgkqhkiG9w0BAQsFAAOCAgEAirEn/iTsAKyhd+pu2W3Z5NjCko4NPU0EYUbr
AP7+POK2rzjIrJO3nFYQ/LLuC7KCXG+2qwan2SAOGmqWst13Y+WHp44Kae0kaChW
vcYLXXSoGQGC8QuFSNUdaeg3RbMDYFT04dOkqufeWVccoHVxyTSg9eD8LZuHn5jw
7QDLiEECBmIJHk5Eeo2TAZrx4Yx6ufSUX5HeVjlAzqwtAqdt99uCJ/EL8bgpWbe+
XoSpvUv0SEC1I1dCAhCKAvRlIOA6VBcmzg5Am12KzkqTul12/VEFIgzqu0Zy2Jbc
AUPrYVu/+tOGXQaijy7YgwH8P8n3s7ZeUa1VABJHcxrxYduDDJBLZi+MjheUDaZ1
jQRHYevI2tlqeSBqdPKG4zBY5lS0GiAlmuze5oENt0P3XboHoZPHiqcK3VECgTVh
/BkJcuudETSJcZDmQ8YfoKfBzRQNg2sv/hwvUv73Ss51Sco8GEt2lD8uEdib1Q6z
zDT5lXJowSzOD5ZA9OGDjnSRL+2riNtKWKEqvtEG3VBJoBzu9GoxbAc7wIZLxmli
iF5a/Zf5X+UXD3s4TMmy6C4QZJpAA2egsSQCnraWO2ULhh7iXMysSkF/nzVfZn43
iqpaB8++9a37hWq14ZmOv0TJIDz//b2+KC4VFXWQ5W5QC6whsjT+OlG4p5ZYG0jo
616pxqo=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIFujCCA6KgAwIBAgIJAJ1aTT1lu2ScMA0GCSqGSIb3DQEBCwUAMGoxCzAJBgNV
BAYTAlVTMQswCQYDVQQIDAJDQTELMAkGA1UEBwwCQ0ExEjAQBgNVBAoMCVJlZGlz
TGFiczEtMCsGA1UEAwwkUmVkaXNMYWJzIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9y
aXR5MB4XDTE4MDIyNTE1MjA0MloXDTM4MDIyMDE1MjA0MlowajELMAkGA1UEBhMC
VVMxCzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJz
MS0wKwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkw
ggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDLEjXy7YrbN5Waau5cd6g1
G5C2tMmeTpZ0duFAPxNU4oE3RHS5gGiok346fUXuUxbZ6QkuzeN2/2Z+RmRcJhQY
Dm0ZgdG4x59An1TJfnzKKoWj8ISmoHS/TGNBdFzXV7FYNLBuqZouqePI6ReC6Qhl
pp45huV32Q3a6IDrrvx7Wo5ZczEQeFNbCeCOQYNDdTmCyEkHqc2AGo8eoIlSTutT
ULOC7R5gzJVTS0e1hesQ7jmqHjbO+VQS1NAL4/5K6cuTEqUl+XhVhPdLWBXJQ5ag
54qhX4v+ojLzeU1R/Vc6NjMvVtptWY6JihpgplprN0Yh2556ewcXMeturcKgXfGJ
xeYzsjzXerEjrVocX5V8BNrg64NlifzTMKNOOv4fVZszq1SIHR8F9ROrqiOdh8iC
JpUbLpXH9hWCSEO6VRMB2xJoKu3cgl63kF30s77x7wLFMEHiwsQRKxooE1UhgS9K
2sO4TlQ1eWUvFvHSTVDQDlGQ6zu4qjbOpb3Q8bQwoK+ai2alkXVR4Ltxe9QlgYK3
StsnPhruzZGA0wbXdpw0bnM+YdlEm5ffSTpNIfgHeaa7Dtb801FtA71ZlH7A6TaI
SIQuUST9EKmv7xrJyx0W1pGoPOLw5T029aTjnICSLdtV9bLwysrLhIYG5bnPq78B
cS+jZHFGzD7PUVGQD01nOQIDAQABo2MwYTAdBgNVHQ4EFgQUIuNsB+oTOC9rLoxL
yzNP7vJUV08wHwYDVR0jBBgwFoAUIuNsB+oTOC9rLoxLyzNP7vJUV08wDwYDVR0T
AQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcNAQELBQADggIBAHfg
z5pMNUAKdMzK1aS1EDdK9yKz4qicILz5czSLj1mC7HKDRy8cVADUxEICis++CsCu
rYOvyCVergHQLREcxPq4rc5Nq1uj6J6649NEeh4WazOOjL4ZfQ1jVznMbGy+fJm3
3Hoelv6jWRG9iqeJZja7/1s6YC6bWymI/OY1e4wUKeNHAo+Vger7MlHV+RuabaX+
hSJ8bJAM59NCM7AgMTQpJCncrcdLeceYniGy5Q/qt2b5mJkQVkIdy4TPGGB+AXDJ
D0q3I/JDRkDUFNFdeW0js7fHdsvCR7O3tJy5zIgEV/o/BCkmJVtuwPYOrw/yOlKj
TY/U7ATAx9VFF6/vYEOMYSmrZlFX+98L6nJtwDqfLB5VTltqZ4H/KBxGE3IRSt9l
FXy40U+LnXzhhW+7VBAvyYX8GEXhHkKU8Gqk1xitrqfBXY74xKgyUSTolFSfFVgj
mcM/X4K45bka+qpkj7Kfv/8D4j6aZekwhN2ly6hhC1SmQ8qjMjpG/mrWOSSHZFmf
ybu9iD2AYHeIOkshIl6xYIa++Q/00/vs46IzAbQyriOi0XxlSMMVtPx0Q3isp+ji
n8Mq9eOuxYOEQ4of8twUkUDd528iwGtEdwf0Q01UyT84S62N8AySl1ZBKXJz6W4F
UhWfa/HQYOAPDdEjNgnVwLI23b8t0TozyCWw7q8h
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIEjzCCA3egAwIBAgIQe55B/ALCKJDZtdNT8kD6hTANBgkqhkiG9w0BAQsFADBM
MSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xv
YmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjAeFw0yMjAxMjYxMjAwMDBaFw0y
NTAxMjYwMDAwMDBaMFgxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWdu
IG52LXNhMS4wLAYDVQQDEyVHbG9iYWxTaWduIEF0bGFzIFIzIE9WIFRMUyBDQSAy
MDIyIFEyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmGmg1LW9b7Lf
8zDD83yBDTEkt+FOxKJZqF4veWc5KZsQj9HfnUS2e5nj/E+JImlGPsQuoiosLuXD
BVBNAMcUFa11buFMGMeEMwiTmCXoXRrXQmH0qjpOfKgYc5gHG3BsRGaRrf7VR4eg
ofNMG9wUBw4/g/TT7+bQJdA4NfE7Y4d5gEryZiBGB/swaX6Jp/8MF4TgUmOWmalK
dZCKyb4sPGQFRTtElk67F7vU+wdGcrcOx1tDcIB0ncjLPMnaFicagl+daWGsKqTh
counQb6QJtYHa91KvCfKWocMxQ7OIbB5UARLPmC4CJ1/f8YFm35ebfzAeULYdGXu
jE9CLor0OwIDAQABo4IBXzCCAVswDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG
CCsGAQUFBwMBBggrBgEFBQcDAjASBgNVHRMBAf8ECDAGAQH/AgEAMB0GA1UdDgQW
BBSH5Zq7a7B/t95GfJWkDBpA8HHqdjAfBgNVHSMEGDAWgBSP8Et/qC5FJK5NUPpj
move4t0bvDB7BggrBgEFBQcBAQRvMG0wLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3Nw
Mi5nbG9iYWxzaWduLmNvbS9yb290cjMwOwYIKwYBBQUHMAKGL2h0dHA6Ly9zZWN1
cmUuZ2xvYmFsc2lnbi5jb20vY2FjZXJ0L3Jvb3QtcjMuY3J0MDYGA1UdHwQvMC0w
K6ApoCeGJWh0dHA6Ly9jcmwuZ2xvYmFsc2lnbi5jb20vcm9vdC1yMy5jcmwwIQYD
VR0gBBowGDAIBgZngQwBAgIwDAYKKwYBBAGgMgoBAjANBgkqhkiG9w0BAQsFAAOC
AQEAKRic9/f+nmhQU/wz04APZLjgG5OgsuUOyUEZjKVhNGDwxGTvKhyXGGAMW2B/
3bRi+aElpXwoxu3pL6fkElbX3B0BeS5LoDtxkyiVEBMZ8m+sXbocwlPyxrPbX6mY
0rVIvnuUeBH8X0L5IwfpNVvKnBIilTbcebfHyXkPezGwz7E1yhUULjJFm2bt0SdX
y+4X/WeiiYIv+fTVgZZgl+/2MKIsu/qdBJc3f3TvJ8nz+Eax1zgZmww+RSQWeOj3
15Iw6Z5FX+NwzY/Ab+9PosR5UosSeq+9HhtaxZttXG1nVh+avYPGYddWmiMT90J5
ZgKnO/Fx2hBgTxhOTMYaD312kg==
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4G
A1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjMxEzARBgNVBAoTCkdsb2JhbFNp
Z24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4
MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEG
A1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI
hvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8
RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsT
gHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmm
KPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zd
QQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZ
XriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAw
DgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+o
LkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZU
RUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMp
jjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK
6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQX
mcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecs
Mx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpH
WD9f
-----END CERTIFICATE-----`,Cq={RedisCloudFixed:{ca:a1},RedisCloudFlexible:{ca:a1}};Sx.default=Cq;(function(t){var e=["buffer","Buffer"];Object.defineProperty(t,"__esModule",{value:!0}),t.noop=t.defaults=t.Debug=t.zipMap=t.CONNECTION_CLOSED_ERROR_MSG=t.shuffle=t.sample=t.resolveTLSProfile=t.parseURL=t.optimizeErrorStack=t.toArg=t.convertMapToArray=t.convertObjectToArray=t.timeout=t.packObject=t.isInt=t.wrapMultiResult=t.convertBufferToString=void 0;const s=oe,n=Dn;Object.defineProperty(t,"defaults",{enumerable:!0,get:function(){return n.defaults}}),Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return n.noop}});const r=lr;t.Debug=r.default;const i=Sx;function o(E,C){if(E instanceof e)return E.toString(C);if(Array.isArray(E)){const R=E.length,N=Array(R);for(let _=0;_<R;++_)N[_]=E[_]instanceof e&&C==="utf8"?E[_].toString():o(E[_],C);return N}return E}t.convertBufferToString=o;function l(E){if(!E)return null;const C=[],R=E.length;for(let N=0;N<R;++N){const _=E[N];_ instanceof Error?C.push([_]):C.push([null,_])}return C}t.wrapMultiResult=l;function c(E){const C=parseFloat(E);return!isNaN(E)&&(C|0)===C}t.isInt=c;function d(E){const C={},R=E.length;for(let N=1;N<R;N+=2)C[E[N-1]]=E[N];return C}t.packObject=d;function u(E,C){let R=null;const N=function(){R&&(clearTimeout(R),R=null,E.apply(this,arguments))};return R=setTimeout(N,C,new Error("timeout")),N}t.timeout=u;function p(E){const C=[],R=Object.keys(E);for(let N=0,_=R.length;N<_;N++)C.push(R[N],E[R[N]]);return C}t.convertObjectToArray=p;function f(E){const C=[];let R=0;return E.forEach(function(N,_){C[R]=_,C[R+1]=N,R+=2}),C}t.convertMapToArray=f;function y(E){return E===null||typeof E>"u"?"":String(E)}t.toArg=y;function g(E,C,R){const N=C.split(`
`);let _="",O;for(O=1;O<N.length&&N[O].indexOf(R)!==-1;++O);for(let T=O;T<N.length;++T)_+=`
`+N[T];if(E.stack){const T=E.stack.indexOf(`
`);E.stack=E.stack.slice(0,T)+_}return E}t.optimizeErrorStack=g;function h(E){if(c(E))return{port:E};let C=(0,s.parse)(E,!0,!0);!C.slashes&&E[0]!=="/"&&(E="//"+E,C=(0,s.parse)(E,!0,!0));const R=C.query||{},N={};if(C.auth){const _=C.auth.indexOf(":");N.username=_===-1?C.auth:C.auth.slice(0,_),N.password=_===-1?"":C.auth.slice(_+1)}if(C.pathname&&(C.protocol==="redis:"||C.protocol==="rediss:"?C.pathname.length>1&&(N.db=C.pathname.slice(1)):N.path=C.pathname),C.host&&(N.host=C.hostname),C.port&&(N.port=C.port),typeof R.family=="string"){const _=Number.parseInt(R.family,10);Number.isNaN(_)||(N.family=_)}return(0,n.defaults)(N,R),N}t.parseURL=h;function b(E){let C=E==null?void 0:E.tls;typeof C=="string"&&(C={profile:C});const R=i.default[C==null?void 0:C.profile];return R&&(C=Object.assign({},R,C),delete C.profile,E=Object.assign({},E,{tls:C})),E}t.resolveTLSProfile=b;function m(E,C=0){const R=E.length;return C>=R?null:E[C+Math.floor(Math.random()*(R-C))]}t.sample=m;function x(E){let C=E.length;for(;C>0;){const R=Math.floor(Math.random()*C);C--,[E[C],E[R]]=[E[R],E[C]]}return E}t.shuffle=x,t.CONNECTION_CLOSED_ERROR_MSG="Connection is closed.";function k(E,C){const R=new Map;return E.forEach((N,_)=>{R.set(N,C[_])}),R}t.zipMap=k})($t);var Zt=["buffer","Buffer"];Object.defineProperty(Qn,"__esModule",{value:!0});const o1=sl,jq=Af,Aq=br,Xi=$t;class Ns{constructor(e,s=[],n={},r){if(this.name=e,this.inTransaction=!1,this.isResolved=!1,this.transformed=!1,this.replyEncoding=n.replyEncoding,this.errorStack=n.errorStack,this.args=s.flat(),this.callback=r,this.initPromise(),n.keyPrefix){const i=n.keyPrefix instanceof Zt;let o=i?n.keyPrefix:null;this._iterateKeys(l=>l instanceof Zt?(o===null&&(o=Zt.from(n.keyPrefix)),Zt.concat([o,l])):i?Zt.concat([n.keyPrefix,Zt.from(String(l))]):n.keyPrefix+l)}n.readOnly&&(this.isReadOnly=!0)}static checkFlag(e,s){return!!this.getFlagMap()[e][s]}static setArgumentTransformer(e,s){this._transformer.argument[e]=s}static setReplyTransformer(e,s){this._transformer.reply[e]=s}static getFlagMap(){return this.flagMap||(this.flagMap=Object.keys(Ns.FLAGS).reduce((e,s)=>(e[s]={},Ns.FLAGS[s].forEach(n=>{e[s][n]=!0}),e),{})),this.flagMap}getSlot(){if(typeof this.slot>"u"){const e=this.getKeys()[0];this.slot=e==null?null:jq(e)}return this.slot}getKeys(){return this._iterateKeys()}toWritable(e){let s;const n="*"+(this.args.length+1)+`\r
$`+Zt.byteLength(this.name)+`\r
`+this.name+`\r
`;if(this.bufferMode){const r=new Tq;r.push(n);for(let i=0;i<this.args.length;++i){const o=this.args[i];o instanceof Zt?o.length===0?r.push(`$0\r
\r
`):(r.push("$"+o.length+`\r
`),r.push(o),r.push(`\r
`)):r.push("$"+Zt.byteLength(o)+`\r
`+o+`\r
`)}s=r.toBuffer()}else{s=n;for(let r=0;r<this.args.length;++r){const i=this.args[r];s+="$"+Zt.byteLength(i)+`\r
`+i+`\r
`}}return s}stringifyArguments(){for(let e=0;e<this.args.length;++e){const s=this.args[e];typeof s=="string"||(s instanceof Zt?this.bufferMode=!0:this.args[e]=(0,Xi.toArg)(s))}}transformReply(e){this.replyEncoding&&(e=(0,Xi.convertBufferToString)(e,this.replyEncoding));const s=Ns._transformer.reply[this.name];return s&&(e=s(e)),e}setTimeout(e){this._commandTimeoutTimer||(this._commandTimeoutTimer=setTimeout(()=>{this.isResolved||this.reject(new Error("Command timed out"))},e))}initPromise(){const e=new Promise((s,n)=>{if(!this.transformed){this.transformed=!0;const r=Ns._transformer.argument[this.name];r&&(this.args=r(this.args)),this.stringifyArguments()}this.resolve=this._convertValue(s),this.errorStack?this.reject=r=>{n((0,Xi.optimizeErrorStack)(r,this.errorStack.stack,__dirname))}:this.reject=n});this.promise=(0,Aq.default)(e,this.callback)}_iterateKeys(e=s=>s){if(typeof this.keys>"u"&&(this.keys=[],(0,o1.exists)(this.name))){const s=(0,o1.getKeyIndexes)(this.name,this.args);for(const n of s)this.args[n]=e(this.args[n]),this.keys.push(this.args[n])}return this.keys}_convertValue(e){return s=>{try{const n=this._commandTimeoutTimer;n&&(clearTimeout(n),delete this._commandTimeoutTimer),e(this.transformReply(s)),this.isResolved=!0}catch(n){this.reject(n)}return this.promise}}}Qn.default=Ns;Ns.FLAGS={VALID_IN_SUBSCRIBER_MODE:["subscribe","psubscribe","unsubscribe","punsubscribe","ssubscribe","sunsubscribe","ping","quit"],VALID_IN_MONITOR_MODE:["monitor","auth"],ENTER_SUBSCRIBER_MODE:["subscribe","psubscribe","ssubscribe"],EXIT_SUBSCRIBER_MODE:["unsubscribe","punsubscribe","sunsubscribe"],WILL_DISCONNECT:["quit"]};Ns._transformer={argument:{},reply:{}};const vR=function(t){if(t.length===1){if(t[0]instanceof Map)return(0,Xi.convertMapToArray)(t[0]);if(typeof t[0]=="object"&&t[0]!==null)return(0,Xi.convertObjectToArray)(t[0])}return t},xR=function(t){if(t.length===2){if(t[1]instanceof Map)return[t[0]].concat((0,Xi.convertMapToArray)(t[1]));if(typeof t[1]=="object"&&t[1]!==null)return[t[0]].concat((0,Xi.convertObjectToArray)(t[1]))}return t};Ns.setArgumentTransformer("mset",vR);Ns.setArgumentTransformer("msetnx",vR);Ns.setArgumentTransformer("hset",xR);Ns.setArgumentTransformer("hmset",xR);Ns.setReplyTransformer("hgetall",function(t){if(Array.isArray(t)){const e={};for(let s=0;s<t.length;s+=2){const n=t[s],r=t[s+1];n in e?Object.defineProperty(e,n,{value:r,configurable:!0,enumerable:!0,writable:!0}):e[n]=r}return e}return t});class Tq{constructor(){this.length=0,this.items=[]}push(e){this.length+=Zt.byteLength(e),this.items.push(e)}toBuffer(){const e=Zt.allocUnsafe(this.length);let s=0;for(const n of this.items){const r=Zt.byteLength(n);Zt.isBuffer(n)?n.copy(e,s):e.write(n,s,r),s+=r}return e}}var _x={};Object.defineProperty(_x,"__esModule",{value:!0});const Rq=nl;class bR extends Rq.RedisError{constructor(e,s){super(e),this.lastNodeError=s,Error.captureStackTrace(this,this.constructor)}get name(){return this.constructor.name}}_x.default=bR;bR.defaultMessage="Failed to refresh slots cache.";var ru={},Iq=["buffer","Buffer"];Object.defineProperty(ru,"__esModule",{value:!0});const Oq=oe;class Pq extends Oq.Readable{constructor(e){super(e),this.opt=e,this._redisCursor="0",this._redisDrained=!1}_read(){if(this._redisDrained){this.push(null);return}const e=[this._redisCursor];this.opt.key&&e.unshift(this.opt.key),this.opt.match&&e.push("MATCH",this.opt.match),this.opt.type&&e.push("TYPE",this.opt.type),this.opt.count&&e.push("COUNT",String(this.opt.count)),this.opt.noValues&&e.push("NOVALUES"),this.opt.redis[this.opt.command](e,(s,n)=>{if(s){this.emit("error",s);return}this._redisCursor=n[0]instanceof Iq?n[0].toString():n[0],this._redisCursor==="0"&&(this._redisDrained=!0),this.push(n[1])})}close(){this._redisDrained=!0}}ru.default=Pq;var iu={},Rf={},au={},wR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.executeWithAutoPipelining=t.getFirstValueInFlattenedArray=t.shouldUseAutoPipelining=t.notAllowedAutoPipelineCommands=t.kCallbacks=t.kExec=void 0;const e=Dn,s=Af,n=br;t.kExec=Symbol("exec"),t.kCallbacks=Symbol("callbacks"),t.notAllowedAutoPipelineCommands=["auth","info","script","quit","cluster","pipeline","multi","subscribe","psubscribe","unsubscribe","unpsubscribe","select"];function r(c,d){if(c._runningAutoPipelines.has(d)||!c._autoPipelines.has(d))return;c._runningAutoPipelines.add(d);const u=c._autoPipelines.get(d);c._autoPipelines.delete(d);const p=u[t.kCallbacks];u[t.kCallbacks]=null,u.exec(function(f,y){if(c._runningAutoPipelines.delete(d),f)for(let g=0;g<p.length;g++)process.nextTick(p[g],f);else for(let g=0;g<p.length;g++)process.nextTick(p[g],...y[g]);c._autoPipelines.has(d)&&r(c,d)})}function i(c,d,u){return d&&c.options.enableAutoPipelining&&!c.isPipeline&&!t.notAllowedAutoPipelineCommands.includes(u)&&!c.options.autoPipeliningIgnoredCommands.includes(u)}t.shouldUseAutoPipelining=i;function o(c){for(let d=0;d<c.length;d++){const u=c[d];if(typeof u=="string")return u;if(Array.isArray(u)||(0,e.isArguments)(u)){if(u.length===0)continue;return u[0]}const p=[u].flat();if(p.length>0)return p[0]}}t.getFirstValueInFlattenedArray=o;function l(c,d,u,p,f){if(c.isCluster&&!c.slots.length)return c.status==="wait"&&c.connect().catch(e.noop),(0,n.default)(new Promise(function(m,x){c.delayUntilReady(k=>{if(k){x(k);return}l(c,d,u,p,null).then(m,x)})}),f);const y=c.options.keyPrefix||"",g=c.isCluster?c.slots[s(`${y}${o(p)}`)].join(","):"main";if(!c._autoPipelines.has(g)){const m=c.pipeline();m[t.kExec]=!1,m[t.kCallbacks]=[],c._autoPipelines.set(g,m)}const h=c._autoPipelines.get(g);h[t.kExec]||(h[t.kExec]=!0,setImmediate(r,c,g));const b=new Promise(function(m,x){h[t.kCallbacks].push(function(k,E){if(k){x(k);return}m(E)}),d==="call"&&p.unshift(u),h[d](...p)});return(0,n.default)(b,f)}t.executeWithAutoPipelining=l})(wR);var Ex={};Object.defineProperty(Ex,"__esModule",{value:!0});const Dq=oe,Mq=Qn,Lq=br;class Fq{constructor(e,s=null,n="",r=!1){this.lua=e,this.numberOfKeys=s,this.keyPrefix=n,this.readOnly=r,this.sha=(0,Dq.createHash)("sha1").update(e).digest("hex");const i=this.sha,o=new WeakSet;this.Command=class extends Mq.default{toWritable(c){const d=this.reject;return this.reject=u=>{u.message.indexOf("NOSCRIPT")!==-1&&o.delete(c),d.call(this,u)},o.has(c)?this.name==="eval"&&(this.name="evalsha",this.args[0]=i):(o.add(c),this.name="eval",this.args[0]=e),super.toWritable(c)}}}execute(e,s,n,r){typeof this.numberOfKeys=="number"&&s.unshift(this.numberOfKeys),this.keyPrefix&&(n.keyPrefix=this.keyPrefix),this.readOnly&&(n.readOnly=!0);const i=new this.Command("evalsha",[this.sha,...s],n);return i.promise=i.promise.catch(o=>{if(o.message.indexOf("NOSCRIPT")===-1)throw o;const l=new this.Command("evalsha",[this.sha,...s],n);return(e.isPipeline?e.redis:e).sendCommand(l)}),(0,Lq.default)(i.promise,r),e.sendCommand(i)}}Ex.default=Fq;Object.defineProperty(au,"__esModule",{value:!0});const Bq=sl,mp=wR,$q=Qn,Uq=Ex;class pa{constructor(){this.options={},this.scriptsSet={},this.addedBuiltinSet=new Set}getBuiltinCommands(){return Nx.slice(0)}createBuiltinCommand(e){return{string:Yr(null,e,"utf8"),buffer:Yr(null,e,null)}}addBuiltinCommand(e){this.addedBuiltinSet.add(e),this[e]=Yr(e,e,"utf8"),this[e+"Buffer"]=Yr(e+"Buffer",e,null)}defineCommand(e,s){const n=new Uq.default(s.lua,s.numberOfKeys,this.options.keyPrefix,s.readOnly);this.scriptsSet[e]=n,this[e]=l1(e,e,n,"utf8"),this[e+"Buffer"]=l1(e+"Buffer",e,n,null)}sendCommand(e,s,n){throw new Error('"sendCommand" is not implemented')}}const Nx=Bq.list.filter(t=>t!=="monitor");Nx.push("sentinel");Nx.forEach(function(t){pa.prototype[t]=Yr(t,t,"utf8"),pa.prototype[t+"Buffer"]=Yr(t+"Buffer",t,null)});pa.prototype.call=Yr("call","utf8");pa.prototype.callBuffer=Yr("callBuffer",null);pa.prototype.send_command=pa.prototype.call;function Yr(t,e,s){return typeof s>"u"&&(s=e,e=null),function(...n){const r=e||n.shift();let i=n[n.length-1];typeof i=="function"?n.pop():i=void 0;const o={errorStack:this.options.showFriendlyErrorStack?new Error:void 0,keyPrefix:this.options.keyPrefix,replyEncoding:s};return(0,mp.shouldUseAutoPipelining)(this,t,r)?(0,mp.executeWithAutoPipelining)(this,t,r,n,i):this.sendCommand(new $q.default(r,n,o,i))}}function l1(t,e,s,n){return function(...r){const i=typeof r[r.length-1]=="function"?r.pop():void 0,o={replyEncoding:n};return this.options.showFriendlyErrorStack&&(o.errorStack=new Error),(0,mp.shouldUseAutoPipelining)(this,t,e)?(0,mp.executeWithAutoPipelining)(this,t,e,r,i):s.execute(this,r,o,i)}}au.default=pa;var em=["buffer","Buffer"];Object.defineProperty(Rf,"__esModule",{value:!0});const py=Af,c1=sl,u1=br,zq=oe,qq=Qn,Qq=$t,Vq=au;function Hq(t,e){const s=py(e[0]),n=t._groupsBySlot[s];for(let r=1;r<e.length;r++)if(t._groupsBySlot[py(e[r])]!==n)return-1;return s}class rl extends Vq.default{constructor(e){super(),this.redis=e,this.isPipeline=!0,this.replyPending=0,this._queue=[],this._result=[],this._transactions=0,this._shaToScript={},this.isCluster=this.redis.constructor.name==="Cluster"||this.redis.isCluster,this.options=e.options,Object.keys(e.scriptsSet).forEach(n=>{const r=e.scriptsSet[n];this._shaToScript[r.sha]=r,this[n]=e[n],this[n+"Buffer"]=e[n+"Buffer"]}),e.addedBuiltinSet.forEach(n=>{this[n]=e[n],this[n+"Buffer"]=e[n+"Buffer"]}),this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r});const s=this;Object.defineProperty(this,"length",{get:function(){return s._queue.length}})}fillResult(e,s){if(this._queue[s].name==="exec"&&Array.isArray(e[1])){const r=e[1].length;for(let i=0;i<r;i++){if(e[1][i]instanceof Error)continue;const o=this._queue[s-(r-i)];try{e[1][i]=o.transformReply(e[1][i])}catch(l){e[1][i]=l}}}if(this._result[s]=e,--this.replyPending)return;if(this.isCluster){let r=!0,i;for(let o=0;o<this._result.length;++o){const l=this._result[o][0],c=this._queue[o];if(l){if(c.name==="exec"&&l.message==="EXECABORT Transaction discarded because of previous errors.")continue;if(!i)i={name:l.name,message:l.message};else if(i.name!==l.name||i.message!==l.message){r=!1;break}}else if(!c.inTransaction&&!((0,c1.exists)(c.name)&&(0,c1.hasFlag)(c.name,"readonly"))){r=!1;break}}if(i&&r){const o=this,l=i.message.split(" "),c=this._queue;let d=!1;this._queue=[];for(let y=0;y<c.length;++y){if(l[0]==="ASK"&&!d&&c[y].name!=="asking"&&(!c[y-1]||c[y-1].name!=="asking")){const g=new qq.default("asking");g.ignore=!0,this.sendCommand(g)}c[y].initPromise(),this.sendCommand(c[y]),d=c[y].inTransaction}let u=!0;typeof this.leftRedirections>"u"&&(this.leftRedirections={});const p=function(){o.exec()},f=this.redis;if(f.handleError(i,this.leftRedirections,{moved:function(y,g){o.preferKey=g,f.slots[l[1]]=[g],f._groupsBySlot[l[1]]=f._groupsIds[f.slots[l[1]].join(";")],f.refreshSlotsCache(),o.exec()},ask:function(y,g){o.preferKey=g,o.exec()},tryagain:p,clusterDown:p,connectionClosed:p,maxRedirections:()=>{u=!1},defaults:()=>{u=!1}}),u)return}}let n=0;for(let r=0;r<this._queue.length-n;++r)this._queue[r+n].ignore&&(n+=1),this._result[r]=this._result[r+n];this.resolve(this._result.slice(0,this._result.length-n))}sendCommand(e){this._transactions>0&&(e.inTransaction=!0);const s=this._queue.length;return e.pipelineIndex=s,e.promise.then(n=>{this.fillResult([null,n],s)}).catch(n=>{this.fillResult([n],s)}),this._queue.push(e),this}addBatch(e){let s,n,r;for(let i=0;i<e.length;++i)s=e[i],n=s[0],r=s.slice(1),this[n].apply(this,r);return this}}Rf.default=rl;const Gq=rl.prototype.multi;rl.prototype.multi=function(){return this._transactions+=1,Gq.apply(this,arguments)};const SR=rl.prototype.execBuffer;rl.prototype.execBuffer=(0,zq.deprecate)(function(){return this._transactions>0&&(this._transactions-=1),SR.apply(this,arguments)},"Pipeline#execBuffer: Use Pipeline#exec instead");rl.prototype.exec=function(t){if(this.isCluster&&!this.redis.slots.length)return this.redis.status==="wait"&&this.redis.connect().catch(Qq.noop),t&&!this.nodeifiedPromise&&(this.nodeifiedPromise=!0,(0,u1.default)(this.promise,t)),this.redis.delayUntilReady(r=>{if(r){this.reject(r);return}this.exec(t)}),this.promise;if(this._transactions>0)return this._transactions-=1,SR.apply(this,arguments);this.nodeifiedPromise||(this.nodeifiedPromise=!0,(0,u1.default)(this.promise,t)),this._queue.length||this.resolve([]);let e;if(this.isCluster){const r=[];for(let i=0;i<this._queue.length;i++){const o=this._queue[i].getKeys();if(o.length&&r.push(o[0]),o.length&&py.generateMulti(o)<0)return this.reject(new Error("All the keys in a pipeline command should belong to the same slot")),this.promise}if(r.length){if(e=Hq(this.redis,r),e<0)return this.reject(new Error("All keys in the pipeline should belong to the same slots allocation group")),this.promise}else e=Math.random()*16384|0}const s=this;return n(),this.promise;function n(){let r=s.replyPending=s._queue.length,i;s.isCluster&&(i={slot:e,redis:s.redis.connectionPool.nodes.all[s.preferKey]});let o="",l;const c={isPipeline:!0,destination:s.isCluster?i:{redis:s.redis},write(d){typeof d!="string"?(l||(l=[]),o&&(l.push(em.from(o,"utf8")),o=""),l.push(d)):o+=d,--r||(l?(o&&l.push(em.from(o,"utf8")),c.destination.redis.stream.write(em.concat(l))):c.destination.redis.stream.write(o),r=s._queue.length,o="",l=void 0)}};for(let d=0;d<s._queue.length;++d)s.redis.sendCommand(s._queue[d],c,i);return s.promise}};Object.defineProperty(iu,"__esModule",{value:!0});iu.addTransactionSupport=void 0;const tm=$t,sm=br,d1=Rf;function Wq(t){t.pipeline=function(n){const r=new d1.default(this);return Array.isArray(n)&&r.addBatch(n),r};const{multi:e}=t;t.multi=function(n,r){if(typeof r>"u"&&!Array.isArray(n)&&(r=n,n=null),r&&r.pipeline===!1)return e.call(this);const i=new d1.default(this);i.multi(),Array.isArray(n)&&i.addBatch(n);const o=i.exec;i.exec=function(c){if(this.isCluster&&!this.redis.slots.length)return this.redis.status==="wait"&&this.redis.connect().catch(tm.noop),(0,sm.default)(new Promise((u,p)=>{this.redis.delayUntilReady(f=>{if(f){p(f);return}this.exec(i).then(u,p)})}),c);if(this._transactions>0&&o.call(i),this.nodeifiedPromise)return o.call(i);const d=o.call(i);return(0,sm.default)(d.then(function(u){const p=u[u.length-1];if(typeof p>"u")throw new Error("Pipeline cannot be used to send any commands when the `exec()` has been called on it.");if(p[0]){p[0].previousErrors=[];for(let f=0;f<u.length-1;++f)u[f][0]&&p[0].previousErrors.push(u[f][0]);throw p[0]}return(0,tm.wrapMultiResult)(p[1])}),c)};const{execBuffer:l}=i;return i.execBuffer=function(c){return this._transactions>0&&l.call(i),i.exec(c)},i};const{exec:s}=t;t.exec=function(n){return(0,sm.default)(s.call(this).then(function(r){return Array.isArray(r)&&(r=(0,tm.wrapMultiResult)(r)),r}),n)}}iu.addTransactionSupport=Wq;var If={};Object.defineProperty(If,"__esModule",{value:!0});function Kq(t,e){Object.getOwnPropertyNames(e.prototype).forEach(s=>{Object.defineProperty(t.prototype,s,Object.getOwnPropertyDescriptor(e.prototype,s))})}If.default=Kq;var Of={};Object.defineProperty(Of,"__esModule",{value:!0});Of.DEFAULT_CLUSTER_OPTIONS=void 0;const p1=oe;Of.DEFAULT_CLUSTER_OPTIONS={clusterRetryStrategy:t=>Math.min(100+t*2,2e3),enableOfflineQueue:!0,enableReadyCheck:!0,scaleReads:"master",maxRedirections:16,retryDelayOnMoved:0,retryDelayOnFailover:100,retryDelayOnClusterDown:100,retryDelayOnTryAgain:100,slotsRefreshTimeout:1e3,useSRVRecords:!1,resolveSrv:p1.resolveSrv,dnsLookup:p1.lookup,enableAutoPipelining:!1,autoPipeliningIgnoredCommands:[],shardedSubscribers:!1};var Hu={},Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.getConnectionName=Ct.weightSrvRecords=Ct.groupSrvRecords=Ct.getUniqueHostnamesFromOptions=Ct.normalizeNodeOptions=Ct.nodeKeyToRedisOptions=Ct.getNodeKey=void 0;const f1=$t,Yq=oe;function Jq(t){return t.port=t.port||6379,t.host=t.host||"127.0.0.1",t.host+":"+t.port}Ct.getNodeKey=Jq;function Xq(t){const e=t.lastIndexOf(":");if(e===-1)throw new Error(`Invalid node key ${t}`);return{host:t.slice(0,e),port:Number(t.slice(e+1))}}Ct.nodeKeyToRedisOptions=Xq;function Zq(t){return t.map(e=>{const s={};if(typeof e=="object")Object.assign(s,e);else if(typeof e=="string")Object.assign(s,(0,f1.parseURL)(e));else if(typeof e=="number")s.port=e;else throw new Error("Invalid argument "+e);return typeof s.port=="string"&&(s.port=parseInt(s.port,10)),delete s.db,s.port||(s.port=6379),s.host||(s.host="127.0.0.1"),(0,f1.resolveTLSProfile)(s)})}Ct.normalizeNodeOptions=Zq;function eQ(t){const e={};return t.forEach(s=>{e[s.host]=!0}),Object.keys(e).filter(s=>!(0,Yq.isIP)(s))}Ct.getUniqueHostnamesFromOptions=eQ;function tQ(t){const e={};for(const s of t)e.hasOwnProperty(s.priority)?(e[s.priority].totalWeight+=s.weight,e[s.priority].records.push(s)):e[s.priority]={totalWeight:s.weight,records:[s]};return e}Ct.groupSrvRecords=tQ;function sQ(t){if(t.records.length===1)return t.totalWeight=0,t.records.shift();const e=Math.floor(Math.random()*(t.totalWeight+t.records.length));let s=0;for(const[n,r]of t.records.entries())if(s+=1+r.weight,s>e)return t.totalWeight-=r.weight,t.records.splice(n,1),r}Ct.weightSrvRecords=sQ;function nQ(t,e){const s=`ioredis-cluster(${t})`;return e?`${s}:${e}`:s}Ct.getConnectionName=nQ;var h1;function _R(){if(h1)return Hu;h1=1,Object.defineProperty(Hu,"__esModule",{value:!0});const t=Ct,e=$t,s=Zi(),n=(0,e.Debug)("cluster:subscriber");let r=class{constructor(o,l,c=!1){this.connectionPool=o,this.emitter=l,this.isSharded=c,this.started=!1,this.subscriber=null,this.slotRange=[],this.onSubscriberEnd=()=>{if(!this.started){n("subscriber has disconnected, but ClusterSubscriber is not started, so not reconnecting.");return}n("subscriber has disconnected, selecting a new one..."),this.selectSubscriber()},this.connectionPool.on("-node",(d,u)=>{!this.started||!this.subscriber||(0,t.getNodeKey)(this.subscriber.options)===u&&(n("subscriber has left, selecting a new one..."),this.selectSubscriber())}),this.connectionPool.on("+node",()=>{!this.started||this.subscriber||(n("a new node is discovered and there is no subscriber, selecting a new one..."),this.selectSubscriber())})}getInstance(){return this.subscriber}associateSlotRange(o){return this.isSharded&&(this.slotRange=o),this.slotRange}start(){this.started=!0,this.selectSubscriber(),n("started")}stop(){this.started=!1,this.subscriber&&(this.subscriber.disconnect(),this.subscriber=null)}isStarted(){return this.started}selectSubscriber(){const o=this.lastActiveSubscriber;o&&(o.off("end",this.onSubscriberEnd),o.disconnect()),this.subscriber&&(this.subscriber.off("end",this.onSubscriberEnd),this.subscriber.disconnect());const l=(0,e.sample)(this.connectionPool.getNodes());if(!l){n("selecting subscriber failed since there is no node discovered in the cluster yet"),this.subscriber=null;return}const{options:c}=l;n("selected a subscriber %s:%s",c.host,c.port);let d="subscriber";this.isSharded&&(d="ssubscriber"),this.subscriber=new s.default({port:c.port,host:c.host,username:c.username,password:c.password,enableReadyCheck:!0,connectionName:(0,t.getConnectionName)(d,c.connectionName),lazyConnect:!0,tls:c.tls,retryStrategy:null}),this.subscriber.on("error",e.noop),this.subscriber.once("end",this.onSubscriberEnd);const u={subscribe:[],psubscribe:[],ssubscribe:[]};if(o){const p=o.condition||o.prevCondition;p&&p.subscriber&&(u.subscribe=p.subscriber.channels("subscribe"),u.psubscribe=p.subscriber.channels("psubscribe"),u.ssubscribe=p.subscriber.channels("ssubscribe"))}if(u.subscribe.length||u.psubscribe.length||u.ssubscribe.length){let p=0;for(const f of["subscribe","psubscribe","ssubscribe"]){const y=u[f];y.length&&(p+=1,n("%s %d channels",f,y.length),this.subscriber[f](y).then(()=>{--p||(this.lastActiveSubscriber=this.subscriber)}).catch(()=>{n("failed to %s %d channels",f,y.length)}))}}else this.lastActiveSubscriber=this.subscriber;for(const p of["message","messageBuffer"])this.subscriber.on(p,(f,y)=>{this.emitter.emit(p,f,y)});for(const p of["pmessage","pmessageBuffer"])this.subscriber.on(p,(f,y,g)=>{this.emitter.emit(p,f,y,g)});if(this.isSharded==!0)for(const p of["smessage","smessageBuffer"])this.subscriber.on(p,(f,y)=>{this.emitter.emit(p,f,y)})}};return Hu.default=r,Hu}var Gu={},m1;function ER(){if(m1)return Gu;m1=1,Object.defineProperty(Gu,"__esModule",{value:!0});const t=oe,e=$t,s=Ct,n=Zi(),r=(0,e.Debug)("cluster:connectionPool");let i=class extends t.EventEmitter{constructor(l){super(),this.redisOptions=l,this.nodes={all:{},master:{},slave:{}},this.specifiedOptions={}}getNodes(l="all"){const c=this.nodes[l];return Object.keys(c).map(d=>c[d])}getInstanceByKey(l){return this.nodes.all[l]}getSampleInstance(l){const c=Object.keys(this.nodes[l]),d=(0,e.sample)(c);return this.nodes[l][d]}addMasterNode(l){const c=(0,s.getNodeKey)(l.options),d=this.createRedisFromOptions(l,l.options.readOnly);return l.options.readOnly?!1:(this.nodes.all[c]=d,this.nodes.master[c]=d,!0)}createRedisFromOptions(l,c){return new n.default((0,e.defaults)({retryStrategy:null,enableOfflineQueue:!0,readOnly:c},l,this.redisOptions,{lazyConnect:!0}))}findOrCreate(l,c=!1){const d=(0,s.getNodeKey)(l);c=!!c,this.specifiedOptions[d]?Object.assign(l,this.specifiedOptions[d]):this.specifiedOptions[d]=l;let u;return this.nodes.all[d]?(u=this.nodes.all[d],u.options.readOnly!==c&&(u.options.readOnly=c,r("Change role of %s to %s",d,c?"slave":"master"),u[c?"readonly":"readwrite"]().catch(e.noop),c?(delete this.nodes.master[d],this.nodes.slave[d]=u):(delete this.nodes.slave[d],this.nodes.master[d]=u))):(r("Connecting to %s as %s",d,c?"slave":"master"),u=this.createRedisFromOptions(l,c),this.nodes.all[d]=u,this.nodes[c?"slave":"master"][d]=u,u.once("end",()=>{this.removeNode(d),this.emit("-node",u,d),Object.keys(this.nodes.all).length||this.emit("drain")}),this.emit("+node",u,d),u.on("error",function(p){this.emit("nodeError",p,d)})),u}reset(l){r("Reset with %O",l);const c={};l.forEach(d=>{const u=(0,s.getNodeKey)(d);d.readOnly&&c[u]||(c[u]=d)}),Object.keys(this.nodes.all).forEach(d=>{c[d]||(r("Disconnect %s because the node does not hold any slot",d),this.nodes.all[d].disconnect(),this.removeNode(d))}),Object.keys(c).forEach(d=>{const u=c[d];this.findOrCreate(u,u.readOnly)})}removeNode(l){const{nodes:c}=this;c.all[l]&&(r("Remove %s from the pool",l),delete c.all[l]),delete c.master[l],delete c.slave[l]}};return Gu.default=i,Gu}var kx={};function ct(t,s){var s=s||{};this._capacity=s.capacity,this._head=0,this._tail=0,Array.isArray(t)?this._fromArray(t):(this._capacityMask=3,this._list=new Array(4))}ct.prototype.peekAt=function(e){var s=e;if(s===(s|0)){var n=this.size();if(!(s>=n||s<-n))return s<0&&(s+=n),s=this._head+s&this._capacityMask,this._list[s]}};ct.prototype.get=function(e){return this.peekAt(e)};ct.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]};ct.prototype.peekFront=function(){return this.peek()};ct.prototype.peekBack=function(){return this.peekAt(-1)};Object.defineProperty(ct.prototype,"length",{get:function(){return this.size()}});ct.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};ct.prototype.unshift=function(e){if(arguments.length===0)return this.size();var s=this._list.length;return this._head=this._head-1+s&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};ct.prototype.shift=function(){var e=this._head;if(e!==this._tail){var s=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),s}};ct.prototype.push=function(e){if(arguments.length===0)return this.size();var s=this._tail;return this._list[s]=e,this._tail=s+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};ct.prototype.pop=function(){var e=this._tail;if(e!==this._head){var s=this._list.length;this._tail=e-1+s&this._capacityMask;var n=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&e>1e4&&e<=s>>>2&&this._shrinkArray(),n}};ct.prototype.removeOne=function(e){var s=e;if(s===(s|0)&&this._head!==this._tail){var n=this.size(),r=this._list.length;if(!(s>=n||s<-n)){s<0&&(s+=n),s=this._head+s&this._capacityMask;var i=this._list[s],o;if(e<n/2){for(o=e;o>0;o--)this._list[s]=this._list[s=s-1+r&this._capacityMask];this._list[s]=void 0,this._head=this._head+1+r&this._capacityMask}else{for(o=n-1-e;o>0;o--)this._list[s]=this._list[s=s+1+r&this._capacityMask];this._list[s]=void 0,this._tail=this._tail-1+r&this._capacityMask}return i}}};ct.prototype.remove=function(e,s){var n=e,r,i=s;if(n===(n|0)&&this._head!==this._tail){var o=this.size(),l=this._list.length;if(!(n>=o||n<-o||s<1)){if(n<0&&(n+=o),s===1||!s)return r=new Array(1),r[0]=this.removeOne(n),r;if(n===0&&n+s>=o)return r=this.toArray(),this.clear(),r;n+s>o&&(s=o-n);var c;for(r=new Array(s),c=0;c<s;c++)r[c]=this._list[this._head+n+c&this._capacityMask];if(n=this._head+n&this._capacityMask,e+s===o){for(this._tail=this._tail-s+l&this._capacityMask,c=s;c>0;c--)this._list[n=n+1+l&this._capacityMask]=void 0;return r}if(e===0){for(this._head=this._head+s+l&this._capacityMask,c=s-1;c>0;c--)this._list[n=n+1+l&this._capacityMask]=void 0;return r}if(n<o/2){for(this._head=this._head+e+s+l&this._capacityMask,c=e;c>0;c--)this.unshift(this._list[n=n-1+l&this._capacityMask]);for(n=this._head-1+l&this._capacityMask;i>0;)this._list[n=n-1+l&this._capacityMask]=void 0,i--;e<0&&(this._tail=n)}else{for(this._tail=n,n=n+s+l&this._capacityMask,c=o-(s+e);c>0;c--)this.push(this._list[n++]);for(n=this._tail;i>0;)this._list[n=n+1+l&this._capacityMask]=void 0,i--}return this._head<2&&this._tail>1e4&&this._tail<=l>>>2&&this._shrinkArray(),r}}};ct.prototype.splice=function(e,s){var n=e;if(n===(n|0)){var r=this.size();if(n<0&&(n+=r),!(n>r))if(arguments.length>2){var i,o,l,c=arguments.length,d=this._list.length,u=2;if(!r||n<r/2){for(o=new Array(n),i=0;i<n;i++)o[i]=this._list[this._head+i&this._capacityMask];for(s===0?(l=[],n>0&&(this._head=this._head+n+d&this._capacityMask)):(l=this.remove(n,s),this._head=this._head+n+d&this._capacityMask);c>u;)this.unshift(arguments[--c]);for(i=n;i>0;i--)this.unshift(o[i-1])}else{o=new Array(r-(n+s));var p=o.length;for(i=0;i<p;i++)o[i]=this._list[this._head+n+s+i&this._capacityMask];for(s===0?(l=[],n!=r&&(this._tail=this._head+n+d&this._capacityMask)):(l=this.remove(n,s),this._tail=this._tail-p+d&this._capacityMask);u<c;)this.push(arguments[u++]);for(i=0;i<p;i++)this.push(o[i])}return l}else return this.remove(n,s)}};ct.prototype.clear=function(){this._list=new Array(this._list.length),this._head=0,this._tail=0};ct.prototype.isEmpty=function(){return this._head===this._tail};ct.prototype.toArray=function(){return this._copyArray(!1)};ct.prototype._fromArray=function(e){var s=e.length,n=this._nextPowerOf2(s);this._list=new Array(n),this._capacityMask=n-1,this._tail=s;for(var r=0;r<s;r++)this._list[r]=e[r]};ct.prototype._copyArray=function(e,s){var n=this._list,r=n.length,i=this.length;if(s=s|i,s==i&&this._head<this._tail)return this._list.slice(this._head,this._tail);var o=new Array(s),l=0,c;if(e||this._head>this._tail){for(c=this._head;c<r;c++)o[l++]=n[c];for(c=0;c<this._tail;c++)o[l++]=n[c]}else for(c=this._head;c<this._tail;c++)o[l++]=n[c];return o};ct.prototype._growArray=function(){if(this._head!=0){var e=this._copyArray(!0,this._list.length<<1);this._tail=this._list.length,this._head=0,this._list=e}else this._tail=this._list.length,this._list.length<<=1;this._capacityMask=this._capacityMask<<1|1};ct.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1};ct.prototype._nextPowerOf2=function(e){var s=Math.log(e)/Math.log(2),n=1<<s+1;return Math.max(n,4)};var Cx=ct;Object.defineProperty(kx,"__esModule",{value:!0});const rQ=$t,iQ=Cx,aQ=(0,rQ.Debug)("delayqueue");class oQ{constructor(){this.queues={},this.timeouts={}}push(e,s,n){const r=n.callback||process.nextTick;this.queues[e]||(this.queues[e]=new iQ),this.queues[e].push(s),this.timeouts[e]||(this.timeouts[e]=setTimeout(()=>{r(()=>{this.timeouts[e]=null,this.execute(e)})},n.timeout))}execute(e){const s=this.queues[e];if(!s)return;const{length:n}=s;if(n)for(aQ("send %d commands in %s queue",n,e),this.queues[e]=null;s.length>0;)s.shift()()}}kx.default=oQ;var Wu={},g1;function lQ(){if(g1)return Wu;g1=1,Object.defineProperty(Wu,"__esModule",{value:!0});const t=$t,e=_R(),s=ER(),n=Ct,r=Af,i=(0,t.Debug)("cluster:subscriberGroup");let o=class{constructor(c){this.cluster=c,this.shardedSubscribers=new Map,this.clusterSlots=[],this.subscriberToSlotsIndex=new Map,this.channels=new Map,c.on("+node",d=>{this._addSubscriber(d)}),c.on("-node",d=>{this._removeSubscriber(d)}),c.on("refresh",()=>{this._refreshSlots(c)})}getResponsibleSubscriber(c){const d=this.clusterSlots[c][0];return this.shardedSubscribers.get(d)}addChannels(c){const d=r(c[0]);c.forEach(p=>{if(r(p)!=d)return-1});const u=this.channels.get(d);return u?this.channels.set(d,u.concat(c)):this.channels.set(d,c),[...this.channels.values()].flatMap(p=>p).length}removeChannels(c){const d=r(c[0]);c.forEach(p=>{if(r(p)!=d)return-1});const u=this.channels.get(d);if(u){const p=u.filter(f=>!c.includes(f));this.channels.set(d,p)}return[...this.channels.values()].flatMap(p=>p).length}stop(){for(const c of this.shardedSubscribers.values())c.stop()}start(){for(const c of this.shardedSubscribers.values())c.isStarted()||c.start()}_addSubscriber(c){const d=new s.default(c.options);if(d.addMasterNode(c)){const u=new e.default(d,this.cluster,!0),p=(0,n.getNodeKey)(c.options);return this.shardedSubscribers.set(p,u),u.start(),this._resubscribe(),this.cluster.emit("+subscriber"),u}return null}_removeSubscriber(c){const d=(0,n.getNodeKey)(c.options),u=this.shardedSubscribers.get(d);return u&&(u.stop(),this.shardedSubscribers.delete(d),this._resubscribe(),this.cluster.emit("-subscriber")),this.shardedSubscribers}_refreshSlots(c){if(this._slotsAreEqual(c.slots))i("Nothing to refresh because the new cluster map is equal to the previous one.");else{i("Refreshing the slots of the subscriber group."),this.subscriberToSlotsIndex=new Map;for(let d=0;d<c.slots.length;d++){const u=c.slots[d][0];this.subscriberToSlotsIndex.has(u)||this.subscriberToSlotsIndex.set(u,[]),this.subscriberToSlotsIndex.get(u).push(Number(d))}return this._resubscribe(),this.clusterSlots=JSON.parse(JSON.stringify(c.slots)),this.cluster.emit("subscribersReady"),!0}return!1}_resubscribe(){this.shardedSubscribers&&this.shardedSubscribers.forEach((c,d)=>{const u=this.subscriberToSlotsIndex.get(d);u&&(c.associateSlotRange(u),u.forEach(p=>{const f=c.getInstance(),y=this.channels.get(p);y&&y.length>0&&f&&(f.ssubscribe(y),f.on("ready",()=>{f.ssubscribe(y)}))}))})}_slotsAreEqual(c){return this.clusterSlots===void 0?!1:JSON.stringify(this.clusterSlots)===JSON.stringify(c)}};return Wu.default=o,Wu}var y1;function NR(){if(y1)return Vu;y1=1,Object.defineProperty(Vu,"__esModule",{value:!0});const t=sl,e=oe,s=nl,n=br,r=Qn,i=_x,o=Zi(),l=ru,c=iu,d=$t,u=If,p=au,f=Of,y=_R(),g=ER(),h=kx,b=Ct,m=Cx,x=lQ(),k=(0,d.Debug)("cluster"),E=new WeakSet;class C extends p.default{constructor(N,_={}){if(super(),this.slots=[],this._groupsIds={},this._groupsBySlot=Array(16384),this.isCluster=!0,this.retryAttempts=0,this.delayQueue=new h.default,this.offlineQueue=new m,this.isRefreshing=!1,this._refreshSlotsCacheCallbacks=[],this._autoPipelines=new Map,this._runningAutoPipelines=new Set,this._readyDelayedCallbacks=[],this.connectionEpoch=0,e.EventEmitter.call(this),this.startupNodes=N,this.options=(0,d.defaults)({},_,f.DEFAULT_CLUSTER_OPTIONS,this.options),this.options.shardedSubscribers==!0&&(this.shardedSubscribers=new x.default(this)),this.options.redisOptions&&this.options.redisOptions.keyPrefix&&!this.options.keyPrefix&&(this.options.keyPrefix=this.options.redisOptions.keyPrefix),typeof this.options.scaleReads!="function"&&["all","master","slave"].indexOf(this.options.scaleReads)===-1)throw new Error('Invalid option scaleReads "'+this.options.scaleReads+'". Expected "all", "master", "slave" or a custom function');this.connectionPool=new g.default(this.options.redisOptions),this.connectionPool.on("-node",(O,T)=>{this.emit("-node",O)}),this.connectionPool.on("+node",O=>{this.emit("+node",O)}),this.connectionPool.on("drain",()=>{this.setStatus("close")}),this.connectionPool.on("nodeError",(O,T)=>{this.emit("node error",O,T)}),this.subscriber=new y.default(this.connectionPool,this),this.options.scripts&&Object.entries(this.options.scripts).forEach(([O,T])=>{this.defineCommand(O,T)}),this.options.lazyConnect?this.setStatus("wait"):this.connect().catch(O=>{k("connecting failed: %s",O)})}connect(){return new Promise((N,_)=>{if(this.status==="connecting"||this.status==="connect"||this.status==="ready"){_(new Error("Redis is already connecting/connected"));return}const O=++this.connectionEpoch;this.setStatus("connecting"),this.resolveStartupNodeHostnames().then(T=>{if(this.connectionEpoch!==O){k("discard connecting after resolving startup nodes because epoch not match: %d != %d",O,this.connectionEpoch),_(new s.RedisError("Connection is discarded because a new connection is made"));return}if(this.status!=="connecting"){k("discard connecting after resolving startup nodes because the status changed to %s",this.status),_(new s.RedisError("Connection is aborted"));return}this.connectionPool.reset(T);const D=()=>{this.setStatus("ready"),this.retryAttempts=0,this.executeOfflineCommands(),this.resetNodesRefreshInterval(),N()};let V;const L=()=>{this.invokeReadyDelayedCallbacks(void 0),this.removeListener("close",V),this.manuallyClosing=!1,this.setStatus("connect"),this.options.enableReadyCheck?this.readyCheck((w,I)=>{w||I?(k("Ready check failed (%s). Reconnecting...",w||I),this.status==="connect"&&this.disconnect(!0)):D()}):D()};V=()=>{const w=new Error("None of startup nodes is available");this.removeListener("refresh",L),this.invokeReadyDelayedCallbacks(w),_(w)},this.once("refresh",L),this.once("close",V),this.once("close",this.handleCloseEvent.bind(this)),this.refreshSlotsCache(w=>{w&&w.message===i.default.defaultMessage&&(o.default.prototype.silentEmit.call(this,"error",w),this.connectionPool.reset([]))}),this.subscriber.start(),this.options.shardedSubscribers&&this.shardedSubscribers.start()}).catch(T=>{this.setStatus("close"),this.handleCloseEvent(T),this.invokeReadyDelayedCallbacks(T),_(T)})})}disconnect(N=!1){const _=this.status;this.setStatus("disconnecting"),N||(this.manuallyClosing=!0),this.reconnectTimeout&&!N&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null,k("Canceled reconnecting attempts")),this.clearNodesRefreshInterval(),this.subscriber.stop(),this.options.shardedSubscribers&&this.shardedSubscribers.stop(),_==="wait"?(this.setStatus("close"),this.handleCloseEvent()):this.connectionPool.reset([])}quit(N){const _=this.status;if(this.setStatus("disconnecting"),this.manuallyClosing=!0,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.clearNodesRefreshInterval(),this.subscriber.stop(),this.options.shardedSubscribers&&this.shardedSubscribers.stop(),_==="wait"){const O=(0,n.default)(Promise.resolve("OK"),N);return setImmediate((function(){this.setStatus("close"),this.handleCloseEvent()}).bind(this)),O}return(0,n.default)(Promise.all(this.nodes().map(O=>O.quit().catch(T=>{if(T.message===d.CONNECTION_CLOSED_ERROR_MSG)return"OK";throw T}))).then(()=>"OK"),N)}duplicate(N=[],_={}){const O=N.length>0?N:this.startupNodes.slice(0),T=Object.assign({},this.options,_);return new C(O,T)}nodes(N="all"){if(N!=="all"&&N!=="master"&&N!=="slave")throw new Error('Invalid role "'+N+'". Expected "all", "master" or "slave"');return this.connectionPool.getNodes(N)}delayUntilReady(N){this._readyDelayedCallbacks.push(N)}get autoPipelineQueueSize(){let N=0;for(const _ of this._autoPipelines.values())N+=_.length;return N}refreshSlotsCache(N){if(N&&this._refreshSlotsCacheCallbacks.push(N),this.isRefreshing)return;this.isRefreshing=!0;const _=this,O=L=>{this.isRefreshing=!1;for(const w of this._refreshSlotsCacheCallbacks)w(L);this._refreshSlotsCacheCallbacks=[]},T=(0,d.shuffle)(this.connectionPool.getNodes());let D=null;function V(L){if(L===T.length){const B=new i.default(i.default.defaultMessage,D);return O(B)}const w=T[L],I=`${w.options.host}:${w.options.port}`;k("getting slot cache from %s",I),_.getInfoFromNode(w,function(B){switch(_.status){case"close":case"end":return O(new Error("Cluster is disconnected."));case"disconnecting":return O(new Error("Cluster is disconnecting."))}B?(_.emit("node error",B,I),D=B,V(L+1)):(_.emit("refresh"),O())})}V(0)}sendCommand(N,_,O){if(this.status==="wait"&&this.connect().catch(d.noop),this.status==="end")return N.reject(new Error(d.CONNECTION_CLOSED_ERROR_MSG)),N.promise;let T=this.options.scaleReads;T!=="master"&&(N.isReadOnly||(0,t.exists)(N.name)&&(0,t.hasFlag)(N.name,"readonly")||(T="master"));let D=O?O.slot:N.getSlot();const V={},L=this;if(!O&&!E.has(N)){E.add(N);const I=N.reject;N.reject=function(B){const F=w.bind(null,!0);L.handleError(B,V,{moved:function(U,H){k("command %s is moved to %s",N.name,H),D=Number(U),L.slots[U]?L.slots[U][0]=H:L.slots[U]=[H],L._groupsBySlot[U]=L._groupsIds[L.slots[U].join(";")],L.connectionPool.findOrCreate(L.natMapper(H)),w(),k("refreshing slot caches... (triggered by MOVED error)"),L.refreshSlotsCache()},ask:function(U,H){k("command %s is required to ask %s:%s",N.name,H);const Y=L.natMapper(H);L.connectionPool.findOrCreate(Y),w(!1,`${Y.host}:${Y.port}`)},tryagain:F,clusterDown:F,connectionClosed:F,maxRedirections:function(U){I.call(N,U)},defaults:function(){I.call(N,B)}})}}w();function w(I,B){if(L.status==="end"){N.reject(new s.AbortError("Cluster is ended."));return}let F;if(L.status==="ready"||N.name==="cluster"){if(O&&O.redis)F=O.redis;else if(r.default.checkFlag("ENTER_SUBSCRIBER_MODE",N.name)||r.default.checkFlag("EXIT_SUBSCRIBER_MODE",N.name)){if(L.options.shardedSubscribers==!0&&(N.name=="ssubscribe"||N.name=="sunsubscribe")){const U=L.shardedSubscribers.getResponsibleSubscriber(D);let H=-1;N.name=="ssubscribe"&&(H=L.shardedSubscribers.addChannels(N.getKeys())),N.name=="sunsubscribe"&&(H=L.shardedSubscribers.removeChannels(N.getKeys())),H!==-1?F=U.getInstance():N.reject(new s.AbortError("Can't add or remove the given channels. Are they in the same slot?"))}else F=L.subscriber.getInstance();if(!F){N.reject(new s.AbortError("No subscriber for the cluster"));return}}else{if(!I){if(typeof D=="number"&&L.slots[D]){const U=L.slots[D];if(typeof T=="function"){const H=U.map(function(Y){return L.connectionPool.getInstanceByKey(Y)});F=T(H,N),Array.isArray(F)&&(F=(0,d.sample)(F)),F||(F=H[0])}else{let H;T==="all"?H=(0,d.sample)(U):T==="slave"&&U.length>1?H=(0,d.sample)(U,1):H=U[0],F=L.connectionPool.getInstanceByKey(H)}}B&&(F=L.connectionPool.getInstanceByKey(B),F.asking())}F||(F=(typeof T=="function"?null:L.connectionPool.getSampleInstance(T))||L.connectionPool.getSampleInstance("all"))}O&&!O.redis&&(O.redis=F)}F?F.sendCommand(N,_):L.options.enableOfflineQueue?L.offlineQueue.push({command:N,stream:_,node:O}):N.reject(new Error("Cluster isn't ready and enableOfflineQueue options is false"))}return N.promise}sscanStream(N,_){return this.createScanStream("sscan",{key:N,options:_})}sscanBufferStream(N,_){return this.createScanStream("sscanBuffer",{key:N,options:_})}hscanStream(N,_){return this.createScanStream("hscan",{key:N,options:_})}hscanBufferStream(N,_){return this.createScanStream("hscanBuffer",{key:N,options:_})}zscanStream(N,_){return this.createScanStream("zscan",{key:N,options:_})}zscanBufferStream(N,_){return this.createScanStream("zscanBuffer",{key:N,options:_})}handleError(N,_,O){if(typeof _.value>"u"?_.value=this.options.maxRedirections:_.value-=1,_.value<=0){O.maxRedirections(new Error("Too many Cluster redirections. Last error: "+N));return}const T=N.message.split(" ");if(T[0]==="MOVED"){const D=this.options.retryDelayOnMoved;D&&typeof D=="number"?this.delayQueue.push("moved",O.moved.bind(null,T[1],T[2]),{timeout:D}):O.moved(T[1],T[2])}else T[0]==="ASK"?O.ask(T[1],T[2]):T[0]==="TRYAGAIN"?this.delayQueue.push("tryagain",O.tryagain,{timeout:this.options.retryDelayOnTryAgain}):T[0]==="CLUSTERDOWN"&&this.options.retryDelayOnClusterDown>0?this.delayQueue.push("clusterdown",O.connectionClosed,{timeout:this.options.retryDelayOnClusterDown,callback:this.refreshSlotsCache.bind(this)}):N.message===d.CONNECTION_CLOSED_ERROR_MSG&&this.options.retryDelayOnFailover>0&&this.status==="ready"?this.delayQueue.push("failover",O.connectionClosed,{timeout:this.options.retryDelayOnFailover,callback:this.refreshSlotsCache.bind(this)}):O.defaults()}resetOfflineQueue(){this.offlineQueue=new m}clearNodesRefreshInterval(){this.slotsTimer&&(clearTimeout(this.slotsTimer),this.slotsTimer=null)}resetNodesRefreshInterval(){if(this.slotsTimer||!this.options.slotsRefreshInterval)return;const N=()=>{this.slotsTimer=setTimeout(()=>{k('refreshing slot caches... (triggered by "slotsRefreshInterval" option)'),this.refreshSlotsCache(()=>{N()})},this.options.slotsRefreshInterval)};N()}setStatus(N){k("status: %s -> %s",this.status||"[empty]",N),this.status=N,process.nextTick(()=>{this.emit(N)})}handleCloseEvent(N){N&&k("closed because %s",N);let _;!this.manuallyClosing&&typeof this.options.clusterRetryStrategy=="function"&&(_=this.options.clusterRetryStrategy.call(this,++this.retryAttempts,N)),typeof _=="number"?(this.setStatus("reconnecting"),this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=null,k("Cluster is disconnected. Retrying after %dms",_),this.connect().catch(function(O){k("Got error %s when reconnecting. Ignoring...",O)})},_)):(this.setStatus("end"),this.flushQueue(new Error("None of startup nodes is available")))}flushQueue(N){let _;for(;_=this.offlineQueue.shift();)_.command.reject(N)}executeOfflineCommands(){if(this.offlineQueue.length){k("send %d commands in offline queue",this.offlineQueue.length);const N=this.offlineQueue;this.resetOfflineQueue();let _;for(;_=N.shift();)this.sendCommand(_.command,_.stream,_.node)}}natMapper(N){const _=typeof N=="string"?N:`${N.host}:${N.port}`;let O=null;return this.options.natMap&&typeof this.options.natMap=="function"?O=this.options.natMap(_):this.options.natMap&&typeof this.options.natMap=="object"&&(O=this.options.natMap[_]),O?(k("NAT mapping %s -> %O",_,O),Object.assign({},O)):typeof N=="string"?(0,b.nodeKeyToRedisOptions)(N):N}getInfoFromNode(N,_){if(!N)return _(new Error("Node is disconnected"));const O=N.duplicate({enableOfflineQueue:!0,enableReadyCheck:!1,retryStrategy:null,connectionName:(0,b.getConnectionName)("refresher",this.options.redisOptions&&this.options.redisOptions.connectionName)});O.on("error",d.noop),O.cluster("SLOTS",(0,d.timeout)((T,D)=>{if(O.disconnect(),T)return k("error encountered running CLUSTER.SLOTS: %s",T),_(T);if(this.status==="disconnecting"||this.status==="close"||this.status==="end"){k("ignore CLUSTER.SLOTS results (count: %d) since cluster status is %s",D.length,this.status),_();return}const V=[];k("cluster slots result count: %d",D.length);for(let w=0;w<D.length;++w){const I=D[w],B=I[0],F=I[1],U=[];for(let H=2;H<I.length;H++){if(!I[H][0])continue;const Y=this.natMapper({host:I[H][0],port:I[H][1]});Y.readOnly=H!==2,V.push(Y),U.push(Y.host+":"+Y.port)}k("cluster slots result [%d]: slots %d~%d served by %s",w,B,F,U);for(let H=B;H<=F;H++)this.slots[H]=U}this._groupsIds=Object.create(null);let L=0;for(let w=0;w<16384;w++){const I=(this.slots[w]||[]).join(";");if(!I.length){this._groupsBySlot[w]=void 0;continue}this._groupsIds[I]||(this._groupsIds[I]=++L),this._groupsBySlot[w]=this._groupsIds[I]}this.connectionPool.reset(V),_()},this.options.slotsRefreshTimeout))}invokeReadyDelayedCallbacks(N){for(const _ of this._readyDelayedCallbacks)process.nextTick(_,N);this._readyDelayedCallbacks=[]}readyCheck(N){this.cluster("INFO",(_,O)=>{if(_)return N(_);if(typeof O!="string")return N();let T;const D=O.split(`\r
`);for(let V=0;V<D.length;++V){const L=D[V].split(":");if(L[0]==="cluster_state"){T=L[1];break}}T==="fail"?(k("cluster state not ok (%s)",T),N(null,T)):N()})}resolveSrv(N){return new Promise((_,O)=>{this.options.resolveSrv(N,(T,D)=>{if(T)return O(T);const V=this,L=(0,b.groupSrvRecords)(D),w=Object.keys(L).sort((B,F)=>parseInt(B)-parseInt(F));function I(B){if(!w.length)return O(B);const F=w[0],U=L[F],H=(0,b.weightSrvRecords)(U);U.records.length||w.shift(),V.dnsLookup(H.name).then(Y=>_({host:Y,port:H.port}),I)}I()})})}dnsLookup(N){return new Promise((_,O)=>{this.options.dnsLookup(N,(T,D)=>{T?(k("failed to resolve hostname %s to IP: %s",N,T.message),O(T)):(k("resolved hostname %s to IP %s",N,D),_(D))})})}async resolveStartupNodeHostnames(){if(!Array.isArray(this.startupNodes)||this.startupNodes.length===0)throw new Error("`startupNodes` should contain at least one node.");const N=(0,b.normalizeNodeOptions)(this.startupNodes),_=(0,b.getUniqueHostnamesFromOptions)(N);if(_.length===0)return N;const O=await Promise.all(_.map((this.options.useSRVRecords?this.resolveSrv:this.dnsLookup).bind(this))),T=(0,d.zipMap)(_,O);return N.map(D=>{const V=T.get(D.host);return V?this.options.useSRVRecords?Object.assign({},D,V):Object.assign({},D,{host:V}):D})}createScanStream(N,{key:_,options:O={}}){return new l.default({objectMode:!0,key:_,redis:this,command:N,...O})}}return(0,u.default)(C,e.EventEmitter),(0,c.addTransactionSupport)(C.prototype),Vu.default=C,Vu}var Ci={},jx={},ou={};Object.defineProperty(ou,"__esModule",{value:!0});const cQ=$t,uQ=(0,cQ.Debug)("AbstractConnector");class dQ{constructor(e){this.connecting=!1,this.disconnectTimeout=e}check(e){return!0}disconnect(){if(this.connecting=!1,this.stream){const e=this.stream,s=setTimeout(()=>{uQ("stream %s:%s still open, destroying it",e.remoteAddress,e.remotePort),e.destroy()},this.disconnectTimeout);e.on("close",()=>clearTimeout(s)),e.end()}}}ou.default=dQ;Object.defineProperty(jx,"__esModule",{value:!0});const pQ=oe,fQ=oe,hQ=$t,mQ=ou;class gQ extends mQ.default{constructor(e){super(e.disconnectTimeout),this.options=e}connect(e){const{options:s}=this;this.connecting=!0;let n;return"path"in s&&s.path?n={path:s.path}:(n={},"port"in s&&s.port!=null&&(n.port=s.port),"host"in s&&s.host!=null&&(n.host=s.host),"family"in s&&s.family!=null&&(n.family=s.family)),s.tls&&Object.assign(n,s.tls),new Promise((r,i)=>{process.nextTick(()=>{if(!this.connecting){i(new Error(hQ.CONNECTION_CLOSED_ERROR_MSG));return}try{s.tls?this.stream=(0,fQ.connect)(n):this.stream=(0,pQ.createConnection)(n)}catch(o){i(o);return}this.stream.once("error",o=>{this.firstError=o}),r(this.stream)})})}}jx.default=gQ;var Ia={},Ax={};Object.defineProperty(Ax,"__esModule",{value:!0});function yQ(t,e){return(t.host||"127.0.0.1")===(e.host||"127.0.0.1")&&(t.port||26379)===(e.port||26379)}class vQ{constructor(e){this.cursor=0,this.sentinels=e.slice(0)}next(){const e=this.cursor>=this.sentinels.length;return{done:e,value:e?void 0:this.sentinels[this.cursor++]}}reset(e){e&&this.sentinels.length>1&&this.cursor!==1&&this.sentinels.unshift(...this.sentinels.splice(this.cursor-1)),this.cursor=0}add(e){for(let s=0;s<this.sentinels.length;s++)if(yQ(e,this.sentinels[s]))return!1;return this.sentinels.push(e),!0}toString(){return`${JSON.stringify(this.sentinels)} @${this.cursor}`}}Ax.default=vQ;var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.FailoverDetector=void 0;const xQ=$t,nm=(0,xQ.Debug)("FailoverDetector"),v1="+switch-master";class bQ{constructor(e,s){this.isDisconnected=!1,this.connector=e,this.sentinels=s}cleanup(){this.isDisconnected=!0;for(const e of this.sentinels)e.client.disconnect()}async subscribe(){nm("Starting FailoverDetector");const e=[];for(const s of this.sentinels){const n=s.client.subscribe(v1).catch(r=>{nm("Failed to subscribe to failover messages on sentinel %s:%s (%s)",s.address.host||"127.0.0.1",s.address.port||26739,r.message)});e.push(n),s.client.on("message",r=>{!this.isDisconnected&&r===v1&&this.disconnect()})}await Promise.all(e)}disconnect(){this.isDisconnected=!0,nm("Failover detected, disconnecting"),this.connector.disconnect()}}Pf.FailoverDetector=bQ;var x1;function Tx(){if(x1)return Ia;x1=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.SentinelIterator=void 0;const t=oe,e=$t,s=oe,n=Ax;Ia.SentinelIterator=n.default;const r=ou,i=Zi(),o=Pf,l=(0,e.Debug)("SentinelConnector");let c=class extends r.default{constructor(y){if(super(y.disconnectTimeout),this.options=y,this.emitter=null,this.failoverDetector=null,!this.options.sentinels.length)throw new Error("Requires at least one sentinel to connect to.");if(!this.options.name)throw new Error("Requires the name of master.");this.sentinelIterator=new n.default(this.options.sentinels)}check(y){const g=!y.role||this.options.role===y.role;return g||(l("role invalid, expected %s, but got %s",this.options.role,y.role),this.sentinelIterator.next(),this.sentinelIterator.next(),this.sentinelIterator.reset(!0)),g}disconnect(){super.disconnect(),this.failoverDetector&&this.failoverDetector.cleanup()}connect(y){this.connecting=!0,this.retryAttempts=0;let g;const h=async()=>{const b=this.sentinelIterator.next();if(b.done){this.sentinelIterator.reset(!1);const E=typeof this.options.sentinelRetryStrategy=="function"?this.options.sentinelRetryStrategy(++this.retryAttempts):null;let C=typeof E!="number"?"All sentinels are unreachable and retry is disabled.":`All sentinels are unreachable. Retrying from scratch after ${E}ms.`;g&&(C+=` Last error: ${g.message}`),l(C);const R=new Error(C);if(typeof E=="number")return y("error",R),await new Promise(N=>setTimeout(N,E)),h();throw R}let m=null,x=null;try{m=await this.resolve(b.value)}catch(E){x=E}if(!this.connecting)throw new Error(e.CONNECTION_CLOSED_ERROR_MSG);const k=b.value.host+":"+b.value.port;if(m)return l("resolved: %s:%s from sentinel %s",m.host,m.port,k),this.options.enableTLSForSentinelMode&&this.options.tls?(Object.assign(m,this.options.tls),this.stream=(0,s.connect)(m),this.stream.once("secureConnect",this.initFailoverDetector.bind(this))):(this.stream=(0,t.createConnection)(m),this.stream.once("connect",this.initFailoverDetector.bind(this))),this.stream.once("error",E=>{this.firstError=E}),this.stream;{const E=x?"failed to connect to sentinel "+k+" because "+x.message:"connected to sentinel "+k+" successfully, but got an invalid reply: "+m;return l(E),y("sentinelError",new Error(E)),x&&(g=x),h()}};return h()}async updateSentinels(y){if(!this.options.updateSentinels)return;const g=await y.sentinel("sentinels",this.options.name);Array.isArray(g)&&(g.map(e.packObject).forEach(h=>{if((h.flags?h.flags.split(","):[]).indexOf("disconnected")===-1&&h.ip&&h.port){const m=this.sentinelNatResolve(u(h));this.sentinelIterator.add(m)&&l("adding sentinel %s:%s",m.host,m.port)}}),l("Updated internal sentinels: %s",this.sentinelIterator))}async resolveMaster(y){const g=await y.sentinel("get-master-addr-by-name",this.options.name);return await this.updateSentinels(y),this.sentinelNatResolve(Array.isArray(g)?{host:g[0],port:Number(g[1])}:null)}async resolveSlave(y){const g=await y.sentinel("slaves",this.options.name);if(!Array.isArray(g))return null;const h=g.map(e.packObject).filter(b=>b.flags&&!b.flags.match(/(disconnected|s_down|o_down)/));return this.sentinelNatResolve(d(h,this.options.preferredSlaves))}sentinelNatResolve(y){if(!y||!this.options.natMap)return y;const g=`${y.host}:${y.port}`;let h=y;return typeof this.options.natMap=="function"?h=this.options.natMap(g)||y:typeof this.options.natMap=="object"&&(h=this.options.natMap[g]||y),h}connectToSentinel(y,g){return new i.default({port:y.port||26379,host:y.host,username:this.options.sentinelUsername||null,password:this.options.sentinelPassword||null,family:y.family||("path"in this.options&&this.options.path?void 0:this.options.family),tls:this.options.sentinelTLS,retryStrategy:null,enableReadyCheck:!1,connectTimeout:this.options.connectTimeout,commandTimeout:this.options.sentinelCommandTimeout,...g})}async resolve(y){const g=this.connectToSentinel(y);g.on("error",p);try{return this.options.role==="slave"?await this.resolveSlave(g):await this.resolveMaster(g)}finally{g.disconnect()}}async initFailoverDetector(){var y;if(!this.options.failoverDetector)return;this.sentinelIterator.reset(!0);const g=[];for(;g.length<this.options.sentinelMaxConnections;){const{done:h,value:b}=this.sentinelIterator.next();if(h)break;const m=this.connectToSentinel(b,{lazyConnect:!0,retryStrategy:this.options.sentinelReconnectStrategy});m.on("reconnecting",()=>{var x;(x=this.emitter)===null||x===void 0||x.emit("sentinelReconnecting")}),g.push({address:b,client:m})}this.sentinelIterator.reset(!1),this.failoverDetector&&this.failoverDetector.cleanup(),this.failoverDetector=new o.FailoverDetector(this,g),await this.failoverDetector.subscribe(),(y=this.emitter)===null||y===void 0||y.emit("failoverSubscribed")}};Ia.default=c;function d(f,y){if(f.length===0)return null;let g;if(typeof y=="function")g=y(f);else if(y!==null&&typeof y=="object"){const h=Array.isArray(y)?y:[y];h.sort((b,m)=>(b.prio||(b.prio=1),m.prio||(m.prio=1),b.prio<m.prio?-1:b.prio>m.prio?1:0));for(let b=0;b<h.length;b++){for(let m=0;m<f.length;m++){const x=f[m];if(x.ip===h[b].ip&&x.port===h[b].port){g=x;break}}if(g)break}}return g||(g=(0,e.sample)(f)),u(g)}function u(f){return{host:f.ip,port:Number(f.port)}}function p(){}return Ia}var b1;function wQ(){if(b1)return Ci;b1=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.SentinelConnector=Ci.StandaloneConnector=void 0;const t=jx;Ci.StandaloneConnector=t.default;const e=Tx();return Ci.SentinelConnector=e.default,Ci}var kR={},Df={},Rx={};Object.defineProperty(Rx,"__esModule",{value:!0});const SQ=nl;class _Q extends SQ.AbortError{constructor(e){const s=`Reached the max retries per request limit (which is ${e}). Refer to "maxRetriesPerRequest" option for details.`;super(s),Error.captureStackTrace(this,this.constructor)}get name(){return this.constructor.name}}Rx.default=_Q;Object.defineProperty(Df,"__esModule",{value:!0});Df.MaxRetriesPerRequestError=void 0;const EQ=Rx;Df.MaxRetriesPerRequestError=EQ.default;var Ix={},Fo={},Mf={};Mf.byteLength=CQ;Mf.toByteArray=AQ;Mf.fromByteArray=IQ;var An=[],Ms=[],NQ=typeof Uint8Array<"u"?Uint8Array:Array,rm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Oa=0,kQ=rm.length;Oa<kQ;++Oa)An[Oa]=rm[Oa],Ms[rm.charCodeAt(Oa)]=Oa;Ms[45]=62;Ms[95]=63;function CR(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=t.indexOf("=");s===-1&&(s=e);var n=s===e?0:4-s%4;return[s,n]}function CQ(t){var e=CR(t),s=e[0],n=e[1];return(s+n)*3/4-n}function jQ(t,e,s){return(e+s)*3/4-s}function AQ(t){var e,s=CR(t),n=s[0],r=s[1],i=new NQ(jQ(t,n,r)),o=0,l=r>0?n-4:n,c;for(c=0;c<l;c+=4)e=Ms[t.charCodeAt(c)]<<18|Ms[t.charCodeAt(c+1)]<<12|Ms[t.charCodeAt(c+2)]<<6|Ms[t.charCodeAt(c+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return r===2&&(e=Ms[t.charCodeAt(c)]<<2|Ms[t.charCodeAt(c+1)]>>4,i[o++]=e&255),r===1&&(e=Ms[t.charCodeAt(c)]<<10|Ms[t.charCodeAt(c+1)]<<4|Ms[t.charCodeAt(c+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function TQ(t){return An[t>>18&63]+An[t>>12&63]+An[t>>6&63]+An[t&63]}function RQ(t,e,s){for(var n,r=[],i=e;i<s;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),r.push(TQ(n));return r.join("")}function IQ(t){for(var e,s=t.length,n=s%3,r=[],i=16383,o=0,l=s-n;o<l;o+=i)r.push(RQ(t,o,o+i>l?l:o+i));return n===1?(e=t[s-1],r.push(An[e>>2]+An[e<<4&63]+"==")):n===2&&(e=(t[s-2]<<8)+t[s-1],r.push(An[e>>10]+An[e>>4&63]+An[e<<2&63]+"=")),r.join("")}var Ox={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ox.read=function(t,e,s,n,r){var i,o,l=r*8-n-1,c=(1<<l)-1,d=c>>1,u=-7,p=s?r-1:0,f=s?-1:1,y=t[e+p];for(p+=f,i=y&(1<<-u)-1,y>>=-u,u+=l;u>0;i=i*256+t[e+p],p+=f,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=n;u>0;o=o*256+t[e+p],p+=f,u-=8);if(i===0)i=1-d;else{if(i===c)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-d}return(y?-1:1)*o*Math.pow(2,i-n)};Ox.write=function(t,e,s,n,r,i){var o,l,c,d=i*8-r-1,u=(1<<d)-1,p=u>>1,f=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:i-1,g=n?1:-1,h=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+p>=1?e+=f/c:e+=f*Math.pow(2,1-p),e*c>=2&&(o++,c/=2),o+p>=u?(l=0,o=u):o+p>=1?(l=(e*c-1)*Math.pow(2,r),o=o+p):(l=e*Math.pow(2,p-1)*Math.pow(2,r),o=0));r>=8;t[s+y]=l&255,y+=g,l/=256,r-=8);for(o=o<<r|l,d+=r;d>0;t[s+y]=o&255,y+=g,o/=256,d-=8);t[s+y-g]|=h*128};(function(t){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const e=Mf,s=Ox,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;const r=2147483647;t.kMaxLength=r,l.TYPED_ARRAY_SUPPORT=i(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const A=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(A,v),A.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(A){if(A>r)throw new RangeError('The value "'+A+'" is invalid for option "size"');const v=new Uint8Array(A);return Object.setPrototypeOf(v,l.prototype),v}function l(A,v,S){if(typeof A=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(A)}return c(A,v,S)}l.poolSize=8192;function c(A,v,S){if(typeof A=="string")return f(A,v);if(ArrayBuffer.isView(A))return g(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(vn(A,ArrayBuffer)||A&&vn(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(vn(A,SharedArrayBuffer)||A&&vn(A.buffer,SharedArrayBuffer)))return h(A,v,S);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const M=A.valueOf&&A.valueOf();if(M!=null&&M!==A)return l.from(M,v,S);const Q=b(A);if(Q)return Q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return l.from(A[Symbol.toPrimitive]("string"),v,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}l.from=function(A,v,S){return c(A,v,S)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function u(A,v,S){return d(A),A<=0?o(A):v!==void 0?typeof S=="string"?o(A).fill(v,S):o(A).fill(v):o(A)}l.alloc=function(A,v,S){return u(A,v,S)};function p(A){return d(A),o(A<0?0:m(A)|0)}l.allocUnsafe=function(A){return p(A)},l.allocUnsafeSlow=function(A){return p(A)};function f(A,v){if((typeof v!="string"||v==="")&&(v="utf8"),!l.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const S=k(A,v)|0;let M=o(S);const Q=M.write(A,v);return Q!==S&&(M=M.slice(0,Q)),M}function y(A){const v=A.length<0?0:m(A.length)|0,S=o(v);for(let M=0;M<v;M+=1)S[M]=A[M]&255;return S}function g(A){if(vn(A,Uint8Array)){const v=new Uint8Array(A);return h(v.buffer,v.byteOffset,v.byteLength)}return y(A)}function h(A,v,S){if(v<0||A.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<v+(S||0))throw new RangeError('"length" is outside of buffer bounds');let M;return v===void 0&&S===void 0?M=new Uint8Array(A):S===void 0?M=new Uint8Array(A,v):M=new Uint8Array(A,v,S),Object.setPrototypeOf(M,l.prototype),M}function b(A){if(l.isBuffer(A)){const v=m(A.length)|0,S=o(v);return S.length===0||A.copy(S,0,0,v),S}if(A.length!==void 0)return typeof A.length!="number"||hh(A.length)?o(0):y(A);if(A.type==="Buffer"&&Array.isArray(A.data))return y(A.data)}function m(A){if(A>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return A|0}function x(A){return+A!=A&&(A=0),l.alloc(+A)}l.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==l.prototype},l.compare=function(v,S){if(vn(v,Uint8Array)&&(v=l.from(v,v.offset,v.byteLength)),vn(S,Uint8Array)&&(S=l.from(S,S.offset,S.byteLength)),!l.isBuffer(v)||!l.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===S)return 0;let M=v.length,Q=S.length;for(let K=0,X=Math.min(M,Q);K<X;++K)if(v[K]!==S[K]){M=v[K],Q=S[K];break}return M<Q?-1:Q<M?1:0},l.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(v,S){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return l.alloc(0);let M;if(S===void 0)for(S=0,M=0;M<v.length;++M)S+=v[M].length;const Q=l.allocUnsafe(S);let K=0;for(M=0;M<v.length;++M){let X=v[M];if(vn(X,Uint8Array))K+X.length>Q.length?(l.isBuffer(X)||(X=l.from(X)),X.copy(Q,K)):Uint8Array.prototype.set.call(Q,X,K);else if(l.isBuffer(X))X.copy(Q,K);else throw new TypeError('"list" argument must be an Array of Buffers');K+=X.length}return Q};function k(A,v){if(l.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||vn(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const S=A.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&S===0)return 0;let Q=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return fh(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S*2;case"hex":return S>>>1;case"base64":return z0(A).length;default:if(Q)return M?-1:fh(A).length;v=(""+v).toLowerCase(),Q=!0}}l.byteLength=k;function E(A,v,S){let M=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((S===void 0||S>this.length)&&(S=this.length),S<=0)||(S>>>=0,v>>>=0,S<=v))return"";for(A||(A="utf8");;)switch(A){case"hex":return H(this,v,S);case"utf8":case"utf-8":return w(this,v,S);case"ascii":return F(this,v,S);case"latin1":case"binary":return U(this,v,S);case"base64":return L(this,v,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,v,S);default:if(M)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),M=!0}}l.prototype._isBuffer=!0;function C(A,v,S){const M=A[v];A[v]=A[S],A[S]=M}l.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<v;S+=2)C(this,S,S+1);return this},l.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<v;S+=4)C(this,S,S+3),C(this,S+1,S+2);return this},l.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<v;S+=8)C(this,S,S+7),C(this,S+1,S+6),C(this,S+2,S+5),C(this,S+3,S+4);return this},l.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?w(this,0,v):E.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(v){if(!l.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:l.compare(this,v)===0},l.prototype.inspect=function(){let v="";const S=t.INSPECT_MAX_BYTES;return v=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(v+=" ... "),"<Buffer "+v+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(v,S,M,Q,K){if(vn(v,Uint8Array)&&(v=l.from(v,v.offset,v.byteLength)),!l.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(S===void 0&&(S=0),M===void 0&&(M=v?v.length:0),Q===void 0&&(Q=0),K===void 0&&(K=this.length),S<0||M>v.length||Q<0||K>this.length)throw new RangeError("out of range index");if(Q>=K&&S>=M)return 0;if(Q>=K)return-1;if(S>=M)return 1;if(S>>>=0,M>>>=0,Q>>>=0,K>>>=0,this===v)return 0;let X=K-Q,Ie=M-S;const ut=Math.min(X,Ie),Xe=this.slice(Q,K),dt=v.slice(S,M);for(let Ge=0;Ge<ut;++Ge)if(Xe[Ge]!==dt[Ge]){X=Xe[Ge],Ie=dt[Ge];break}return X<Ie?-1:Ie<X?1:0};function R(A,v,S,M,Q){if(A.length===0)return-1;if(typeof S=="string"?(M=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),S=+S,hh(S)&&(S=Q?0:A.length-1),S<0&&(S=A.length+S),S>=A.length){if(Q)return-1;S=A.length-1}else if(S<0)if(Q)S=0;else return-1;if(typeof v=="string"&&(v=l.from(v,M)),l.isBuffer(v))return v.length===0?-1:N(A,v,S,M,Q);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(A,v,S):Uint8Array.prototype.lastIndexOf.call(A,v,S):N(A,[v],S,M,Q);throw new TypeError("val must be string, number or Buffer")}function N(A,v,S,M,Q){let K=1,X=A.length,Ie=v.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(A.length<2||v.length<2)return-1;K=2,X/=2,Ie/=2,S/=2}function ut(dt,Ge){return K===1?dt[Ge]:dt.readUInt16BE(Ge*K)}let Xe;if(Q){let dt=-1;for(Xe=S;Xe<X;Xe++)if(ut(A,Xe)===ut(v,dt===-1?0:Xe-dt)){if(dt===-1&&(dt=Xe),Xe-dt+1===Ie)return dt*K}else dt!==-1&&(Xe-=Xe-dt),dt=-1}else for(S+Ie>X&&(S=X-Ie),Xe=S;Xe>=0;Xe--){let dt=!0;for(let Ge=0;Ge<Ie;Ge++)if(ut(A,Xe+Ge)!==ut(v,Ge)){dt=!1;break}if(dt)return Xe}return-1}l.prototype.includes=function(v,S,M){return this.indexOf(v,S,M)!==-1},l.prototype.indexOf=function(v,S,M){return R(this,v,S,M,!0)},l.prototype.lastIndexOf=function(v,S,M){return R(this,v,S,M,!1)};function _(A,v,S,M){S=Number(S)||0;const Q=A.length-S;M?(M=Number(M),M>Q&&(M=Q)):M=Q;const K=v.length;M>K/2&&(M=K/2);let X;for(X=0;X<M;++X){const Ie=parseInt(v.substr(X*2,2),16);if(hh(Ie))return X;A[S+X]=Ie}return X}function O(A,v,S,M){return xu(fh(v,A.length-S),A,S,M)}function T(A,v,S,M){return xu(C4(v),A,S,M)}function D(A,v,S,M){return xu(z0(v),A,S,M)}function V(A,v,S,M){return xu(j4(v,A.length-S),A,S,M)}l.prototype.write=function(v,S,M,Q){if(S===void 0)Q="utf8",M=this.length,S=0;else if(M===void 0&&typeof S=="string")Q=S,M=this.length,S=0;else if(isFinite(S))S=S>>>0,isFinite(M)?(M=M>>>0,Q===void 0&&(Q="utf8")):(Q=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const K=this.length-S;if((M===void 0||M>K)&&(M=K),v.length>0&&(M<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");let X=!1;for(;;)switch(Q){case"hex":return _(this,v,S,M);case"utf8":case"utf-8":return O(this,v,S,M);case"ascii":case"latin1":case"binary":return T(this,v,S,M);case"base64":return D(this,v,S,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,v,S,M);default:if(X)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),X=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(A,v,S){return v===0&&S===A.length?e.fromByteArray(A):e.fromByteArray(A.slice(v,S))}function w(A,v,S){S=Math.min(A.length,S);const M=[];let Q=v;for(;Q<S;){const K=A[Q];let X=null,Ie=K>239?4:K>223?3:K>191?2:1;if(Q+Ie<=S){let ut,Xe,dt,Ge;switch(Ie){case 1:K<128&&(X=K);break;case 2:ut=A[Q+1],(ut&192)===128&&(Ge=(K&31)<<6|ut&63,Ge>127&&(X=Ge));break;case 3:ut=A[Q+1],Xe=A[Q+2],(ut&192)===128&&(Xe&192)===128&&(Ge=(K&15)<<12|(ut&63)<<6|Xe&63,Ge>2047&&(Ge<55296||Ge>57343)&&(X=Ge));break;case 4:ut=A[Q+1],Xe=A[Q+2],dt=A[Q+3],(ut&192)===128&&(Xe&192)===128&&(dt&192)===128&&(Ge=(K&15)<<18|(ut&63)<<12|(Xe&63)<<6|dt&63,Ge>65535&&Ge<1114112&&(X=Ge))}}X===null?(X=65533,Ie=1):X>65535&&(X-=65536,M.push(X>>>10&1023|55296),X=56320|X&1023),M.push(X),Q+=Ie}return B(M)}const I=4096;function B(A){const v=A.length;if(v<=I)return String.fromCharCode.apply(String,A);let S="",M=0;for(;M<v;)S+=String.fromCharCode.apply(String,A.slice(M,M+=I));return S}function F(A,v,S){let M="";S=Math.min(A.length,S);for(let Q=v;Q<S;++Q)M+=String.fromCharCode(A[Q]&127);return M}function U(A,v,S){let M="";S=Math.min(A.length,S);for(let Q=v;Q<S;++Q)M+=String.fromCharCode(A[Q]);return M}function H(A,v,S){const M=A.length;(!v||v<0)&&(v=0),(!S||S<0||S>M)&&(S=M);let Q="";for(let K=v;K<S;++K)Q+=A4[A[K]];return Q}function Y(A,v,S){const M=A.slice(v,S);let Q="";for(let K=0;K<M.length-1;K+=2)Q+=String.fromCharCode(M[K]+M[K+1]*256);return Q}l.prototype.slice=function(v,S){const M=this.length;v=~~v,S=S===void 0?M:~~S,v<0?(v+=M,v<0&&(v=0)):v>M&&(v=M),S<0?(S+=M,S<0&&(S=0)):S>M&&(S=M),S<v&&(S=v);const Q=this.subarray(v,S);return Object.setPrototypeOf(Q,l.prototype),Q};function G(A,v,S){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+v>S)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(v,S,M){v=v>>>0,S=S>>>0,M||G(v,S,this.length);let Q=this[v],K=1,X=0;for(;++X<S&&(K*=256);)Q+=this[v+X]*K;return Q},l.prototype.readUintBE=l.prototype.readUIntBE=function(v,S,M){v=v>>>0,S=S>>>0,M||G(v,S,this.length);let Q=this[v+--S],K=1;for(;S>0&&(K*=256);)Q+=this[v+--S]*K;return Q},l.prototype.readUint8=l.prototype.readUInt8=function(v,S){return v=v>>>0,S||G(v,1,this.length),this[v]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(v,S){return v=v>>>0,S||G(v,2,this.length),this[v]|this[v+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(v,S){return v=v>>>0,S||G(v,2,this.length),this[v]<<8|this[v+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(v,S){return v=v>>>0,S||G(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(v,S){return v=v>>>0,S||G(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},l.prototype.readBigUInt64LE=wr(function(v){v=v>>>0,Na(v,"offset");const S=this[v],M=this[v+7];(S===void 0||M===void 0)&&dl(v,this.length-8);const Q=S+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,K=this[++v]+this[++v]*2**8+this[++v]*2**16+M*2**24;return BigInt(Q)+(BigInt(K)<<BigInt(32))}),l.prototype.readBigUInt64BE=wr(function(v){v=v>>>0,Na(v,"offset");const S=this[v],M=this[v+7];(S===void 0||M===void 0)&&dl(v,this.length-8);const Q=S*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],K=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+M;return(BigInt(Q)<<BigInt(32))+BigInt(K)}),l.prototype.readIntLE=function(v,S,M){v=v>>>0,S=S>>>0,M||G(v,S,this.length);let Q=this[v],K=1,X=0;for(;++X<S&&(K*=256);)Q+=this[v+X]*K;return K*=128,Q>=K&&(Q-=Math.pow(2,8*S)),Q},l.prototype.readIntBE=function(v,S,M){v=v>>>0,S=S>>>0,M||G(v,S,this.length);let Q=S,K=1,X=this[v+--Q];for(;Q>0&&(K*=256);)X+=this[v+--Q]*K;return K*=128,X>=K&&(X-=Math.pow(2,8*S)),X},l.prototype.readInt8=function(v,S){return v=v>>>0,S||G(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},l.prototype.readInt16LE=function(v,S){v=v>>>0,S||G(v,2,this.length);const M=this[v]|this[v+1]<<8;return M&32768?M|4294901760:M},l.prototype.readInt16BE=function(v,S){v=v>>>0,S||G(v,2,this.length);const M=this[v+1]|this[v]<<8;return M&32768?M|4294901760:M},l.prototype.readInt32LE=function(v,S){return v=v>>>0,S||G(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},l.prototype.readInt32BE=function(v,S){return v=v>>>0,S||G(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},l.prototype.readBigInt64LE=wr(function(v){v=v>>>0,Na(v,"offset");const S=this[v],M=this[v+7];(S===void 0||M===void 0)&&dl(v,this.length-8);const Q=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(M<<24);return(BigInt(Q)<<BigInt(32))+BigInt(S+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),l.prototype.readBigInt64BE=wr(function(v){v=v>>>0,Na(v,"offset");const S=this[v],M=this[v+7];(S===void 0||M===void 0)&&dl(v,this.length-8);const Q=(S<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(Q)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+M)}),l.prototype.readFloatLE=function(v,S){return v=v>>>0,S||G(v,4,this.length),s.read(this,v,!0,23,4)},l.prototype.readFloatBE=function(v,S){return v=v>>>0,S||G(v,4,this.length),s.read(this,v,!1,23,4)},l.prototype.readDoubleLE=function(v,S){return v=v>>>0,S||G(v,8,this.length),s.read(this,v,!0,52,8)},l.prototype.readDoubleBE=function(v,S){return v=v>>>0,S||G(v,8,this.length),s.read(this,v,!1,52,8)};function te(A,v,S,M,Q,K){if(!l.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>Q||v<K)throw new RangeError('"value" argument is out of bounds');if(S+M>A.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(v,S,M,Q){if(v=+v,S=S>>>0,M=M>>>0,!Q){const Ie=Math.pow(2,8*M)-1;te(this,v,S,M,Ie,0)}let K=1,X=0;for(this[S]=v&255;++X<M&&(K*=256);)this[S+X]=v/K&255;return S+M},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(v,S,M,Q){if(v=+v,S=S>>>0,M=M>>>0,!Q){const Ie=Math.pow(2,8*M)-1;te(this,v,S,M,Ie,0)}let K=M-1,X=1;for(this[S+K]=v&255;--K>=0&&(X*=256);)this[S+K]=v/X&255;return S+M},l.prototype.writeUint8=l.prototype.writeUInt8=function(v,S,M){return v=+v,S=S>>>0,M||te(this,v,S,1,255,0),this[S]=v&255,S+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(v,S,M){return v=+v,S=S>>>0,M||te(this,v,S,2,65535,0),this[S]=v&255,this[S+1]=v>>>8,S+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(v,S,M){return v=+v,S=S>>>0,M||te(this,v,S,2,65535,0),this[S]=v>>>8,this[S+1]=v&255,S+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(v,S,M){return v=+v,S=S>>>0,M||te(this,v,S,4,4294967295,0),this[S+3]=v>>>24,this[S+2]=v>>>16,this[S+1]=v>>>8,this[S]=v&255,S+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(v,S,M){return v=+v,S=S>>>0,M||te(this,v,S,4,4294967295,0),this[S]=v>>>24,this[S+1]=v>>>16,this[S+2]=v>>>8,this[S+3]=v&255,S+4};function we(A,v,S,M,Q){U0(v,M,Q,A,S,7);let K=Number(v&BigInt(4294967295));A[S++]=K,K=K>>8,A[S++]=K,K=K>>8,A[S++]=K,K=K>>8,A[S++]=K;let X=Number(v>>BigInt(32)&BigInt(4294967295));return A[S++]=X,X=X>>8,A[S++]=X,X=X>>8,A[S++]=X,X=X>>8,A[S++]=X,S}function Re(A,v,S,M,Q){U0(v,M,Q,A,S,7);let K=Number(v&BigInt(4294967295));A[S+7]=K,K=K>>8,A[S+6]=K,K=K>>8,A[S+5]=K,K=K>>8,A[S+4]=K;let X=Number(v>>BigInt(32)&BigInt(4294967295));return A[S+3]=X,X=X>>8,A[S+2]=X,X=X>>8,A[S+1]=X,X=X>>8,A[S]=X,S+8}l.prototype.writeBigUInt64LE=wr(function(v,S=0){return we(this,v,S,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=wr(function(v,S=0){return Re(this,v,S,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(v,S,M,Q){if(v=+v,S=S>>>0,!Q){const ut=Math.pow(2,8*M-1);te(this,v,S,M,ut-1,-ut)}let K=0,X=1,Ie=0;for(this[S]=v&255;++K<M&&(X*=256);)v<0&&Ie===0&&this[S+K-1]!==0&&(Ie=1),this[S+K]=(v/X>>0)-Ie&255;return S+M},l.prototype.writeIntBE=function(v,S,M,Q){if(v=+v,S=S>>>0,!Q){const ut=Math.pow(2,8*M-1);te(this,v,S,M,ut-1,-ut)}let K=M-1,X=1,Ie=0;for(this[S+K]=v&255;--K>=0&&(X*=256);)v<0&&Ie===0&&this[S+K+1]!==0&&(Ie=1),this[S+K]=(v/X>>0)-Ie&255;return S+M},l.prototype.writeInt8=function(v,S,M){return v=+v,S=S>>>0,M||te(this,v,S,1,127,-128),v<0&&(v=255+v+1),this[S]=v&255,S+1},l.prototype.writeInt16LE=function(v,S,M){return v=+v,S=S>>>0,M||te(this,v,S,2,32767,-32768),this[S]=v&255,this[S+1]=v>>>8,S+2},l.prototype.writeInt16BE=function(v,S,M){return v=+v,S=S>>>0,M||te(this,v,S,2,32767,-32768),this[S]=v>>>8,this[S+1]=v&255,S+2},l.prototype.writeInt32LE=function(v,S,M){return v=+v,S=S>>>0,M||te(this,v,S,4,2147483647,-2147483648),this[S]=v&255,this[S+1]=v>>>8,this[S+2]=v>>>16,this[S+3]=v>>>24,S+4},l.prototype.writeInt32BE=function(v,S,M){return v=+v,S=S>>>0,M||te(this,v,S,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[S]=v>>>24,this[S+1]=v>>>16,this[S+2]=v>>>8,this[S+3]=v&255,S+4},l.prototype.writeBigInt64LE=wr(function(v,S=0){return we(this,v,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=wr(function(v,S=0){return Re(this,v,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $e(A,v,S,M,Q,K){if(S+M>A.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function bt(A,v,S,M,Q){return v=+v,S=S>>>0,Q||$e(A,v,S,4),s.write(A,v,S,M,23,4),S+4}l.prototype.writeFloatLE=function(v,S,M){return bt(this,v,S,!0,M)},l.prototype.writeFloatBE=function(v,S,M){return bt(this,v,S,!1,M)};function yn(A,v,S,M,Q){return v=+v,S=S>>>0,Q||$e(A,v,S,8),s.write(A,v,S,M,52,8),S+8}l.prototype.writeDoubleLE=function(v,S,M){return yn(this,v,S,!0,M)},l.prototype.writeDoubleBE=function(v,S,M){return yn(this,v,S,!1,M)},l.prototype.copy=function(v,S,M,Q){if(!l.isBuffer(v))throw new TypeError("argument should be a Buffer");if(M||(M=0),!Q&&Q!==0&&(Q=this.length),S>=v.length&&(S=v.length),S||(S=0),Q>0&&Q<M&&(Q=M),Q===M||v.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length),v.length-S<Q-M&&(Q=v.length-S+M);const K=Q-M;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(S,M,Q):Uint8Array.prototype.set.call(v,this.subarray(M,Q),S),K},l.prototype.fill=function(v,S,M,Q){if(typeof v=="string"){if(typeof S=="string"?(Q=S,S=0,M=this.length):typeof M=="string"&&(Q=M,M=this.length),Q!==void 0&&typeof Q!="string")throw new TypeError("encoding must be a string");if(typeof Q=="string"&&!l.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);if(v.length===1){const X=v.charCodeAt(0);(Q==="utf8"&&X<128||Q==="latin1")&&(v=X)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(S<0||this.length<S||this.length<M)throw new RangeError("Out of range index");if(M<=S)return this;S=S>>>0,M=M===void 0?this.length:M>>>0,v||(v=0);let K;if(typeof v=="number")for(K=S;K<M;++K)this[K]=v;else{const X=l.isBuffer(v)?v:l.from(v,Q),Ie=X.length;if(Ie===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(K=0;K<M-S;++K)this[K+S]=X[K%Ie]}return this};const Ea={};function ph(A,v,S){Ea[A]=class extends S{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(Q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Q,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}ph("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ph("ERR_INVALID_ARG_TYPE",function(A,v){return`The "${A}" argument must be of type number. Received type ${typeof v}`},TypeError),ph("ERR_OUT_OF_RANGE",function(A,v,S){let M=`The value of "${A}" is out of range.`,Q=S;return Number.isInteger(S)&&Math.abs(S)>2**32?Q=$0(String(S)):typeof S=="bigint"&&(Q=String(S),(S>BigInt(2)**BigInt(32)||S<-(BigInt(2)**BigInt(32)))&&(Q=$0(Q)),Q+="n"),M+=` It must be ${v}. Received ${Q}`,M},RangeError);function $0(A){let v="",S=A.length;const M=A[0]==="-"?1:0;for(;S>=M+4;S-=3)v=`_${A.slice(S-3,S)}${v}`;return`${A.slice(0,S)}${v}`}function E4(A,v,S){Na(v,"offset"),(A[v]===void 0||A[v+S]===void 0)&&dl(v,A.length-(S+1))}function U0(A,v,S,M,Q,K){if(A>S||A<v){const X=typeof v=="bigint"?"n":"";let Ie;throw v===0||v===BigInt(0)?Ie=`>= 0${X} and < 2${X} ** ${(K+1)*8}${X}`:Ie=`>= -(2${X} ** ${(K+1)*8-1}${X}) and < 2 ** ${(K+1)*8-1}${X}`,new Ea.ERR_OUT_OF_RANGE("value",Ie,A)}E4(M,Q,K)}function Na(A,v){if(typeof A!="number")throw new Ea.ERR_INVALID_ARG_TYPE(v,"number",A)}function dl(A,v,S){throw Math.floor(A)!==A?(Na(A,S),new Ea.ERR_OUT_OF_RANGE("offset","an integer",A)):v<0?new Ea.ERR_BUFFER_OUT_OF_BOUNDS:new Ea.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,A)}const N4=/[^+/0-9A-Za-z-_]/g;function k4(A){if(A=A.split("=")[0],A=A.trim().replace(N4,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function fh(A,v){v=v||1/0;let S;const M=A.length;let Q=null;const K=[];for(let X=0;X<M;++X){if(S=A.charCodeAt(X),S>55295&&S<57344){if(!Q){if(S>56319){(v-=3)>-1&&K.push(239,191,189);continue}else if(X+1===M){(v-=3)>-1&&K.push(239,191,189);continue}Q=S;continue}if(S<56320){(v-=3)>-1&&K.push(239,191,189),Q=S;continue}S=(Q-55296<<10|S-56320)+65536}else Q&&(v-=3)>-1&&K.push(239,191,189);if(Q=null,S<128){if((v-=1)<0)break;K.push(S)}else if(S<2048){if((v-=2)<0)break;K.push(S>>6|192,S&63|128)}else if(S<65536){if((v-=3)<0)break;K.push(S>>12|224,S>>6&63|128,S&63|128)}else if(S<1114112){if((v-=4)<0)break;K.push(S>>18|240,S>>12&63|128,S>>6&63|128,S&63|128)}else throw new Error("Invalid code point")}return K}function C4(A){const v=[];for(let S=0;S<A.length;++S)v.push(A.charCodeAt(S)&255);return v}function j4(A,v){let S,M,Q;const K=[];for(let X=0;X<A.length&&!((v-=2)<0);++X)S=A.charCodeAt(X),M=S>>8,Q=S%256,K.push(Q),K.push(M);return K}function z0(A){return e.toByteArray(k4(A))}function xu(A,v,S,M){let Q;for(Q=0;Q<M&&!(Q+S>=v.length||Q>=A.length);++Q)v[Q+S]=A[Q];return Q}function vn(A,v){return A instanceof v||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===v.name}function hh(A){return A!==A}const A4=function(){const A="0123456789abcdef",v=new Array(256);for(let S=0;S<16;++S){const M=S*16;for(let Q=0;Q<16;++Q)v[M+Q]=A[S]+A[Q]}return v}();function wr(A){return typeof BigInt>"u"?T4:A}function T4(){throw new Error("BigInt not supported")}})(Fo);var Px={},fy={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var s=Fo,n=s.Buffer;function r(o,l){for(var c in o)l[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=s:(r(s,e),e.Buffer=i);function i(o,l,c){return n(o,l,c)}i.prototype=Object.create(n.prototype),r(n,i),i.from=function(o,l,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,c)},i.alloc=function(o,l,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=n(o);return l!==void 0?typeof c=="string"?d.fill(l,c):d.fill(l):d.fill(0),d},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(o)}})(fy,fy.exports);var il=fy.exports,Dx=il.Buffer,w1=Dx.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function OQ(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function PQ(t){var e=OQ(t);if(typeof e!="string"&&(Dx.isEncoding===w1||!w1(t)))throw new Error("Unknown encoding: "+t);return e||t}Px.StringDecoder=lu;function lu(t){this.encoding=PQ(t);var e;switch(this.encoding){case"utf16le":this.text=$Q,this.end=UQ,e=4;break;case"utf8":this.fillLast=LQ,e=4;break;case"base64":this.text=zQ,this.end=qQ,e=3;break;default:this.write=QQ,this.end=VQ;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Dx.allocUnsafe(e)}lu.prototype.write=function(t){if(t.length===0)return"";var e,s;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""};lu.prototype.end=BQ;lu.prototype.text=FQ;lu.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function im(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function DQ(t,e,s){var n=e.length-1;if(n<s)return 0;var r=im(e[n]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--n<s||r===-2?0:(r=im(e[n]),r>=0?(r>0&&(t.lastNeed=r-2),r):--n<s||r===-2?0:(r=im(e[n]),r>=0?(r>0&&(r===2?r=0:t.lastNeed=r-3),r):0))}function MQ(t,e,s){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function LQ(t){var e=this.lastTotal-this.lastNeed,s=MQ(this,t);if(s!==void 0)return s;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function FQ(t,e){var s=DQ(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var n=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function BQ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function $Q(t,e){if((t.length-e)%2===0){var s=t.toString("utf16le",e);if(s){var n=s.charCodeAt(s.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function UQ(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function zQ(t,e){var s=(t.length-e)%3;return s===0?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,s===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function qQ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function QQ(t){return t.toString(this.encoding)}function VQ(t){return t&&t.length?this.write(t):""}const Mx=Fo.Buffer,HQ=Px.StringDecoder,am=new HQ,jR=nl,GQ=jR.ReplyError,WQ=jR.ParserError;var nn=Mx.allocUnsafe(32*1024),ss=0,gp=null,Ll=0,om=0;function KQ(t){const e=t.buffer.length-1;var s=t.offset,n=0,r=1;for(t.buffer[s]===45&&(r=-1,s++);s<e;){const i=t.buffer[s++];if(i===13)return t.offset=s+1,r*n;n=n*10+(i-48)}}function YQ(t){const e=t.buffer.length-1;var s=t.offset,n=0,r="";for(t.buffer[s]===45&&(r+="-",s++);s<e;){var i=t.buffer[s++];if(i===13)return t.offset=s+1,n!==0&&(r+=n),r;n>429496728?(r+=n*10+(i-48),n=0):i===48&&n===0?r+=0:n=n*10+(i-48)}}function AR(t){const e=t.offset,s=t.buffer,n=s.length-1;for(var r=e;r<n;)if(s[r++]===13)return t.offset=r+1,t.optionReturnBuffers===!0?t.buffer.slice(e,r-1):t.buffer.toString("utf8",e,r-1)}function TR(t){const e=t.buffer.length-1;for(var s=t.offset,n=0;s<e;){const r=t.buffer[s++];if(r===13)return t.offset=s+1,n;n=n*10+(r-48)}}function JQ(t){return t.optionStringNumbers===!0?YQ(t):KQ(t)}function XQ(t){const e=TR(t);if(e===void 0)return;if(e<0)return null;const s=t.offset+e;if(s+2>t.buffer.length){t.bigStrSize=s+2,t.totalChunkSize=t.buffer.length,t.bufferCache.push(t.buffer);return}const n=t.offset;return t.offset=s+2,t.optionReturnBuffers===!0?t.buffer.slice(n,s):t.buffer.toString("utf8",n,s)}function ZQ(t){var e=AR(t);if(e!==void 0)return t.optionReturnBuffers===!0&&(e=e.toString()),new GQ(e)}function eV(t,e){const s=new WQ("Protocol error, got "+JSON.stringify(String.fromCharCode(e))+" as reply type byte",JSON.stringify(t.buffer),t.offset);t.buffer=null,t.returnFatalError(s)}function tV(t){const e=TR(t);if(e===void 0)return;if(e<0)return null;const s=new Array(e);return RR(t,s,0)}function hy(t,e,s){t.arrayCache.push(e),t.arrayPos.push(s)}function my(t){const e=t.arrayCache.pop();var s=t.arrayPos.pop();if(t.arrayCache.length){const n=my(t);if(n===void 0){hy(t,e,s);return}e[s++]=n}return RR(t,e,s)}function RR(t,e,s){const n=t.buffer.length;for(;s<e.length;){const r=t.offset;if(t.offset>=n){hy(t,e,s);return}const i=IR(t,t.buffer[t.offset++]);if(i===void 0){t.arrayCache.length||t.bufferCache.length||(t.offset=r),hy(t,e,s);return}e[s]=i,s++}return e}function IR(t,e){switch(e){case 36:return XQ(t);case 43:return AR(t);case 42:return tV(t);case 58:return JQ(t);case 45:return ZQ(t);default:return eV(t,e)}}function sV(){if(nn.length>50*1024)if(Ll===1||om>Ll*2){const t=Math.floor(nn.length/10),e=t<ss?ss:t;ss=0,nn=nn.slice(e,nn.length)}else om++,Ll--;else clearInterval(gp),Ll=0,om=0,gp=null}function nV(t){if(nn.length<t+ss){const e=t>78643200?2:3;ss>1024*1024*111&&(ss=1024*1024*50),nn=Mx.allocUnsafe(t*e+ss),ss=0,Ll++,gp===null&&(gp=setInterval(sV,50))}}function rV(t){const e=t.bufferCache,s=t.offset;var n=e.length,r=t.bigStrSize-t.totalChunkSize;if(t.offset=r,r<=2){if(n===2)return e[0].toString("utf8",s,e[0].length+r-2);n--,r=e[e.length-2].length+r}for(var i=am.write(e[0].slice(s)),o=1;o<n-1;o++)i+=am.write(e[o]);return i+=am.end(e[o].slice(0,r-2)),i}function iV(t){const e=t.bufferCache,s=t.offset,n=t.bigStrSize-s-2;var r=e.length,i=t.bigStrSize-t.totalChunkSize;if(t.offset=i,i<=2){if(r===2)return e[0].slice(s,e[0].length+i-2);r--,i=e[e.length-2].length+i}nV(n);const o=ss;e[0].copy(nn,o,s,e[0].length),ss+=e[0].length-s;for(var l=1;l<r-1;l++)e[l].copy(nn,ss),ss+=e[l].length;return e[l].copy(nn,ss,0,i-2),ss+=i-2,nn.slice(o,ss)}class aV{constructor(e){if(!e)throw new TypeError("Options are mandatory.");if(typeof e.returnError!="function"||typeof e.returnReply!="function")throw new TypeError("The returnReply and returnError options have to be functions.");this.setReturnBuffers(!!e.returnBuffers),this.setStringNumbers(!!e.stringNumbers),this.returnError=e.returnError,this.returnFatalError=e.returnFatalError||e.returnError,this.returnReply=e.returnReply,this.reset()}reset(){this.offset=0,this.buffer=null,this.bigStrSize=0,this.totalChunkSize=0,this.bufferCache=[],this.arrayCache=[],this.arrayPos=[]}setReturnBuffers(e){if(typeof e!="boolean")throw new TypeError("The returnBuffers argument has to be a boolean");this.optionReturnBuffers=e}setStringNumbers(e){if(typeof e!="boolean")throw new TypeError("The stringNumbers argument has to be a boolean");this.optionStringNumbers=e}execute(e){if(this.buffer===null)this.buffer=e,this.offset=0;else if(this.bigStrSize===0){const n=this.buffer.length,r=n-this.offset,i=Mx.allocUnsafe(r+e.length);if(this.buffer.copy(i,0,this.offset,n),e.copy(i,r,0,e.length),this.buffer=i,this.offset=0,this.arrayCache.length){const o=my(this);if(o===void 0)return;this.returnReply(o)}}else if(this.totalChunkSize+e.length>=this.bigStrSize){this.bufferCache.push(e);var s=this.optionReturnBuffers?iV(this):rV(this);if(this.bigStrSize=0,this.bufferCache=[],this.buffer=e,this.arrayCache.length&&(this.arrayCache[0][this.arrayPos[0]++]=s,s=my(this),s===void 0))return;this.returnReply(s)}else{this.bufferCache.push(e),this.totalChunkSize+=e.length;return}for(;this.offset<this.buffer.length;){const n=this.offset,r=this.buffer[this.offset++],i=IR(this,r);if(i===void 0){this.arrayCache.length||this.bufferCache.length||(this.offset=n);return}r===45?this.returnError(i):this.returnReply(i)}this.buffer=null}}var oV=aV,lV=oV,Lx={};Object.defineProperty(Lx,"__esModule",{value:!0});class cV{constructor(){this.set={subscribe:{},psubscribe:{},ssubscribe:{}}}add(e,s){this.set[lm(e)][s]=!0}del(e,s){delete this.set[lm(e)][s]}channels(e){return Object.keys(this.set[lm(e)])}isEmpty(){return this.channels("subscribe").length===0&&this.channels("psubscribe").length===0&&this.channels("ssubscribe").length===0}}Lx.default=cV;function lm(t){return t==="unsubscribe"?"subscribe":t==="punsubscribe"?"psubscribe":t==="sunsubscribe"?"ssubscribe":t}Object.defineProperty(Ix,"__esModule",{value:!0});const S1=Qn,uV=$t,dV=lV,pV=Lx,fV=(0,uV.Debug)("dataHandler");class hV{constructor(e,s){this.redis=e;const n=new dV({stringNumbers:s.stringNumbers,returnBuffers:!0,returnError:r=>{this.returnError(r)},returnFatalError:r=>{this.returnFatalError(r)},returnReply:r=>{this.returnReply(r)}});e.stream.prependListener("data",r=>{n.execute(r)}),e.stream.resume()}returnFatalError(e){e.message+=". Please report this.",this.redis.recoverFromFatalError(e,e,{offlineQueue:!1})}returnError(e){const s=this.shiftCommand(e);s&&(e.command={name:s.command.name,args:s.command.args},this.redis.handleReconnection(e,s))}returnReply(e){if(this.handleMonitorReply(e)||this.handleSubscriberReply(e))return;const s=this.shiftCommand(e);s&&(S1.default.checkFlag("ENTER_SUBSCRIBER_MODE",s.command.name)?(this.redis.condition.subscriber=new pV.default,this.redis.condition.subscriber.add(s.command.name,e[1].toString()),_1(s.command,e[2])||this.redis.commandQueue.unshift(s)):S1.default.checkFlag("EXIT_SUBSCRIBER_MODE",s.command.name)?E1(s.command,e[2])||this.redis.commandQueue.unshift(s):s.command.resolve(e))}handleSubscriberReply(e){if(!this.redis.condition.subscriber)return!1;const s=Array.isArray(e)?e[0].toString():null;switch(fV('receive reply "%s" in subscriber mode',s),s){case"message":this.redis.listeners("message").length>0&&this.redis.emit("message",e[1].toString(),e[2]?e[2].toString():""),this.redis.emit("messageBuffer",e[1],e[2]);break;case"pmessage":{const n=e[1].toString();this.redis.listeners("pmessage").length>0&&this.redis.emit("pmessage",n,e[2].toString(),e[3].toString()),this.redis.emit("pmessageBuffer",n,e[2],e[3]);break}case"smessage":{this.redis.listeners("smessage").length>0&&this.redis.emit("smessage",e[1].toString(),e[2]?e[2].toString():""),this.redis.emit("smessageBuffer",e[1],e[2]);break}case"ssubscribe":case"subscribe":case"psubscribe":{const n=e[1].toString();this.redis.condition.subscriber.add(s,n);const r=this.shiftCommand(e);if(!r)return;_1(r.command,e[2])||this.redis.commandQueue.unshift(r);break}case"sunsubscribe":case"unsubscribe":case"punsubscribe":{const n=e[1]?e[1].toString():null;n&&this.redis.condition.subscriber.del(s,n);const r=e[2];Number(r)===0&&(this.redis.condition.subscriber=!1);const i=this.shiftCommand(e);if(!i)return;E1(i.command,r)||this.redis.commandQueue.unshift(i);break}default:{const n=this.shiftCommand(e);if(!n)return;n.command.resolve(e)}}return!0}handleMonitorReply(e){if(this.redis.status!=="monitoring")return!1;const s=e.toString();if(s==="OK")return!1;const n=s.indexOf(" "),r=s.slice(0,n),i=s.indexOf('"'),o=s.slice(i+1,-1).split('" "').map(c=>c.replace(/\\"/g,'"')),l=s.slice(n+2,i-2).split(" ");return this.redis.emit("monitor",r,o,l[1],l[0]),!0}shiftCommand(e){const s=this.redis.commandQueue.shift();if(!s){const n="Command queue state error. If you can reproduce this, please report it.",r=new Error(n+(e instanceof Error?` Last error: ${e.message}`:` Last reply: ${e.toString()}`));return this.redis.emit("error",r),null}return s}}Ix.default=hV;const Jr=new WeakMap;function _1(t,e){let s=Jr.has(t)?Jr.get(t):t.args.length;return s-=1,s<=0?(t.resolve(e),Jr.delete(t),!0):(Jr.set(t,s),!1)}function E1(t,e){let s=Jr.has(t)?Jr.get(t):t.args.length;return s===0?Number(e)===0?(Jr.delete(t),t.resolve(e),!0):!1:(s-=1,s<=0?(t.resolve(e),!0):(Jr.set(t,s),!1))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.readyHandler=t.errorHandler=t.closeHandler=t.connectHandler=void 0;const e=nl,s=Qn,n=Df,r=$t,i=Ix,o=(0,r.Debug)("connection");function l(g){return function(){g.setStatus("connect"),g.resetCommandQueue();let h=!1;const{connectionEpoch:b}=g;g.condition.auth&&g.auth(g.condition.auth,function(m){b===g.connectionEpoch&&m&&(m.message.indexOf("no password is set")!==-1?console.warn("[WARN] Redis server does not require a password, but a password was supplied."):m.message.indexOf("without any password configured for the default user")!==-1?console.warn("[WARN] This Redis server's `default` user does not require a password, but a password was supplied"):m.message.indexOf("wrong number of arguments for 'auth' command")!==-1?console.warn(`[ERROR] The server returned "wrong number of arguments for 'auth' command". You are probably passing both username and password to Redis version 5 or below. You should only pass the 'password' option for Redis version 5 and under.`):(h=!0,g.recoverFromFatalError(m,m)))}),g.condition.select&&g.select(g.condition.select).catch(m=>{g.silentEmit("error",m)}),g.options.enableReadyCheck||t.readyHandler(g)(),new i.default(g,{stringNumbers:g.options.stringNumbers}),g.options.enableReadyCheck&&g._readyCheck(function(m,x){b===g.connectionEpoch&&(m?h||g.recoverFromFatalError(new Error("Ready check failed: "+m.message),m):g.connector.check(x)?t.readyHandler(g)():g.disconnect(!0))})}}t.connectHandler=l;function c(g){const h=new e.AbortError("Command aborted due to connection close");return h.command={name:g.name,args:g.args},h}function d(g){var h;let b=0;for(let m=0;m<g.length;){const x=(h=g.peekAt(m))===null||h===void 0?void 0:h.command,k=x.pipelineIndex;if((k===void 0||k===0)&&(b=0),k!==void 0&&k!==b++){g.remove(m,1),x.reject(c(x));continue}m++}}function u(g){var h;for(let b=0;b<g.length;){const m=(h=g.peekAt(b))===null||h===void 0?void 0:h.command;if(m.name==="multi")break;if(m.name==="exec"){g.remove(b,1),m.reject(c(m));break}m.inTransaction?(g.remove(b,1),m.reject(c(m))):b++}}function p(g){return function(){const b=g.status;if(g.setStatus("close"),g.commandQueue.length&&d(g.commandQueue),g.offlineQueue.length&&u(g.offlineQueue),b==="ready"&&(g.prevCondition||(g.prevCondition=g.condition),g.commandQueue.length&&(g.prevCommandQueue=g.commandQueue)),g.manuallyClosing)return g.manuallyClosing=!1,o("skip reconnecting since the connection is manually closed."),h();if(typeof g.options.retryStrategy!="function")return o("skip reconnecting because `retryStrategy` is not a function"),h();const m=g.options.retryStrategy(++g.retryAttempts);if(typeof m!="number")return o("skip reconnecting because `retryStrategy` doesn't return a number"),h();o("reconnect in %sms",m),g.setStatus("reconnecting",m),g.reconnectTimeout=setTimeout(function(){g.reconnectTimeout=null,g.connect().catch(r.noop)},m);const{maxRetriesPerRequest:x}=g.options;typeof x=="number"&&(x<0?o("maxRetriesPerRequest is negative, ignoring..."):g.retryAttempts%(x+1)===0&&(o("reach maxRetriesPerRequest limitation, flushing command queue..."),g.flushQueue(new n.MaxRetriesPerRequestError(x))))};function h(){g.setStatus("end"),g.flushQueue(new Error(r.CONNECTION_CLOSED_ERROR_MSG))}}t.closeHandler=p;function f(g){return function(h){o("error: %s",h),g.silentEmit("error",h)}}t.errorHandler=f;function y(g){return function(){if(g.setStatus("ready"),g.retryAttempts=0,g.options.monitor){g.call("monitor").then(()=>g.setStatus("monitoring"),m=>g.emit("error",m));const{sendCommand:b}=g;g.sendCommand=function(m){return s.default.checkFlag("VALID_IN_MONITOR_MODE",m.name)?b.call(g,m):(m.reject(new Error("Connection is in monitoring mode, can't process commands.")),m.promise)},g.once("close",function(){delete g.sendCommand});return}const h=g.prevCondition?g.prevCondition.select:g.condition.select;if(g.options.connectionName&&(o("set the connection name [%s]",g.options.connectionName),g.client("setname",g.options.connectionName).catch(r.noop)),g.options.readOnly&&(o("set the connection to readonly mode"),g.readonly().catch(r.noop)),g.prevCondition){const b=g.prevCondition;if(g.prevCondition=null,b.subscriber&&g.options.autoResubscribe){g.condition.select!==h&&(o("connect to db [%d]",h),g.select(h));const m=b.subscriber.channels("subscribe");m.length&&(o("subscribe %d channels",m.length),g.subscribe(m));const x=b.subscriber.channels("psubscribe");x.length&&(o("psubscribe %d channels",x.length),g.psubscribe(x));const k=b.subscriber.channels("ssubscribe");k.length&&(o("ssubscribe %d channels",k.length),g.ssubscribe(k))}}if(g.prevCommandQueue)if(g.options.autoResendUnfulfilledCommands)for(o("resend %d unfulfilled commands",g.prevCommandQueue.length);g.prevCommandQueue.length>0;){const b=g.prevCommandQueue.shift();b.select!==g.condition.select&&b.command.name!=="select"&&g.select(b.select),g.sendCommand(b.command,b.stream)}else g.prevCommandQueue=null;if(g.offlineQueue.length){o("send %d commands in offline queue",g.offlineQueue.length);const b=g.offlineQueue;for(g.resetOfflineQueue();b.length>0;){const m=b.shift();m.select!==g.condition.select&&m.command.name!=="select"&&g.select(m.select),g.sendCommand(m.command,m.stream)}}g.condition.select!==h&&(o("connect to db [%d]",h),g.select(h))}}t.readyHandler=y})(kR);var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.DEFAULT_REDIS_OPTIONS=void 0;Lf.DEFAULT_REDIS_OPTIONS={port:6379,host:"localhost",family:4,connectTimeout:1e4,disconnectTimeout:2e3,retryStrategy:function(t){return Math.min(t*50,2e3)},keepAlive:0,noDelay:!0,connectionName:null,sentinels:null,name:null,role:"master",sentinelRetryStrategy:function(t){return Math.min(t*10,1e3)},sentinelReconnectStrategy:function(){return 6e4},natMap:null,enableTLSForSentinelMode:!1,updateSentinels:!0,failoverDetector:!1,username:null,password:null,db:0,enableOfflineQueue:!0,enableReadyCheck:!0,autoResubscribe:!0,autoResendUnfulfilledCommands:!0,lazyConnect:!1,keyPrefix:"",reconnectOnError:null,readOnly:!1,stringNumbers:!1,maxRetriesPerRequest:20,maxLoadingRetryTime:1e4,enableAutoPipelining:!1,autoPipeliningIgnoredCommands:[],sentinelMaxConnections:10};var N1;function Zi(){if(N1)return Qu;N1=1;var t=["buffer","Buffer"];Object.defineProperty(Qu,"__esModule",{value:!0});const e=sl,s=oe,n=br,r=NR(),i=Qn,o=wQ(),l=Tx(),c=kR,d=Lf,u=ru,p=iu,f=$t,y=If,g=au,h=Dn,b=Cx,m=(0,f.Debug)("redis");let x=class Rd extends g.default{constructor(E,C,R){if(super(),this.status="wait",this.isCluster=!1,this.reconnectTimeout=null,this.connectionEpoch=0,this.retryAttempts=0,this.manuallyClosing=!1,this._autoPipelines=new Map,this._runningAutoPipelines=new Set,this.parseOptions(E,C,R),s.EventEmitter.call(this),this.resetCommandQueue(),this.resetOfflineQueue(),this.options.Connector)this.connector=new this.options.Connector(this.options);else if(this.options.sentinels){const N=new l.default(this.options);N.emitter=this,this.connector=N}else this.connector=new o.StandaloneConnector(this.options);this.options.scripts&&Object.entries(this.options.scripts).forEach(([N,_])=>{this.defineCommand(N,_)}),this.options.lazyConnect?this.setStatus("wait"):this.connect().catch(h.noop)}static createClient(...E){return new Rd(...E)}get autoPipelineQueueSize(){let E=0;for(const C of this._autoPipelines.values())E+=C.length;return E}connect(E){const C=new Promise((R,N)=>{if(this.status==="connecting"||this.status==="connect"||this.status==="ready"){N(new Error("Redis is already connecting/connected"));return}this.connectionEpoch+=1,this.setStatus("connecting");const{options:_}=this;this.condition={select:_.db,auth:_.username?[_.username,_.password]:_.password,subscriber:!1};const O=this;(0,n.default)(this.connector.connect(function(T,D){O.silentEmit(T,D)}),function(T,D){if(T){O.flushQueue(T),O.silentEmit("error",T),N(T),O.setStatus("end");return}let V=_.tls?"secureConnect":"connect";if("sentinels"in _&&_.sentinels&&!_.enableTLSForSentinelMode&&(V="connect"),O.stream=D,_.noDelay&&D.setNoDelay(!0),typeof _.keepAlive=="number"&&(D.connecting?D.once(V,()=>{D.setKeepAlive(!0,_.keepAlive)}):D.setKeepAlive(!0,_.keepAlive)),D.connecting){if(D.once(V,c.connectHandler(O)),_.connectTimeout){let I=!1;D.setTimeout(_.connectTimeout,function(){if(I)return;D.setTimeout(0),D.destroy();const B=new Error("connect ETIMEDOUT");B.errorno="ETIMEDOUT",B.code="ETIMEDOUT",B.syscall="connect",c.errorHandler(O)(B)}),D.once(V,function(){I=!0,D.setTimeout(0)})}}else if(D.destroyed){const I=O.connector.firstError;I&&process.nextTick(()=>{c.errorHandler(O)(I)}),process.nextTick(c.closeHandler(O))}else process.nextTick(c.connectHandler(O));D.destroyed||(D.once("error",c.errorHandler(O)),D.once("close",c.closeHandler(O)));const L=function(){O.removeListener("close",w),R()};var w=function(){O.removeListener("ready",L),N(new Error(f.CONNECTION_CLOSED_ERROR_MSG))};O.once("ready",L),O.once("close",w)})});return(0,n.default)(C,E)}disconnect(E=!1){E||(this.manuallyClosing=!0),this.reconnectTimeout&&!E&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.status==="wait"?c.closeHandler(this)():this.connector.disconnect()}end(){this.disconnect()}duplicate(E){return new Rd({...this.options,...E})}get mode(){var E;return this.options.monitor?"monitor":!((E=this.condition)===null||E===void 0)&&E.subscriber?"subscriber":"normal"}monitor(E){const C=this.duplicate({monitor:!0,lazyConnect:!1});return(0,n.default)(new Promise(function(R,N){C.once("error",N),C.once("monitoring",function(){R(C)})}),E)}sendCommand(E,C){var R,N;if(this.status==="wait"&&this.connect().catch(h.noop),this.status==="end")return E.reject(new Error(f.CONNECTION_CLOSED_ERROR_MSG)),E.promise;if(!((R=this.condition)===null||R===void 0)&&R.subscriber&&!i.default.checkFlag("VALID_IN_SUBSCRIBER_MODE",E.name))return E.reject(new Error("Connection in subscriber mode, only subscriber commands may be used")),E.promise;typeof this.options.commandTimeout=="number"&&E.setTimeout(this.options.commandTimeout);let _=this.status==="ready"||!C&&this.status==="connect"&&(0,e.exists)(E.name)&&(0,e.hasFlag)(E.name,"loading");if(this.stream&&this.stream.writable?this.stream._writableState&&this.stream._writableState.ended&&(_=!1):_=!1,_)m.enabled&&m("write command[%s]: %d -> %s(%o)",this._getDescription(),(N=this.condition)===null||N===void 0?void 0:N.select,E.name,E.args),C?"isPipeline"in C&&C.isPipeline?C.write(E.toWritable(C.destination.redis.stream)):C.write(E.toWritable(C)):this.stream.write(E.toWritable(this.stream)),this.commandQueue.push({command:E,stream:C,select:this.condition.select}),i.default.checkFlag("WILL_DISCONNECT",E.name)&&(this.manuallyClosing=!0),this.options.socketTimeout!==void 0&&this.socketTimeoutTimer===void 0&&this.setSocketTimeout();else{if(!this.options.enableOfflineQueue)return E.reject(new Error("Stream isn't writeable and enableOfflineQueue options is false")),E.promise;if(E.name==="quit"&&this.offlineQueue.length===0)return this.disconnect(),E.resolve(t.from("OK")),E.promise;m.enabled&&m("queue command[%s]: %d -> %s(%o)",this._getDescription(),this.condition.select,E.name,E.args),this.offlineQueue.push({command:E,stream:C,select:this.condition.select})}if(E.name==="select"&&(0,f.isInt)(E.args[0])){const O=parseInt(E.args[0],10);this.condition.select!==O&&(this.condition.select=O,this.emit("select",O),m("switch to db [%d]",this.condition.select))}return E.promise}setSocketTimeout(){this.socketTimeoutTimer=setTimeout(()=>{this.stream.destroy(new Error(`Socket timeout. Expecting data, but didn't receive any in ${this.options.socketTimeout}ms.`)),this.socketTimeoutTimer=void 0},this.options.socketTimeout),this.stream.once("data",()=>{clearTimeout(this.socketTimeoutTimer),this.socketTimeoutTimer=void 0,this.commandQueue.length!==0&&this.setSocketTimeout()})}scanStream(E){return this.createScanStream("scan",{options:E})}scanBufferStream(E){return this.createScanStream("scanBuffer",{options:E})}sscanStream(E,C){return this.createScanStream("sscan",{key:E,options:C})}sscanBufferStream(E,C){return this.createScanStream("sscanBuffer",{key:E,options:C})}hscanStream(E,C){return this.createScanStream("hscan",{key:E,options:C})}hscanBufferStream(E,C){return this.createScanStream("hscanBuffer",{key:E,options:C})}zscanStream(E,C){return this.createScanStream("zscan",{key:E,options:C})}zscanBufferStream(E,C){return this.createScanStream("zscanBuffer",{key:E,options:C})}silentEmit(E,C){let R;if(!(E==="error"&&(R=C,this.status==="end"||this.manuallyClosing&&R instanceof Error&&(R.message===f.CONNECTION_CLOSED_ERROR_MSG||R.syscall==="connect"||R.syscall==="read"))))return this.listeners(E).length>0?this.emit.apply(this,arguments):(R&&R instanceof Error&&console.error("[ioredis] Unhandled error event:",R.stack),!1)}recoverFromFatalError(E,C,R){this.flushQueue(C,R),this.silentEmit("error",C),this.disconnect(!0)}handleReconnection(E,C){var R;let N=!1;switch(this.options.reconnectOnError&&(N=this.options.reconnectOnError(E)),N){case 1:case!0:this.status!=="reconnecting"&&this.disconnect(!0),C.command.reject(E);break;case 2:this.status!=="reconnecting"&&this.disconnect(!0),((R=this.condition)===null||R===void 0?void 0:R.select)!==C.select&&C.command.name!=="select"&&this.select(C.select),this.sendCommand(C.command);break;default:C.command.reject(E)}}_getDescription(){let E;return"path"in this.options&&this.options.path?E=this.options.path:this.stream&&this.stream.remoteAddress&&this.stream.remotePort?E=this.stream.remoteAddress+":"+this.stream.remotePort:"host"in this.options&&this.options.host?E=this.options.host+":"+this.options.port:E="",this.options.connectionName&&(E+=` (${this.options.connectionName})`),E}resetCommandQueue(){this.commandQueue=new b}resetOfflineQueue(){this.offlineQueue=new b}parseOptions(...E){const C={};let R=!1;for(let N=0;N<E.length;++N){const _=E[N];if(!(_===null||typeof _>"u"))if(typeof _=="object")(0,h.defaults)(C,_);else if(typeof _=="string")(0,h.defaults)(C,(0,f.parseURL)(_)),_.startsWith("rediss://")&&(R=!0);else if(typeof _=="number")C.port=_;else throw new Error("Invalid argument "+_)}R&&(0,h.defaults)(C,{tls:!0}),(0,h.defaults)(C,Rd.defaultOptions),typeof C.port=="string"&&(C.port=parseInt(C.port,10)),typeof C.db=="string"&&(C.db=parseInt(C.db,10)),this.options=(0,f.resolveTLSProfile)(C)}setStatus(E,C){m.enabled&&m("status[%s]: %s -> %s",this._getDescription(),this.status||"[empty]",E),this.status=E,process.nextTick(this.emit.bind(this,E,C))}createScanStream(E,{key:C,options:R={}}){return new u.default({objectMode:!0,key:C,redis:this,command:E,...R})}flushQueue(E,C){C=(0,h.defaults)({},C,{offlineQueue:!0,commandQueue:!0});let R;if(C.offlineQueue)for(;R=this.offlineQueue.shift();)R.command.reject(E);if(C.commandQueue&&this.commandQueue.length>0)for(this.stream&&this.stream.removeAllListeners("data");R=this.commandQueue.shift();)R.command.reject(E)}_readyCheck(E){const C=this;this.info(function(R,N){if(R)return R.message&&R.message.includes("NOPERM")?(console.warn(`Skipping the ready check because INFO command fails: "${R.message}". You can disable ready check with "enableReadyCheck". More: https://github.com/luin/ioredis/wiki/Disable-ready-check.`),E(null,{})):E(R);if(typeof N!="string")return E(null,N);const _={},O=N.split(`\r
`);for(let T=0;T<O.length;++T){const[D,...V]=O[T].split(":"),L=V.join(":");L&&(_[D]=L)}if(!_.loading||_.loading==="0")E(null,_);else{const T=(_.loading_eta_seconds||1)*1e3,D=C.options.maxLoadingRetryTime&&C.options.maxLoadingRetryTime<T?C.options.maxLoadingRetryTime:T;m("Redis server still loading, trying again in "+D+"ms"),setTimeout(function(){C._readyCheck(E)},D)}}).catch(h.noop)}};return x.Cluster=r.default,x.Command=i.default,x.defaultOptions=d.DEFAULT_REDIS_OPTIONS,(0,y.default)(x,s.EventEmitter),(0,p.addTransactionSupport)(x.prototype),Qu.default=x,Qu}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.print=e.ReplyError=e.SentinelIterator=e.SentinelConnector=e.AbstractConnector=e.Pipeline=e.ScanStream=e.Command=e.Cluster=e.Redis=e.default=void 0,e=t.exports=Zi().default;var s=Zi();Object.defineProperty(e,"default",{enumerable:!0,get:function(){return s.default}});var n=Zi();Object.defineProperty(e,"Redis",{enumerable:!0,get:function(){return n.default}});var r=NR();Object.defineProperty(e,"Cluster",{enumerable:!0,get:function(){return r.default}});var i=Qn;Object.defineProperty(e,"Command",{enumerable:!0,get:function(){return i.default}});var o=ru;Object.defineProperty(e,"ScanStream",{enumerable:!0,get:function(){return o.default}});var l=Rf;Object.defineProperty(e,"Pipeline",{enumerable:!0,get:function(){return l.default}});var c=ou;Object.defineProperty(e,"AbstractConnector",{enumerable:!0,get:function(){return c.default}});var d=Tx();Object.defineProperty(e,"SentinelConnector",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"SentinelIterator",{enumerable:!0,get:function(){return d.SentinelIterator}}),e.ReplyError=nl.ReplyError,Object.defineProperty(e,"Promise",{get(){return console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used."),Promise},set(p){console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used.")}});function u(p,f){console.log(p?"Error: "+p:"Reply: "+f)}e.print=u})(cy,cy.exports);var cm=cy.exports,OR={exports:{}},PR={exports:{}},wi={},Fx={};Fx.parse=function(t,e){return new Bx(t,e).parse()};class Bx{constructor(e,s){this.source=e,this.transform=s||mV,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return e==="\\"?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var s;(this.recorded.length>0||e)&&(s=this.recorded.join(""),s==="NULL"&&!e&&(s=null),s!==null&&(s=this.transform(s)),this.entries.push(s),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var e=this.nextCharacter();if(e.value==="=")break}}parse(e){var s,n,r;for(this.consumeDimensions();!this.isEof();)if(s=this.nextCharacter(),s.value==="{"&&!r)this.dimension++,this.dimension>1&&(n=new Bx(this.source.substr(this.position-1),this.transform),this.entries.push(n.parse(!0)),this.position+=n.position-2);else if(s.value==="}"&&!r){if(this.dimension--,!this.dimension&&(this.newEntry(),e))return this.entries}else s.value==='"'&&!s.escaped?(r&&this.newEntry(!0),r=!r):s.value===","&&!r?this.newEntry():this.record(s.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}}function mV(t){return t}var gV=Fx,DR={create:function(t,e){return{parse:function(){return gV.parse(t,e)}}}},yV=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,vV=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,xV=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,bV=/^-?infinity$/,wV=function(e){if(bV.test(e))return Number(e.replace("i","I"));var s=yV.exec(e);if(!s)return SV(e)||null;var n=!!s[8],r=parseInt(s[1],10);n&&(r=MR(r));var i=parseInt(s[2],10)-1,o=s[3],l=parseInt(s[4],10),c=parseInt(s[5],10),d=parseInt(s[6],10),u=s[7];u=u?1e3*parseFloat(u):0;var p,f=_V(e);return f!=null?(p=new Date(Date.UTC(r,i,o,l,c,d,u)),gy(r)&&p.setUTCFullYear(r),f!==0&&p.setTime(p.getTime()-f)):(p=new Date(r,i,o,l,c,d,u),gy(r)&&p.setFullYear(r)),p};function SV(t){var e=vV.exec(t);if(e){var s=parseInt(e[1],10),n=!!e[4];n&&(s=MR(s));var r=parseInt(e[2],10)-1,i=e[3],o=new Date(s,r,i);return gy(s)&&o.setFullYear(s),o}}function _V(t){if(t.endsWith("+00"))return 0;var e=xV.exec(t.split(" ")[1]);if(e){var s=e[1];if(s==="Z")return 0;var n=s==="-"?-1:1,r=parseInt(e[2],10)*3600+parseInt(e[3]||0,10)*60+parseInt(e[4]||0,10);return r*n*1e3}}function MR(t){return-(t-1)}function gy(t){return t>=0&&t<100}var EV=kV,NV=Object.prototype.hasOwnProperty;function kV(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)NV.call(s,n)&&(t[n]=s[n])}return t}var CV=EV,jV=Bo;function Bo(t){if(!(this instanceof Bo))return new Bo(t);CV(this,$V(t))}var AV=["seconds","minutes","hours","days","months","years"];Bo.prototype.toPostgres=function(){var t=AV.filter(this.hasOwnProperty,this);return this.milliseconds&&t.indexOf("seconds")<0&&t.push("seconds"),t.length===0?"0":t.map(function(e){var s=this[e]||0;return e==="seconds"&&this.milliseconds&&(s=(s+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),s+" "+e},this).join(" ")};var TV={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},RV=["years","months","days"],IV=["hours","minutes","seconds"];Bo.prototype.toISOString=Bo.prototype.toISO=function(){var t=RV.map(s,this).join(""),e=IV.map(s,this).join("");return"P"+t+"T"+e;function s(n){var r=this[n]||0;return n==="seconds"&&this.milliseconds&&(r=(r+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),r+TV[n]}};var $x="([+-]?\\d+)",OV=$x+"\\s+years?",PV=$x+"\\s+mons?",DV=$x+"\\s+days?",MV="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",LV=new RegExp([OV,PV,DV,MV].map(function(t){return"("+t+")?"}).join("\\s*")),k1={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},FV=["hours","minutes","seconds","milliseconds"];function BV(t){var e=t+"000000".slice(t.length);return parseInt(e,10)/1e3}function $V(t){if(!t)return{};var e=LV.exec(t),s=e[8]==="-";return Object.keys(k1).reduce(function(n,r){var i=k1[r],o=e[i];return!o||(o=r==="milliseconds"?BV(o):parseInt(o,10),!o)||(s&&~FV.indexOf(r)&&(o*=-1),n[r]=o),n},{})}var C1=["buffer","Buffer"],UV=function(e){if(/^\\x/.test(e))return new C1(e.substr(2),"hex");for(var s="",n=0;n<e.length;)if(e[n]!=="\\")s+=e[n],++n;else if(/[0-7]{3}/.test(e.substr(n+1,3)))s+=String.fromCharCode(parseInt(e.substr(n+1,3),8)),n+=4;else{for(var r=1;n+r<e.length&&e[n+r]==="\\";)r++;for(var i=0;i<Math.floor(r/2);++i)s+="\\";n+=Math.floor(r/2)*2}return new C1(s,"binary")},cu=Fx,uu=DR,Id=wV,LR=jV,FR=UV;function Ff(t){return function(s){return s===null?s:t(s)}}function BR(t){return t===null?t:t==="TRUE"||t==="t"||t==="true"||t==="y"||t==="yes"||t==="on"||t==="1"}function zV(t){return t?cu.parse(t,BR):null}function qV(t){return parseInt(t,10)}function um(t){return t?cu.parse(t,Ff(qV)):null}function QV(t){return t?cu.parse(t,Ff(function(e){return $R(e).trim()})):null}var VV=function(t){if(!t)return null;var e=uu.create(t,function(s){return s!==null&&(s=Ux(s)),s});return e.parse()},dm=function(t){if(!t)return null;var e=uu.create(t,function(s){return s!==null&&(s=parseFloat(s)),s});return e.parse()},Ps=function(t){if(!t)return null;var e=uu.create(t);return e.parse()},pm=function(t){if(!t)return null;var e=uu.create(t,function(s){return s!==null&&(s=Id(s)),s});return e.parse()},HV=function(t){if(!t)return null;var e=uu.create(t,function(s){return s!==null&&(s=LR(s)),s});return e.parse()},GV=function(t){return t?cu.parse(t,Ff(FR)):null},fm=function(t){return parseInt(t,10)},$R=function(t){var e=String(t);return/^\d+$/.test(e)?e:t},j1=function(t){return t?cu.parse(t,Ff(JSON.parse)):null},Ux=function(t){return t[0]!=="("?null:(t=t.substring(1,t.length-1).split(","),{x:parseFloat(t[0]),y:parseFloat(t[1])})},WV=function(t){if(t[0]!=="<"&&t[1]!=="(")return null;for(var e="(",s="",n=!1,r=2;r<t.length-1;r++){if(n||(e+=t[r]),t[r]===")"){n=!0;continue}else if(!n)continue;t[r]!==","&&(s+=t[r])}var i=Ux(e);return i.radius=parseFloat(s),i},KV=function(t){t(20,$R),t(21,fm),t(23,fm),t(26,fm),t(700,parseFloat),t(701,parseFloat),t(16,BR),t(1082,Id),t(1114,Id),t(1184,Id),t(600,Ux),t(651,Ps),t(718,WV),t(1e3,zV),t(1001,GV),t(1005,um),t(1007,um),t(1028,um),t(1016,QV),t(1017,VV),t(1021,dm),t(1022,dm),t(1231,dm),t(1014,Ps),t(1015,Ps),t(1008,Ps),t(1009,Ps),t(1040,Ps),t(1041,Ps),t(1115,pm),t(1182,pm),t(1185,pm),t(1186,LR),t(1187,HV),t(17,FR),t(114,JSON.parse.bind(JSON)),t(3802,JSON.parse.bind(JSON)),t(199,j1),t(3807,j1),t(3907,Ps),t(2951,Ps),t(791,Ps),t(1183,Ps),t(1270,Ps)},YV={init:KV},us=1e6;function JV(t){var e=t.readInt32BE(0),s=t.readUInt32BE(4),n="";e<0&&(e=~e+(s===0),s=~s+1>>>0,n="-");var r="",i,o,l,c,d,u;{if(i=e%us,e=e/us>>>0,o=4294967296*i+s,s=o/us>>>0,l=""+(o-us*s),s===0&&e===0)return n+l+r;for(c="",d=6-l.length,u=0;u<d;u++)c+="0";r=c+l+r}{if(i=e%us,e=e/us>>>0,o=4294967296*i+s,s=o/us>>>0,l=""+(o-us*s),s===0&&e===0)return n+l+r;for(c="",d=6-l.length,u=0;u<d;u++)c+="0";r=c+l+r}{if(i=e%us,e=e/us>>>0,o=4294967296*i+s,s=o/us>>>0,l=""+(o-us*s),s===0&&e===0)return n+l+r;for(c="",d=6-l.length,u=0;u<d;u++)c+="0";r=c+l+r}return i=e%us,o=4294967296*i+s,l=""+o%us,n+l+r}var XV=JV,ZV=XV,at=function(t,e,s,n,r){s=s||0,n=n||!1,r=r||function(y,g,h){return y*Math.pow(2,h)+g};var i=s>>3,o=function(y){return n?~y&255:y},l=255,c=8-s%8;e<c&&(l=255<<8-e&255,c=e),s&&(l=l>>s%8);var d=0;s%8+e>=8&&(d=r(0,o(t[i])&l,c));for(var u=e+s>>3,p=i+1;p<u;p++)d=r(d,o(t[p]),8);var f=(e+s)%8;return f>0&&(d=r(d,o(t[u])>>8-f,f)),d},UR=function(t,e,s){var n=Math.pow(2,s-1)-1,r=at(t,1),i=at(t,s,1);if(i===0)return 0;var o=1,l=function(d,u,p){d===0&&(d=1);for(var f=1;f<=p;f++)o/=2,(u&1<<p-f)>0&&(d+=o);return d},c=at(t,e,s+1,!1,l);return i==Math.pow(2,s+1)-1?c===0?r===0?1/0:-1/0:NaN:(r===0?1:-1)*Math.pow(2,i-n)*c},eH=function(t){return at(t,1)==1?-1*(at(t,15,1,!0)+1):at(t,15,1)},A1=function(t){return at(t,1)==1?-1*(at(t,31,1,!0)+1):at(t,31,1)},tH=function(t){return UR(t,23,8)},sH=function(t){return UR(t,52,11)},nH=function(t){var e=at(t,16,32);if(e==49152)return NaN;for(var s=Math.pow(1e4,at(t,16,16)),n=0,r=at(t,16),i=0;i<r;i++)n+=at(t,16,64+16*i)*s,s/=1e4;var o=Math.pow(10,at(t,16,48));return(e===0?1:-1)*Math.round(n*o)/o},T1=function(t,e){var s=at(e,1),n=at(e,63,1),r=new Date((s===0?1:-1)*n/1e3+9466848e5);return t||r.setTime(r.getTime()+r.getTimezoneOffset()*6e4),r.usec=n%1e3,r.getMicroSeconds=function(){return this.usec},r.setMicroSeconds=function(i){this.usec=i},r.getUTCMicroSeconds=function(){return this.usec},r},_l=function(t){var e=at(t,32);at(t,32,32);for(var s=at(t,32,64),n=96,r=[],i=0;i<e;i++)r[i]=at(t,32,n),n+=32,n+=32;var o=function(c){var d=at(t,32,n);if(n+=32,d==4294967295)return null;var u;if(c==23||c==20)return u=at(t,d*8,n),n+=d*8,u;if(c==25)return u=t.toString(this.encoding,n>>3,(n+=d<<3)>>3),u;console.log("ERROR: ElementType not implemented: "+c)},l=function(c,d){var u=[],p;if(c.length>1){var f=c.shift();for(p=0;p<f;p++)u[p]=l(c,d);c.unshift(f)}else for(p=0;p<c[0];p++)u[p]=o(d);return u};return l(r,s)},rH=function(t){return t.toString("utf8")},iH=function(t){return t===null?null:at(t,8)>0},aH=function(t){t(20,ZV),t(21,eH),t(23,A1),t(26,A1),t(1700,nH),t(700,tH),t(701,sH),t(16,iH),t(1114,T1.bind(null,!1)),t(1184,T1.bind(null,!0)),t(1e3,_l),t(1007,_l),t(1016,_l),t(1008,_l),t(1009,_l),t(25,rH)},oH={init:aH},lH={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096},cH=YV,uH=oH,dH=DR,pH=lH;wi.getTypeParser=fH;wi.setTypeParser=hH;wi.arrayParser=dH;wi.builtins=pH;var bc={text:{},binary:{}};function R1(t){return String(t)}function fH(t,e){return e=e||"text",bc[e]&&bc[e][t]||R1}function hH(t,e,s){typeof e=="function"&&(s=e,e="text"),bc[e][t]=s}cH.init(function(t,e){bc.text[t]=e});uH.init(function(t,e){bc.binary[t]=e});(function(t){var e={};t.exports={host:"localhost",user:process.platform==="win32"?e.USERNAME:e.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};const s=wi,n=s.getTypeParser(20,"text"),r=s.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(i){s.setTypeParser(20,"text",i?s.getTypeParser(23,"text"):n),s.setTypeParser(1016,"text",i?s.getTypeParser(1007,"text"):r)})})(PR);var Bf=PR.exports,yp=["buffer","Buffer"];const mH=Bf,I1=oe,{isDate:gH}=I1.types||I1;function yH(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function zR(t){let e="{";for(let s=0;s<t.length;s++)if(s>0&&(e=e+","),t[s]===null||typeof t[s]>"u")e=e+"NULL";else if(Array.isArray(t[s]))e=e+zR(t[s]);else if(ArrayBuffer.isView(t[s])){let n=t[s];if(!(n instanceof yp)){const r=yp.from(n.buffer,n.byteOffset,n.byteLength);r.length===n.byteLength?n=r:n=r.slice(n.byteOffset,n.byteOffset+n.byteLength)}e+="\\\\x"+n.toString("hex")}else e+=yH(vp(t[s]));return e=e+"}",e}const vp=function(t,e){if(t==null)return null;if(typeof t=="object"){if(t instanceof yp)return t;if(ArrayBuffer.isView(t)){const s=yp.from(t.buffer,t.byteOffset,t.byteLength);return s.length===t.byteLength?s:s.slice(t.byteOffset,t.byteOffset+t.byteLength)}return gH(t)?mH.parseInputDatesAsUTC?bH(t):xH(t):Array.isArray(t)?zR(t):vH(t,e)}return t.toString()};function vH(t,e){if(t&&typeof t.toPostgres=="function"){if(e=e||[],e.indexOf(t)!==-1)throw new Error('circular reference detected while preparing "'+t+'" for query');return e.push(t),vp(t.toPostgres(vp),e)}return JSON.stringify(t)}function xH(t){let e=-t.getTimezoneOffset(),s=t.getFullYear();const n=s<1;n&&(s=Math.abs(s)+1);let r=String(s).padStart(4,"0")+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+"T"+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")+"."+String(t.getMilliseconds()).padStart(3,"0");return e<0?(r+="-",e*=-1):r+="+",r+=String(Math.floor(e/60)).padStart(2,"0")+":"+String(e%60).padStart(2,"0"),n&&(r+=" BC"),r}function bH(t){let e=t.getUTCFullYear();const s=e<1;s&&(e=Math.abs(e)+1);let n=String(e).padStart(4,"0")+"-"+String(t.getUTCMonth()+1).padStart(2,"0")+"-"+String(t.getUTCDate()).padStart(2,"0")+"T"+String(t.getUTCHours()).padStart(2,"0")+":"+String(t.getUTCMinutes()).padStart(2,"0")+":"+String(t.getUTCSeconds()).padStart(2,"0")+"."+String(t.getUTCMilliseconds()).padStart(3,"0");return n+="+00:00",s&&(n+=" BC"),n}function wH(t,e,s){return t=typeof t=="string"?{text:t}:t,e&&(typeof e=="function"?t.callback=e:t.values=e),s&&(t.callback=s),t}const SH=function(t){return'"'+t.replace(/"/g,'""')+'"'},_H=function(t){let e=!1,s="'";if(t==null||typeof t!="string")return"''";for(let n=0;n<t.length;n++){const r=t[n];r==="'"?s+=r+r:r==="\\"?(s+=r+r,e=!0):s+=r}return s+="'",e===!0&&(s=" E"+s),s};var wc={prepareValue:function(e){return vp(e)},normalizeQueryConfig:wH,escapeIdentifier:SH,escapeLiteral:_H},yy={exports:{}},hm,O1;function EH(){if(O1)return hm;O1=1;var t=["buffer","Buffer"];const e=oe;function s(c){return e.createHash("md5").update(c,"utf-8").digest("hex")}function n(c,d,u){const p=s(d+c);return"md5"+s(t.concat([t.from(p),u]))}function r(c){return e.createHash("sha256").update(c).digest()}function i(c,d){return c=c.replace(/(\D)-/,"$1"),e.createHash(c).update(d).digest()}function o(c,d){return e.createHmac("sha256",c).update(d).digest()}async function l(c,d,u){return e.pbkdf2Sync(c,d,u,32,"sha256")}return hm={postgresMd5PasswordHash:n,randomBytes:e.randomBytes,deriveKey:l,sha256:r,hashByName:i,hmacSha256:o,md5:s},hm}var mm,P1;function NH(){if(P1)return mm;P1=1;var t=["buffer","Buffer"];const e=oe;mm={postgresMd5PasswordHash:l,randomBytes:i,deriveKey:p,sha256:c,hashByName:d,hmacSha256:u,md5:o};const s=e.webcrypto||globalThis.crypto,n=s.subtle,r=new TextEncoder;function i(f){return s.getRandomValues(t.alloc(f))}async function o(f){try{return e.createHash("md5").update(f,"utf-8").digest("hex")}catch{const g=typeof f=="string"?r.encode(f):f,h=await n.digest("MD5",g);return Array.from(new Uint8Array(h)).map(b=>b.toString(16).padStart(2,"0")).join("")}}async function l(f,y,g){const h=await o(y+f);return"md5"+await o(t.concat([t.from(h),g]))}async function c(f){return await n.digest("SHA-256",f)}async function d(f,y){return await n.digest(f,y)}async function u(f,y){const g=await n.importKey("raw",f,{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return await n.sign("HMAC",g,r.encode(y))}async function p(f,y,g){const h=await n.importKey("raw",r.encode(f),"PBKDF2",!1,["deriveBits"]),b={name:"PBKDF2",hash:"SHA-256",salt:y,iterations:g};return await n.deriveBits(b,h,32*8,["deriveBits"])}return mm}const kH=parseInt(process.versions&&process.versions.node&&process.versions.node.split(".")[0])<15;kH?yy.exports=EH():yy.exports=NH();var qR=yy.exports;function Di(t,e){return new Error("SASL channel binding: "+t+" when parsing public certificate "+e.toString("base64"))}function zx(t,e){let s=t[e++];if(s<128)return{length:s,index:e};const n=s&127;if(n>4)throw Di("bad length",t);s=0;for(let r=0;r<n;r++)s=s<<8|t[e++];return{length:s,index:e}}function D1(t,e){if(t[e++]!==6)throw Di("non-OID data",t);const{length:s,index:n}=zx(t,e);e=n;const r=e+s,i=t[e++];let o=(i/40>>0)+"."+i%40;for(;e<r;){let l=0;for(;e<r;){const c=t[e++];if(l=l<<7|c&127,c<128)break}o+="."+l}return{oid:o,index:e}}function El(t,e){if(t[e++]!==48)throw Di("non-sequence data",t);return zx(t,e)}function CH(t,e){e===void 0&&(e=0),e=El(t,e).index;const{length:s,index:n}=El(t,e);e=n+s,e=El(t,e).index;const{oid:r,index:i}=D1(t,e);switch(r){case"1.2.840.113549.1.1.4":return"MD5";case"1.2.840.113549.1.1.5":return"SHA-1";case"1.2.840.113549.1.1.11":return"SHA-256";case"1.2.840.113549.1.1.12":return"SHA-384";case"1.2.840.113549.1.1.13":return"SHA-512";case"1.2.840.113549.1.1.14":return"SHA-224";case"1.2.840.113549.1.1.15":return"SHA512-224";case"1.2.840.113549.1.1.16":return"SHA512-256";case"1.2.840.10045.4.1":return"SHA-1";case"1.2.840.10045.4.3.1":return"SHA-224";case"1.2.840.10045.4.3.2":return"SHA-256";case"1.2.840.10045.4.3.3":return"SHA-384";case"1.2.840.10045.4.3.4":return"SHA-512";case"1.2.840.113549.1.1.10":{if(e=i,e=El(t,e).index,t[e++]!==160)throw Di("non-tag data",t);e=zx(t,e).index,e=El(t,e).index;const{oid:o}=D1(t,e);switch(o){case"1.2.840.113549.2.5":return"MD5";case"1.3.14.3.2.26":return"SHA-1";case"2.16.840.1.101.3.4.2.1":return"SHA-256";case"2.16.840.1.101.3.4.2.2":return"SHA-384";case"2.16.840.1.101.3.4.2.3":return"SHA-512"}throw Di("unknown hash OID "+o,t)}case"1.3.101.110":case"1.3.101.112":return"SHA-512";case"1.3.101.111":case"1.3.101.113":throw Di("Ed448 certificate channel binding is not currently supported by Postgres")}throw Di("unknown OID "+r,t)}var jH={signatureAlgorithmHashFromCertificate:CH},En=["buffer","Buffer"];const jr=qR,{signatureAlgorithmHashFromCertificate:AH}=jH;function TH(t,e){const s=["SCRAM-SHA-256"];e&&s.unshift("SCRAM-SHA-256-PLUS");const n=s.find(o=>t.includes(o));if(!n)throw new Error("SASL: Only mechanism(s) "+s.join(" and ")+" are supported");if(n==="SCRAM-SHA-256-PLUS"&&typeof e.getPeerCertificate!="function")throw new Error("SASL: Mechanism SCRAM-SHA-256-PLUS requires a certificate");const r=jr.randomBytes(18).toString("base64");return{mechanism:n,clientNonce:r,response:(n==="SCRAM-SHA-256-PLUS"?"p=tls-server-end-point":e?"y":"n")+",,n=*,r="+r,message:"SASLInitialResponse"}}async function RH(t,e,s,n){if(t.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof e!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(e==="")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a non-empty string");if(typeof s!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");const r=PH(s);if(r.nonce.startsWith(t.clientNonce)){if(r.nonce.length===t.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");const i="n=*,r="+t.clientNonce,o="r="+r.nonce+",s="+r.salt+",i="+r.iteration;let l=n?"eSws":"biws";if(t.mechanism==="SCRAM-SHA-256-PLUS"){const x=n.getPeerCertificate().raw;let k=AH(x);(k==="MD5"||k==="SHA-1")&&(k="SHA-256");const E=await jr.hashByName(k,x);l=En.concat([En.from("p=tls-server-end-point,,"),En.from(E)]).toString("base64")}const c="c="+l+",r="+r.nonce,d=i+","+o+","+c,u=En.from(r.salt,"base64"),p=await jr.deriveKey(e,u,r.iteration),f=await jr.hmacSha256(p,"Client Key"),y=await jr.sha256(f),g=await jr.hmacSha256(y,d),h=MH(En.from(f),En.from(g)).toString("base64"),b=await jr.hmacSha256(p,"Server Key"),m=await jr.hmacSha256(b,d);t.message="SASLResponse",t.serverSignature=En.from(m).toString("base64"),t.response=c+",p="+h}function IH(t,e){if(t.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof e!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");const{serverSignature:s}=DH(e);if(s!==t.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function OH(t){if(typeof t!="string")throw new TypeError("SASL: text must be a string");return t.split("").map((e,s)=>t.charCodeAt(s)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}function QR(t){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(t)}function VR(t){if(typeof t!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(t.split(",").map(e=>{if(!/^.=/.test(e))throw new Error("SASL: Invalid attribute pair entry");const s=e[0],n=e.substring(2);return[s,n]}))}function PH(t){const e=VR(t),s=e.get("r");if(s){if(!OH(s))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");const n=e.get("s");if(n){if(!QR(n))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");const r=e.get("i");if(r){if(!/^[1-9][0-9]*$/.test(r))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");const i=parseInt(r,10);return{nonce:s,salt:n,iteration:i}}function DH(t){const s=VR(t).get("v");if(s){if(!QR(s))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:s}}function MH(t,e){if(!En.isBuffer(t))throw new TypeError("first argument must be a Buffer");if(!En.isBuffer(e))throw new TypeError("second argument must be a Buffer");if(t.length!==e.length)throw new Error("Buffer lengths must match");if(t.length===0)throw new Error("Buffers cannot be empty");return En.from(t.map((s,n)=>t[n]^e[n]))}var LH={startSession:TH,continueSession:RH,finalizeSession:IH};const FH=wi;function $f(t){this._types=t||FH,this.text={},this.binary={}}$f.prototype.getOverrides=function(t){switch(t){case"text":return this.text;case"binary":return this.binary;default:return{}}};$f.prototype.setTypeParser=function(t,e,s){typeof e=="function"&&(s=e,e="text"),this.getOverrides(e)[t]=s};$f.prototype.getTypeParser=function(t,e){return e=e||"text",this.getOverrides(e)[t]||this._types.getTypeParser(t,e)};var qx=$f;function $o(t,e={}){if(t.charAt(0)==="/"){const c=t.split(" ");return{host:c[0],database:c[1]}}const s={};let n,r=!1;/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(t)&&(t=encodeURI(t).replace(/%25(\d\d)/g,"%$1"));try{try{n=new URL(t,"postgres://base")}catch{n=new URL(t.replace("@/","@___DUMMY___/"),"postgres://base"),r=!0}}catch(c){c.input&&(c.input="*****REDACTED*****")}for(const c of n.searchParams.entries())s[c[0]]=c[1];if(s.user=s.user||decodeURIComponent(n.username),s.password=s.password||decodeURIComponent(n.password),n.protocol=="socket:")return s.host=decodeURI(n.pathname),s.database=n.searchParams.get("db"),s.client_encoding=n.searchParams.get("encoding"),s;const i=r?"":n.hostname;s.host?i&&/^%2f/i.test(i)&&(n.pathname=i+n.pathname):s.host=decodeURIComponent(i),s.port||(s.port=n.port);const o=n.pathname.slice(1)||null;s.database=o?decodeURI(o):null,(s.ssl==="true"||s.ssl==="1")&&(s.ssl=!0),s.ssl==="0"&&(s.ssl=!1),(s.sslcert||s.sslkey||s.sslrootcert||s.sslmode)&&(s.ssl={});const l=s.sslcert||s.sslkey||s.sslrootcert?oe:null;if(s.sslcert&&(s.ssl.cert=l.readFileSync(s.sslcert).toString()),s.sslkey&&(s.ssl.key=l.readFileSync(s.sslkey).toString()),s.sslrootcert&&(s.ssl.ca=l.readFileSync(s.sslrootcert).toString()),e.useLibpqCompat&&s.uselibpqcompat)throw new Error("Both useLibpqCompat and uselibpqcompat are set. Please use only one of them.");if(s.uselibpqcompat==="true"||e.useLibpqCompat)switch(s.sslmode){case"disable":{s.ssl=!1;break}case"prefer":{s.ssl.rejectUnauthorized=!1;break}case"require":{s.sslrootcert?s.ssl.checkServerIdentity=function(){}:s.ssl.rejectUnauthorized=!1;break}case"verify-ca":{if(!s.ssl.ca)throw new Error("SECURITY WARNING: Using sslmode=verify-ca requires specifying a CA with sslrootcert. If a public CA is used, verify-ca allows connections to a server that somebody else may have registered with the CA, making you vulnerable to Man-in-the-Middle attacks. Either specify a custom CA certificate with sslrootcert parameter or use sslmode=verify-full for proper security.");s.ssl.checkServerIdentity=function(){};break}}else switch(s.sslmode){case"disable":{s.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{s.ssl.rejectUnauthorized=!1;break}}return s}function BH(t){return Object.entries(t).reduce((s,[n,r])=>(r!=null&&(s[n]=r),s),{})}function HR(t){return Object.entries(t).reduce((s,[n,r])=>{if(n==="ssl"){const i=r;typeof i=="boolean"&&(s[n]=i),typeof i=="object"&&(s[n]=BH(i))}else if(r!=null)if(n==="port"){if(r!==""){const i=parseInt(r,10);if(isNaN(i))throw new Error(`Invalid ${n}: ${r}`);s[n]=i}}else s[n]=r;return s},{})}function $H(t){return HR($o(t))}var UH=$o;$o.parse=$o;$o.toClientConfig=HR;$o.parseIntoClientConfig=$H;var xp={};const zH=oe,GR=Bf,M1=UH.parse,Yt=function(t,e,s){return s===void 0?s=xp["PG"+t.toUpperCase()]:s===!1||(s=xp[s]),e[t]||s||GR[t]},qH=function(){switch(xp.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return GR.ssl},Ba=function(t){return"'"+(""+t).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},Ds=function(t,e,s){const n=e[s];n!=null&&t.push(s+"="+Ba(n))};let QH=class{constructor(e){e=typeof e=="string"?M1(e):e||{},e.connectionString&&(e=Object.assign({},e,M1(e.connectionString))),this.user=Yt("user",e),this.database=Yt("database",e),this.database===void 0&&(this.database=this.user),this.port=parseInt(Yt("port",e),10),this.host=Yt("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:Yt("password",e)}),this.binary=Yt("binary",e),this.options=Yt("options",e),this.ssl=typeof e.ssl>"u"?qH():e.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=Yt("client_encoding",e),this.replication=Yt("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=Yt("application_name",e,"PGAPPNAME"),this.fallback_application_name=Yt("fallback_application_name",e,!1),this.statement_timeout=Yt("statement_timeout",e,!1),this.lock_timeout=Yt("lock_timeout",e,!1),this.idle_in_transaction_session_timeout=Yt("idle_in_transaction_session_timeout",e,!1),this.query_timeout=Yt("query_timeout",e,!1),e.connectionTimeoutMillis===void 0?this.connect_timeout=xp.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),e.keepAlive===!1?this.keepalives=0:e.keepAlive===!0&&(this.keepalives=1),typeof e.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){const s=[];Ds(s,this,"user"),Ds(s,this,"password"),Ds(s,this,"port"),Ds(s,this,"application_name"),Ds(s,this,"fallback_application_name"),Ds(s,this,"connect_timeout"),Ds(s,this,"options");const n=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(Ds(s,n,"sslmode"),Ds(s,n,"sslca"),Ds(s,n,"sslkey"),Ds(s,n,"sslcert"),Ds(s,n,"sslrootcert"),this.database&&s.push("dbname="+Ba(this.database)),this.replication&&s.push("replication="+Ba(this.replication)),this.host&&s.push("host="+Ba(this.host)),this.isDomainSocket)return e(null,s.join(" "));this.client_encoding&&s.push("client_encoding="+Ba(this.client_encoding)),zH.lookup(this.host,function(r,i){return r?e(r,null):(s.push("hostaddr="+Ba(i)),e(null,s.join(" ")))})}};var WR=QH,VH=["buffer","Buffer"];const HH=wi,L1=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/;let GH=class{constructor(e,s){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=s,this.RowCtor=null,this.rowAsArray=e==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray),this._prebuiltEmptyResultObject=null}addCommandComplete(e){let s;e.text?s=L1.exec(e.text):s=L1.exec(e.command),s&&(this.command=s[1],s[3]?(this.oid=parseInt(s[2],10),this.rowCount=parseInt(s[3],10)):s[2]&&(this.rowCount=parseInt(s[2],10)))}_parseRowAsArray(e){const s=new Array(e.length);for(let n=0,r=e.length;n<r;n++){const i=e[n];i!==null?s[n]=this._parsers[n](i):s[n]=null}return s}parseRow(e){const s={...this._prebuiltEmptyResultObject};for(let n=0,r=e.length;n<r;n++){const i=e[n],o=this.fields[n].name;if(i!==null){const l=this.fields[n].format==="binary"?VH.from(i):i;s[o]=this._parsers[n](l)}else s[o]=null}return s}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this._parsers=new Array(e.length));const s={};for(let n=0;n<e.length;n++){const r=e[n];s[r.name]=null,this._types?this._parsers[n]=this._types.getTypeParser(r.dataTypeID,r.format||"text"):this._parsers[n]=HH.getTypeParser(r.dataTypeID,r.format||"text")}this._prebuiltEmptyResultObject={...s}}};var KR=GH;const{EventEmitter:WH}=oe,F1=KR,B1=wc;let KH=class extends WH{constructor(e,s,n){super(),e=B1.normalizeQueryConfig(e,s,n),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.queryMode=e.queryMode,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,process.domain&&e.callback&&(this.callback=process.domain.bind(e.callback)),this._result=new F1(this._rowMode,this.types),this._results=this._result,this._canceledDueToError=!1}requiresPreparation(){return this.queryMode==="extended"||this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new F1(this._rowMode,this._result._types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let s;if(!this._canceledDueToError){try{s=this._result.parseRow(e.fields)}catch(n){this._canceledDueToError=n;return}this.emit("row",s,this._result),this._accumulateRows&&this._result.addRow(s)}}handleCommandComplete(e,s){this._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&s.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,s){if(this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(s){process.nextTick(()=>{throw s})}this.emit("end",this._results)}submit(e){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");const s=e.parsedStatements[this.name];if(this.text&&s&&this.text!==s)return new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);if(this.values&&!Array.isArray(this.values))return new Error("Query values must be an array");if(this.requiresPreparation()){e.stream.cork&&e.stream.cork();try{this.prepare(e)}finally{e.stream.uncork&&e.stream.uncork()}}else e.query(this.text);return null}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,s){e.execute({portal:this.portal,rows:s}),s?e.flush():e.sync()}prepare(e){this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:B1.prepareValue})}catch(s){this.handleError(s,e);return}e.describe({type:"P",name:this.portal||""}),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,s){}};var YH=KH,Qx={},be={};Object.defineProperty(be,"__esModule",{value:!0});be.NoticeMessage=be.DataRowMessage=be.CommandCompleteMessage=be.ReadyForQueryMessage=be.NotificationResponseMessage=be.BackendKeyDataMessage=be.AuthenticationMD5Password=be.ParameterStatusMessage=be.ParameterDescriptionMessage=be.RowDescriptionMessage=be.Field=be.CopyResponse=be.CopyDataMessage=be.DatabaseError=be.copyDone=be.emptyQuery=be.replicationStart=be.portalSuspended=be.noData=be.closeComplete=be.bindComplete=be.parseComplete=void 0;be.parseComplete={name:"parseComplete",length:5};be.bindComplete={name:"bindComplete",length:5};be.closeComplete={name:"closeComplete",length:5};be.noData={name:"noData",length:5};be.portalSuspended={name:"portalSuspended",length:5};be.replicationStart={name:"replicationStart",length:4};be.emptyQuery={name:"emptyQuery",length:4};be.copyDone={name:"copyDone",length:4};let JH=class extends Error{constructor(e,s,n){super(e),this.length=s,this.name=n}};be.DatabaseError=JH;class XH{constructor(e,s){this.length=e,this.chunk=s,this.name="copyData"}}be.CopyDataMessage=XH;class ZH{constructor(e,s,n,r){this.length=e,this.name=s,this.binary=n,this.columnTypes=new Array(r)}}be.CopyResponse=ZH;class eG{constructor(e,s,n,r,i,o,l){this.name=e,this.tableID=s,this.columnID=n,this.dataTypeID=r,this.dataTypeSize=i,this.dataTypeModifier=o,this.format=l}}be.Field=eG;class tG{constructor(e,s){this.length=e,this.fieldCount=s,this.name="rowDescription",this.fields=new Array(this.fieldCount)}}be.RowDescriptionMessage=tG;class sG{constructor(e,s){this.length=e,this.parameterCount=s,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}}be.ParameterDescriptionMessage=sG;class nG{constructor(e,s,n){this.length=e,this.parameterName=s,this.parameterValue=n,this.name="parameterStatus"}}be.ParameterStatusMessage=nG;class rG{constructor(e,s){this.length=e,this.salt=s,this.name="authenticationMD5Password"}}be.AuthenticationMD5Password=rG;class iG{constructor(e,s,n){this.length=e,this.processID=s,this.secretKey=n,this.name="backendKeyData"}}be.BackendKeyDataMessage=iG;class aG{constructor(e,s,n,r){this.length=e,this.processId=s,this.channel=n,this.payload=r,this.name="notification"}}be.NotificationResponseMessage=aG;class oG{constructor(e,s){this.length=e,this.status=s,this.name="readyForQuery"}}be.ReadyForQueryMessage=oG;class lG{constructor(e,s){this.length=e,this.text=s,this.name="commandComplete"}}be.CommandCompleteMessage=lG;class cG{constructor(e,s){this.length=e,this.fields=s,this.name="dataRow",this.fieldCount=s.length}}be.DataRowMessage=cG;class uG{constructor(e,s){this.length=e,this.message=s,this.name="notice"}}be.NoticeMessage=uG;var Uf={},zf={},Nl=["buffer","Buffer"];Object.defineProperty(zf,"__esModule",{value:!0});zf.Writer=void 0;class dG{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=Nl.allocUnsafe(e)}ensure(e){if(this.buffer.length-this.offset<e){const n=this.buffer,r=n.length+(n.length>>1)+e;this.buffer=Nl.allocUnsafe(r),n.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(!e)this.ensure(1);else{const s=Nl.byteLength(e);this.ensure(s+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=s}return this.buffer[this.offset++]=0,this}addString(e=""){const s=Nl.byteLength(e);return this.ensure(s),this.buffer.write(e,this.offset),this.offset+=s,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;const s=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(s,this.headerPosition+1)}return this.buffer.slice(e?0:5,this.offset)}flush(e){const s=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=Nl.allocUnsafe(this.size),s}}zf.Writer=dG;var pn=["buffer","Buffer"];Object.defineProperty(Uf,"__esModule",{value:!0});Uf.serialize=void 0;const Vx=zf,Ze=new Vx.Writer,pG=t=>{Ze.addInt16(3).addInt16(0);for(const n of Object.keys(t))Ze.addCString(n).addCString(t[n]);Ze.addCString("client_encoding").addCString("UTF8");const e=Ze.addCString("").flush(),s=e.length+4;return new Vx.Writer().addInt32(s).add(e).flush()},fG=()=>{const t=pn.allocUnsafe(8);return t.writeInt32BE(8,0),t.writeInt32BE(80877103,4),t},hG=t=>Ze.addCString(t).flush(112),mG=function(t,e){return Ze.addCString(t).addInt32(pn.byteLength(e)).addString(e),Ze.flush(112)},gG=function(t){return Ze.addString(t).flush(112)},yG=t=>Ze.addCString(t).flush(81),YR=[],vG=t=>{const e=t.name||"";e.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",e,e.length),console.error("This can cause conflicts and silent errors executing queries"));const s=t.types||YR,n=s.length,r=Ze.addCString(e).addCString(t.text).addInt16(n);for(let i=0;i<n;i++)r.addInt32(s[i]);return Ze.flush(80)},$a=new Vx.Writer,xG=function(t,e){for(let s=0;s<t.length;s++){const n=e?e(t[s],s):t[s];n==null?(Ze.addInt16(0),$a.addInt32(-1)):n instanceof pn?(Ze.addInt16(1),$a.addInt32(n.length),$a.add(n)):(Ze.addInt16(0),$a.addInt32(pn.byteLength(n)),$a.addString(n))}},bG=(t={})=>{const e=t.portal||"",s=t.statement||"",n=t.binary||!1,r=t.values||YR,i=r.length;return Ze.addCString(e).addCString(s),Ze.addInt16(i),xG(r,t.valueMapper),Ze.addInt16(i),Ze.add($a.flush()),Ze.addInt16(1),Ze.addInt16(n?1:0),Ze.flush(66)},wG=pn.from([69,0,0,0,9,0,0,0,0,0]),SG=t=>{if(!t||!t.portal&&!t.rows)return wG;const e=t.portal||"",s=t.rows||0,n=pn.byteLength(e),r=4+n+1+4,i=pn.allocUnsafe(1+r);return i[0]=69,i.writeInt32BE(r,1),i.write(e,5,"utf-8"),i[n+5]=0,i.writeUInt32BE(s,i.length-4),i},_G=(t,e)=>{const s=pn.allocUnsafe(16);return s.writeInt32BE(16,0),s.writeInt16BE(1234,4),s.writeInt16BE(5678,6),s.writeInt32BE(t,8),s.writeInt32BE(e,12),s},Hx=(t,e)=>{const n=4+pn.byteLength(e)+1,r=pn.allocUnsafe(1+n);return r[0]=t,r.writeInt32BE(n,1),r.write(e,5,"utf-8"),r[n]=0,r},EG=Ze.addCString("P").flush(68),NG=Ze.addCString("S").flush(68),kG=t=>t.name?Hx(68,`${t.type}${t.name||""}`):t.type==="P"?EG:NG,CG=t=>{const e=`${t.type}${t.name||""}`;return Hx(67,e)},jG=t=>Ze.add(t).flush(100),AG=t=>Hx(102,t),qf=t=>pn.from([t,0,0,0,4]),TG=qf(72),RG=qf(83),IG=qf(88),OG=qf(99),PG={startup:pG,password:hG,requestSsl:fG,sendSASLInitialResponseMessage:mG,sendSCRAMClientFinalMessage:gG,query:yG,parse:vG,bind:bG,execute:SG,describe:kG,close:CG,flush:()=>TG,sync:()=>RG,end:()=>IG,copyData:jG,copyDone:()=>OG,copyFail:AG,cancel:_G};Uf.serialize=PG;var Qf={},Vf={},DG=["buffer","Buffer"];Object.defineProperty(Vf,"__esModule",{value:!0});Vf.BufferReader=void 0;const MG=DG.allocUnsafe(0);class LG{constructor(e=0){this.offset=e,this.buffer=MG,this.encoding="utf-8"}setBuffer(e,s){this.offset=e,this.buffer=s}int16(){const e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){const e=this.buffer[this.offset];return this.offset++,e}int32(){const e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}uint32(){const e=this.buffer.readUInt32BE(this.offset);return this.offset+=4,e}string(e){const s=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,s}cstring(){const e=this.offset;let s=e;for(;this.buffer[s++]!==0;);return this.offset=s,this.buffer.toString(this.encoding,e,s-1)}bytes(e){const s=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,s}}Vf.BufferReader=LG;var JR=["buffer","Buffer"];Object.defineProperty(Qf,"__esModule",{value:!0});Qf.Parser=void 0;const tt=be,FG=Vf,vy=1,BG=4,$1=vy+BG,U1=JR.allocUnsafe(0);class $G{constructor(e){if(this.buffer=U1,this.bufferLength=0,this.bufferOffset=0,this.reader=new FG.BufferReader,(e==null?void 0:e.mode)==="binary")throw new Error("Binary mode not supported yet");this.mode=(e==null?void 0:e.mode)||"text"}parse(e,s){this.mergeBuffer(e);const n=this.bufferOffset+this.bufferLength;let r=this.bufferOffset;for(;r+$1<=n;){const i=this.buffer[r],o=this.buffer.readUInt32BE(r+vy),l=vy+o;if(l+r<=n){const c=this.handlePacket(r+$1,i,o,this.buffer);s(c),r+=l}else break}r===n?(this.buffer=U1,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=n-r,this.bufferOffset=r)}mergeBuffer(e){if(this.bufferLength>0){const s=this.bufferLength+e.byteLength;if(s+this.bufferOffset>this.buffer.byteLength){let r;if(s<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)r=this.buffer;else{let i=this.buffer.byteLength*2;for(;s>=i;)i*=2;r=JR.allocUnsafe(i)}this.buffer.copy(r,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=r,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=s}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,s,n,r){switch(s){case 50:return tt.bindComplete;case 49:return tt.parseComplete;case 51:return tt.closeComplete;case 110:return tt.noData;case 115:return tt.portalSuspended;case 99:return tt.copyDone;case 87:return tt.replicationStart;case 73:return tt.emptyQuery;case 68:return this.parseDataRowMessage(e,n,r);case 67:return this.parseCommandCompleteMessage(e,n,r);case 90:return this.parseReadyForQueryMessage(e,n,r);case 65:return this.parseNotificationMessage(e,n,r);case 82:return this.parseAuthenticationResponse(e,n,r);case 83:return this.parseParameterStatusMessage(e,n,r);case 75:return this.parseBackendKeyData(e,n,r);case 69:return this.parseErrorMessage(e,n,r,"error");case 78:return this.parseErrorMessage(e,n,r,"notice");case 84:return this.parseRowDescriptionMessage(e,n,r);case 116:return this.parseParameterDescriptionMessage(e,n,r);case 71:return this.parseCopyInMessage(e,n,r);case 72:return this.parseCopyOutMessage(e,n,r);case 100:return this.parseCopyData(e,n,r);default:return new tt.DatabaseError("received invalid response: "+s.toString(16),n,"error")}}parseReadyForQueryMessage(e,s,n){this.reader.setBuffer(e,n);const r=this.reader.string(1);return new tt.ReadyForQueryMessage(s,r)}parseCommandCompleteMessage(e,s,n){this.reader.setBuffer(e,n);const r=this.reader.cstring();return new tt.CommandCompleteMessage(s,r)}parseCopyData(e,s,n){const r=n.slice(e,e+(s-4));return new tt.CopyDataMessage(s,r)}parseCopyInMessage(e,s,n){return this.parseCopyMessage(e,s,n,"copyInResponse")}parseCopyOutMessage(e,s,n){return this.parseCopyMessage(e,s,n,"copyOutResponse")}parseCopyMessage(e,s,n,r){this.reader.setBuffer(e,n);const i=this.reader.byte()!==0,o=this.reader.int16(),l=new tt.CopyResponse(s,r,i,o);for(let c=0;c<o;c++)l.columnTypes[c]=this.reader.int16();return l}parseNotificationMessage(e,s,n){this.reader.setBuffer(e,n);const r=this.reader.int32(),i=this.reader.cstring(),o=this.reader.cstring();return new tt.NotificationResponseMessage(s,r,i,o)}parseRowDescriptionMessage(e,s,n){this.reader.setBuffer(e,n);const r=this.reader.int16(),i=new tt.RowDescriptionMessage(s,r);for(let o=0;o<r;o++)i.fields[o]=this.parseField();return i}parseField(){const e=this.reader.cstring(),s=this.reader.uint32(),n=this.reader.int16(),r=this.reader.uint32(),i=this.reader.int16(),o=this.reader.int32(),l=this.reader.int16()===0?"text":"binary";return new tt.Field(e,s,n,r,i,o,l)}parseParameterDescriptionMessage(e,s,n){this.reader.setBuffer(e,n);const r=this.reader.int16(),i=new tt.ParameterDescriptionMessage(s,r);for(let o=0;o<r;o++)i.dataTypeIDs[o]=this.reader.int32();return i}parseDataRowMessage(e,s,n){this.reader.setBuffer(e,n);const r=this.reader.int16(),i=new Array(r);for(let o=0;o<r;o++){const l=this.reader.int32();i[o]=l===-1?null:this.reader.string(l)}return new tt.DataRowMessage(s,i)}parseParameterStatusMessage(e,s,n){this.reader.setBuffer(e,n);const r=this.reader.cstring(),i=this.reader.cstring();return new tt.ParameterStatusMessage(s,r,i)}parseBackendKeyData(e,s,n){this.reader.setBuffer(e,n);const r=this.reader.int32(),i=this.reader.int32();return new tt.BackendKeyDataMessage(s,r,i)}parseAuthenticationResponse(e,s,n){this.reader.setBuffer(e,n);const r=this.reader.int32(),i={name:"authenticationOk",length:s};switch(r){case 0:break;case 3:i.length===8&&(i.name="authenticationCleartextPassword");break;case 5:if(i.length===12){i.name="authenticationMD5Password";const o=this.reader.bytes(4);return new tt.AuthenticationMD5Password(s,o)}break;case 10:{i.name="authenticationSASL",i.mechanisms=[];let o;do o=this.reader.cstring(),o&&i.mechanisms.push(o);while(o)}break;case 11:i.name="authenticationSASLContinue",i.data=this.reader.string(s-8);break;case 12:i.name="authenticationSASLFinal",i.data=this.reader.string(s-8);break;default:throw new Error("Unknown authenticationOk message type "+r)}return i}parseErrorMessage(e,s,n,r){this.reader.setBuffer(e,n);const i={};let o=this.reader.string(1);for(;o!=="\0";)i[o]=this.reader.cstring(),o=this.reader.string(1);const l=i.M,c=r==="notice"?new tt.NoticeMessage(s,l):new tt.DatabaseError(l,s,r);return c.severity=i.S,c.code=i.C,c.detail=i.D,c.hint=i.H,c.position=i.P,c.internalPosition=i.p,c.internalQuery=i.q,c.where=i.W,c.schema=i.s,c.table=i.t,c.column=i.c,c.dataType=i.d,c.constraint=i.n,c.file=i.F,c.line=i.L,c.routine=i.R,c}}Qf.Parser=$G;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseError=t.serialize=t.parse=void 0;const e=be;Object.defineProperty(t,"DatabaseError",{enumerable:!0,get:function(){return e.DatabaseError}});const s=Uf;Object.defineProperty(t,"serialize",{enumerable:!0,get:function(){return s.serialize}});const n=Qf;function r(i,o){const l=new n.Parser;return i.on("data",c=>l.parse(c,o)),new Promise(c=>i.on("end",()=>c()))}t.parse=r})(Qx);var Ku={},z1;function UG(){return z1||(z1=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.default={}),Ku}const{getStream:zG,getSecureStream:qG}=WG();var QG={getStream:zG,getSecureStream:qG};function VG(){function t(s){const n=oe;return new n.Socket}function e(s){return oe.connect(s)}return{getStream:t,getSecureStream:e}}function HG(){function t(s){const{CloudflareSocket:n}=UG();return new n(s)}function e(s){return s.socket.startTls(s),s.socket}return{getStream:t,getSecureStream:e}}function GG(){if(typeof navigator=="object"&&navigator!==null&&typeof navigator.userAgent=="string")return navigator.userAgent==="Cloudflare-Workers";if(typeof Response=="function"){const t=new Response(null,{cf:{thing:!0}});if(typeof t.cf=="object"&&t.cf!==null&&t.cf.thing)return!0}return!1}function WG(){return GG()?HG():VG()}const KG=oe.EventEmitter,{parse:YG,serialize:Rt}=Qx,{getStream:JG,getSecureStream:XG}=QG,ZG=Rt.flush(),eW=Rt.sync(),tW=Rt.end();let sW=class extends KG{constructor(e){super(),e=e||{},this.stream=e.stream||JG(e.ssl),typeof this.stream=="function"&&(this.stream=this.stream(e)),this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;const s=this;this.on("newListener",function(n){n==="message"&&(s._emitMessage=!0)})}connect(e,s){const n=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,s),this.stream.once("connect",function(){n._keepAlive&&n.stream.setKeepAlive(!0,n._keepAliveInitialDelayMillis),n.emit("connect")});const r=function(i){n._ending&&(i.code==="ECONNRESET"||i.code==="EPIPE")||n.emit("error",i)};if(this.stream.on("error",r),this.stream.on("close",function(){n.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(i){switch(i.toString("utf8")){case"S":break;case"N":return n.stream.end(),n.emit("error",new Error("The server does not support SSL connections"));default:return n.stream.end(),n.emit("error",new Error("There was an error establishing an SSL connection"))}const l={socket:n.stream};n.ssl!==!0&&(Object.assign(l,n.ssl),"key"in n.ssl&&(l.key=n.ssl.key));const c=oe;c.isIP&&c.isIP(s)===0&&(l.servername=s);try{n.stream=XG(l)}catch(d){return n.emit("error",d)}n.attachListeners(n.stream),n.stream.on("error",r),n.emit("sslconnect")})}attachListeners(e){YG(e,s=>{const n=s.name==="error"?"errorMessage":s.name;this._emitMessage&&this.emit("message",s),this.emit(n,s)})}requestSsl(){this.stream.write(Rt.requestSsl())}startup(e){this.stream.write(Rt.startup(e))}cancel(e,s){this._send(Rt.cancel(e,s))}password(e){this._send(Rt.password(e))}sendSASLInitialResponseMessage(e,s){this._send(Rt.sendSASLInitialResponseMessage(e,s))}sendSCRAMClientFinalMessage(e){this._send(Rt.sendSCRAMClientFinalMessage(e))}_send(e){return this.stream.writable?this.stream.write(e):!1}query(e){this._send(Rt.query(e))}parse(e){this._send(Rt.parse(e))}bind(e){this._send(Rt.bind(e))}execute(e){this._send(Rt.execute(e))}flush(){this.stream.writable&&this.stream.write(ZG)}sync(){this._ending=!0,this._send(eW)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(tW,()=>{this.stream.end()})}close(e){this._send(Rt.close(e))}describe(e){this._send(Rt.describe(e))}sendCopyFromChunk(e){this._send(Rt.copyData(e))}endCopyFrom(){this._send(Rt.copyDone())}sendCopyFail(e){this._send(Rt.copyFail(e))}};var XR=sW,Yu={exports:{}},gm={exports:{}},ym,q1;function nW(){if(q1)return ym;q1=1;const{Transform:t}=oe,{StringDecoder:e}=Px,s=Symbol("last"),n=Symbol("decoder");function r(d,u,p){let f;if(this.overflow){if(f=this[n].write(d).split(this.matcher),f.length===1)return p();f.shift(),this.overflow=!1}else this[s]+=this[n].write(d),f=this[s].split(this.matcher);this[s]=f.pop();for(let y=0;y<f.length;y++)try{o(this,this.mapper(f[y]))}catch(g){return p(g)}if(this.overflow=this[s].length>this.maxLength,this.overflow&&!this.skipOverflow){p(new Error("maximum buffer reached"));return}p()}function i(d){if(this[s]+=this[n].end(),this[s])try{o(this,this.mapper(this[s]))}catch(u){return d(u)}d()}function o(d,u){u!==void 0&&d.push(u)}function l(d){return d}function c(d,u,p){switch(d=d||/\r?\n/,u=u||l,p=p||{},arguments.length){case 1:typeof d=="function"?(u=d,d=/\r?\n/):typeof d=="object"&&!(d instanceof RegExp)&&!d[Symbol.split]&&(p=d,d=/\r?\n/);break;case 2:typeof d=="function"?(p=u,u=d,d=/\r?\n/):typeof u=="object"&&(p=u,u=l)}p=Object.assign({},p),p.autoDestroy=!0,p.transform=r,p.flush=i,p.readableObjectMode=!0;const f=new t(p);return f[s]="",f[n]=new e("utf8"),f.matcher=d,f.mapper=u,f.maxLength=p.maxLength,f.skipOverflow=p.skipOverflow||!1,f.overflow=!1,f._destroy=function(y,g){this._writableState.errorEmitted=!1,g(y)},f}return ym=c,ym}var Q1;function rW(){return Q1||(Q1=1,function(t){var e={},s=oe,n=oe.Stream,r=nW(),i=oe,o=5432,l=process.platform==="win32",c=process.stderr,d=56,u=7,p=61440,f=32768;function y(C){return(C&p)==f}var g=["host","port","database","user","password"],h=g.length,b=g[h-1];function m(){var C=c instanceof n&&c.writable===!0;if(C){var R=Array.prototype.slice.call(arguments).concat(`
`);c.write(i.format.apply(i,R))}}Object.defineProperty(t.exports,"isWin",{get:function(){return l},set:function(C){l=C}}),t.exports.warnTo=function(C){var R=c;return c=C,R},t.exports.getFileName=function(C){var R=C||e,N=R.PGPASSFILE||(l?s.join(R.APPDATA||"./","postgresql","pgpass.conf"):s.join(R.HOME||"./",".pgpass"));return N},t.exports.usePgPass=function(C,R){return Object.prototype.hasOwnProperty.call(e,"PGPASSWORD")?!1:l?!0:(R=R||"<unkn>",y(C.mode)?C.mode&(d|u)?(m('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',R),!1):!0:(m('WARNING: password file "%s" is not a plain file',R),!1))};var x=t.exports.match=function(C,R){return g.slice(0,-1).reduce(function(N,_,O){return O==1&&Number(C[_]||o)===Number(R[_])?N&&!0:N&&(R[_]==="*"||R[_]===C[_])},!0)};t.exports.getPassword=function(C,R,N){var _,O=R.pipe(r());function T(L){var w=k(L);w&&E(w)&&x(C,w)&&(_=w[b],O.end())}var D=function(){R.destroy(),N(_)},V=function(L){R.destroy(),m("WARNING: error on reading file: %s",L),N(void 0)};R.on("error",V),O.on("data",T).on("end",D).on("error",V)};var k=t.exports.parseLine=function(C){if(C.length<11||C.match(/^\s+#/))return null;for(var R="",N="",_=0,O=0,T={},D=!1,V=function(w,I,B){var F=C.substring(I,B);Object.hasOwnProperty.call(e,"PGPASS_NO_DEESCAPE")||(F=F.replace(/\\([:\\])/g,"$1")),T[g[w]]=F},L=0;L<C.length-1;L+=1){if(R=C.charAt(L+1),N=C.charAt(L),D=_==h-1,D){V(_,O);break}L>=0&&R==":"&&N!=="\\"&&(V(_,O,L+1),O=L+2,_+=1)}return T=Object.keys(T).length===h?T:null,T},E=t.exports.isValidEntry=function(C){for(var R={0:function(D){return D.length>0},1:function(D){return D==="*"?!0:(D=Number(D),isFinite(D)&&D>0&&D<9007199254740992&&Math.floor(D)===D)},2:function(D){return D.length>0},3:function(D){return D.length>0},4:function(D){return D.length>0}},N=0;N<g.length;N+=1){var _=R[N],O=C[g[N]]||"",T=_(O);if(!T)return!1}return!0}}(gm)),gm.exports}var V1;function iW(){if(V1)return Yu.exports;V1=1;var t=oe,e=rW();return Yu.exports=function(s,n){var r=e.getFileName();t.stat(r,function(i,o){if(i||!e.usePgPass(o,r))return n(void 0);var l=t.createReadStream(r);e.getPassword(s,l,n)})},Yu.exports.warnTo=e.warnTo,Yu.exports}const aW=oe.EventEmitter,H1=wc,vm=LH,oW=qx,lW=WR,ZR=YH,cW=Bf,uW=XR,dW=qR;let eI=class extends aW{constructor(e){super(),this.connectionParameters=new lW(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;const s=e||{};this._Promise=s.Promise||globalThis.Promise,this._types=new oW(s.types),this._ending=!1,this._ended=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.enableChannelBinding=!!s.enableChannelBinding,this.connection=s.connection||new uW({stream:s.stream,ssl:this.connectionParameters.ssl,keepAlive:s.keepAlive||!1,keepAliveInitialDelayMillis:s.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=s.binary||cW.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=s.connectionTimeoutMillis||0}_errorAllQueries(e){const s=n=>{process.nextTick(()=>{n.handleError(e,this.connection)})};this.activeQuery&&(s(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(s),this.queryQueue.length=0}_connect(e){const s=this,n=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){const r=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{e(r)});return}this._connecting=!0,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{n._ending=!0,n.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis),this.connectionTimeoutHandle.unref&&this.connectionTimeoutHandle.unref()),this.host&&this.host.indexOf("/")===0?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",function(){s.ssl?n.requestSsl():n.startup(s.getStartupConf())}),n.on("sslconnect",function(){n.startup(s.getStartupConf())}),this._attachListeners(n),n.once("end",()=>{const r=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(r),this._ended=!0,this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(r):this._handleErrorEvent(r):this._connectionError||this._handleErrorEvent(r)),process.nextTick(()=>{this.emit("end")})})}connect(e){if(e){this._connect(e);return}return new this._Promise((s,n)=>{this._connect(r=>{r?n(r):s()})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_checkPgPass(e){const s=this.connection;if(typeof this.password=="function")this._Promise.resolve().then(()=>this.password()).then(n=>{if(n!==void 0){if(typeof n!="string"){s.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=n}else this.connectionParameters.password=this.password=null;e()}).catch(n=>{s.emit("error",n)});else if(this.password!==null)e();else try{iW()(this.connectionParameters,r=>{r!==void 0&&(this.connectionParameters.password=this.password=r),e()})}catch(n){this.emit("error",n)}}_handleAuthCleartextPassword(e){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._checkPgPass(async()=>{try{const s=await dW.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(s)}catch(s){this.emit("error",s)}})}_handleAuthSASL(e){this._checkPgPass(()=>{try{this.saslSession=vm.startSession(e.mechanisms,this.enableChannelBinding&&this.connection.stream),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)}catch(s){this.connection.emit("error",s)}})}async _handleAuthSASLContinue(e){try{await vm.continueSession(this.saslSession,this.password,e.data,this.enableChannelBinding&&this.connection.stream),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}catch(s){this.connection.emit("error",s)}}_handleAuthSASLFinal(e){try{vm.finalizeSession(this.saslSession,e.data),this.saslSession=null}catch(s){this.connection.emit("error",s)}}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));const{activeQuery:s}=this;this.activeQuery=null,this.readyForQuery=!0,s&&s.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);const s=this.activeQuery;if(!s){this._handleErrorEvent(e);return}this.activeQuery=null,s.handleError(e,this.connection)}_handleRowDescription(e){this.activeQuery.handleRowDescription(e)}_handleDataRow(e){this.activeQuery.handleDataRow(e)}_handlePortalSuspended(e){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(e){if(this.activeQuery==null){const s=new Error("Received unexpected commandComplete message from backend.");this._handleErrorEvent(s);return}this.activeQuery.handleCommandComplete(e,this.connection)}_handleParseComplete(){if(this.activeQuery==null){const e=new Error("Received unexpected parseComplete message from backend.");this._handleErrorEvent(e);return}this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(e){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(e){this.activeQuery.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){const e=this.connectionParameters,s={user:e.user,database:e.database},n=e.application_name||e.fallback_application_name;return n&&(s.application_name=n),e.replication&&(s.replication=""+e.replication),e.statement_timeout&&(s.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(s.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(s.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(s.options=e.options),s}cancel(e,s){if(e.activeQuery===s){const n=this.connection;this.host&&this.host.indexOf("/")===0?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",function(){n.cancel(e.processID,e.secretKey)})}else e.queryQueue.indexOf(s)!==-1&&e.queryQueue.splice(e.queryQueue.indexOf(s),1)}setTypeParser(e,s,n){return this._types.setTypeParser(e,s,n)}getTypeParser(e,s){return this._types.getTypeParser(e,s)}escapeIdentifier(e){return H1.escapeIdentifier(e)}escapeLiteral(e){return H1.escapeLiteral(e)}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;const e=this.activeQuery.submit(this.connection);e&&process.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(e,s,n){let r,i,o,l,c;if(e==null)throw new TypeError("Client was passed a null or undefined query");return typeof e.submit=="function"?(o=e.query_timeout||this.connectionParameters.query_timeout,i=r=e,typeof s=="function"&&(r.callback=r.callback||s)):(o=e.query_timeout||this.connectionParameters.query_timeout,r=new ZR(e,s,n),r.callback||(i=new this._Promise((d,u)=>{r.callback=(p,f)=>p?u(p):d(f)}).catch(d=>{throw Error.captureStackTrace(d),d}))),o&&(c=r.callback,l=setTimeout(()=>{const d=new Error("Query read timeout");process.nextTick(()=>{r.handleError(d,this.connection)}),c(d),r.callback=()=>{};const u=this.queryQueue.indexOf(r);u>-1&&this.queryQueue.splice(u,1),this._pulseQueryQueue()},o),r.callback=(d,u)=>{clearTimeout(l),c(d,u)}),this.binary&&!r.binary&&(r.binary=!0),r._result&&!r._result._types&&(r._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{r.handleError(new Error("Client was closed and is not queryable"),this.connection)}),i):(this.queryQueue.push(r),this._pulseQueryQueue(),i):(process.nextTick(()=>{r.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),i)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting||this._ended)if(e)e();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),e)this.connection.once("end",e);else return new this._Promise(s=>{this.connection.once("end",s)})}};eI.Query=ZR;var pW=eI;const fW=qc(P4),hW=oe.EventEmitter,G1=function(){},W1=(t,e)=>{const s=t.findIndex(e);return s===-1?void 0:t.splice(s,1)[0]};class mW{constructor(e,s,n){this.client=e,this.idleListener=s,this.timeoutId=n}}class Ju{constructor(e){this.callback=e}}function gW(){throw new Error("Release called on client which has already been released to the pool.")}function Xu(t,e){if(e)return{callback:e,result:void 0};let s,n;const r=function(o,l){o?s(o):n(l)},i=new t(function(o,l){n=o,s=l}).catch(o=>{throw Error.captureStackTrace(o),o});return{callback:r,result:i}}function yW(t,e){return function s(n){n.client=e,e.removeListener("error",s),e.on("error",()=>{t.log("additional client error after disconnection due to error",n)}),t._remove(e),t.emit("error",n,e)}}let vW=class extends hW{constructor(e,s){super(),this.options=Object.assign({},e),e!=null&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),e!=null&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||s||fW.Client,this.Promise=this.options.Promise||globalThis.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(s=>{this._remove(s.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;const e=this._pendingQueue.shift();if(this._idle.length){const s=this._idle.pop();clearTimeout(s.timeoutId);const n=s.client;n.ref&&n.ref();const r=s.idleListener;return this._acquireClient(n,e,r,!1)}if(!this._isFull())return this.newClient(e);throw new Error("unexpected condition")}_remove(e,s){const n=W1(this._idle,i=>i.client===e);n!==void 0&&clearTimeout(n.timeoutId),this._clients=this._clients.filter(i=>i!==e);const r=this;e.end(()=>{r.emit("remove",e),typeof s=="function"&&s()})}connect(e){if(this.ending){const r=new Error("Cannot use a pool after calling end on the pool");return e?e(r):this.Promise.reject(r)}const s=Xu(this.Promise,e),n=s.result;if(this._isFull()||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new Ju(s.callback)),n;const r=(l,c,d)=>{clearTimeout(o),s.callback(l,c,d)},i=new Ju(r),o=setTimeout(()=>{W1(this._pendingQueue,l=>l.callback===r),i.timedOut=!0,s.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return o.unref&&o.unref(),this._pendingQueue.push(i),n}return this.newClient(new Ju(s.callback)),n}newClient(e){const s=new this.Client(this.options);this._clients.push(s);const n=yW(this,s);this.log("checking client timeout");let r,i=!1;this.options.connectionTimeoutMillis&&(r=setTimeout(()=>{this.log("ending client due to timeout"),i=!0,s.connection?s.connection.stream.destroy():s.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),s.connect(o=>{if(r&&clearTimeout(r),s.on("error",n),o)this.log("client failed to connect",o),this._clients=this._clients.filter(l=>l!==s),i&&(o=new Error("Connection terminated due to connection timeout",{cause:o})),this._pulseQueue(),e.timedOut||e.callback(o,void 0,G1);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){const l=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(s),this._idle.findIndex(d=>d.client===s)!==-1&&this._acquireClient(s,new Ju((d,u,p)=>p()),n,!1)},this.options.maxLifetimeSeconds*1e3);l.unref(),s.once("end",()=>clearTimeout(l))}return this._acquireClient(s,e,n,!0)}})}_acquireClient(e,s,n,r){r&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,n),e.removeListener("error",n),s.timedOut?r&&this.options.verify?this.options.verify(e,e.release):e.release():r&&this.options.verify?this.options.verify(e,i=>{if(i)return e.release(i),s.callback(i,void 0,G1);s.callback(void 0,e,e.release)}):s.callback(void 0,e,e.release)}_releaseOnce(e,s){let n=!1;return r=>{n&&gW(),n=!0,this._release(e,s,r)}}_release(e,s,n){if(e.on("error",s),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",n,e),n||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses)return e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e,this._pulseQueue.bind(this));if(this._expired.has(e))return this.log("remove expired client"),this._expired.delete(e),this._remove(e,this._pulseQueue.bind(this));let i;this.options.idleTimeoutMillis&&this._isAboveMin()&&(i=setTimeout(()=>{this.log("remove idle client"),this._remove(e,this._pulseQueue.bind(this))},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&i.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new mW(e,s,i)),this._pulseQueue()}query(e,s,n){if(typeof e=="function"){const i=Xu(this.Promise,e);return setImmediate(function(){return i.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),i.result}typeof s=="function"&&(n=s,s=void 0);const r=Xu(this.Promise,n);return n=r.callback,this.connect((i,o)=>{if(i)return n(i);let l=!1;const c=d=>{l||(l=!0,o.release(d),n(d))};o.once("error",c),this.log("dispatching query");try{o.query(e,s,(d,u)=>{if(this.log("query dispatched"),o.removeListener("error",c),!l)return l=!0,o.release(d),d?n(d):n(void 0,u)})}catch(d){return o.release(d),n(d)}}),r.result}end(e){if(this.log("ending"),this.ending){const n=new Error("Called end on pool more than once");return e?e(n):this.Promise.reject(n)}this.ending=!0;const s=Xu(this.Promise,e);return this._endCallback=s.callback,this._pulseQueue(),s.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,s)=>e+(this._expired.has(s)?1:0),0)}get totalCount(){return this._clients.length}};var xW=vW,xm={exports:{}};const bW={},wW=Object.freeze(Object.defineProperty({__proto__:null,default:bW},Symbol.toStringTag,{value:"Module"})),SW=qc(wW);var bm={exports:{}},K1;function _W(){if(K1)return bm.exports;K1=1;const t=oe.EventEmitter,e=oe,s=wc,n=bm.exports=function(i,o,l){t.call(this),i=s.normalizeQueryConfig(i,o,l),this.text=i.text,this.values=i.values,this.name=i.name,this.queryMode=i.queryMode,this.callback=i.callback,this.state="new",this._arrayMode=i.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",(function(c){c==="row"&&(this._emitRowEvents=!0)}).bind(this))};e.inherits(n,t);const r={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};return n.prototype.handleError=function(i){const o=this.native.pq.resultErrorFields();if(o)for(const l in o){const c=r[l]||l;i[c]=o[l]}this.callback?this.callback(i):this.emit("error",i),this.state="error"},n.prototype.then=function(i,o){return this._getPromise().then(i,o)},n.prototype.catch=function(i){return this._getPromise().catch(i)},n.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise((function(i,o){this._once("end",i),this._once("error",o)}).bind(this)),this._promise)},n.prototype.submit=function(i){this.state="running";const o=this;this.native=i.native,i.native.arrayMode=this._arrayMode;let l=function(c,d,u){if(i.native.arrayMode=!1,setImmediate(function(){o.emit("_done")}),c)return o.handleError(c);o._emitRowEvents&&(u.length>1?d.forEach((p,f)=>{p.forEach(y=>{o.emit("row",y,u[f])})}):d.forEach(function(p){o.emit("row",p,u)})),o.state="end",o.emit("end",u),o.callback&&o.callback(null,u)};if(process.domain&&(l=process.domain.bind(l)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));const c=(this.values||[]).map(s.prepareValue);if(i.namedQueries[this.name]){if(this.text&&i.namedQueries[this.name]!==this.text){const d=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return l(d)}return i.native.execute(this.name,c,l)}return i.native.prepare(this.name,this.text,c.length,function(d){return d?l(d):(i.namedQueries[o.name]=o.text,o.native.execute(o.name,c,l))})}else if(this.values){if(!Array.isArray(this.values)){const d=new Error("Query values must be an array");return l(d)}const c=this.values.map(s.prepareValue);i.native.query(this.text,c,l)}else this.queryMode==="extended"?i.native.query(this.text,[],l):i.native.query(this.text,l)},bm.exports}var Y1;function EW(){if(Y1)return xm.exports;Y1=1;var t;try{t=SW}catch(l){throw l}const e=qx,s=oe.EventEmitter,n=oe,r=WR,i=_W(),o=xm.exports=function(l){s.call(this),l=l||{},this._Promise=l.Promise||globalThis.Promise,this._types=new e(l.types),this.native=new t({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;const c=this.connectionParameters=new r(l);l.nativeConnectionString&&(c.nativeConnectionString=l.nativeConnectionString),this.user=c.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:c.password}),this.database=c.database,this.host=c.host,this.port=c.port,this.namedQueries={}};return o.Query=i,n.inherits(o,s),o.prototype._errorAllQueries=function(l){const c=d=>{process.nextTick(()=>{d.native=this.native,d.handleError(l)})};this._hasActiveQuery()&&(c(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(c),this._queryQueue.length=0},o.prototype._connect=function(l){const c=this;if(this._connecting){process.nextTick(()=>l(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(d,u){if(c.connectionParameters.nativeConnectionString&&(u=c.connectionParameters.nativeConnectionString),d)return l(d);c.native.connect(u,function(p){if(p)return c.native.end(),l(p);c._connected=!0,c.native.on("error",function(f){c._queryable=!1,c._errorAllQueries(f),c.emit("error",f)}),c.native.on("notification",function(f){c.emit("notification",{channel:f.relname,payload:f.extra})}),c.emit("connect"),c._pulseQueryQueue(!0),l()})})},o.prototype.connect=function(l){if(l){this._connect(l);return}return new this._Promise((c,d)=>{this._connect(u=>{u?d(u):c()})})},o.prototype.query=function(l,c,d){let u,p,f,y,g;if(l==null)throw new TypeError("Client was passed a null or undefined query");if(typeof l.submit=="function")f=l.query_timeout||this.connectionParameters.query_timeout,p=u=l,typeof c=="function"&&(l.callback=c);else if(f=l.query_timeout||this.connectionParameters.query_timeout,u=new i(l,c,d),!u.callback){let h,b;p=new this._Promise((m,x)=>{h=m,b=x}).catch(m=>{throw Error.captureStackTrace(m),m}),u.callback=(m,x)=>m?b(m):h(x)}return f&&(g=u.callback,y=setTimeout(()=>{const h=new Error("Query read timeout");process.nextTick(()=>{u.handleError(h,this.connection)}),g(h),u.callback=()=>{};const b=this._queryQueue.indexOf(u);b>-1&&this._queryQueue.splice(b,1),this._pulseQueryQueue()},f),u.callback=(h,b)=>{clearTimeout(y),g(h,b)}),this._queryable?this._ending?(u.native=this.native,process.nextTick(()=>{u.handleError(new Error("Client was closed and is not queryable"))}),p):(this._queryQueue.push(u),this._pulseQueryQueue(),p):(u.native=this.native,process.nextTick(()=>{u.handleError(new Error("Client has encountered a connection error and is not queryable"))}),p)},o.prototype.end=function(l){const c=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,l));let d;return l||(d=new this._Promise(function(u,p){l=f=>f?p(f):u()})),this.native.end(function(){c._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{c.emit("end"),l&&l()})}),d},o.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},o.prototype._pulseQueryQueue=function(l){if(!this._connected||this._hasActiveQuery())return;const c=this._queryQueue.shift();if(!c){l||this.emit("drain");return}this._activeQuery=c,c.submit(this);const d=this;c.once("_done",function(){d._pulseQueryQueue()})},o.prototype.cancel=function(l){this._activeQuery===l?this.native.cancel(function(){}):this._queryQueue.indexOf(l)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(l),1)},o.prototype.ref=function(){},o.prototype.unref=function(){},o.prototype.setTypeParser=function(l,c,d){return this._types.setTypeParser(l,c,d)},o.prototype.getTypeParser=function(l,c){return this._types.getTypeParser(l,c)},xm.exports}var wm,J1;function X1(){return J1||(J1=1,wm=EW()),wm}(function(t){var e={};const s=pW,n=Bf,r=XR,i=KR,o=wc,l=xW,c=qx,{DatabaseError:d}=Qx,{escapeIdentifier:u,escapeLiteral:p}=wc,f=g=>class extends l{constructor(b){super(b,g)}},y=function(g){this.defaults=n,this.Client=g,this.Query=this.Client.Query,this.Pool=f(this.Client),this._pools=[],this.Connection=r,this.types=wi,this.DatabaseError=d,this.TypeOverrides=c,this.escapeIdentifier=u,this.escapeLiteral=p,this.Result=i,this.utils=o};typeof e.NODE_PG_FORCE_NATIVE<"u"?t.exports=new y(X1()):(t.exports=new y(s),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){let g=null;try{g=new y(X1())}catch(h){if(h.code!=="MODULE_NOT_FOUND")throw h}return Object.defineProperty(t.exports,"native",{value:g}),g}}))})(OR);var NW=OR.exports;const Gt=qp(NW),kW=Gt.Client,tI=Gt.Pool,CW=Gt.Connection,jW=Gt.types,AW=Gt.Query,TW=Gt.DatabaseError,RW=Gt.escapeIdentifier,IW=Gt.escapeLiteral,OW=Gt.Result,PW=Gt.TypeOverrides,DW=Gt.defaults,W=Symbol.for("drizzle:entityKind");function Z(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,W))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let s=Object.getPrototypeOf(t).constructor;if(s)for(;s;){if(W in s&&s[W]===e[W])return!0;s=Object.getPrototypeOf(s)}return!1}var v_;v_=W;class sI{write(e){console.log(e)}}P(sI,v_,"ConsoleLogWriter");var x_;x_=W;class nI{constructor(e){P(this,"writer");this.writer=(e==null?void 0:e.writer)??new sI}logQuery(e,s){const n=s.map(i=>{try{return JSON.stringify(i)}catch{return String(i)}}),r=n.length?` -- params: [${n.join(", ")}]`:"";this.writer.write(`Query: ${e}${r}`)}}P(nI,x_,"DefaultLogger");var b_;b_=W;class rI{logQuery(){}}P(rI,b_,"NoopLogger");var w_,S_;S_=W,w_=Symbol.toStringTag;class Si{constructor(){P(this,w_,"QueryPromise")}catch(e){return this.then(void 0,e)}finally(e){return this.then(s=>(e==null||e(),s),s=>{throw e==null||e(),s})}then(e,s){return this.execute().then(e,s)}}P(Si,S_,"QueryPromise");var __;__=W;class xt{constructor(e,s){P(this,"name");P(this,"keyAsName");P(this,"primary");P(this,"notNull");P(this,"default");P(this,"defaultFn");P(this,"onUpdateFn");P(this,"hasDefault");P(this,"isUnique");P(this,"uniqueName");P(this,"uniqueType");P(this,"dataType");P(this,"columnType");P(this,"enumValues");P(this,"generated");P(this,"generatedIdentity");P(this,"config");this.table=e,this.config=s,this.name=s.name,this.keyAsName=s.keyAsName,this.notNull=s.notNull,this.default=s.default,this.defaultFn=s.defaultFn,this.onUpdateFn=s.onUpdateFn,this.hasDefault=s.hasDefault,this.primary=s.primaryKey,this.isUnique=s.isUnique,this.uniqueName=s.uniqueName,this.uniqueType=s.uniqueType,this.dataType=s.dataType,this.columnType=s.columnType,this.generated=s.generated,this.generatedIdentity=s.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}P(xt,__,"Column");var E_;E_=W;class iI{constructor(e,s,n){P(this,"config");P(this,"$default",this.$defaultFn);P(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:s,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}P(iI,E_,"ColumnBuilder");const ui=Symbol.for("drizzle:Name");var N_;N_=W;class aI{constructor(e,s){P(this,"reference");P(this,"_onUpdate","no action");P(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:r,foreignColumns:i}=e();return{name:n,columns:r,foreignTable:i[0].table,foreignColumns:i}},s&&(this._onUpdate=s.onUpdate,this._onDelete=s.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new oI(e,this)}}P(aI,N_,"PgForeignKeyBuilder");var k_;k_=W;class oI{constructor(e,s){P(this,"reference");P(this,"onUpdate");P(this,"onDelete");this.table=e,this.reference=s.reference,this.onUpdate=s._onUpdate,this.onDelete=s._onDelete}getName(){const{name:e,columns:s,foreignColumns:n}=this.reference(),r=s.map(l=>l.name),i=n.map(l=>l.name),o=[this.table[ui],...r,n[0].table[ui],...i];return e??`${o.join("_")}_fk`}}P(oI,k_,"PgForeignKey");function MW(t,...e){return t(...e)}function LW(t,e){return`${t[ui]}_${e.join("_")}_unique`}function Z1(t,e,s){for(let n=e;n<t.length;n++){const r=t[n];if(r==="\\"){n++;continue}if(r==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!s&&(r===","||r==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function lI(t,e=0){const s=[];let n=e,r=!1;for(;n<t.length;){const i=t[n];if(i===","){(r||n===e)&&s.push(""),r=!0,n++;continue}if(r=!1,i==="\\"){n+=2;continue}if(i==='"'){const[c,d]=Z1(t,n+1,!0);s.push(c),n=d;continue}if(i==="}")return[s,n+1];if(i==="{"){const[c,d]=lI(t,n+1);s.push(c),n=d;continue}const[o,l]=Z1(t,n,!1);s.push(o),n=l}return[s,n]}function FW(t){const[e]=lI(t,1);return e}function cI(t){return`{${t.map(e=>Array.isArray(e)?cI(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var C_,j_;class Fe extends(j_=iI,C_=W,j_){constructor(){super(...arguments);P(this,"foreignKeyConfigs",[])}array(s){return new dI(this.config.name,this,s)}references(s,n={}){return this.foreignKeyConfigs.push({ref:s,actions:n}),this}unique(s,n){return this.config.isUnique=!0,this.config.uniqueName=s,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(s){return this.config.generated={as:s,type:"always",mode:"stored"},this}buildForeignKeys(s,n){return this.foreignKeyConfigs.map(({ref:r,actions:i})=>MW((o,l)=>{const c=new aI(()=>{const d=o();return{columns:[s],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},r,i))}buildExtraConfigColumn(s){return new uI(s,this.config)}}P(Fe,C_,"PgColumnBuilder");var A_,T_;class Se extends(T_=xt,A_=W,T_){constructor(e,s){s.uniqueName||(s.uniqueName=LW(e,[s.name])),super(e,s),this.table=e}}P(Se,A_,"PgColumn");var R_,I_;class uI extends(I_=Se,R_=W,I_){constructor(){super(...arguments);P(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});P(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(s){return this.indexConfig.opClass=s,this}}P(uI,R_,"ExtraConfigColumn");var O_,P_;class dI extends(P_=Fe,O_=W,P_){constructor(e,s,n){super(e,"array","PgArray"),this.config.baseBuilder=s,this.config.size=n}build(e){const s=this.config.baseBuilder.build(e);return new xy(e,this.config,s)}}P(dI,O_,"PgArrayBuilder");var D_,M_;const Lp=class Lp extends(M_=Se,D_=W,M_){constructor(s,n,r,i){super(s,n);P(this,"size");this.baseColumn=r,this.range=i,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(s){return typeof s=="string"&&(s=FW(s)),s.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(s,n=!1){const r=s.map(i=>i===null?null:Z(this.baseColumn,Lp)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?r:cI(r)}};P(Lp,D_,"PgArray");let xy=Lp;const by=Symbol.for("drizzle:isPgEnum");function BW(t){return!!t&&typeof t=="function"&&by in t&&t[by]===!0}var L_,F_;class pI extends(F_=Fe,L_=W,F_){constructor(e,s){super(e,"string","PgEnumColumn"),this.config.enum=s}build(e){return new fI(e,this.config)}}P(pI,L_,"PgEnumColumnBuilder");var B_,$_;class fI extends($_=Se,B_=W,$_){constructor(s,n){super(s,n);P(this,"enum",this.config.enum);P(this,"enumValues",this.config.enum.enumValues);this.enum=n.enum}getSQLType(){return this.enum.enumName}}P(fI,B_,"PgEnumColumn");function _i(t,e){return $W(t,e,void 0)}function $W(t,e,s){const n=Object.assign(r=>new pI(r??"",n),{enumName:t,enumValues:e,schema:s,[by]:!0});return n}var U_;U_=W;class Cs{constructor(e,s,n,r=!1){this._={brand:"Subquery",sql:e,selectedFields:s,alias:n,isWith:r}}}P(Cs,U_,"Subquery");var z_,q_;class Gx extends(q_=Cs,z_=W,q_){}P(Gx,z_,"WithSubquery");const At={startActiveSpan(t,e){return e()}},Nt=Symbol.for("drizzle:ViewBaseConfig"),Od=Symbol.for("drizzle:Schema"),wy=Symbol.for("drizzle:Columns"),eS=Symbol.for("drizzle:ExtraConfigColumns"),Sm=Symbol.for("drizzle:OriginalName"),_m=Symbol.for("drizzle:BaseName"),bp=Symbol.for("drizzle:IsAlias"),tS=Symbol.for("drizzle:ExtraConfigBuilder"),hI=Symbol.for("drizzle:IsDrizzleTable");var Q_,V_,H_,G_,W_,K_,Y_,J_,X_,Z_;Z_=W,X_=ui,J_=Sm,Y_=Od,K_=wy,W_=eS,G_=_m,H_=bp,V_=hI,Q_=tS;class ue{constructor(e,s,n){P(this,X_);P(this,J_);P(this,Y_);P(this,K_);P(this,W_);P(this,G_);P(this,H_,!1);P(this,V_,!0);P(this,Q_);this[ui]=this[Sm]=e,this[Od]=s,this[_m]=n}}P(ue,Z_,"Table"),P(ue,"Symbol",{Name:ui,Schema:Od,OriginalName:Sm,Columns:wy,ExtraConfigColumns:eS,BaseName:_m,IsAlias:bp,ExtraConfigBuilder:tS});function mI(t){return typeof t=="object"&&t!==null&&hI in t}function ar(t){return t[ui]}function Sc(t){return`${t[Od]??"public"}.${t[ui]}`}function gI(t){return t!=null&&typeof t.getSQL=="function"}function UW(t){var s;const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),(s=n.typings)!=null&&s.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}var eE;eE=W;class Ot{constructor(e){P(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new pe([this])}}P(Ot,eE,"StringChunk");var tE;tE=W;const Ri=class Ri{constructor(e){P(this,"decoder",yI);P(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return At.startActiveSpan("drizzle.buildSQL",s=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return s==null||s.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,s){const n=Object.assign({},s,{inlineParams:s.inlineParams||this.shouldInlineParams,paramStartIndex:s.paramStartIndex||{value:0}}),{casing:r,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=n;return UW(e.map(u=>{var p;if(Z(u,Ot))return{sql:u.value.join(""),params:[]};if(Z(u,wp))return{sql:i(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const f=[new Ot("(")];for(const[y,g]of u.entries())f.push(g),y<u.length-1&&f.push(new Ot(", "));return f.push(new Ot(")")),this.buildQueryFromSourceParams(f,n)}if(Z(u,Ri))return this.buildQueryFromSourceParams(u.queryChunks,{...n,inlineParams:c||u.shouldInlineParams});if(Z(u,ue)){const f=u[ue.Symbol.Schema],y=u[ue.Symbol.Name];return{sql:f===void 0||u[bp]?i(y):i(f)+"."+i(y),params:[]}}if(Z(u,xt)){const f=r.getColumnCasing(u);if(s.invokeSource==="indexes")return{sql:i(f),params:[]};const y=u.table[ue.Symbol.Schema];return{sql:u.table[bp]||y===void 0?i(u.table[ue.Symbol.Name])+"."+i(f):i(y)+"."+i(u.table[ue.Symbol.Name])+"."+i(f),params:[]}}if(Z(u,Ei)){const f=u[Nt].schema,y=u[Nt].name;return{sql:f===void 0||u[Nt].isAlias?i(y):i(f)+"."+i(y),params:[]}}if(Z(u,mr)){if(Z(u.value,fa))return{sql:o(d.value++,u),params:[u],typings:["none"]};const f=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(Z(f,Ri))return this.buildQueryFromSourceParams([f],n);if(c)return{sql:this.mapInlineParam(f,n),params:[]};let y=["none"];return l&&(y=[l(u.encoder)]),{sql:o(d.value++,f),params:[f],typings:y}}return Z(u,fa)?{sql:o(d.value++,u),params:[u],typings:["none"]}:Z(u,Ri.Aliased)&&u.fieldAlias!==void 0?{sql:i(u.fieldAlias),params:[]}:Z(u,Cs)?u._.isWith?{sql:i(u._.alias),params:[]}:this.buildQueryFromSourceParams([new Ot("("),u._.sql,new Ot(") "),new wp(u._.alias)],n):BW(u)?u.schema?{sql:i(u.schema)+"."+i(u.enumName),params:[]}:{sql:i(u.enumName),params:[]}:gI(u)?(p=u.shouldOmitSQLParens)!=null&&p.call(u)?this.buildQueryFromSourceParams([u.getSQL()],n):this.buildQueryFromSourceParams([new Ot("("),u.getSQL(),new Ot(")")],n):c?{sql:this.mapInlineParam(u,n),params:[]}:{sql:o(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:s}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return s(e);if(typeof e=="object"){const n=e.toString();return s(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Ri.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};P(Ri,tE,"SQL");let pe=Ri;var sE;sE=W;class wp{constructor(e){P(this,"brand");this.value=e}getSQL(){return new pe([this])}}P(wp,sE,"Name");function zW(t){return typeof t=="object"&&t!==null&&"mapToDriverValue"in t&&typeof t.mapToDriverValue=="function"}const yI={mapFromDriverValue:t=>t},vI={mapToDriverValue:t=>t};({...yI,...vI});var nE;nE=W;class mr{constructor(e,s=vI){P(this,"brand");this.value=e,this.encoder=s}getSQL(){return new pe([this])}}P(mr,nE,"Param");function z(t,...e){const s=[];(e.length>0||t.length>0&&t[0]!=="")&&s.push(new Ot(t[0]));for(const[n,r]of e.entries())s.push(r,new Ot(t[n+1]));return new pe(s)}(t=>{function e(){return new pe([])}t.empty=e;function s(c){return new pe(c)}t.fromList=s;function n(c){return new pe([new Ot(c)])}t.raw=n;function r(c,d){const u=[];for(const[p,f]of c.entries())p>0&&d!==void 0&&u.push(d),u.push(f);return new pe(u)}t.join=r;function i(c){return new wp(c)}t.identifier=i;function o(c){return new fa(c)}t.placeholder=o;function l(c,d){return new mr(c,d)}t.param=l})(z||(z={}));(t=>{var s;s=W;const n=class n{constructor(i,o){P(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};P(n,s,"SQL.Aliased");let e=n;t.Aliased=e})(pe||(pe={}));var rE;rE=W;class fa{constructor(e){this.name=e}getSQL(){return new pe([this])}}P(fa,rE,"Placeholder");function sS(t,e){return t.map(s=>{if(Z(s,fa)){if(!(s.name in e))throw new Error(`No value for placeholder "${s.name}" was provided`);return e[s.name]}if(Z(s,mr)&&Z(s.value,fa)){if(!(s.value.name in e))throw new Error(`No value for placeholder "${s.value.name}" was provided`);return s.encoder.mapToDriverValue(e[s.value.name])}return s})}const xI=Symbol.for("drizzle:IsDrizzleView");var iE,aE,oE;oE=W,aE=Nt,iE=xI;class Ei{constructor({name:e,schema:s,selectedFields:n,query:r}){P(this,aE);P(this,iE,!0);this[Nt]={name:e,originalName:e,schema:s,selectedFields:n,query:r,isExisting:!r,isAlias:!1}}getSQL(){return new pe([this])}}P(Ei,oE,"View");function qW(t){return typeof t=="object"&&t!==null&&xI in t}xt.prototype.getSQL=function(){return new pe([this])};ue.prototype.getSQL=function(){return new pe([this])};Cs.prototype.getSQL=function(){return new pe([this])};var lE;lE=W;class _c{constructor(e){this.table=e}get(e,s){return s==="table"?this.table:e[s]}}P(_c,lE,"ColumnAliasProxyHandler");var cE;cE=W;class Hf{constructor(e,s){this.alias=e,this.replaceOriginalName=s}get(e,s){if(s===ue.Symbol.IsAlias)return!0;if(s===ue.Symbol.Name)return this.alias;if(this.replaceOriginalName&&s===ue.Symbol.OriginalName)return this.alias;if(s===Nt)return{...e[Nt],name:this.alias,isAlias:!0};if(s===ue.Symbol.Columns){const r=e[ue.Symbol.Columns];if(!r)return r;const i={};return Object.keys(r).map(o=>{i[o]=new Proxy(r[o],new _c(new Proxy(e,this)))}),i}const n=e[s];return Z(n,xt)?new Proxy(n,new _c(new Proxy(e,this))):n}}P(Hf,cE,"TableAliasProxyHandler");function Em(t,e){return new Proxy(t,new Hf(e,!1))}function Wn(t,e){return new Proxy(t,new _c(new Proxy(t.table,new Hf(e,!1))))}function bI(t,e){return new pe.Aliased(Sp(t.sql,e),t.fieldAlias)}function Sp(t,e){return z.join(t.queryChunks.map(s=>Z(s,xt)?Wn(s,e):Z(s,pe)?Sp(s,e):Z(s,pe.Aliased)?bI(s,e):s))}var uE;uE=W;const Fp=class Fp{constructor(e){P(this,"config");this.config={...e}}get(e,s){if(s==="_")return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(s===Nt)return{...e[Nt],selectedFields:new Proxy(e[Nt].selectedFields,this)};if(typeof s=="symbol")return e[s];const r=(Z(e,Cs)?e._.selectedFields:Z(e,Ei)?e[Nt].selectedFields:e)[s];if(Z(r,pe.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!r.isSelectionField)return r.sql;const i=r.clone();return i.isSelectionField=!0,i}if(Z(r,pe)){if(this.config.sqlBehavior==="sql")return r;throw new Error(`You tried to reference "${s}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return Z(r,xt)?this.config.alias?new Proxy(r,new _c(new Proxy(r.table,new Hf(this.config.alias,this.config.replaceOriginalName??!1)))):r:typeof r!="object"||r===null?r:new Proxy(r,new Fp(this.config))}};P(Fp,uE,"SelectionProxyHandler");let Vt=Fp;function QW(t,e,s){const n={},r=t.reduce((i,{path:o,field:l},c)=>{let d;Z(l,xt)?d=l:Z(l,pe)?d=l.decoder:d=l.sql.decoder;let u=i;for(const[p,f]of o.entries())if(p<o.length-1)f in u||(u[f]={}),u=u[f];else{const y=e[c],g=u[f]=y===null?null:d.mapFromDriverValue(y);if(s&&Z(l,xt)&&o.length===2){const h=o[0];h in n?typeof n[h]=="string"&&n[h]!==ar(l.table)&&(n[h]=!1):n[h]=g===null?ar(l.table):!1}}return i},{});if(s&&Object.keys(n).length>0)for(const[i,o]of Object.entries(n))typeof o=="string"&&!s[o]&&(r[i]=null);return r}function ha(t,e){return Object.entries(t).reduce((s,[n,r])=>{if(typeof n!="string")return s;const i=e?[...e,n]:[n];return Z(r,xt)||Z(r,pe)||Z(r,pe.Aliased)?s.push({path:i,field:r}):Z(r,ue)?s.push(...ha(r[ue.Symbol.Columns],i)):s.push(...ha(r,i)),s},[])}function Wx(t,e){const s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(const[r,i]of s.entries())if(i!==n[r])return!1;return!0}function wI(t,e){const s=Object.entries(e).filter(([,n])=>n!==void 0).map(([n,r])=>Z(r,pe)||Z(r,xt)?[n,r]:[n,new mr(r,t[ue.Symbol.Columns][n])]);if(s.length===0)throw new Error("No values to set");return Object.fromEntries(s)}function VW(t,e){for(const s of e)for(const n of Object.getOwnPropertyNames(s.prototype))n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(s.prototype,n)||Object.create(null))}function SI(t){return t[ue.Symbol.Columns]}function HW(t){return t[Nt].selectedFields}function Ti(t){return Z(t,Cs)?t._.alias:Z(t,Ei)?t[Nt].name:Z(t,pe)?void 0:t[ue.Symbol.IsAlias]?t[ue.Symbol.Name]:t[ue.Symbol.BaseName]}function Dt(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}function GW(t){if(typeof t!="object"||t===null||t.constructor.name!=="Object")return!1;if("logger"in t){const e=typeof t.logger;return!(e!=="boolean"&&(e!=="object"||typeof t.logger.logQuery!="function")&&e!=="undefined")}if("schema"in t){const e=typeof t.logger;return!(e!=="object"&&e!=="undefined")}if("casing"in t){const e=typeof t.logger;return!(e!=="string"&&e!=="undefined")}if("mode"in t)return!(t.mode!=="default"||t.mode!=="planetscale"||t.mode!==void 0);if("connection"in t){const e=typeof t.connection;return!(e!=="string"&&e!=="object"&&e!=="undefined")}if("client"in t){const e=typeof t.client;return!(e!=="object"&&e!=="function"&&e!=="undefined")}return Object.keys(t).length===0}var dE,pE;class Sy extends(pE=Si,dE=W,pE){constructor(s,n,r,i){super();P(this,"config");P(this,"authToken");P(this,"execute",s=>At.startActiveSpan("drizzle.operation",()=>this._prepare().execute(s,this.authToken)));this.session=n,this.dialect=r,this.config={table:s,withList:i}}where(s){return this.config.where=s,this}returning(s=this.config.table[ue.Symbol.Columns]){return this.config.returningFields=s,this.config.returning=ha(s),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){const{typings:s,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(s){return At.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,s,!0))}prepare(s){return this._prepare(s)}setToken(s){return this.authToken=s,this}getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Vt({alias:ar(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}P(Sy,dE,"PgDelete");function WW(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(s=>s.toLowerCase()).join("_")}function KW(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((s,n,r)=>{const i=r===0?n.toLowerCase():`${n[0].toUpperCase()}${n.slice(1)}`;return s+i},"")}function YW(t){return t}var fE;fE=W;class _I{constructor(e){P(this,"cache",{});P(this,"cachedTables",{});P(this,"convert");this.convert=e==="snake_case"?WW:e==="camelCase"?KW:YW}getColumnCasing(e){if(!e.keyAsName)return e.name;const s=e.table[ue.Symbol.Schema]??"public",n=e.table[ue.Symbol.OriginalName],r=`${s}.${n}.${e.name}`;return this.cache[r]||this.cacheTable(e.table),this.cache[r]}cacheTable(e){const s=e[ue.Symbol.Schema]??"public",n=e[ue.Symbol.OriginalName],r=`${s}.${n}`;if(!this.cachedTables[r]){for(const i of Object.values(e[ue.Symbol.Columns])){const o=`${r}.${i.name}`;this.cache[o]=this.convert(i.name)}this.cachedTables[r]=!0}}clearCache(){this.cache={},this.cachedTables={}}}P(_I,fE,"CasingCache");var hE,mE;class Kx extends(mE=Error,hE=W,mE){constructor({message:e,cause:s}){super(e),this.name="DrizzleError",this.cause=s}}P(Kx,hE,"DrizzleError");var gE,yE;class EI extends(yE=Kx,gE=W,yE){constructor(){super({message:"Rollback"})}}P(EI,gE,"TransactionRollbackError");var vE,xE;class du extends(xE=Fe,vE=W,xE){generatedAlwaysAsIdentity(e){if(e){const{name:s,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:s,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:s,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:s,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}P(du,vE,"PgIntColumnBaseBuilder");var bE,wE;class NI extends(wE=du,bE=W,wE){constructor(e){super(e,"number","PgBigInt53")}build(e){return new kI(e,this.config)}}P(NI,bE,"PgBigInt53Builder");var SE,_E;class kI extends(_E=Se,SE=W,_E){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}P(kI,SE,"PgBigInt53");var EE,NE;class CI extends(NE=du,EE=W,NE){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new jI(e,this.config)}}P(CI,EE,"PgBigInt64Builder");var kE,CE;class jI extends(CE=Se,kE=W,CE){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}P(jI,kE,"PgBigInt64");function JW(t,e){const{name:s,config:n}=Dt(t,e);return n.mode==="number"?new NI(s):new CI(s)}var jE,AE;class AI extends(AE=Fe,jE=W,AE){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new TI(e,this.config)}}P(AI,jE,"PgBigSerial53Builder");var TE,RE;class TI extends(RE=Se,TE=W,RE){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}P(TI,TE,"PgBigSerial53");var IE,OE;class RI extends(OE=Fe,IE=W,OE){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new II(e,this.config)}}P(RI,IE,"PgBigSerial64Builder");var PE,DE;class II extends(DE=Se,PE=W,DE){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}P(II,PE,"PgBigSerial64");function XW(t,e){const{name:s,config:n}=Dt(t,e);return n.mode==="number"?new AI(s):new RI(s)}var ME,LE;class OI extends(LE=Fe,ME=W,LE){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new PI(e,this.config)}}P(OI,ME,"PgBooleanBuilder");var FE,BE;class PI extends(BE=Se,FE=W,BE){getSQLType(){return"boolean"}}P(PI,FE,"PgBoolean");function ze(t){return new OI(t??"")}var $E,UE;class DI extends(UE=Fe,$E=W,UE){constructor(e,s){super(e,"string","PgChar"),this.config.length=s.length,this.config.enumValues=s.enum}build(e){return new MI(e,this.config)}}P(DI,$E,"PgCharBuilder");var zE,qE;class MI extends(qE=Se,zE=W,qE){constructor(){super(...arguments);P(this,"length",this.config.length);P(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}P(MI,zE,"PgChar");function ZW(t,e={}){const{name:s,config:n}=Dt(t,e);return new DI(s,n)}var QE,VE;class LI extends(VE=Fe,QE=W,VE){constructor(e){super(e,"string","PgCidr")}build(e){return new FI(e,this.config)}}P(LI,QE,"PgCidrBuilder");var HE,GE;class FI extends(GE=Se,HE=W,GE){getSQLType(){return"cidr"}}P(FI,HE,"PgCidr");function eK(t){return new LI(t??"")}var WE,KE;class BI extends(KE=Fe,WE=W,KE){constructor(e,s,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=s,this.config.customTypeParams=n}build(e){return new $I(e,this.config)}}P(BI,WE,"PgCustomColumnBuilder");var YE,JE;class $I extends(JE=Se,YE=W,JE){constructor(s,n){super(s,n);P(this,"sqlName");P(this,"mapTo");P(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(s){return typeof this.mapFrom=="function"?this.mapFrom(s):s}mapToDriverValue(s){return typeof this.mapTo=="function"?this.mapTo(s):s}}P($I,YE,"PgCustomColumn");function tK(t){return(e,s)=>{const{name:n,config:r}=Dt(e,s);return new BI(n,r,t)}}var XE,ZE;class al extends(ZE=Fe,XE=W,ZE){defaultNow(){return this.default(z`now()`)}}P(al,XE,"PgDateColumnBaseBuilder");var eN,tN;class UI extends(tN=al,eN=W,tN){constructor(e){super(e,"date","PgDate")}build(e){return new Yx(e,this.config)}}P(UI,eN,"PgDateBuilder");var sN,nN;class Yx extends(nN=Se,sN=W,nN){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}P(Yx,sN,"PgDate");var rN,iN;class zI extends(iN=al,rN=W,iN){constructor(e){super(e,"string","PgDateString")}build(e){return new Jx(e,this.config)}}P(zI,rN,"PgDateStringBuilder");var aN,oN;class Jx extends(oN=Se,aN=W,oN){getSQLType(){return"date"}}P(Jx,aN,"PgDateString");function sK(t,e){const{name:s,config:n}=Dt(t,e);return(n==null?void 0:n.mode)==="date"?new UI(s):new zI(s)}var lN,cN;class qI extends(cN=Fe,lN=W,cN){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new QI(e,this.config)}}P(qI,lN,"PgDoublePrecisionBuilder");var uN,dN;class QI extends(dN=Se,uN=W,dN){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}P(QI,uN,"PgDoublePrecision");function nK(t){return new qI(t??"")}var pN,fN;class VI extends(fN=Fe,pN=W,fN){constructor(e){super(e,"string","PgInet")}build(e){return new HI(e,this.config)}}P(VI,pN,"PgInetBuilder");var hN,mN;class HI extends(mN=Se,hN=W,mN){getSQLType(){return"inet"}}P(HI,hN,"PgInet");function rK(t){return new VI(t??"")}var gN,yN;class GI extends(yN=du,gN=W,yN){constructor(e){super(e,"number","PgInteger")}build(e){return new WI(e,this.config)}}P(GI,gN,"PgIntegerBuilder");var vN,xN;class WI extends(xN=Se,vN=W,xN){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}P(WI,vN,"PgInteger");function ee(t){return new GI(t??"")}var bN,wN;class KI extends(wN=Fe,bN=W,wN){constructor(e,s){super(e,"string","PgInterval"),this.config.intervalConfig=s}build(e){return new YI(e,this.config)}}P(KI,bN,"PgIntervalBuilder");var SN,_N;class YI extends(_N=Se,SN=W,_N){constructor(){super(...arguments);P(this,"fields",this.config.intervalConfig.fields);P(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const s=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${s}${n}`}}P(YI,SN,"PgInterval");function iK(t,e={}){const{name:s,config:n}=Dt(t,e);return new KI(s,n)}var EN,NN;class JI extends(NN=Fe,EN=W,NN){constructor(e){super(e,"json","PgJson")}build(e){return new Xx(e,this.config)}}P(JI,EN,"PgJsonBuilder");var kN,CN;class Xx extends(CN=Se,kN=W,CN){constructor(e,s){super(e,s)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}P(Xx,kN,"PgJson");function aK(t){return new JI(t??"")}var jN,AN;class XI extends(AN=Fe,jN=W,AN){constructor(e){super(e,"json","PgJsonb")}build(e){return new Zx(e,this.config)}}P(XI,jN,"PgJsonbBuilder");var TN,RN;class Zx extends(RN=Se,TN=W,RN){constructor(e,s){super(e,s)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}P(Zx,TN,"PgJsonb");function De(t){return new XI(t??"")}var IN,ON;class ZI extends(ON=Fe,IN=W,ON){constructor(e){super(e,"array","PgLine")}build(e){return new eO(e,this.config)}}P(ZI,IN,"PgLineBuilder");var PN,DN;class eO extends(DN=Se,PN=W,DN){getSQLType(){return"line"}mapFromDriverValue(e){const[s,n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(n),Number.parseFloat(r)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}P(eO,PN,"PgLine");var MN,LN;class tO extends(LN=Fe,MN=W,LN){constructor(e){super(e,"json","PgLineABC")}build(e){return new sO(e,this.config)}}P(tO,MN,"PgLineABCBuilder");var FN,BN;class sO extends(BN=Se,FN=W,BN){getSQLType(){return"line"}mapFromDriverValue(e){const[s,n,r]=e.slice(1,-1).split(",");return{a:Number.parseFloat(s),b:Number.parseFloat(n),c:Number.parseFloat(r)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}P(sO,FN,"PgLineABC");function oK(t,e){const{name:s,config:n}=Dt(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new ZI(s):new tO(s)}var $N,UN;class nO extends(UN=Fe,$N=W,UN){constructor(e){super(e,"string","PgMacaddr")}build(e){return new rO(e,this.config)}}P(nO,$N,"PgMacaddrBuilder");var zN,qN;class rO extends(qN=Se,zN=W,qN){getSQLType(){return"macaddr"}}P(rO,zN,"PgMacaddr");function lK(t){return new nO(t??"")}var QN,VN;class iO extends(VN=Fe,QN=W,VN){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new aO(e,this.config)}}P(iO,QN,"PgMacaddr8Builder");var HN,GN;class aO extends(GN=Se,HN=W,GN){getSQLType(){return"macaddr8"}}P(aO,HN,"PgMacaddr8");function cK(t){return new iO(t??"")}var WN,KN;class oO extends(KN=Fe,WN=W,KN){constructor(e,s,n){super(e,"string","PgNumeric"),this.config.precision=s,this.config.scale=n}build(e){return new e0(e,this.config)}}P(oO,WN,"PgNumericBuilder");var YN,JN;class e0 extends(JN=Se,YN=W,JN){constructor(s,n){super(s,n);P(this,"precision");P(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}P(e0,YN,"PgNumeric");function lO(t,e){const{name:s,config:n}=Dt(t,e);return new oO(s,n==null?void 0:n.precision,n==null?void 0:n.scale)}const Ne=lO;var XN,ZN;class cO extends(ZN=Fe,XN=W,ZN){constructor(e){super(e,"array","PgPointTuple")}build(e){return new uO(e,this.config)}}P(cO,XN,"PgPointTupleBuilder");var ek,tk;class uO extends(tk=Se,ek=W,tk){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[s,n]=e.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}P(uO,ek,"PgPointTuple");var sk,nk;class dO extends(nk=Fe,sk=W,nk){constructor(e){super(e,"json","PgPointObject")}build(e){return new pO(e,this.config)}}P(dO,sk,"PgPointObjectBuilder");var rk,ik;class pO extends(ik=Se,rk=W,ik){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[s,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(s),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}P(pO,rk,"PgPointObject");function uK(t,e){const{name:s,config:n}=Dt(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new cO(s):new dO(s)}function dK(t){const e=[];for(let s=0;s<t.length;s+=2)e.push(Number.parseInt(t.slice(s,s+2),16));return new Uint8Array(e)}function nS(t,e){const s=new ArrayBuffer(8),n=new DataView(s);for(let r=0;r<8;r++)n.setUint8(r,t[e+r]);return n.getFloat64(0,!0)}function fO(t){const e=dK(t);let s=0;const n=e[s];s+=1;const r=new DataView(e.buffer),i=r.getUint32(s,n===1);if(s+=4,i&536870912&&(r.getUint32(s,n===1),s+=4),(i&65535)===1){const o=nS(e,s);s+=8;const l=nS(e,s);return s+=8,[o,l]}throw new Error("Unsupported geometry type")}var ak,ok;class hO extends(ok=Fe,ak=W,ok){constructor(e){super(e,"array","PgGeometry")}build(e){return new mO(e,this.config)}}P(hO,ak,"PgGeometryBuilder");var lk,ck;class mO extends(ck=Se,lk=W,ck){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return fO(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}P(mO,lk,"PgGeometry");var uk,dk;class gO extends(dk=Fe,uk=W,dk){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new yO(e,this.config)}}P(gO,uk,"PgGeometryObjectBuilder");var pk,fk;class yO extends(fk=Se,pk=W,fk){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const s=fO(e);return{x:s[0],y:s[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}P(yO,pk,"PgGeometryObject");function pK(t,e){const{name:s,config:n}=Dt(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new hO(s):new gO(s)}var hk,mk;class vO extends(mk=Fe,hk=W,mk){constructor(e,s){super(e,"number","PgReal"),this.config.length=s}build(e){return new xO(e,this.config)}}P(vO,hk,"PgRealBuilder");var gk,yk;class xO extends(yk=Se,gk=W,yk){constructor(s,n){super(s,n);P(this,"mapFromDriverValue",s=>typeof s=="string"?Number.parseFloat(s):s)}getSQLType(){return"real"}}P(xO,gk,"PgReal");function fK(t){return new vO(t??"")}var vk,xk;class bO extends(xk=Fe,vk=W,xk){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new wO(e,this.config)}}P(bO,vk,"PgSerialBuilder");var bk,wk;class wO extends(wk=Se,bk=W,wk){getSQLType(){return"serial"}}P(wO,bk,"PgSerial");function ve(t){return new bO(t??"")}var Sk,_k;class SO extends(_k=du,Sk=W,_k){constructor(e){super(e,"number","PgSmallInt")}build(e){return new _O(e,this.config)}}P(SO,Sk,"PgSmallIntBuilder");var Ek,Nk;class _O extends(Nk=Se,Ek=W,Nk){constructor(){super(...arguments);P(this,"mapFromDriverValue",s=>typeof s=="string"?Number(s):s)}getSQLType(){return"smallint"}}P(_O,Ek,"PgSmallInt");function hK(t){return new SO(t??"")}var kk,Ck;class EO extends(Ck=Fe,kk=W,Ck){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new NO(e,this.config)}}P(EO,kk,"PgSmallSerialBuilder");var jk,Ak;class NO extends(Ak=Se,jk=W,Ak){getSQLType(){return"smallserial"}}P(NO,jk,"PgSmallSerial");function mK(t){return new EO(t??"")}var Tk,Rk;class kO extends(Rk=Fe,Tk=W,Rk){constructor(e,s){super(e,"string","PgText"),this.config.enumValues=s.enum}build(e){return new CO(e,this.config)}}P(kO,Tk,"PgTextBuilder");var Ik,Ok;class CO extends(Ok=Se,Ik=W,Ok){constructor(){super(...arguments);P(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}P(CO,Ik,"PgText");function q(t,e={}){const{name:s,config:n}=Dt(t,e);return new kO(s,n)}var Pk,Dk;class jO extends(Dk=al,Pk=W,Dk){constructor(e,s,n){super(e,"string","PgTime"),this.withTimezone=s,this.precision=n,this.config.withTimezone=s,this.config.precision=n}build(e){return new t0(e,this.config)}}P(jO,Pk,"PgTimeBuilder");var Mk,Lk;class t0 extends(Lk=Se,Mk=W,Lk){constructor(s,n){super(s,n);P(this,"withTimezone");P(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}P(t0,Mk,"PgTime");function gK(t,e={}){const{name:s,config:n}=Dt(t,e);return new jO(s,n.withTimezone??!1,n.precision)}var Fk,Bk;class AO extends(Bk=al,Fk=W,Bk){constructor(e,s,n){super(e,"date","PgTimestamp"),this.config.withTimezone=s,this.config.precision=n}build(e){return new s0(e,this.config)}}P(AO,Fk,"PgTimestampBuilder");var $k,Uk;class s0 extends(Uk=Se,$k=W,Uk){constructor(s,n){super(s,n);P(this,"withTimezone");P(this,"precision");P(this,"mapFromDriverValue",s=>new Date(this.withTimezone?s:s+"+0000"));P(this,"mapToDriverValue",s=>s.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}P(s0,$k,"PgTimestamp");var zk,qk;class TO extends(qk=al,zk=W,qk){constructor(e,s,n){super(e,"string","PgTimestampString"),this.config.withTimezone=s,this.config.precision=n}build(e){return new n0(e,this.config)}}P(TO,zk,"PgTimestampStringBuilder");var Qk,Vk;class n0 extends(Vk=Se,Qk=W,Vk){constructor(s,n){super(s,n);P(this,"withTimezone");P(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}P(n0,Qk,"PgTimestampString");function J(t,e={}){const{name:s,config:n}=Dt(t,e);return(n==null?void 0:n.mode)==="string"?new TO(s,n.withTimezone??!1,n.precision):new AO(s,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var Hk,Gk;class RO extends(Gk=Fe,Hk=W,Gk){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(z`gen_random_uuid()`)}build(e){return new r0(e,this.config)}}P(RO,Hk,"PgUUIDBuilder");var Wk,Kk;class r0 extends(Kk=Se,Wk=W,Kk){getSQLType(){return"uuid"}}P(r0,Wk,"PgUUID");function yK(t){return new RO(t??"")}var Yk,Jk;class IO extends(Jk=Fe,Yk=W,Jk){constructor(e,s){super(e,"string","PgVarchar"),this.config.length=s.length,this.config.enumValues=s.enum}build(e){return new OO(e,this.config)}}P(IO,Yk,"PgVarcharBuilder");var Xk,Zk;class OO extends(Zk=Se,Xk=W,Zk){constructor(){super(...arguments);P(this,"length",this.config.length);P(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}P(OO,Xk,"PgVarchar");function Ee(t,e={}){const{name:s,config:n}=Dt(t,e);return new IO(s,n)}var eC,tC;class PO extends(tC=Fe,eC=W,tC){constructor(e,s){super(e,"string","PgBinaryVector"),this.config.dimensions=s.dimensions}build(e){return new DO(e,this.config)}}P(PO,eC,"PgBinaryVectorBuilder");var sC,nC;class DO extends(nC=Se,sC=W,nC){constructor(){super(...arguments);P(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}P(DO,sC,"PgBinaryVector");function vK(t,e){const{name:s,config:n}=Dt(t,e);return new PO(s,n)}var rC,iC;class MO extends(iC=Fe,rC=W,iC){constructor(e,s){super(e,"array","PgHalfVector"),this.config.dimensions=s.dimensions}build(e){return new LO(e,this.config)}}P(MO,rC,"PgHalfVectorBuilder");var aC,oC;class LO extends(oC=Se,aC=W,oC){constructor(){super(...arguments);P(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}P(LO,aC,"PgHalfVector");function xK(t,e){const{name:s,config:n}=Dt(t,e);return new MO(s,n)}var lC,cC;class FO extends(cC=Fe,lC=W,cC){constructor(e,s){super(e,"string","PgSparseVector"),this.config.dimensions=s.dimensions}build(e){return new BO(e,this.config)}}P(FO,lC,"PgSparseVectorBuilder");var uC,dC;class BO extends(dC=Se,uC=W,dC){constructor(){super(...arguments);P(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}P(BO,uC,"PgSparseVector");function bK(t,e){const{name:s,config:n}=Dt(t,e);return new FO(s,n)}var pC,fC;class $O extends(fC=Fe,pC=W,fC){constructor(e,s){super(e,"array","PgVector"),this.config.dimensions=s.dimensions}build(e){return new UO(e,this.config)}}P($O,pC,"PgVectorBuilder");var hC,mC;class UO extends(mC=Se,hC=W,mC){constructor(){super(...arguments);P(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}P(UO,hC,"PgVector");function wK(t,e){const{name:s,config:n}=Dt(t,e);return new $O(s,n)}function SK(){return{bigint:JW,bigserial:XW,boolean:ze,char:ZW,cidr:eK,customType:tK,date:sK,doublePrecision:nK,inet:rK,integer:ee,interval:iK,json:aK,jsonb:De,line:oK,macaddr:lK,macaddr8:cK,numeric:lO,point:uK,geometry:pK,real:fK,serial:ve,smallint:hK,smallserial:mK,text:q,time:gK,timestamp:J,uuid:yK,varchar:Ee,bit:vK,halfvec:xK,sparsevec:bK,vector:wK}}const _y=Symbol.for("drizzle:PgInlineForeignKeys"),rS=Symbol.for("drizzle:EnableRLS");var gC,yC,vC,xC,bC;class fs extends(bC=ue,xC=W,vC=_y,yC=rS,gC=ue.Symbol.ExtraConfigBuilder,bC){constructor(){super(...arguments);P(this,vC,[]);P(this,yC,!1);P(this,gC)}}P(fs,xC,"PgTable"),P(fs,"Symbol",Object.assign({},ue.Symbol,{InlineForeignKeys:_y,EnableRLS:rS}));function _K(t,e,s,n,r=t){const i=new fs(t,n,r),o=typeof e=="function"?e(SK()):e,l=Object.fromEntries(Object.entries(o).map(([u,p])=>{const f=p;f.setName(u);const y=f.build(i);return i[_y].push(...f.buildForeignKeys(y,i)),[u,y]})),c=Object.fromEntries(Object.entries(o).map(([u,p])=>{const f=p;f.setName(u);const y=f.buildExtraConfigColumn(i);return[u,y]})),d=Object.assign(i,l);return d[ue.Symbol.Columns]=l,d[ue.Symbol.ExtraConfigColumns]=c,Object.assign(d,{enableRLS:()=>(d[fs.Symbol.EnableRLS]=!0,d)})}const xe=(t,e,s)=>_K(t,e,s,void 0);var wC;wC=W;class zO{constructor(e,s){P(this,"columns");P(this,"name");this.columns=e,this.name=s}build(e){return new qO(e,this.columns,this.name)}}P(zO,wC,"PgPrimaryKeyBuilder");var SC;SC=W;class qO{constructor(e,s,n){P(this,"columns");P(this,"name");this.table=e,this.columns=s,this.name=n}getName(){return this.name??`${this.table[fs.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}P(qO,SC,"PgPrimaryKey");function xs(t,e){return zW(e)&&!gI(t)&&!Z(t,mr)&&!Z(t,fa)&&!Z(t,xt)&&!Z(t,ue)&&!Z(t,Ei)?new mr(t,e):t}const QO=(t,e)=>z`${t} = ${xs(e,t)}`,EK=(t,e)=>z`${t} <> ${xs(e,t)}`;function Ey(...t){const e=t.filter(s=>s!==void 0);if(e.length!==0)return e.length===1?new pe(e):new pe([new Ot("("),z.join(e,new Ot(" and ")),new Ot(")")])}function NK(...t){const e=t.filter(s=>s!==void 0);if(e.length!==0)return e.length===1?new pe(e):new pe([new Ot("("),z.join(e,new Ot(" or ")),new Ot(")")])}function kK(t){return z`not ${t}`}const CK=(t,e)=>z`${t} > ${xs(e,t)}`,jK=(t,e)=>z`${t} >= ${xs(e,t)}`,AK=(t,e)=>z`${t} < ${xs(e,t)}`,TK=(t,e)=>z`${t} <= ${xs(e,t)}`;function RK(t,e){return Array.isArray(e)?e.length===0?z`false`:z`${t} in ${e.map(s=>xs(s,t))}`:z`${t} in ${xs(e,t)}`}function IK(t,e){return Array.isArray(e)?e.length===0?z`true`:z`${t} not in ${e.map(s=>xs(s,t))}`:z`${t} not in ${xs(e,t)}`}function OK(t){return z`${t} is null`}function PK(t){return z`${t} is not null`}function DK(t){return z`exists ${t}`}function MK(t){return z`not exists ${t}`}function LK(t,e,s){return z`${t} between ${xs(e,t)} and ${xs(s,t)}`}function FK(t,e,s){return z`${t} not between ${xs(e,t)} and ${xs(s,t)}`}function BK(t,e){return z`${t} like ${e}`}function $K(t,e){return z`${t} not like ${e}`}function UK(t,e){return z`${t} ilike ${e}`}function zK(t,e){return z`${t} not ilike ${e}`}function qK(t){return z`${t} asc`}function QK(t){return z`${t} desc`}var _C;_C=W;class i0{constructor(e,s,n){P(this,"referencedTableName");P(this,"fieldName");this.sourceTable=e,this.referencedTable=s,this.relationName=n,this.referencedTableName=s[ue.Symbol.Name]}}P(i0,_C,"Relation");var EC;EC=W;class VO{constructor(e,s){this.table=e,this.config=s}}P(VO,EC,"Relations");var NC,kC;const Bp=class Bp extends(kC=i0,NC=W,kC){constructor(e,s,n,r){super(e,s,n==null?void 0:n.relationName),this.config=n,this.isNullable=r}withFieldName(e){const s=new Bp(this.sourceTable,this.referencedTable,this.config,this.isNullable);return s.fieldName=e,s}};P(Bp,NC,"One");let ma=Bp;var CC,jC;const $p=class $p extends(jC=i0,CC=W,jC){constructor(e,s,n){super(e,s,n==null?void 0:n.relationName),this.config=n}withFieldName(e){const s=new $p(this.sourceTable,this.referencedTable,this.config);return s.fieldName=e,s}};P($p,CC,"Many");let _p=$p;function VK(){return{and:Ey,between:LK,eq:QO,exists:DK,gt:CK,gte:jK,ilike:UK,inArray:RK,isNull:OK,isNotNull:PK,like:BK,lt:AK,lte:TK,ne:EK,not:kK,notBetween:FK,notExists:MK,notLike:$K,notIlike:zK,notInArray:IK,or:NK,sql:z}}function HK(){return{sql:z,asc:qK,desc:QK}}function GK(t,e){var i;Object.keys(t).length===1&&"default"in t&&!Z(t.default,ue)&&(t=t.default);const s={},n={},r={};for(const[o,l]of Object.entries(t))if(Z(l,ue)){const c=Sc(l),d=n[c];s[c]=o,r[o]={tsName:o,dbName:l[ue.Symbol.Name],schema:l[ue.Symbol.Schema],columns:l[ue.Symbol.Columns],relations:(d==null?void 0:d.relations)??{},primaryKey:(d==null?void 0:d.primaryKey)??[]};for(const p of Object.values(l[ue.Symbol.Columns]))p.primary&&r[o].primaryKey.push(p);const u=(i=l[ue.Symbol.ExtraConfigBuilder])==null?void 0:i.call(l,l[ue.Symbol.ExtraConfigColumns]);if(u)for(const p of Object.values(u))Z(p,zO)&&r[o].primaryKey.push(...p.columns)}else if(Z(l,VO)){const c=Sc(l.table),d=s[c],u=l.config(e(l.table));let p;for(const[f,y]of Object.entries(u))if(d){const g=r[d];g.relations[f]=y}else c in n||(n[c]={relations:{},primaryKey:p}),n[c].relations[f]=y}return{tables:r,tableNamesMap:s}}function WK(t){return function(s,n){return new ma(t,s,n,(n==null?void 0:n.fields.reduce((r,i)=>r&&i.notNull,!0))??!1)}}function KK(t){return function(s,n){return new _p(t,s,n)}}function YK(t,e,s){if(Z(s,ma)&&s.config)return{fields:s.config.fields,references:s.config.references};const n=e[Sc(s.referencedTable)];if(!n)throw new Error(`Table "${s.referencedTable[ue.Symbol.Name]}" not found in schema`);const r=t[n];if(!r)throw new Error(`Table "${n}" not found in schema`);const i=s.sourceTable,o=e[Sc(i)];if(!o)throw new Error(`Table "${i[ue.Symbol.Name]}" not found in schema`);const l=[];for(const c of Object.values(r.relations))(s.relationName&&s!==c&&c.relationName===s.relationName||!s.relationName&&c.referencedTable===s.sourceTable)&&l.push(c);if(l.length>1)throw s.relationName?new Error(`There are multiple relations with name "${s.relationName}" in table "${n}"`):new Error(`There are multiple relations between "${n}" and "${s.sourceTable[ue.Symbol.Name]}". Please specify relation name`);if(l[0]&&Z(l[0],ma)&&l[0].config)return{fields:l[0].config.references,references:l[0].config.fields};throw new Error(`There is not enough information to infer relation "${o}.${s.fieldName}"`)}function JK(t){return{one:WK(t),many:KK(t)}}function Ny(t,e,s,n,r=i=>i){const i={};for(const[o,l]of n.entries())if(l.isJson){const c=e.relations[l.tsKey],d=s[o],u=typeof d=="string"?JSON.parse(d):d;i[l.tsKey]=Z(c,ma)?u&&Ny(t,t[l.relationTableTsKey],u,l.selection,r):u.map(p=>Ny(t,t[l.relationTableTsKey],p,l.selection,r))}else{const c=r(s[o]),d=l.field;let u;Z(d,xt)?u=d:Z(d,pe)?u=d.decoder:u=d.sql.decoder,i[l.tsKey]=c===null?null:u.mapFromDriverValue(c)}return i}var AC,TC;class a0 extends(TC=Ei,AC=W,TC){}P(a0,AC,"PgViewBase");var RC;RC=W;class Yl{constructor(e){P(this,"casing");this.casing=new _I(e==null?void 0:e.casing)}async migrate(e,s,n){const r=typeof n=="string"?"__drizzle_migrations":n.migrationsTable??"__drizzle_migrations",i=typeof n=="string"?"drizzle":n.migrationsSchema??"drizzle",o=z`
			CREATE TABLE IF NOT EXISTS ${z.identifier(i)}.${z.identifier(r)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await s.execute(z`CREATE SCHEMA IF NOT EXISTS ${z.identifier(i)}`),await s.execute(o);const c=(await s.all(z`select id, hash, created_at from ${z.identifier(i)}.${z.identifier(r)} order by created_at desc limit 1`))[0];await s.transaction(async d=>{for await(const u of e)if(!c||Number(c.created_at)<u.folderMillis){for(const p of u.sql)await d.execute(z.raw(p));await d.execute(z`insert into ${z.identifier(i)}.${z.identifier(r)} ("hash", "created_at") values(${u.hash}, ${u.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!(e!=null&&e.length))return;const s=[z`with `];for(const[n,r]of e.entries())s.push(z`${z.identifier(r._.alias)} as (${r._.sql})`),n<e.length-1&&s.push(z`, `);return s.push(z` `),z.join(s)}buildDeleteQuery({table:e,where:s,returning:n,withList:r}){const i=this.buildWithCTE(r),o=n?z` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,l=s?z` where ${s}`:void 0;return z`${i}delete from ${e}${l}${o}`}buildUpdateSet(e,s){const n=e[ue.Symbol.Columns],r=Object.keys(n).filter(o=>{var l;return s[o]!==void 0||((l=n[o])==null?void 0:l.onUpdateFn)!==void 0}),i=r.length;return z.join(r.flatMap((o,l)=>{const c=n[o],d=s[o]??z.param(c.onUpdateFn(),c),u=z`${z.identifier(this.casing.getColumnCasing(c))} = ${d}`;return l<i-1?[u,z.raw(", ")]:[u]}))}buildUpdateQuery({table:e,set:s,where:n,returning:r,withList:i,from:o,joins:l}){const c=this.buildWithCTE(i),d=e[fs.Symbol.Name],u=e[fs.Symbol.Schema],p=e[fs.Symbol.OriginalName],f=d===p?void 0:d,y=z`${u?z`${z.identifier(u)}.`:void 0}${z.identifier(p)}${f&&z` ${z.identifier(f)}`}`,g=this.buildUpdateSet(e,s),h=o&&z.join([z.raw(" from "),this.buildFromTable(o)]),b=this.buildJoins(l),m=r?z` returning ${this.buildSelection(r,{isSingleTable:!o})}`:void 0,x=n?z` where ${n}`:void 0;return z`${c}update ${y} set ${g}${h}${b}${x}${m}`}buildSelection(e,{isSingleTable:s=!1}={}){const n=e.length,r=e.flatMap(({field:i},o)=>{const l=[];if(Z(i,pe.Aliased)&&i.isSelectionField)l.push(z.identifier(i.fieldAlias));else if(Z(i,pe.Aliased)||Z(i,pe)){const c=Z(i,pe.Aliased)?i.sql:i;s?l.push(new pe(c.queryChunks.map(d=>Z(d,Se)?z.identifier(this.casing.getColumnCasing(d)):d))):l.push(c),Z(i,pe.Aliased)&&l.push(z` as ${z.identifier(i.fieldAlias)}`)}else Z(i,xt)&&(s?l.push(z.identifier(this.casing.getColumnCasing(i))):l.push(i));return o<n-1&&l.push(z`, `),l});return z.join(r)}buildJoins(e){if(!e||e.length===0)return;const s=[];for(const[n,r]of e.entries()){n===0&&s.push(z` `);const i=r.table,o=r.lateral?z` lateral`:void 0;if(Z(i,fs)){const l=i[fs.Symbol.Name],c=i[fs.Symbol.Schema],d=i[fs.Symbol.OriginalName],u=l===d?void 0:r.alias;s.push(z`${z.raw(r.joinType)} join${o} ${c?z`${z.identifier(c)}.`:void 0}${z.identifier(d)}${u&&z` ${z.identifier(u)}`} on ${r.on}`)}else if(Z(i,Ei)){const l=i[Nt].name,c=i[Nt].schema,d=i[Nt].originalName,u=l===d?void 0:r.alias;s.push(z`${z.raw(r.joinType)} join${o} ${c?z`${z.identifier(c)}.`:void 0}${z.identifier(d)}${u&&z` ${z.identifier(u)}`} on ${r.on}`)}else s.push(z`${z.raw(r.joinType)} join${o} ${i} on ${r.on}`);n<e.length-1&&s.push(z` `)}return z.join(s)}buildFromTable(e){if(Z(e,ue)&&e[ue.Symbol.OriginalName]!==e[ue.Symbol.Name]){let s=z`${z.identifier(e[ue.Symbol.OriginalName])}`;return e[ue.Symbol.Schema]&&(s=z`${z.identifier(e[ue.Symbol.Schema])}.${s}`),z`${s} ${z.identifier(e[ue.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:s,fieldsFlat:n,where:r,having:i,table:o,joins:l,orderBy:c,groupBy:d,limit:u,offset:p,lockingClause:f,distinct:y,setOperators:g}){const h=n??ha(s);for(const w of h)if(Z(w.field,xt)&&ar(w.field.table)!==(Z(o,Cs)?o._.alias:Z(o,a0)?o[Nt].name:Z(o,pe)?void 0:ar(o))&&!(I=>l==null?void 0:l.some(({alias:B})=>B===(I[ue.Symbol.IsAlias]?ar(I):I[ue.Symbol.BaseName])))(w.field.table)){const I=ar(w.field.table);throw new Error(`Your "${w.path.join("->")}" field references a column "${I}"."${w.field.name}", but the table "${I}" is not part of the query! Did you forget to join it?`)}const b=!l||l.length===0,m=this.buildWithCTE(e);let x;y&&(x=y===!0?z` distinct`:z` distinct on (${z.join(y.on,z`, `)})`);const k=this.buildSelection(h,{isSingleTable:b}),E=this.buildFromTable(o),C=this.buildJoins(l),R=r?z` where ${r}`:void 0,N=i?z` having ${i}`:void 0;let _;c&&c.length>0&&(_=z` order by ${z.join(c,z`, `)}`);let O;d&&d.length>0&&(O=z` group by ${z.join(d,z`, `)}`);const T=typeof u=="object"||typeof u=="number"&&u>=0?z` limit ${u}`:void 0,D=p?z` offset ${p}`:void 0,V=z.empty();if(f){const w=z` for ${z.raw(f.strength)}`;f.config.of&&w.append(z` of ${z.join(Array.isArray(f.config.of)?f.config.of:[f.config.of],z`, `)}`),f.config.noWait?w.append(z` no wait`):f.config.skipLocked&&w.append(z` skip locked`),V.append(w)}const L=z`${m}select${x} ${k} from ${E}${C}${R}${O}${N}${_}${T}${D}${V}`;return g.length>0?this.buildSetOperations(L,g):L}buildSetOperations(e,s){const[n,...r]=s;if(!n)throw new Error("Cannot pass undefined values to any set operator");return r.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:n}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:n}),r)}buildSetOperationQuery({leftSelect:e,setOperator:{type:s,isAll:n,rightSelect:r,limit:i,orderBy:o,offset:l}}){const c=z`(${e.getSQL()}) `,d=z`(${r.getSQL()})`;let u;if(o&&o.length>0){const g=[];for(const h of o)if(Z(h,Se))g.push(z.identifier(h.name));else if(Z(h,pe)){for(let b=0;b<h.queryChunks.length;b++){const m=h.queryChunks[b];Z(m,Se)&&(h.queryChunks[b]=z.identifier(m.name))}g.push(z`${h}`)}else g.push(z`${h}`);u=z` order by ${z.join(g,z`, `)} `}const p=typeof i=="object"||typeof i=="number"&&i>=0?z` limit ${i}`:void 0,f=z.raw(`${s} ${n?"all ":""}`),y=l?z` offset ${l}`:void 0;return z`${c}${f}${d}${u}${p}${y}`}buildInsertQuery({table:e,values:s,onConflict:n,returning:r,withList:i,select:o,overridingSystemValue_:l}){const c=[],d=e[ue.Symbol.Columns],u=Object.entries(d).filter(([m,x])=>!x.shouldDisableInsert()),p=u.map(([,m])=>z.identifier(this.casing.getColumnCasing(m)));if(o){const m=s;Z(m,pe)?c.push(m):c.push(m.getSQL())}else{const m=s;c.push(z.raw("values "));for(const[x,k]of m.entries()){const E=[];for(const[C,R]of u){const N=k[C];if(N===void 0||Z(N,mr)&&N.value===void 0)if(R.defaultFn!==void 0){const _=R.defaultFn(),O=Z(_,pe)?_:z.param(_,R);E.push(O)}else if(!R.default&&R.onUpdateFn!==void 0){const _=R.onUpdateFn(),O=Z(_,pe)?_:z.param(_,R);E.push(O)}else E.push(z`default`);else E.push(N)}c.push(E),x<m.length-1&&c.push(z`, `)}}const f=this.buildWithCTE(i),y=z.join(c),g=r?z` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,h=n?z` on conflict ${n}`:void 0,b=l===!0?z`overriding system value `:void 0;return z`${f}insert into ${e} ${p} ${b}${y}${h}${g}`}buildRefreshMaterializedViewQuery({view:e,concurrently:s,withNoData:n}){const r=s?z` concurrently`:void 0,i=n?z` with no data`:void 0;return z`refresh materialized view${r} ${e}${i}`}prepareTyping(e){return Z(e,Zx)||Z(e,Xx)?"json":Z(e,e0)?"decimal":Z(e,t0)?"time":Z(e,s0)||Z(e,n0)?"timestamp":Z(e,Yx)||Z(e,Jx)?"date":Z(e,r0)?"uuid":"none"}sqlToQuery(e,s){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:s})}buildRelationalQueryWithoutPK({fullSchema:e,schema:s,tableNamesMap:n,table:r,tableConfig:i,queryConfig:o,tableAlias:l,nestedQueryRelation:c,joinOn:d}){let u=[],p,f,y=[],g;const h=[];if(o===!0)u=Object.entries(i.columns).map(([x,k])=>({dbKey:k.name,tsKey:x,field:Wn(k,l),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{const m=Object.fromEntries(Object.entries(i.columns).map(([N,_])=>[N,Wn(_,l)]));if(o.where){const N=typeof o.where=="function"?o.where(m,VK()):o.where;g=N&&Sp(N,l)}const x=[];let k=[];if(o.columns){let N=!1;for(const[_,O]of Object.entries(o.columns))O!==void 0&&_ in i.columns&&(!N&&O===!0&&(N=!0),k.push(_));k.length>0&&(k=N?k.filter(_=>{var O;return((O=o.columns)==null?void 0:O[_])===!0}):Object.keys(i.columns).filter(_=>!k.includes(_)))}else k=Object.keys(i.columns);for(const N of k){const _=i.columns[N];x.push({tsKey:N,value:_})}let E=[];o.with&&(E=Object.entries(o.with).filter(N=>!!N[1]).map(([N,_])=>({tsKey:N,queryConfig:_,relation:i.relations[N]})));let C;if(o.extras){C=typeof o.extras=="function"?o.extras(m,{sql:z}):o.extras;for(const[N,_]of Object.entries(C))x.push({tsKey:N,value:bI(_,l)})}for(const{tsKey:N,value:_}of x)u.push({dbKey:Z(_,pe.Aliased)?_.fieldAlias:i.columns[N].name,tsKey:N,field:Z(_,xt)?Wn(_,l):_,relationTableTsKey:void 0,isJson:!1,selection:[]});let R=typeof o.orderBy=="function"?o.orderBy(m,HK()):o.orderBy??[];Array.isArray(R)||(R=[R]),y=R.map(N=>Z(N,xt)?Wn(N,l):Sp(N,l)),p=o.limit,f=o.offset;for(const{tsKey:N,queryConfig:_,relation:O}of E){const T=YK(s,n,O),D=Sc(O.referencedTable),V=n[D],L=`${l}_${N}`,w=Ey(...T.fields.map((F,U)=>QO(Wn(T.references[U],L),Wn(F,l)))),I=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:s,tableNamesMap:n,table:e[V],tableConfig:s[V],queryConfig:Z(O,ma)?_===!0?{limit:1}:{..._,limit:1}:_,tableAlias:L,joinOn:w,nestedQueryRelation:O}),B=z`${z.identifier(L)}.${z.identifier("data")}`.as(N);h.push({on:z`true`,table:new Cs(I.sql,{},L),alias:L,joinType:"left",lateral:!0}),u.push({dbKey:N,tsKey:N,field:B,relationTableTsKey:V,isJson:!0,selection:I.selection})}}if(u.length===0)throw new Kx({message:`No fields selected for table "${i.tsName}" ("${l}")`});let b;if(g=Ey(d,g),c){let m=z`json_build_array(${z.join(u.map(({field:E,tsKey:C,isJson:R})=>R?z`${z.identifier(`${l}_${C}`)}.${z.identifier("data")}`:Z(E,pe.Aliased)?E.sql:E),z`, `)})`;Z(c,_p)&&(m=z`coalesce(json_agg(${m}${y.length>0?z` order by ${z.join(y,z`, `)}`:void 0}), '[]'::json)`);const x=[{dbKey:"data",tsKey:"data",field:m.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:u}];p!==void 0||f!==void 0||y.length>0?(b=this.buildSelectQuery({table:Em(r,l),fields:{},fieldsFlat:[{path:[],field:z.raw("*")}],where:g,limit:p,offset:f,orderBy:y,setOperators:[]}),g=void 0,p=void 0,f=void 0,y=[]):b=Em(r,l),b=this.buildSelectQuery({table:Z(b,fs)?b:new Cs(b,{},l),fields:{},fieldsFlat:x.map(({field:E})=>({path:[],field:Z(E,xt)?Wn(E,l):E})),joins:h,where:g,limit:p,offset:f,orderBy:y,setOperators:[]})}else b=this.buildSelectQuery({table:Em(r,l),fields:{},fieldsFlat:u.map(({field:m})=>({path:[],field:Z(m,xt)?Wn(m,l):m})),joins:h,where:g,limit:p,offset:f,orderBy:y,setOperators:[]});return{tableTsKey:i.tsName,sql:b,selection:u}}}P(Yl,RC,"PgDialect");var IC;IC=W;class HO{getSelectedFields(){return this._.selectedFields}}P(HO,IC,"TypedQueryBuilder");var OC;OC=W;class Ss{constructor(e){P(this,"fields");P(this,"session");P(this,"dialect");P(this,"withList",[]);P(this,"distinct");P(this,"authToken");this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}setToken(e){return this.authToken=e,this}from(e){const s=!!this.fields,n=e;let r;return this.fields?r=this.fields:Z(n,Cs)?r=Object.fromEntries(Object.keys(n._.selectedFields).map(i=>[i,n[i]])):Z(n,a0)?r=n[Nt].selectedFields:Z(n,pe)?r={}:r=SI(n),new o0({table:n,fields:r,isPartialSelect:s,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}}P(Ss,OC,"PgSelectBuilder");var PC,DC;class GO extends(DC=HO,PC=W,DC){constructor({table:s,fields:n,isPartialSelect:r,session:i,dialect:o,withList:l,distinct:c}){super();P(this,"_");P(this,"config");P(this,"joinsNotNullableMap");P(this,"tableName");P(this,"isPartialSelect");P(this,"session");P(this,"dialect");P(this,"leftJoin",this.createJoin("left"));P(this,"rightJoin",this.createJoin("right"));P(this,"innerJoin",this.createJoin("inner"));P(this,"fullJoin",this.createJoin("full"));P(this,"union",this.createSetOperator("union",!1));P(this,"unionAll",this.createSetOperator("union",!0));P(this,"intersect",this.createSetOperator("intersect",!1));P(this,"intersectAll",this.createSetOperator("intersect",!0));P(this,"except",this.createSetOperator("except",!1));P(this,"exceptAll",this.createSetOperator("except",!0));this.config={withList:l,table:s,fields:{...n},distinct:c,setOperators:[]},this.isPartialSelect=r,this.session=i,this.dialect=o,this._={selectedFields:n},this.tableName=Ti(s),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}createJoin(s){return(n,r)=>{var l;const i=this.tableName,o=Ti(n);if(typeof o=="string"&&((l=this.config.joins)!=null&&l.some(c=>c.alias===o)))throw new Error(`Alias "${o}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof i=="string"&&(this.config.fields={[i]:this.config.fields}),typeof o=="string"&&!Z(n,pe))){const c=Z(n,Cs)?n._.selectedFields:Z(n,Ei)?n[Nt].selectedFields:n[ue.Symbol.Columns];this.config.fields[o]=c}if(typeof r=="function"&&(r=r(new Proxy(this.config.fields,new Vt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:r,table:n,joinType:s,alias:o}),typeof o=="string")switch(s){case"left":{this.joinsNotNullableMap[o]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([c])=>[c,!1])),this.joinsNotNullableMap[o]=!0;break}case"inner":{this.joinsNotNullableMap[o]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([c])=>[c,!1])),this.joinsNotNullableMap[o]=!1;break}}return this}}createSetOperator(s,n){return r=>{const i=typeof r=="function"?r(XK()):r;if(!Wx(this.getSelectedFields(),i.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:s,isAll:n,rightSelect:i}),this}}addSetOperators(s){return this.config.setOperators.push(...s),this}where(s){return typeof s=="function"&&(s=s(new Proxy(this.config.fields,new Vt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=s,this}having(s){return typeof s=="function"&&(s=s(new Proxy(this.config.fields,new Vt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=s,this}groupBy(...s){if(typeof s[0]=="function"){const n=s[0](new Proxy(this.config.fields,new Vt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(n)?n:[n]}else this.config.groupBy=s;return this}orderBy(...s){if(typeof s[0]=="function"){const n=s[0](new Proxy(this.config.fields,new Vt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(n)?n:[n];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}else{const n=s;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}return this}limit(s){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=s:this.config.limit=s,this}offset(s){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=s:this.config.offset=s,this}for(s,n={}){return this.config.lockingClause={strength:s,config:n},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){const{typings:s,...n}=this.dialect.sqlToQuery(this.getSQL());return n}as(s){return new Proxy(new Cs(this.getSQL(),this.config.fields,s),new Vt({alias:s,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new Vt({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}P(GO,PC,"PgSelectQueryBuilder");var MC,LC;class o0 extends(LC=GO,MC=W,LC){constructor(){super(...arguments);P(this,"authToken");P(this,"execute",s=>At.startActiveSpan("drizzle.operation",()=>this._prepare().execute(s,this.authToken)))}_prepare(s){const{session:n,config:r,dialect:i,joinsNotNullableMap:o,authToken:l}=this;if(!n)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");return At.startActiveSpan("drizzle.prepareQuery",()=>{const c=ha(r.fields),d=n.prepareQuery(i.sqlToQuery(this.getSQL()),c,s,!0);return d.joinsNotNullableMap=o,d.setToken(l)})}prepare(s){return this._prepare(s)}setToken(s){return this.authToken=s,this}}P(o0,MC,"PgSelect");VW(o0,[Si]);function ol(t,e){return(s,n,...r)=>{const i=[n,...r].map(o=>({type:t,isAll:e,rightSelect:o}));for(const o of i)if(!Wx(s.getSelectedFields(),o.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return s.addSetOperators(i)}}const XK=()=>({union:ZK,unionAll:eY,intersect:tY,intersectAll:sY,except:nY,exceptAll:rY}),ZK=ol("union",!1),eY=ol("union",!0),tY=ol("intersect",!1),sY=ol("intersect",!0),nY=ol("except",!1),rY=ol("except",!0);var FC;FC=W;class l0{constructor(e){P(this,"dialect");P(this,"dialectConfig");P(this,"$with",(e,s)=>{const n=this;return{as:i=>(typeof i=="function"&&(i=i(n)),new Proxy(new Gx(i.getSQL(),s??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new Vt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});this.dialect=Z(e,Yl)?e:void 0,this.dialectConfig=Z(e,Yl)?void 0:e}with(...e){const s=this;function n(o){return new Ss({fields:o??void 0,session:void 0,dialect:s.getDialect(),withList:e})}function r(o){return new Ss({fields:o??void 0,session:void 0,dialect:s.getDialect(),distinct:!0})}function i(o,l){return new Ss({fields:l??void 0,session:void 0,dialect:s.getDialect(),distinct:{on:o}})}return{select:n,selectDistinct:r,selectDistinctOn:i}}select(e){return new Ss({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new Ss({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,s){return new Ss({fields:s??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new Yl(this.dialectConfig)),this.dialect}}P(l0,FC,"PgQueryBuilder");var BC;BC=W;class ky{constructor(e,s,n,r,i){P(this,"authToken");this.table=e,this.session=s,this.dialect=n,this.withList=r,this.overridingSystemValue_=i}setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");const s=e.map(n=>{const r={},i=this.table[ue.Symbol.Columns];for(const o of Object.keys(n)){const l=n[o];r[o]=Z(l,pe)?l:new mr(l,i[o])}return r});return new Cy(this.table,s,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){const s=typeof e=="function"?e(new l0):e;if(!Z(s,pe)&&!Wx(this.table[wy],s._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new Cy(this.table,s,this.session,this.dialect,this.withList,!0)}}P(ky,BC,"PgInsertBuilder");var $C,UC;class Cy extends(UC=Si,$C=W,UC){constructor(s,n,r,i,o,l,c){super();P(this,"config");P(this,"authToken");P(this,"execute",s=>At.startActiveSpan("drizzle.operation",()=>this._prepare().execute(s,this.authToken)));this.session=r,this.dialect=i,this.config={table:s,values:n,withList:o,select:l,overridingSystemValue_:c}}returning(s=this.config.table[ue.Symbol.Columns]){return this.config.returningFields=s,this.config.returning=ha(s),this}onConflictDoNothing(s={}){if(s.target===void 0)this.config.onConflict=z`do nothing`;else{let n="";n=Array.isArray(s.target)?s.target.map(i=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(i))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(s.target));const r=s.where?z` where ${s.where}`:void 0;this.config.onConflict=z`(${z.raw(n)})${r} do nothing`}return this}onConflictDoUpdate(s){if(s.where&&(s.targetWhere||s.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');const n=s.where?z` where ${s.where}`:void 0,r=s.targetWhere?z` where ${s.targetWhere}`:void 0,i=s.setWhere?z` where ${s.setWhere}`:void 0,o=this.dialect.buildUpdateSet(this.config.table,wI(this.config.table,s.set));let l="";return l=Array.isArray(s.target)?s.target.map(c=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(c))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(s.target)),this.config.onConflict=z`(${z.raw(l)})${r} do update set ${o}${n}${i}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){const{typings:s,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(s){return At.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,s,!0))}prepare(s){return this._prepare(s)}setToken(s){return this.authToken=s,this}getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Vt({alias:ar(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}P(Cy,$C,"PgInsert");var zC,qC;class WO extends(qC=Si,zC=W,qC){constructor(s,n,r){super();P(this,"config");P(this,"authToken");P(this,"execute",s=>At.startActiveSpan("drizzle.operation",()=>this._prepare().execute(s,this.authToken)));this.session=n,this.dialect=r,this.config={view:s}}concurrently(){if(this.config.withNoData!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(this.config.concurrently!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){const{typings:s,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(s){return At.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,s,!0))}prepare(s){return this._prepare(s)}setToken(s){return this.authToken=s,this}}P(WO,zC,"PgRefreshMaterializedView");var QC;QC=W;class jy{constructor(e,s,n,r){P(this,"authToken");this.table=e,this.session=s,this.dialect=n,this.withList=r}setToken(e){return this.authToken=e,this}set(e){return new KO(this.table,wI(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}}P(jy,QC,"PgUpdateBuilder");var VC,HC;class KO extends(HC=Si,VC=W,HC){constructor(s,n,r,i,o){super();P(this,"config");P(this,"tableName");P(this,"joinsNotNullableMap");P(this,"leftJoin",this.createJoin("left"));P(this,"rightJoin",this.createJoin("right"));P(this,"innerJoin",this.createJoin("inner"));P(this,"fullJoin",this.createJoin("full"));P(this,"authToken");P(this,"execute",s=>this._prepare().execute(s,this.authToken));this.session=r,this.dialect=i,this.config={set:n,table:s,withList:o,joins:[]},this.tableName=Ti(s),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}from(s){const n=s,r=Ti(n);return typeof r=="string"&&(this.joinsNotNullableMap[r]=!0),this.config.from=n,this}getTableLikeFields(s){return Z(s,fs)?s[ue.Symbol.Columns]:Z(s,Cs)?s._.selectedFields:s[Nt].selectedFields}createJoin(s){return(n,r)=>{const i=Ti(n);if(typeof i=="string"&&this.config.joins.some(o=>o.alias===i))throw new Error(`Alias "${i}" is already used in this query`);if(typeof r=="function"){const o=this.config.from&&!Z(this.config.from,pe)?this.getTableLikeFields(this.config.from):void 0;r=r(new Proxy(this.config.table[ue.Symbol.Columns],new Vt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),o&&new Proxy(o,new Vt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:r,table:n,joinType:s,alias:i}),typeof i=="string")switch(s){case"left":{this.joinsNotNullableMap[i]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([o])=>[o,!1])),this.joinsNotNullableMap[i]=!0;break}case"inner":{this.joinsNotNullableMap[i]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([o])=>[o,!1])),this.joinsNotNullableMap[i]=!1;break}}return this}}where(s){return this.config.where=s,this}returning(s){if(!s&&(s=Object.assign({},this.config.table[ue.Symbol.Columns]),this.config.from)){const n=Ti(this.config.from);if(typeof n=="string"&&this.config.from&&!Z(this.config.from,pe)){const r=this.getTableLikeFields(this.config.from);s[n]=r}for(const r of this.config.joins){const i=Ti(r.table);if(typeof i=="string"&&!Z(r.table,pe)){const o=this.getTableLikeFields(r.table);s[i]=o}}}return this.config.returningFields=s,this.config.returning=ha(s),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){const{typings:s,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(s){const n=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,s,!0);return n.joinsNotNullableMap=this.joinsNotNullableMap,n}prepare(s){return this._prepare(s)}setToken(s){return this.authToken=s,this}getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Vt({alias:ar(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}P(KO,VC,"PgUpdate");var GC,WC,KC;const Xl=class Xl extends(KC=pe,WC=W,GC=Symbol.toStringTag,KC){constructor(s){super(Xl.buildEmbeddedCount(s.source,s.filters).queryChunks);P(this,"sql");P(this,"token");P(this,GC,"PgCountBuilder");P(this,"session");this.params=s,this.mapWith(Number),this.session=s.session,this.sql=Xl.buildCount(s.source,s.filters)}static buildEmbeddedCount(s,n){return z`(select count(*) from ${s}${z.raw(" where ").if(n)}${n})`}static buildCount(s,n){return z`select count(*) as count from ${s}${z.raw(" where ").if(n)}${n};`}setToken(s){return this.token=s,this}then(s,n){return Promise.resolve(this.session.count(this.sql,this.token)).then(s,n)}catch(s){return this.then(void 0,s)}finally(s){return this.then(n=>(s==null||s(),n),n=>{throw s==null||s(),n})}};P(Xl,WC,"PgCountBuilder");let Ay=Xl;var YC;YC=W;class YO{constructor(e,s,n,r,i,o,l){this.fullSchema=e,this.schema=s,this.tableNamesMap=n,this.table=r,this.tableConfig=i,this.dialect=o,this.session=l}findMany(e){return new Ty(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new Ty(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}P(YO,YC,"PgRelationalQueryBuilder");var JC,XC;class Ty extends(XC=Si,JC=W,XC){constructor(s,n,r,i,o,l,c,d,u){super();P(this,"authToken");this.fullSchema=s,this.schema=n,this.tableNamesMap=r,this.table=i,this.tableConfig=o,this.dialect=l,this.session=c,this.config=d,this.mode=u}_prepare(s){return At.startActiveSpan("drizzle.prepareQuery",()=>{const{query:n,builtQuery:r}=this._toSQL();return this.session.prepareQuery(r,void 0,s,!0,(i,o)=>{const l=i.map(c=>Ny(this.schema,this.tableConfig,c,n.selection,o));return this.mode==="first"?l[0]:l})})}prepare(s){return this._prepare(s)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){const s=this._getQuery(),n=this.dialect.sqlToQuery(s.sql);return{query:s,builtQuery:n}}toSQL(){return this._toSQL().builtQuery}setToken(s){return this.authToken=s,this}execute(){return At.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}P(Ty,JC,"PgRelationalQuery");var ZC,ej;class JO extends(ej=Si,ZC=W,ej){constructor(e,s,n,r){super(),this.execute=e,this.sql=s,this.query=n,this.mapBatchResult=r}getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,s){return s?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}P(JO,ZC,"PgRaw");var tj;tj=W;class c0{constructor(e,s,n){P(this,"query");P(this,"$with",(e,s)=>{const n=this;return{as:i=>(typeof i=="function"&&(i=i(new l0(n.dialect))),new Proxy(new Gx(i.getSQL(),s??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new Vt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});P(this,"authToken");if(this.dialect=e,this.session=s,this._=n?{schema:n.schema,fullSchema:n.fullSchema,tableNamesMap:n.tableNamesMap,session:s}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:s},this.query={},this._.schema)for(const[r,i]of Object.entries(this._.schema))this.query[r]=new YO(n.fullSchema,this._.schema,this._.tableNamesMap,n.fullSchema[r],i,e,s)}$count(e,s){return new Ay({source:e,filters:s,session:this.session})}with(...e){const s=this;function n(d){return new Ss({fields:d??void 0,session:s.session,dialect:s.dialect,withList:e})}function r(d){return new Ss({fields:d??void 0,session:s.session,dialect:s.dialect,withList:e,distinct:!0})}function i(d,u){return new Ss({fields:u??void 0,session:s.session,dialect:s.dialect,withList:e,distinct:{on:d}})}function o(d){return new jy(d,s.session,s.dialect,e)}function l(d){return new ky(d,s.session,s.dialect,e)}function c(d){return new Sy(d,s.session,s.dialect,e)}return{select:n,selectDistinct:r,selectDistinctOn:i,update:o,insert:l,delete:c}}select(e){return new Ss({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new Ss({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,s){return new Ss({fields:s??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new jy(e,this.session,this.dialect)}insert(e){return new ky(e,this.session,this.dialect)}delete(e){return new Sy(e,this.session,this.dialect)}refreshMaterializedView(e){return new WO(e,this.session,this.dialect)}execute(e){const s=typeof e=="string"?z.raw(e):e.getSQL(),n=this.dialect.sqlToQuery(s),r=this.session.prepareQuery(n,void 0,void 0,!1);return new JO(()=>r.execute(void 0,this.authToken),s,n,i=>r.mapResult(i,!0))}transaction(e,s){return this.session.transaction(e,s)}}P(c0,tj,"PgDatabase");var sj;sj=W;class XO{constructor(e){P(this,"authToken");P(this,"joinsNotNullableMap");this.query=e}getQuery(){return this.query}mapResult(e,s){return e}setToken(e){return this.authToken=e,this}}P(XO,sj,"PgPreparedQuery");var nj;nj=W;class ZO{constructor(e){this.dialect=e}execute(e,s){return At.startActiveSpan("drizzle.operation",()=>At.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(s).execute(void 0,s))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,s){const n=await this.execute(e,s);return Number(n[0].count)}}P(ZO,nj,"PgSession");var rj,ij;class eP extends(ij=c0,rj=W,ij){constructor(e,s,n,r=0){super(e,s,n),this.schema=n,this.nestedIndex=r}rollback(){throw new EI}getTransactionConfigSQL(e){const s=[];return e.isolationLevel&&s.push(`isolation level ${e.isolationLevel}`),e.accessMode&&s.push(e.accessMode),typeof e.deferrable=="boolean"&&s.push(e.deferrable?"deferrable":"not deferrable"),z.raw(s.join(" "))}setTransaction(e){return this.session.execute(z`set transaction ${this.getTransactionConfigSQL(e)}`)}}P(eP,rj,"PgTransaction");const{Pool:iS,types:bn}=Gt;var aj,oj;class tP extends(oj=XO,aj=W,oj){constructor(s,n,r,i,o,l,c,d){super({sql:n,params:r});P(this,"rawQueryConfig");P(this,"queryConfig");this.client=s,this.params=r,this.logger=i,this.fields=o,this._isResponseInArrayMode=c,this.customResultMapper=d,this.rawQueryConfig={name:l,text:n,types:{getTypeParser:(u,p)=>u===bn.builtins.TIMESTAMPTZ?f=>f:u===bn.builtins.TIMESTAMP?f=>f:u===bn.builtins.DATE?f=>f:u===bn.builtins.INTERVAL?f=>f:bn.getTypeParser(u,p)}},this.queryConfig={name:l,text:n,rowMode:"array",types:{getTypeParser:(u,p)=>u===bn.builtins.TIMESTAMPTZ?f=>f:u===bn.builtins.TIMESTAMP?f=>f:u===bn.builtins.DATE?f=>f:u===bn.builtins.INTERVAL?f=>f:bn.getTypeParser(u,p)}}}async execute(s={}){return At.startActiveSpan("drizzle.execute",async()=>{const n=sS(this.params,s);this.logger.logQuery(this.rawQueryConfig.text,n);const{fields:r,rawQueryConfig:i,client:o,queryConfig:l,joinsNotNullableMap:c,customResultMapper:d}=this;if(!r&&!d)return At.startActiveSpan("drizzle.driver.execute",async p=>(p==null||p.setAttributes({"drizzle.query.name":i.name,"drizzle.query.text":i.text,"drizzle.query.params":JSON.stringify(n)}),o.query(i,n)));const u=await At.startActiveSpan("drizzle.driver.execute",p=>(p==null||p.setAttributes({"drizzle.query.name":l.name,"drizzle.query.text":l.text,"drizzle.query.params":JSON.stringify(n)}),o.query(l,n)));return At.startActiveSpan("drizzle.mapResponse",()=>d?d(u.rows):u.rows.map(p=>QW(r,p,c)))})}all(s={}){return At.startActiveSpan("drizzle.execute",()=>{const n=sS(this.params,s);return this.logger.logQuery(this.rawQueryConfig.text,n),At.startActiveSpan("drizzle.driver.execute",r=>(r==null||r.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(n)}),this.client.query(this.rawQueryConfig,n).then(i=>i.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}}P(tP,aj,"NodePgPreparedQuery");var lj,cj;const Up=class Up extends(cj=ZO,lj=W,cj){constructor(s,n,r,i={}){super(n);P(this,"logger");this.client=s,this.schema=r,this.options=i,this.logger=i.logger??new rI}prepareQuery(s,n,r,i,o){return new tP(this.client,s.sql,s.params,this.logger,n,r,i,o)}async transaction(s,n){const r=this.client instanceof iS?new Up(await this.client.connect(),this.dialect,this.schema,this.options):this,i=new Iy(this.dialect,r,this.schema);await i.execute(z`begin${n?z` ${i.getTransactionConfigSQL(n)}`:void 0}`);try{const o=await s(i);return await i.execute(z`commit`),o}catch(o){throw await i.execute(z`rollback`),o}finally{this.client instanceof iS&&r.client.release()}}async count(s){const n=await this.execute(s);return Number(n.rows[0].count)}};P(Up,lj,"NodePgSession");let Ry=Up;var uj,dj;const zp=class zp extends(dj=eP,uj=W,dj){async transaction(e){const s=`sp${this.nestedIndex+1}`,n=new zp(this.dialect,this.session,this.schema,this.nestedIndex+1);await n.execute(z.raw(`savepoint ${s}`));try{const r=await e(n);return await n.execute(z.raw(`release savepoint ${s}`)),r}catch(r){throw await n.execute(z.raw(`rollback to savepoint ${s}`)),r}}};P(zp,uj,"NodePgTransaction");let Iy=zp;var pj;pj=W;class sP{constructor(e,s,n={}){this.client=e,this.dialect=s,this.options=n}createSession(e){return new Ry(this.client,this.dialect,e,{logger:this.options.logger})}}P(sP,pj,"NodePgDriver");var fj,hj;class nP extends(hj=c0,fj=W,hj){}P(nP,fj,"NodePgDatabase");function Fl(t,e={}){const s=new Yl({casing:e.casing});let n;e.logger===!0?n=new nI:e.logger!==!1&&(n=e.logger);let r;if(e.schema){const c=GK(e.schema,JK);r={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}const o=new sP(t,s,{logger:n}).createSession(r),l=new nP(s,o,r);return l.$client=t,l}function Oy(...t){if(typeof t[0]=="string"){const e=new Gt.Pool({connectionString:t[0]});return Fl(e,t[1])}if(GW(t[0])){const{connection:e,client:s,...n}=t[0];if(s)return Fl(s,n);const r=typeof e=="string"?new Gt.Pool({connectionString:e}):new Gt.Pool(e);return Fl(r,n)}return Fl(t[0],t[1])}(t=>{function e(s){return Fl({},s)}t.mock=e})(Oy||(Oy={}));var iY={};const wn=iY.DATABASE_URL,aY=_i("role",["CONSUMER","MERCHANT","DRIVER","ADMIN"]),oY=_i("verification_status",["PENDING","APPROVED","REJECTED"]),lY=_i("order_status",["PENDING","CONFIRMED","IN_PROGRESS","DELIVERED","CANCELLED"]),cY=_i("payment_status",["PENDING","COMPLETED","FAILED","REFUNDED"]),cr=xe("users",{id:ve("id").primaryKey(),email:q("email").unique().notNull(),password:q("password"),fullName:q("full_name").notNull(),phone:q("phone"),role:aY("role").default("CONSUMER"),isVerified:ze("is_verified").default(!1),isActive:ze("is_active").default(!0),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()}),uY=xe("identity_verifications",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>cr.id).notNull(),documentType:q("document_type").notNull(),documentNumber:q("document_number").notNull(),documentImageUrl:q("document_image_url"),verificationStatus:oY("verification_status").default("PENDING"),submittedAt:J("submitted_at").defaultNow(),reviewedAt:J("reviewed_at"),reviewedBy:ee("reviewed_by").references(()=>cr.id),rejectionReason:q("rejection_reason")}),rP=xe("orders",{id:ve("id").primaryKey(),orderNumber:q("order_number").unique().notNull(),customerId:ee("customer_id").references(()=>cr.id).notNull(),merchantId:ee("merchant_id").references(()=>cr.id),driverId:ee("driver_id").references(()=>cr.id),orderType:q("order_type").notNull(),status:lY("status").default("PENDING"),totalAmount:Ne("total_amount",{precision:10,scale:2}).notNull(),deliveryAddress:q("delivery_address"),orderData:De("order_data"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()}),dY=xe("transactions",{id:ve("id").primaryKey(),orderId:ee("order_id").references(()=>rP.id),userId:ee("user_id").references(()=>cr.id).notNull(),amount:Ne("amount",{precision:10,scale:2}).notNull(),currency:q("currency").default("NGN"),paymentMethod:q("payment_method").notNull(),paymentStatus:cY("payment_status").default("PENDING"),transactionRef:q("transaction_ref").unique(),paymentGatewayRef:q("payment_gateway_ref"),metadata:De("metadata"),createdAt:J("created_at").defaultNow()}),pY=xe("notifications",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>cr.id).notNull(),title:q("title").notNull(),message:q("message").notNull(),type:q("type").notNull(),isRead:ze("is_read").default(!1),metadata:De("metadata"),createdAt:J("created_at").defaultNow()}),fY=xe("error_logs",{id:ve("id").primaryKey(),message:q("message").notNull(),stack:q("stack"),url:q("url"),userAgent:q("user_agent"),userId:ee("user_id").references(()=>cr.id),severity:q("severity").default("MEDIUM"),source:q("source").default("backend"),timestamp:J("timestamp").defaultNow(),metadata:De("metadata")}),hY=new tI({connectionString:wn,ssl:wn!=null&&wn.includes("render.com")||wn!=null&&wn.includes("railway.app")||wn!=null&&wn.includes("dpg-")?{rejectUnauthorized:!1}:!1});Oy(hY,{schema:{users:cr,identityVerifications:uY,orders:rP,transactions:dY,notifications:pY,errorLogs:fY}});var Be;(function(t){t.assertEqual=r=>{};function e(r){}t.assertIs=e;function s(r){throw new Error}t.assertNever=s,t.arrayToEnum=r=>{const i={};for(const o of r)i[o]=o;return i},t.getValidEnumValues=r=>{const i=t.objectKeys(r).filter(l=>typeof r[r[l]]!="number"),o={};for(const l of i)o[l]=r[l];return t.objectValues(o)},t.objectValues=r=>t.objectKeys(r).map(function(i){return r[i]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.push(o);return i},t.find=(r,i)=>{for(const o of r)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function n(r,i=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(Be||(Be={}));var Py;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(Py||(Py={}));const le=Be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),er=t=>{switch(typeof t){case"undefined":return le.undefined;case"string":return le.string;case"number":return Number.isNaN(t)?le.nan:le.number;case"boolean":return le.boolean;case"function":return le.function;case"bigint":return le.bigint;case"symbol":return le.symbol;case"object":return Array.isArray(t)?le.array:t===null?le.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?le.promise:typeof Map<"u"&&t instanceof Map?le.map:typeof Set<"u"&&t instanceof Set?le.set:typeof Date<"u"&&t instanceof Date?le.date:le.object;default:return le.unknown}},ne=Be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),mY=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class js extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(i){return i.message},n={_errors:[]},r=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)n._errors.push(s(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return r(this),n}static assert(e){if(!(e instanceof js))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},n=[];for(const r of this.issues)if(r.path.length>0){const i=r.path[0];s[i]=s[i]||[],s[i].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:s}}get formErrors(){return this.flatten()}}js.create=t=>new js(t);const Uo=(t,e)=>{let s;switch(t.code){case ne.invalid_type:t.received===le.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case ne.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,Be.jsonStringifyReplacer)}`;break;case ne.unrecognized_keys:s=`Unrecognized key(s) in object: ${Be.joinValues(t.keys,", ")}`;break;case ne.invalid_union:s="Invalid input";break;case ne.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Be.joinValues(t.options)}`;break;case ne.invalid_enum_value:s=`Invalid enum value. Expected ${Be.joinValues(t.options)}, received '${t.received}'`;break;case ne.invalid_arguments:s="Invalid function arguments";break;case ne.invalid_return_type:s="Invalid function return type";break;case ne.invalid_date:s="Invalid date";break;case ne.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:Be.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case ne.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case ne.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case ne.custom:s="Invalid input";break;case ne.invalid_intersection_types:s="Intersection results could not be merged";break;case ne.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case ne.not_finite:s="Number must be finite";break;default:s=e.defaultError,Be.assertNever(t)}return{message:s}};let iP=Uo;function gY(t){iP=t}function Ep(){return iP}const Np=t=>{const{data:e,path:s,errorMaps:n,issueData:r}=t,i=[...s,...r.path||[]],o={...r,path:i};if(r.message!==void 0)return{...r,path:i,message:r.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...r,path:i,message:l}},yY=[];function ie(t,e){const s=Ep(),n=Np({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===Uo?void 0:Uo].filter(r=>!!r)});t.common.issues.push(n)}class Kt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const n=[];for(const r of s){if(r.status==="aborted")return ge;r.status==="dirty"&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,s){const n=[];for(const r of s){const i=await r.key,o=await r.value;n.push({key:i,value:o})}return Kt.mergeObjectSync(e,n)}static mergeObjectSync(e,s){const n={};for(const r of s){const{key:i,value:o}=r;if(i.status==="aborted"||o.status==="aborted")return ge;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const ge=Object.freeze({status:"aborted"}),no=t=>({status:"dirty",value:t}),rs=t=>({status:"valid",value:t}),Dy=t=>t.status==="aborted",My=t=>t.status==="dirty",ga=t=>t.status==="valid",Ec=t=>typeof Promise<"u"&&t instanceof Promise;var de;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(de||(de={}));class Bn{constructor(e,s,n,r){this._cachedPath=[],this.parent=e,this.data=s,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const aS=(t,e)=>{if(ga(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new js(t.common.issues);return this._error=s,this._error}}};function ke(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:n,description:r}=t;if(e&&(s||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:r}}class Te{get description(){return this._def.description}_getType(e){return er(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:er(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kt,ctx:{common:e.parent.common,data:e.data,parsedType:er(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(Ec(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const n=this.safeParse(e,s);if(n.success)return n.data;throw n.error}safeParse(e,s){const n={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:er(e)},r=this._parseSync({data:e,path:n.path,parent:n});return aS(n,r)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:er(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return ga(i)?{value:i.value}:{issues:s.common.issues}}catch(i){(r=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>ga(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,s){const n=await this.safeParseAsync(e,s);if(n.success)return n.data;throw n.error}async safeParseAsync(e,s){const n={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:er(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(Ec(r)?r:Promise.resolve(r));return aS(n,i)}refine(e,s){const n=r=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(r):s;return this._refinement((r,i)=>{const o=e(r),l=()=>i.addIssue({code:ne.custom,...n(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((n,r)=>e(n)?!0:(r.addIssue(typeof s=="function"?s(n,r):s),!1))}_refinement(e){return new fn({schema:this,typeName:ye.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Mn.create(this,this._def)}nullable(){return yi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return un.create(this)}promise(){return qo.create(this,this._def)}or(e){return jc.create([this,e],this._def)}and(e){return Ac.create(this,e,this._def)}transform(e){return new fn({...ke(this._def),schema:this,typeName:ye.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new Pc({...ke(this._def),innerType:this,defaultValue:s,typeName:ye.ZodDefault})}brand(){return new u0({typeName:ye.ZodBranded,type:this,...ke(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new Dc({...ke(this._def),innerType:this,catchValue:s,typeName:ye.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return pu.create(this,e)}readonly(){return Mc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vY=/^c[^\s-]{8,}$/i,xY=/^[0-9a-z]+$/,bY=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wY=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,SY=/^[a-z0-9_-]{21}$/i,_Y=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,EY=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,NY=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,kY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Nm;const CY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,jY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,AY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,TY=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,RY=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,IY=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",OY=new RegExp(`^${aP}$`);function oP(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const s=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${s}`}function PY(t){return new RegExp(`^${oP(t)}$`)}function lP(t){let e=`${aP}T${oP(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function DY(t,e){return!!((e==="v4"||!e)&&CY.test(t)||(e==="v6"||!e)&&AY.test(t))}function MY(t,e){if(!_Y.test(t))return!1;try{const[s]=t.split(".");if(!s)return!1;const n=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),r=JSON.parse(atob(n));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function LY(t,e){return!!((e==="v4"||!e)&&jY.test(t)||(e==="v6"||!e)&&TY.test(t))}class an extends Te{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==le.string){const i=this._getOrReturnCtx(e);return ie(i,{code:ne.invalid_type,expected:le.string,received:i.parsedType}),ge}const n=new Kt;let r;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),ie(r,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),ie(r,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(r=this._getOrReturnCtx(e,r),o?ie(r,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ie(r,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")NY.test(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{validation:"email",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Nm||(Nm=new RegExp(kY,"u")),Nm.test(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{validation:"emoji",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")wY.test(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{validation:"uuid",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")SY.test(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{validation:"nanoid",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")vY.test(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{validation:"cuid",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")xY.test(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{validation:"cuid2",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")bY.test(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{validation:"ulid",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),ie(r,{validation:"url",code:ne.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{validation:"regex",code:ne.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),ie(r,{code:ne.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),ie(r,{code:ne.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),ie(r,{code:ne.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?lP(i).test(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{code:ne.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?OY.test(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{code:ne.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?PY(i).test(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{code:ne.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?EY.test(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{validation:"duration",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?DY(e.data,i.version)||(r=this._getOrReturnCtx(e,r),ie(r,{validation:"ip",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?MY(e.data,i.alg)||(r=this._getOrReturnCtx(e,r),ie(r,{validation:"jwt",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?LY(e.data,i.version)||(r=this._getOrReturnCtx(e,r),ie(r,{validation:"cidr",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?RY.test(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{validation:"base64",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?IY.test(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{validation:"base64url",code:ne.invalid_string,message:i.message}),n.dirty()):Be.assertNever(i);return{status:n.value,value:e.data}}_regex(e,s,n){return this.refinement(r=>e.test(r),{validation:s,code:ne.invalid_string,...de.errToObj(n)})}_addCheck(e){return new an({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...de.errToObj(e)})}url(e){return this._addCheck({kind:"url",...de.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...de.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...de.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...de.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...de.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...de.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...de.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...de.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...de.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...de.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...de.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...de.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...de.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...de.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...de.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...de.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...de.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...de.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...de.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...de.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...de.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...de.errToObj(s)})}nonempty(e){return this.min(1,de.errToObj(e))}trim(){return new an({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new an({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new an({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}an.create=t=>new an({checks:[],typeName:ye.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ke(t)});function FY(t,e){const s=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,r=s>n?s:n,i=Number.parseInt(t.toFixed(r).replace(".","")),o=Number.parseInt(e.toFixed(r).replace(".",""));return i%o/10**r}class hi extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==le.number){const i=this._getOrReturnCtx(e);return ie(i,{code:ne.invalid_type,expected:le.number,received:i.parsedType}),ge}let n;const r=new Kt;for(const i of this._def.checks)i.kind==="int"?Be.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ie(n,{code:ne.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),ie(n,{code:ne.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),ie(n,{code:ne.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?FY(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),ie(n,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ie(n,{code:ne.not_finite,message:i.message}),r.dirty()):Be.assertNever(i);return{status:r.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,de.toString(s))}gt(e,s){return this.setLimit("min",e,!1,de.toString(s))}lte(e,s){return this.setLimit("max",e,!0,de.toString(s))}lt(e,s){return this.setLimit("max",e,!1,de.toString(s))}setLimit(e,s,n,r){return new hi({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:n,message:de.toString(r)}]})}_addCheck(e){return new hi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Be.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(s===null||n.value>s)&&(s=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(s)&&Number.isFinite(e)}}hi.create=t=>new hi({checks:[],typeName:ye.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ke(t)});class mi extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==le.bigint)return this._getInvalidInput(e);let n;const r=new Kt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),ie(n,{code:ne.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),ie(n,{code:ne.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ie(n,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):Be.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return ie(s,{code:ne.invalid_type,expected:le.bigint,received:s.parsedType}),ge}gte(e,s){return this.setLimit("min",e,!0,de.toString(s))}gt(e,s){return this.setLimit("min",e,!1,de.toString(s))}lte(e,s){return this.setLimit("max",e,!0,de.toString(s))}lt(e,s){return this.setLimit("max",e,!1,de.toString(s))}setLimit(e,s,n,r){return new mi({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:n,message:de.toString(r)}]})}_addCheck(e){return new mi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}mi.create=t=>new mi({checks:[],typeName:ye.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ke(t)});class Nc extends Te{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==le.boolean){const n=this._getOrReturnCtx(e);return ie(n,{code:ne.invalid_type,expected:le.boolean,received:n.parsedType}),ge}return rs(e.data)}}Nc.create=t=>new Nc({typeName:ye.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ke(t)});class ya extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==le.date){const i=this._getOrReturnCtx(e);return ie(i,{code:ne.invalid_type,expected:le.date,received:i.parsedType}),ge}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ie(i,{code:ne.invalid_date}),ge}const n=new Kt;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),ie(r,{code:ne.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),ie(r,{code:ne.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Be.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ya({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}ya.create=t=>new ya({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ye.ZodDate,...ke(t)});class kp extends Te{_parse(e){if(this._getType(e)!==le.symbol){const n=this._getOrReturnCtx(e);return ie(n,{code:ne.invalid_type,expected:le.symbol,received:n.parsedType}),ge}return rs(e.data)}}kp.create=t=>new kp({typeName:ye.ZodSymbol,...ke(t)});class kc extends Te{_parse(e){if(this._getType(e)!==le.undefined){const n=this._getOrReturnCtx(e);return ie(n,{code:ne.invalid_type,expected:le.undefined,received:n.parsedType}),ge}return rs(e.data)}}kc.create=t=>new kc({typeName:ye.ZodUndefined,...ke(t)});class Cc extends Te{_parse(e){if(this._getType(e)!==le.null){const n=this._getOrReturnCtx(e);return ie(n,{code:ne.invalid_type,expected:le.null,received:n.parsedType}),ge}return rs(e.data)}}Cc.create=t=>new Cc({typeName:ye.ZodNull,...ke(t)});class zo extends Te{constructor(){super(...arguments),this._any=!0}_parse(e){return rs(e.data)}}zo.create=t=>new zo({typeName:ye.ZodAny,...ke(t)});class ea extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return rs(e.data)}}ea.create=t=>new ea({typeName:ye.ZodUnknown,...ke(t)});class gr extends Te{_parse(e){const s=this._getOrReturnCtx(e);return ie(s,{code:ne.invalid_type,expected:le.never,received:s.parsedType}),ge}}gr.create=t=>new gr({typeName:ye.ZodNever,...ke(t)});class Cp extends Te{_parse(e){if(this._getType(e)!==le.undefined){const n=this._getOrReturnCtx(e);return ie(n,{code:ne.invalid_type,expected:le.void,received:n.parsedType}),ge}return rs(e.data)}}Cp.create=t=>new Cp({typeName:ye.ZodVoid,...ke(t)});class un extends Te{_parse(e){const{ctx:s,status:n}=this._processInputParams(e),r=this._def;if(s.parsedType!==le.array)return ie(s,{code:ne.invalid_type,expected:le.array,received:s.parsedType}),ge;if(r.exactLength!==null){const o=s.data.length>r.exactLength.value,l=s.data.length<r.exactLength.value;(o||l)&&(ie(s,{code:o?ne.too_big:ne.too_small,minimum:l?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(r.minLength!==null&&s.data.length<r.minLength.value&&(ie(s,{code:ne.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),r.maxLength!==null&&s.data.length>r.maxLength.value&&(ie(s,{code:ne.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>r.type._parseAsync(new Bn(s,o,s.path,l)))).then(o=>Kt.mergeArray(n,o));const i=[...s.data].map((o,l)=>r.type._parseSync(new Bn(s,o,s.path,l)));return Kt.mergeArray(n,i)}get element(){return this._def.type}min(e,s){return new un({...this._def,minLength:{value:e,message:de.toString(s)}})}max(e,s){return new un({...this._def,maxLength:{value:e,message:de.toString(s)}})}length(e,s){return new un({...this._def,exactLength:{value:e,message:de.toString(s)}})}nonempty(e){return this.min(1,e)}}un.create=(t,e)=>new un({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ye.ZodArray,...ke(e)});function Ua(t){if(t instanceof rt){const e={};for(const s in t.shape){const n=t.shape[s];e[s]=Mn.create(Ua(n))}return new rt({...t._def,shape:()=>e})}else return t instanceof un?new un({...t._def,type:Ua(t.element)}):t instanceof Mn?Mn.create(Ua(t.unwrap())):t instanceof yi?yi.create(Ua(t.unwrap())):t instanceof $n?$n.create(t.items.map(e=>Ua(e))):t}class rt extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=Be.objectKeys(e);return this._cached={shape:e,keys:s},this._cached}_parse(e){if(this._getType(e)!==le.object){const d=this._getOrReturnCtx(e);return ie(d,{code:ne.invalid_type,expected:le.object,received:d.parsedType}),ge}const{status:n,ctx:r}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof gr&&this._def.unknownKeys==="strip"))for(const d in r.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],p=r.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Bn(r,p,r.path,d)),alwaysSet:d in r.data})}if(this._def.catchall instanceof gr){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(d==="strict")l.length>0&&(ie(r,{code:ne.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const p=r.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Bn(r,p,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const p=await u.key,f=await u.value;d.push({key:p,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>Kt.mergeObjectSync(n,d)):Kt.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new rt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,n)=>{var i,o;const r=((o=(i=this._def).errorMap)==null?void 0:o.call(i,s,n).message)??n.defaultError;return s.code==="unrecognized_keys"?{message:de.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new rt({...this._def,unknownKeys:"strip"})}passthrough(){return new rt({...this._def,unknownKeys:"passthrough"})}extend(e){return new rt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ye.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new rt({...this._def,catchall:e})}pick(e){const s={};for(const n of Be.objectKeys(e))e[n]&&this.shape[n]&&(s[n]=this.shape[n]);return new rt({...this._def,shape:()=>s})}omit(e){const s={};for(const n of Be.objectKeys(this.shape))e[n]||(s[n]=this.shape[n]);return new rt({...this._def,shape:()=>s})}deepPartial(){return Ua(this)}partial(e){const s={};for(const n of Be.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?s[n]=r:s[n]=r.optional()}return new rt({...this._def,shape:()=>s})}required(e){const s={};for(const n of Be.objectKeys(this.shape))if(e&&!e[n])s[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Mn;)i=i._def.innerType;s[n]=i}return new rt({...this._def,shape:()=>s})}keyof(){return cP(Be.objectKeys(this.shape))}}rt.create=(t,e)=>new rt({shape:()=>t,unknownKeys:"strip",catchall:gr.create(),typeName:ye.ZodObject,...ke(e)});rt.strictCreate=(t,e)=>new rt({shape:()=>t,unknownKeys:"strict",catchall:gr.create(),typeName:ye.ZodObject,...ke(e)});rt.lazycreate=(t,e)=>new rt({shape:t,unknownKeys:"strip",catchall:gr.create(),typeName:ye.ZodObject,...ke(e)});class jc extends Te{_parse(e){const{ctx:s}=this._processInputParams(e),n=this._def.options;function r(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new js(l.ctx.common.issues));return ie(s,{code:ne.invalid_union,unionErrors:o}),ge}if(s.common.async)return Promise.all(n.map(async i=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await i._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(r);{let i;const o=[];for(const c of n){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new js(c));return ie(s,{code:ne.invalid_union,unionErrors:l}),ge}}get options(){return this._def.options}}jc.create=(t,e)=>new jc({options:t,typeName:ye.ZodUnion,...ke(e)});const Kn=t=>t instanceof Rc?Kn(t.schema):t instanceof fn?Kn(t.innerType()):t instanceof Ic?[t.value]:t instanceof gi?t.options:t instanceof Oc?Be.objectValues(t.enum):t instanceof Pc?Kn(t._def.innerType):t instanceof kc?[void 0]:t instanceof Cc?[null]:t instanceof Mn?[void 0,...Kn(t.unwrap())]:t instanceof yi?[null,...Kn(t.unwrap())]:t instanceof u0||t instanceof Mc?Kn(t.unwrap()):t instanceof Dc?Kn(t._def.innerType):[];class Gf extends Te{_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==le.object)return ie(s,{code:ne.invalid_type,expected:le.object,received:s.parsedType}),ge;const n=this.discriminator,r=s.data[n],i=this.optionsMap.get(r);return i?s.common.async?i._parseAsync({data:s.data,path:s.path,parent:s}):i._parseSync({data:s.data,path:s.path,parent:s}):(ie(s,{code:ne.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ge)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,s,n){const r=new Map;for(const i of s){const o=Kn(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(r.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);r.set(l,i)}}return new Gf({typeName:ye.ZodDiscriminatedUnion,discriminator:e,options:s,optionsMap:r,...ke(n)})}}function Ly(t,e){const s=er(t),n=er(e);if(t===e)return{valid:!0,data:t};if(s===le.object&&n===le.object){const r=Be.objectKeys(e),i=Be.objectKeys(t).filter(l=>r.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=Ly(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===le.array&&n===le.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=Ly(o,l);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return s===le.date&&n===le.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ac extends Te{_parse(e){const{status:s,ctx:n}=this._processInputParams(e),r=(i,o)=>{if(Dy(i)||Dy(o))return ge;const l=Ly(i.value,o.value);return l.valid?((My(i)||My(o))&&s.dirty(),{status:s.value,value:l.data}):(ie(n,{code:ne.invalid_intersection_types}),ge)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>r(i,o)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ac.create=(t,e,s)=>new Ac({left:t,right:e,typeName:ye.ZodIntersection,...ke(s)});class $n extends Te{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==le.array)return ie(n,{code:ne.invalid_type,expected:le.array,received:n.parsedType}),ge;if(n.data.length<this._def.items.length)return ie(n,{code:ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ge;!this._def.rest&&n.data.length>this._def.items.length&&(ie(n,{code:ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Bn(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Kt.mergeArray(s,o)):Kt.mergeArray(s,i)}get items(){return this._def.items}rest(e){return new $n({...this._def,rest:e})}}$n.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $n({items:t,typeName:ye.ZodTuple,rest:null,...ke(e)})};class Tc extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==le.object)return ie(n,{code:ne.invalid_type,expected:le.object,received:n.parsedType}),ge;const r=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)r.push({key:i._parse(new Bn(n,l,n.path,l)),value:o._parse(new Bn(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Kt.mergeObjectAsync(s,r):Kt.mergeObjectSync(s,r)}get element(){return this._def.valueType}static create(e,s,n){return s instanceof Te?new Tc({keyType:e,valueType:s,typeName:ye.ZodRecord,...ke(n)}):new Tc({keyType:an.create(),valueType:e,typeName:ye.ZodRecord,...ke(s)})}}class jp extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==le.map)return ie(n,{code:ne.invalid_type,expected:le.map,received:n.parsedType}),ge;const r=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:r._parse(new Bn(n,l,n.path,[d,"key"])),value:i._parse(new Bn(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return ge;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ge;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}jp.create=(t,e,s)=>new jp({valueType:e,keyType:t,typeName:ye.ZodMap,...ke(s)});class va extends Te{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==le.set)return ie(n,{code:ne.invalid_type,expected:le.set,received:n.parsedType}),ge;const r=this._def;r.minSize!==null&&n.data.size<r.minSize.value&&(ie(n,{code:ne.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),s.dirty()),r.maxSize!==null&&n.data.size>r.maxSize.value&&(ie(n,{code:ne.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),s.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ge;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new Bn(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,s){return new va({...this._def,minSize:{value:e,message:de.toString(s)}})}max(e,s){return new va({...this._def,maxSize:{value:e,message:de.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}va.create=(t,e)=>new va({valueType:t,minSize:null,maxSize:null,typeName:ye.ZodSet,...ke(e)});class po extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==le.function)return ie(s,{code:ne.invalid_type,expected:le.function,received:s.parsedType}),ge;function n(l,c){return Np({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Ep(),Uo].filter(d=>!!d),issueData:{code:ne.invalid_arguments,argumentsError:c}})}function r(l,c){return Np({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Ep(),Uo].filter(d=>!!d),issueData:{code:ne.invalid_return_type,returnTypeError:c}})}const i={errorMap:s.common.contextualErrorMap},o=s.data;if(this._def.returns instanceof qo){const l=this;return rs(async function(...c){const d=new js([]),u=await l._def.args.parseAsync(c,i).catch(y=>{throw d.addIssue(n(c,y)),d}),p=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(p,i).catch(y=>{throw d.addIssue(r(p,y)),d})})}else{const l=this;return rs(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new js([n(c,d.error)]);const u=Reflect.apply(o,this,d.data),p=l._def.returns.safeParse(u,i);if(!p.success)throw new js([r(u,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new po({...this._def,args:$n.create(e).rest(ea.create())})}returns(e){return new po({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,s,n){return new po({args:e||$n.create([]).rest(ea.create()),returns:s||ea.create(),typeName:ye.ZodFunction,...ke(n)})}}class Rc extends Te{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Rc.create=(t,e)=>new Rc({getter:t,typeName:ye.ZodLazy,...ke(e)});class Ic extends Te{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return ie(s,{received:s.data,code:ne.invalid_literal,expected:this._def.value}),ge}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ic.create=(t,e)=>new Ic({value:t,typeName:ye.ZodLiteral,...ke(e)});function cP(t,e){return new gi({values:t,typeName:ye.ZodEnum,...ke(e)})}class gi extends Te{_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),n=this._def.values;return ie(s,{expected:Be.joinValues(n),received:s.parsedType,code:ne.invalid_type}),ge}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const s=this._getOrReturnCtx(e),n=this._def.values;return ie(s,{received:s.data,code:ne.invalid_enum_value,options:n}),ge}return rs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return gi.create(e,{...this._def,...s})}exclude(e,s=this._def){return gi.create(this.options.filter(n=>!e.includes(n)),{...this._def,...s})}}gi.create=cP;class Oc extends Te{_parse(e){const s=Be.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==le.string&&n.parsedType!==le.number){const r=Be.objectValues(s);return ie(n,{expected:Be.joinValues(r),received:n.parsedType,code:ne.invalid_type}),ge}if(this._cache||(this._cache=new Set(Be.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=Be.objectValues(s);return ie(n,{received:n.data,code:ne.invalid_enum_value,options:r}),ge}return rs(e.data)}get enum(){return this._def.values}}Oc.create=(t,e)=>new Oc({values:t,typeName:ye.ZodNativeEnum,...ke(e)});class qo extends Te{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==le.promise&&s.common.async===!1)return ie(s,{code:ne.invalid_type,expected:le.promise,received:s.parsedType}),ge;const n=s.parsedType===le.promise?s.data:Promise.resolve(s.data);return rs(n.then(r=>this._def.type.parseAsync(r,{path:s.path,errorMap:s.common.contextualErrorMap})))}}qo.create=(t,e)=>new qo({type:t,typeName:ye.ZodPromise,...ke(e)});class fn extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:o=>{ie(n,o),o.fatal?s.abort():s.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const o=r.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return ge;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ge:c.status==="dirty"||s.value==="dirty"?no(c.value):c});{if(s.value==="aborted")return ge;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ge:l.status==="dirty"||s.value==="dirty"?no(l.value):l}}if(r.type==="refinement"){const o=l=>{const c=r.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ge:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ge:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(r.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ga(o))return ge;const l=r.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ga(o)?Promise.resolve(r.transform(o.value,i)).then(l=>({status:s.value,value:l})):ge);Be.assertNever(r)}}fn.create=(t,e,s)=>new fn({schema:t,typeName:ye.ZodEffects,effect:e,...ke(s)});fn.createWithPreprocess=(t,e,s)=>new fn({schema:e,effect:{type:"preprocess",transform:t},typeName:ye.ZodEffects,...ke(s)});class Mn extends Te{_parse(e){return this._getType(e)===le.undefined?rs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mn.create=(t,e)=>new Mn({innerType:t,typeName:ye.ZodOptional,...ke(e)});class yi extends Te{_parse(e){return this._getType(e)===le.null?rs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yi.create=(t,e)=>new yi({innerType:t,typeName:ye.ZodNullable,...ke(e)});class Pc extends Te{_parse(e){const{ctx:s}=this._processInputParams(e);let n=s.data;return s.parsedType===le.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Pc.create=(t,e)=>new Pc({innerType:t,typeName:ye.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ke(e)});class Dc extends Te{_parse(e){const{ctx:s}=this._processInputParams(e),n={...s,common:{...s.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ec(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new js(n.common.issues)},input:n.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new js(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Dc.create=(t,e)=>new Dc({innerType:t,typeName:ye.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ke(e)});class Ap extends Te{_parse(e){if(this._getType(e)!==le.nan){const n=this._getOrReturnCtx(e);return ie(n,{code:ne.invalid_type,expected:le.nan,received:n.parsedType}),ge}return{status:"valid",value:e.data}}}Ap.create=t=>new Ap({typeName:ye.ZodNaN,...ke(t)});const BY=Symbol("zod_brand");class u0 extends Te{_parse(e){const{ctx:s}=this._processInputParams(e),n=s.data;return this._def.type._parse({data:n,path:s.path,parent:s})}unwrap(){return this._def.type}}class pu extends Te{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ge:i.status==="dirty"?(s.dirty(),no(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const r=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return r.status==="aborted"?ge:r.status==="dirty"?(s.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:n.path,parent:n})}}static create(e,s){return new pu({in:e,out:s,typeName:ye.ZodPipeline})}}class Mc extends Te{_parse(e){const s=this._def.innerType._parse(e),n=r=>(ga(r)&&(r.value=Object.freeze(r.value)),r);return Ec(s)?s.then(r=>n(r)):n(s)}unwrap(){return this._def.innerType}}Mc.create=(t,e)=>new Mc({innerType:t,typeName:ye.ZodReadonly,...ke(e)});function oS(t,e){const s=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof s=="string"?{message:s}:s}function d0(t,e={},s){return t?zo.create().superRefine((n,r)=>{const i=t(n);if(i instanceof Promise)return i.then(o=>{if(!o){const l=oS(e,n),c=l.fatal??s??!0;r.addIssue({code:"custom",...l,fatal:c})}});if(!i){const o=oS(e,n),l=o.fatal??s??!0;r.addIssue({code:"custom",...o,fatal:l})}}):zo.create()}const $Y={object:rt.lazycreate};var ye;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ye||(ye={}));const UY=(t,e={message:`Input not instance of ${t.name}`})=>d0(s=>s instanceof t,e),xa=an.create,Dr=hi.create,zY=Ap.create,qY=mi.create,Wf=Nc.create,Fy=ya.create,QY=kp.create,VY=kc.create,uP=Cc.create,Tp=zo.create,HY=ea.create,GY=gr.create,WY=Cp.create,dP=un.create,Kf=rt.create,KY=rt.strictCreate,p0=jc.create,YY=Gf.create,JY=Ac.create,XY=$n.create,pP=Tc.create,ZY=jp.create,eJ=va.create,tJ=po.create,sJ=Rc.create,nJ=Ic.create,rJ=gi.create,iJ=Oc.create,aJ=qo.create,lS=fn.create,oJ=Mn.create,lJ=yi.create,cJ=fn.createWithPreprocess,uJ=pu.create,dJ=()=>xa().optional(),pJ=()=>Dr().optional(),fJ=()=>Wf().optional(),hJ={string:t=>an.create({...t,coerce:!0}),number:t=>hi.create({...t,coerce:!0}),boolean:t=>Nc.create({...t,coerce:!0}),bigint:t=>mi.create({...t,coerce:!0}),date:t=>ya.create({...t,coerce:!0})},mJ=ge,gJ=Object.freeze(Object.defineProperty({__proto__:null,BRAND:BY,DIRTY:no,EMPTY_PATH:yY,INVALID:ge,NEVER:mJ,OK:rs,ParseStatus:Kt,Schema:Te,ZodAny:zo,ZodArray:un,ZodBigInt:mi,ZodBoolean:Nc,ZodBranded:u0,ZodCatch:Dc,ZodDate:ya,ZodDefault:Pc,ZodDiscriminatedUnion:Gf,ZodEffects:fn,ZodEnum:gi,ZodError:js,get ZodFirstPartyTypeKind(){return ye},ZodFunction:po,ZodIntersection:Ac,ZodIssueCode:ne,ZodLazy:Rc,ZodLiteral:Ic,ZodMap:jp,ZodNaN:Ap,ZodNativeEnum:Oc,ZodNever:gr,ZodNull:Cc,ZodNullable:yi,ZodNumber:hi,ZodObject:rt,ZodOptional:Mn,ZodParsedType:le,ZodPipeline:pu,ZodPromise:qo,ZodReadonly:Mc,ZodRecord:Tc,ZodSchema:Te,ZodSet:va,ZodString:an,ZodSymbol:kp,ZodTransformer:fn,ZodTuple:$n,ZodType:Te,ZodUndefined:kc,ZodUnion:jc,ZodUnknown:ea,ZodVoid:Cp,addIssueToContext:ie,any:Tp,array:dP,bigint:qY,boolean:Wf,coerce:hJ,custom:d0,date:Fy,datetimeRegex:lP,defaultErrorMap:Uo,discriminatedUnion:YY,effect:lS,enum:rJ,function:tJ,getErrorMap:Ep,getParsedType:er,instanceof:UY,intersection:JY,isAborted:Dy,isAsync:Ec,isDirty:My,isValid:ga,late:$Y,lazy:sJ,literal:nJ,makeIssue:Np,map:ZY,nan:zY,nativeEnum:iJ,never:GY,null:uP,nullable:lJ,number:Dr,object:Kf,get objectUtil(){return Py},oboolean:fJ,onumber:pJ,optional:oJ,ostring:dJ,pipeline:uJ,preprocess:cJ,promise:aJ,quotelessJson:mY,record:pP,set:eJ,setErrorMap:gY,strictObject:KY,string:xa,symbol:QY,transformer:lS,tuple:XY,undefined:VY,union:p0,unknown:HY,get util(){return Be},void:WY},Symbol.toStringTag,{value:"Module"}));var yJ=["buffer","Buffer"];const nt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function gt(t,e){return e.includes(t.columnType)}function vJ(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const xJ=p0([xa(),Dr(),Wf(),uP()]),bJ=p0([xJ,pP(Tp()),dP(Tp())]),wJ=d0(t=>t instanceof yJ);function fP(t,e){const s=(e==null?void 0:e.zodInstance)??gJ,n=(e==null?void 0:e.coerce)??{};let r;return vJ(t)&&(r=t.enumValues.length?s.enum(t.enumValues):s.string()),r||(gt(t,["PgGeometry","PgPointTuple"])?r=s.tuple([s.number(),s.number()]):gt(t,["PgGeometryObject","PgPointObject"])?r=s.object({x:s.number(),y:s.number()}):gt(t,["PgHalfVector","PgVector"])?(r=s.array(s.number()),r=t.dimensions?r.length(t.dimensions):r):gt(t,["PgLine"])?r=s.tuple([s.number(),s.number(),s.number()]):gt(t,["PgLineABC"])?r=s.object({a:s.number(),b:s.number(),c:s.number()}):gt(t,["PgArray"])?(r=s.array(fP(t.baseColumn,s)),r=t.size?r.length(t.size):r):t.dataType==="array"?r=s.array(s.any()):t.dataType==="number"?r=SJ(t,s,n):t.dataType==="bigint"?r=_J(t,s,n):t.dataType==="boolean"?r=n===!0||n.boolean?s.coerce.boolean():s.boolean():t.dataType==="date"?r=n===!0||n.date?s.coerce.date():s.date():t.dataType==="string"?r=EJ(t,s,n):t.dataType==="json"?r=bJ:t.dataType==="custom"?r=s.any():t.dataType==="buffer"&&(r=wJ)),r||(r=s.any()),r}function SJ(t,e,s){let n=t.getSQLType().includes("unsigned"),r,i,o=!1;gt(t,["MySqlTinyInt","SingleStoreTinyInt"])?(r=n?0:nt.INT8_MIN,i=n?nt.INT8_UNSIGNED_MAX:nt.INT8_MAX,o=!0):gt(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(r=n?0:nt.INT16_MIN,i=n?nt.INT16_UNSIGNED_MAX:nt.INT16_MAX,o=!0):gt(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(r=n?0:nt.INT24_MIN,i=n?nt.INT24_UNSIGNED_MAX:nt.INT24_MAX,o=gt(t,["MySqlMediumInt","SingleStoreMediumInt"])):gt(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(r=n?0:nt.INT32_MIN,i=n?nt.INT32_UNSIGNED_MAX:nt.INT32_MAX,o=!0):gt(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(r=n?0:nt.INT48_MIN,i=n?nt.INT48_UNSIGNED_MAX:nt.INT48_MAX):gt(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||gt(t,["MySqlSerial","SingleStoreSerial"]),r=n?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):gt(t,["MySqlYear","SingleStoreYear"])?(r=1901,i=2155,o=!0):(r=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=s===!0||s!=null&&s.number?e.coerce.number():e.number();return l=l.min(r).max(i),o?l.int():l}function _J(t,e,s){const n=t.getSQLType().includes("unsigned"),r=n?0n:nt.INT64_MIN,i=n?nt.INT64_UNSIGNED_MAX:nt.INT64_MAX;return(s===!0||s!=null&&s.bigint?e.coerce.bigint():e.bigint()).min(r).max(i)}function EJ(t,e,s){if(gt(t,["PgUUID"]))return e.string().uuid();let n,r,i=!1;gt(t,["PgVarchar","SQLiteText"])?n=t.length:gt(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??nt.INT16_UNSIGNED_MAX:gt(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=nt.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=nt.INT24_UNSIGNED_MAX:t.textType==="text"?n=nt.INT16_UNSIGNED_MAX:n=nt.INT8_UNSIGNED_MAX),gt(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,i=!0),gt(t,["PgBinaryVector"])&&(r=/^[01]+$/,n=t.dimensions);let o=s===!0||s!=null&&s.string?e.coerce.string():e.string();return o=r?o.regex(r):o,n&&i?o.length(n):n?o.max(n):o}function hP(t){return mI(t)?SI(t):HW(t)}function mP(t,e,s,n){const r={};for(const[i,o]of Object.entries(t)){if(!Z(o,xt)&&!Z(o,pe)&&!Z(o,pe.Aliased)&&typeof o=="object"){const p=mI(o)||qW(o)?hP(o):o;r[i]=mP(p,e[i]??{},s,n);continue}const l=e[i];if(l!==void 0&&typeof l!="function"){r[i]=l;continue}const c=Z(o,xt)?o:void 0,d=c?fP(c,n):Tp(),u=typeof l=="function"?l(d):d;s.never(c)||(r[i]=u,c&&(s.nullable(c)&&(r[i]=r[i].nullable()),s.optional(c)&&(r[i]=r[i].optional())))}return Kf(r)}const NJ={never:t=>{var e,s;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((s=t==null?void 0:t.generatedIdentity)==null?void 0:s.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},fu=(t,e)=>{const s=hP(t);return mP(s,{},NJ)},kJ=_i("role",["CONSUMER","MERCHANT","DRIVER","ADMIN"]),Yf=_i("verification_status",["PENDING","APPROVED","REJECTED","VERIFIED"]),gP=_i("order_status",["PENDING","CONFIRMED","IN_PROGRESS","DELIVERED","CANCELLED"]),CJ=_i("payment_status",["PENDING","COMPLETED","FAILED","REFUNDED"]),_e=xe("users",{id:ve("id").primaryKey(),email:Ee("email",{length:255}).unique().notNull(),fullName:Ee("full_name",{length:255}).notNull(),phone:Ee("phone",{length:20}),passwordHash:q("password_hash").notNull(),role:kJ("role").default("CONSUMER"),isVerified:ze("is_verified").default(!1),isActive:ze("is_active").default(!0),profilePicture:q("profile_picture"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow(),emailVerified:ze("email_verified").default(!1),phoneVerified:ze("phone_verified").default(!1),dateOfBirth:J("date_of_birth"),address:q("address"),city:Ee("city",{length:100}),state:Ee("state",{length:100}),country:Ee("country",{length:100}).default("Nigeria"),referralCode:Ee("referral_code",{length:20}).unique(),referredBy:ee("referred_by").references(()=>_e.id),mfaEnabled:ze("mfa_enabled").default(!1),mfaMethod:Ee("mfa_method",{length:10}),mfaSecret:q("mfa_secret"),mfaBackupCodes:De("mfa_backup_codes"),biometricHash:q("biometric_hash"),biometricType:Ee("biometric_type",{length:20}),lastLoginAt:J("last_login_at"),loginAttempts:ee("login_attempts").default(0),accountLockedUntil:J("account_locked_until")});xe("mfa_tokens",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id).notNull(),token:q("token").notNull(),method:Ee("method",{length:10}).notNull(),expiresAt:J("expires_at").notNull(),isUsed:ze("is_used").default(!1),usedAt:J("used_at"),createdAt:J("created_at").defaultNow()});xe("verification_documents",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id).notNull(),documentType:Ee("document_type",{length:30}).notNull(),documentNumber:Ee("document_number",{length:50}),fileName:q("file_name").notNull(),fileSize:ee("file_size"),mimeType:Ee("mime_type",{length:100}),expiryDate:J("expiry_date"),status:Yf("status").default("PENDING"),validationScore:Ne("validation_score",{precision:3,scale:2}),extractedData:De("extracted_data"),rejectionReason:q("rejection_reason"),reviewedBy:ee("reviewed_by").references(()=>_e.id),reviewedAt:J("reviewed_at"),uploadedAt:J("uploaded_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});xe("security_logs",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id),action:Ee("action",{length:50}).notNull(),details:De("details"),ipAddress:Ee("ip_address",{length:45}),userAgent:q("user_agent"),severity:Ee("severity",{length:20}).default("INFO"),timestamp:J("timestamp").defaultNow()});xe("trusted_devices",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id).notNull(),deviceToken:q("device_token").unique().notNull(),deviceName:Ee("device_name",{length:100}),deviceType:Ee("device_type",{length:50}),browserInfo:q("browser_info"),lastUsedAt:J("last_used_at"),expiresAt:J("expires_at").notNull(),isActive:ze("is_active").default(!0),createdAt:J("created_at").defaultNow()});const jJ=xe("products",{id:ve("id").primaryKey(),name:q("name").notNull(),description:q("description"),price:Ne("price",{precision:10,scale:2}).notNull(),unit:q("unit").notNull(),categoryName:q("category_name").notNull(),sellerId:ee("seller_id").references(()=>_e.id).notNull(),images:De("images").default([]),rating:Ne("rating",{precision:3,scale:2}).default("0"),reviewCount:ee("review_count").default(0),inStock:ze("in_stock").default(!0),stockLevel:ee("stock_level").default(0),lowStockThreshold:ee("low_stock_threshold").default(10),isActive:ze("is_active").default(!0),totalSold:ee("total_sold").default(0),totalViews:ee("total_views").default(0),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});xe("categories_legacy",{id:ve("id").primaryKey(),name:q("name").unique().notNull(),description:q("description"),icon:q("icon"),isActive:ze("is_active").default(!0),createdAt:J("created_at").defaultNow()});const hu=xe("orders",{id:ve("id").primaryKey(),orderNumber:q("order_number").unique().notNull(),customerId:ee("customer_id").references(()=>_e.id).notNull(),merchantId:ee("merchant_id").references(()=>_e.id),driverId:ee("driver_id").references(()=>_e.id),orderType:q("order_type").notNull(),status:gP("status").default("PENDING"),totalAmount:Ne("total_amount",{precision:10,scale:2}).notNull(),deliveryAddress:q("delivery_address"),deliveryLatitude:Ne("delivery_latitude",{precision:10,scale:8}),deliveryLongitude:Ne("delivery_longitude",{precision:11,scale:8}),orderData:De("order_data"),pickupAddress:q("pickup_address"),deliveryFee:Ne("delivery_fee",{precision:10,scale:2}),urgentOrder:ze("urgent_order").default(!1),estimatedPreparationTime:ee("estimated_preparation_time"),notes:q("notes"),paymentStatus:q("payment_status").default("PENDING"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()}),yP=xe("transactions",{id:ve("id").primaryKey(),orderId:ee("order_id").references(()=>hu.id),userId:ee("user_id").references(()=>_e.id).notNull(),amount:Ne("amount",{precision:10,scale:2}).notNull(),currency:q("currency").default("NGN"),paymentMethod:q("payment_method").notNull(),paymentStatus:CJ("payment_status").default("PENDING"),transactionRef:q("transaction_ref").unique(),paymentGatewayRef:q("payment_gateway_ref"),metadata:De("metadata"),createdAt:J("created_at").defaultNow()}),AJ=xe("fuel_orders",{id:ve("id").primaryKey(),customerId:ee("customer_id").references(()=>_e.id).notNull(),driverId:ee("driver_id").references(()=>_e.id),stationId:q("station_id").notNull(),fuelType:q("fuel_type").notNull(),quantity:Ne("quantity",{precision:8,scale:2}).notNull(),unitPrice:Ne("unit_price",{precision:10,scale:2}).notNull(),totalAmount:Ne("total_amount",{precision:10,scale:2}).notNull(),deliveryAddress:q("delivery_address").notNull(),deliveryLatitude:Ne("delivery_latitude",{precision:10,scale:8}).notNull(),deliveryLongitude:Ne("delivery_longitude",{precision:11,scale:8}).notNull(),scheduledDeliveryTime:J("scheduled_delivery_time"),status:q("status").default("PENDING"),notes:q("notes"),estimatedDeliveryTime:q("estimated_delivery_time"),acceptedAt:J("accepted_at"),pickedUpAt:J("picked_up_at"),deliveredAt:J("delivered_at"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});xe("driver_profiles",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id).notNull(),vehicleType:q("vehicle_type"),vehicleModel:q("vehicle_model"),plateNumber:q("plate_number"),licenseNumber:q("license_number"),licenseExpiry:J("license_expiry"),vehicleYear:ee("vehicle_year"),vehicleColor:Ee("vehicle_color",{length:30}),isAvailable:ze("is_available").default(!0),currentLatitude:Ne("current_latitude",{precision:10,scale:8}),currentLongitude:Ne("current_longitude",{precision:11,scale:8}),rating:Ne("rating",{precision:3,scale:2}).default("5.00"),totalTrips:ee("total_trips").default(0),earnings:Ne("earnings",{precision:10,scale:2}).default("0.00"),kycData:De("kyc_data"),kycStatus:Ee("kyc_status",{length:20}).default("PENDING"),kycSubmittedAt:J("kyc_submitted_at"),kycApprovedAt:J("kyc_approved_at"),kycApprovedBy:ee("kyc_approved_by").references(()=>_e.id),verificationLevel:Ee("verification_level",{length:20}).default("BASIC"),backgroundCheckStatus:Ee("background_check_status",{length:20}).default("PENDING"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});xe("merchant_profiles",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id).notNull(),businessName:q("business_name"),businessAddress:q("business_address"),businessLatitude:Ne("business_latitude",{precision:10,scale:8}),businessLongitude:Ne("business_longitude",{precision:11,scale:8}),businessType:q("business_type"),isOpen:ze("is_open").default(!0),rating:Ne("rating",{precision:3,scale:2}).default("5.0"),totalOrders:ee("total_orders").default(0),revenue:Ne("revenue",{precision:10,scale:2}).default("0"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});xe("identity_verifications",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id).notNull(),documentType:q("document_type").notNull(),documentNumber:q("document_number").notNull(),documentImageUrl:q("document_image_url"),verificationStatus:Yf("verification_status").default("PENDING"),submittedAt:J("submitted_at").defaultNow(),reviewedAt:J("reviewed_at"),reviewedBy:ee("reviewed_by").references(()=>_e.id),rejectionReason:q("rejection_reason")});xe("driver_verifications",{id:ve("id").primaryKey(),driverId:ee("driver_id").references(()=>_e.id).notNull(),licenseImageUrl:q("license_image_url"),vehicleRegistrationUrl:q("vehicle_registration_url"),insuranceUrl:q("insurance_url"),verificationStatus:Yf("verification_status").default("PENDING"),submittedAt:J("submitted_at").defaultNow(),reviewedAt:J("reviewed_at"),reviewedBy:ee("reviewed_by").references(()=>_e.id),rejectionReason:q("rejection_reason")});xe("user_locations",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id).notNull(),latitude:Ne("latitude",{precision:10,scale:8}).notNull(),longitude:Ne("longitude",{precision:11,scale:8}).notNull(),address:q("address"),isDefault:ze("is_default").default(!1),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});xe("order_tracking",{id:ve("id").primaryKey(),orderId:ee("order_id").references(()=>hu.id).notNull(),driverId:ee("driver_id").references(()=>_e.id),status:gP("status").notNull(),latitude:Ne("latitude",{precision:10,scale:8}),longitude:Ne("longitude",{precision:11,scale:8}),address:q("address"),notes:q("notes"),estimatedArrival:J("estimated_arrival"),actualArrival:J("actual_arrival"),metadata:De("metadata"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});xe("wallets",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id).notNull(),balance:Ne("balance",{precision:10,scale:2}).default("0"),currency:q("currency").default("NGN"),isActive:ze("is_active").default(!0),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});xe("payment_methods",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id).notNull(),type:q("type").notNull(),provider:q("provider"),last4:q("last4"),expiryMonth:q("expiry_month"),expiryYear:q("expiry_year"),isDefault:ze("is_default").default(!1),isActive:ze("is_active").default(!0),metadata:De("metadata"),createdAt:J("created_at").defaultNow()});xe("escrow_transactions",{id:ve("id").primaryKey(),orderId:ee("order_id").references(()=>hu.id),customerId:ee("customer_id").references(()=>_e.id).notNull(),merchantId:ee("merchant_id").references(()=>_e.id),amount:Ne("amount",{precision:10,scale:2}).notNull(),currency:q("currency").default("NGN"),status:q("status").default("PENDING"),paymentMethod:q("payment_method"),paymentReference:q("payment_reference"),escrowReleaseDate:J("escrow_release_date"),releasedAt:J("released_at"),releasedBy:ee("released_by").references(()=>_e.id),disputeId:ee("dispute_id"),failureReason:q("failure_reason"),customerDetails:De("customer_details"),metadata:De("metadata"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});const Un=xe("admin_users",{id:ve("id").primaryKey(),username:q("username").unique().notNull(),email:q("email").unique().notNull(),password:q("password").notNull(),fullName:q("full_name").notNull(),role:q("role").default("ADMIN"),permissions:De("permissions").default([]),isActive:ze("is_active").default(!0),lastLogin:J("last_login"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});xe("compliance_documents",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id),documentType:q("document_type").notNull(),documentUrl:q("document_url").notNull(),verificationStatus:Yf("verification_status").default("PENDING"),submittedAt:J("submitted_at").defaultNow(),reviewedAt:J("reviewed_at"),reviewedBy:ee("reviewed_by").references(()=>Un.id),expiryDate:J("expiry_date"),notes:q("notes")});const TJ=xe("content_reports",{id:ve("id").primaryKey(),reportedBy:ee("reported_by").references(()=>_e.id).notNull(),reportedUserId:ee("reported_user_id").references(()=>_e.id),reportedContentId:ee("reported_content_id"),contentType:q("content_type"),reason:q("reason").notNull(),description:q("description"),status:q("status").default("PENDING"),reviewedBy:ee("reviewed_by").references(()=>Un.id),reviewedAt:J("reviewed_at"),action:q("action"),createdAt:J("created_at").defaultNow()});xe("moderation_responses",{id:ve("id").primaryKey(),reportId:ee("report_id").references(()=>TJ.id).notNull(),moderatorId:ee("moderator_id").references(()=>Un.id).notNull(),action:q("action").notNull(),reason:q("reason"),notes:q("notes"),createdAt:J("created_at").defaultNow()});xe("vendor_violations",{id:ve("id").primaryKey(),vendorId:ee("vendor_id").references(()=>_e.id).notNull(),violationType:q("violation_type").notNull(),description:q("description").notNull(),severity:q("severity").default("MEDIUM"),status:q("status").default("ACTIVE"),reportedBy:ee("reported_by").references(()=>_e.id),reviewedBy:ee("reviewed_by").references(()=>Un.id),penaltyApplied:q("penalty_applied"),resolvedAt:J("resolved_at"),createdAt:J("created_at").defaultNow()});xe("admin_payment_actions",{id:ve("id").primaryKey(),transactionId:ee("transaction_id").references(()=>yP.id).notNull(),adminId:ee("admin_id").references(()=>Un.id).notNull(),actionType:q("action_type").notNull(),amount:Ne("amount",{precision:10,scale:2}),reason:q("reason").notNull(),status:q("status").default("PENDING"),processedAt:J("processed_at"),metadata:De("metadata"),createdAt:J("created_at").defaultNow()});xe("fraud_alerts",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id),alertType:q("alert_type").notNull(),severity:q("severity").default("MEDIUM"),description:q("description").notNull(),data:De("data"),status:q("status").default("PENDING"),reviewedBy:ee("reviewed_by").references(()=>Un.id),reviewedAt:J("reviewed_at"),action:q("action"),createdAt:J("created_at").defaultNow()});xe("suspicious_activities",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id),activityType:q("activity_type").notNull(),description:q("description").notNull(),ipAddress:q("ip_address"),userAgent:q("user_agent"),riskScore:ee("risk_score"),metadata:De("metadata"),flagged:ze("flagged").default(!1),reviewedBy:ee("reviewed_by").references(()=>Un.id),reviewedAt:J("reviewed_at"),createdAt:J("created_at").defaultNow()});xe("account_flags",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id).notNull(),flagType:q("flag_type").notNull(),reason:q("reason").notNull(),severity:q("severity").default("MEDIUM"),isActive:ze("is_active").default(!0),flaggedBy:ee("flagged_by").references(()=>Un.id),resolvedBy:ee("resolved_by").references(()=>Un.id),resolvedAt:J("resolved_at"),expiresAt:J("expires_at"),metadata:De("metadata"),createdAt:J("created_at").defaultNow()});xe("delivery_requests",{id:ve("id").primaryKey(),orderId:ee("order_id").references(()=>hu.id).notNull(),merchantId:ee("merchant_id").references(()=>_e.id).notNull(),customerId:ee("customer_id").references(()=>_e.id).notNull(),driverId:ee("driver_id").references(()=>_e.id),deliveryType:q("delivery_type").notNull(),pickupAddress:q("pickup_address").notNull(),pickupLatitude:Ne("pickup_latitude",{precision:10,scale:8}),pickupLongitude:Ne("pickup_longitude",{precision:11,scale:8}),deliveryAddress:q("delivery_address").notNull(),deliveryLatitude:Ne("delivery_latitude",{precision:10,scale:8}),deliveryLongitude:Ne("delivery_longitude",{precision:11,scale:8}),deliveryFee:Ne("delivery_fee",{precision:10,scale:2}).notNull(),distance:Ne("distance",{precision:8,scale:2}),estimatedTime:ee("estimated_time"),orderValue:Ne("order_value",{precision:10,scale:2}),urgentDelivery:ze("urgent_delivery").default(!1),customerName:q("customer_name"),customerPhone:q("customer_phone"),merchantName:q("merchant_name"),status:q("status").default("PENDING"),acceptedAt:J("accepted_at"),pickedUpAt:J("picked_up_at"),deliveredAt:J("delivered_at"),expiresAt:J("expires_at"),metadata:De("metadata"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});xe("vendor_posts",{id:ve("id").primaryKey(),vendorId:ee("vendor_id").references(()=>_e.id).notNull(),title:q("title").notNull(),content:q("content").notNull(),images:De("images").default([]),postType:q("post_type").default("GENERAL"),isActive:ze("is_active").default(!0),likes:ee("likes").default(0),shares:ee("shares").default(0),views:ee("views").default(0),metadata:De("metadata"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});const RJ=xe("conversations",{id:ve("id").primaryKey(),participantIds:De("participant_ids").notNull(),conversationType:q("conversation_type").default("DIRECT"),title:q("title"),isActive:ze("is_active").default(!0),lastMessageId:ee("last_message_id"),lastMessageAt:J("last_message_at"),metadata:De("metadata"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});xe("chat_messages",{id:ve("id").primaryKey(),conversationId:ee("conversation_id").references(()=>RJ.id).notNull(),senderId:ee("sender_id").references(()=>_e.id).notNull(),messageType:q("message_type").default("TEXT"),content:q("content"),attachments:De("attachments").default([]),isEdited:ze("is_edited").default(!1),editedAt:J("edited_at"),isDeleted:ze("is_deleted").default(!1),deletedAt:J("deleted_at"),readBy:De("read_by").default([]),metadata:De("metadata"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});xe("toll_gates",{id:ve("id").primaryKey(),name:Ee("name",{length:255}).notNull(),location:Ee("location",{length:255}).notNull(),latitude:Ne("latitude",{precision:10,scale:8}).notNull(),longitude:Ne("longitude",{precision:11,scale:8}).notNull(),qrCode:Ee("qr_code",{length:255}).unique().notNull(),tariff:Ne("tariff",{precision:10,scale:2}).notNull(),operationalHours:Ee("operational_hours",{length:100}),status:Ee("status",{length:20}).default("ACTIVE"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});const IJ=xe("support_tickets",{id:ve("id").primaryKey(),ticketNumber:Ee("ticket_number",{length:20}).unique().notNull(),userId:ee("user_id").references(()=>_e.id),userRole:Ee("user_role",{length:20}).notNull(),name:Ee("name",{length:255}).notNull(),email:Ee("email",{length:255}).notNull(),subject:Ee("subject",{length:500}).notNull(),message:q("message").notNull(),status:Ee("status",{length:20}).default("OPEN"),priority:Ee("priority",{length:20}).default("NORMAL"),assignedTo:ee("assigned_to").references(()=>Un.id),adminNotes:q("admin_notes"),resolution:q("resolution"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow(),resolvedAt:J("resolved_at")});xe("support_responses",{id:ve("id").primaryKey(),ticketId:ee("ticket_id").references(()=>IJ.id).notNull(),responderId:ee("responder_id").notNull(),responderType:Ee("responder_type",{length:20}).notNull(),message:q("message").notNull(),attachments:q("attachments"),createdAt:J("created_at").defaultNow()});xe("audit_logs",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id),action:Ee("action",{length:100}).notNull(),resource:Ee("resource",{length:50}).notNull(),resourceId:Ee("resource_id",{length:255}),oldValues:q("old_values"),newValues:q("new_values"),ipAddress:Ee("ip_address",{length:45}).notNull(),userAgent:q("user_agent"),sessionId:Ee("session_id",{length:255}),success:ze("success").notNull(),errorMessage:q("error_message"),metadata:q("metadata"),createdAt:J("created_at").defaultNow().notNull()});xe("push_tokens",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id).notNull(),token:q("token").notNull(),platform:Ee("platform",{length:10}).notNull(),deviceInfo:q("device_info"),isActive:ze("is_active").default(!0).notNull(),lastUsed:J("last_used").defaultNow().notNull(),createdAt:J("created_at").defaultNow().notNull(),updatedAt:J("updated_at").defaultNow().notNull()});xe("notifications",{id:ve("id").primaryKey(),userId:ee("user_id").references(()=>_e.id).notNull(),title:Ee("title",{length:255}).notNull(),body:q("body").notNull(),category:Ee("category",{length:50}).default("general").notNull(),data:q("data"),isRead:ze("is_read").default(!1).notNull(),createdAt:J("created_at").defaultNow().notNull(),updatedAt:J("updated_at").defaultNow().notNull()});xe("categories",{id:ve("id").primaryKey(),name:q("name").notNull(),description:q("description"),parentId:ee("parent_id"),isActive:ze("is_active").default(!0),sortOrder:ee("sort_order").default(0),createdBy:ee("created_by"),updatedBy:ee("updated_by"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});xe("user_behavior_tracking",{id:ve("id").primaryKey(),userId:ee("user_id").notNull(),userRole:q("user_role").notNull(),sessionId:q("session_id").notNull(),eventType:q("event_type").notNull(),eventCategory:q("event_category").notNull(),eventAction:q("event_action").notNull(),eventLabel:q("event_label"),eventValue:Ne("event_value"),pagePath:q("page_path"),pageTitle:q("page_title"),referrer:q("referrer"),deviceType:q("device_type"),browserName:q("browser_name"),operatingSystem:q("operating_system"),screenResolution:q("screen_resolution"),ipAddress:q("ip_address"),country:q("country"),city:q("city"),networkType:q("network_type"),duration:ee("duration"),customDimensions:De("custom_dimensions"),metadata:De("metadata"),timestamp:J("timestamp").defaultNow(),createdAt:J("created_at").defaultNow()});xe("personalization_profiles",{id:ve("id").primaryKey(),userId:ee("user_id").notNull().unique(),preferredCategories:De("preferred_categories"),peakActivityHours:De("peak_activity_hours"),averageOrderValue:Ne("average_order_value"),churnRisk:Ne("churn_risk"),lastUpdated:J("last_updated").defaultNow(),createdAt:J("created_at").defaultNow()});xe("cross_role_interactions",{id:q("id").primaryKey(),initiatorId:ee("initiator_id").notNull(),initiatorRole:q("initiator_role").notNull(),targetId:ee("target_id").notNull(),targetRole:q("target_role").notNull(),interactionType:q("interaction_type").notNull(),interactionStatus:q("interaction_status").default("INITIATED"),relatedOrderId:q("related_order_id"),relatedChatId:q("related_chat_id"),outcome:q("outcome"),workflowStage:q("workflow_stage"),nextAction:q("next_action"),satisfactionRating:ee("satisfaction_rating"),duration:ee("duration"),metadata:De("metadata"),startedAt:J("started_at").defaultNow(),completedAt:J("completed_at"),createdAt:J("created_at").defaultNow(),updatedAt:J("updated_at").defaultNow()});xe("system_metrics",{id:ve("id").primaryKey(),metricType:q("metric_type").notNull(),metricName:q("metric_name").notNull(),metricCategory:q("metric_category").notNull(),value:Ne("value").notNull(),unit:q("unit"),dimensions:De("dimensions"),tags:De("tags"),aggregationType:q("aggregation_type").default("COUNT"),timeWindow:q("time_window"),source:q("source"),environment:q("environment").default("production"),version:q("version"),createdAt:J("created_at").defaultNow()});Kf({email:xa().email("Please enter a valid email address"),password:xa().min(6,"Password must be at least 6 characters")});Kf({id:Dr(),name:xa(),description:xa().optional(),parentId:Dr().optional(),isActive:Wf().default(!0),sortOrder:Dr().default(0),createdBy:Dr().optional(),updatedBy:Dr().optional(),createdAt:Fy(),updatedAt:Fy()});fu(jJ).omit({id:!0,createdAt:!0,updatedAt:!0,rating:!0,reviewCount:!0,totalSold:!0,totalViews:!0});fu(_e).omit({id:!0,createdAt:!0,updatedAt:!0,lastLoginAt:!0,loginAttempts:!0,accountLockedUntil:!0});fu(hu).omit({id:!0,createdAt:!0,updatedAt:!0,orderNumber:!0});fu(yP).omit({id:!0,createdAt:!0});fu(AJ).omit({id:!0,createdAt:!0,updatedAt:!0,acceptedAt:!0,pickedUpAt:!0,deliveredAt:!0});var Rp=il.Buffer,OJ=oe,PJ=oe;function Jf(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=Rp.alloc(0),this;if(typeof t.pipe=="function")return this.buffer=Rp.alloc(0),t.pipe(this),this;if(t.length||typeof t=="object")return this.buffer=t,this.writable=!1,process.nextTick((function(){this.emit("end",t),this.readable=!1,this.emit("close")}).bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}PJ.inherits(Jf,OJ);Jf.prototype.write=function(e){this.buffer=Rp.concat([this.buffer,Rp.from(e)]),this.emit("data",e)};Jf.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1};var vP=Jf;function km(t){var e=(t/8|0)+(t%8===0?0:1);return e}var DJ={ES256:km(256),ES384:km(384),ES512:km(521)};function MJ(t){var e=DJ[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}var LJ=MJ,Ip=il.Buffer,xP=LJ,Op=128,bP=0,FJ=32,BJ=16,$J=2,wP=BJ|FJ|bP<<6,Pp=$J|bP<<6;function UJ(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function SP(t){if(Ip.isBuffer(t))return t;if(typeof t=="string")return Ip.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function zJ(t,e){t=SP(t);var s=xP(e),n=s+1,r=t.length,i=0;if(t[i++]!==wP)throw new Error('Could not find expected "seq"');var o=t[i++];if(o===(Op|1)&&(o=t[i++]),r-i<o)throw new Error('"seq" specified length of "'+o+'", only "'+(r-i)+'" remaining');if(t[i++]!==Pp)throw new Error('Could not find expected "int" for "r"');var l=t[i++];if(r-i-2<l)throw new Error('"r" specified length of "'+l+'", only "'+(r-i-2)+'" available');if(n<l)throw new Error('"r" specified length of "'+l+'", max of "'+n+'" is acceptable');var c=i;if(i+=l,t[i++]!==Pp)throw new Error('Could not find expected "int" for "s"');var d=t[i++];if(r-i!==d)throw new Error('"s" specified length of "'+d+'", expected "'+(r-i)+'"');if(n<d)throw new Error('"s" specified length of "'+d+'", max of "'+n+'" is acceptable');var u=i;if(i+=d,i!==r)throw new Error('Expected to consume entire buffer, but "'+(r-i)+'" bytes remain');var p=s-l,f=s-d,y=Ip.allocUnsafe(p+l+f+d);for(i=0;i<p;++i)y[i]=0;t.copy(y,i,c+Math.max(-p,0),c+l),i=s;for(var g=i;i<g+f;++i)y[i]=0;return t.copy(y,i,u+Math.max(-f,0),u+d),y=y.toString("base64"),y=UJ(y),y}function cS(t,e,s){for(var n=0;e+n<s&&t[e+n]===0;)++n;var r=t[e+n]>=Op;return r&&--n,n}function qJ(t,e){t=SP(t);var s=xP(e),n=t.length;if(n!==s*2)throw new TypeError('"'+e+'" signatures must be "'+s*2+'" bytes, saw "'+n+'"');var r=cS(t,0,s),i=cS(t,s,t.length),o=s-r,l=s-i,c=2+o+1+1+l,d=c<Op,u=Ip.allocUnsafe((d?2:3)+c),p=0;return u[p++]=wP,d?u[p++]=c:(u[p++]=Op|1,u[p++]=c&255),u[p++]=Pp,u[p++]=o,r<0?(u[p++]=0,p+=t.copy(u,p,0,s)):p+=t.copy(u,p,r,s),u[p++]=Pp,u[p++]=l,i<0?(u[p++]=0,t.copy(u,p,s)):t.copy(u,p,s+i),u}var QJ={derToJose:zJ,joseToDer:qJ},Cm,uS;function VJ(){if(uS)return Cm;uS=1;var t=Fo.Buffer,e=Fo.SlowBuffer;Cm=s;function s(i,o){if(!t.isBuffer(i)||!t.isBuffer(o)||i.length!==o.length)return!1;for(var l=0,c=0;c<i.length;c++)l|=i[c]^o[c];return l===0}s.install=function(){t.prototype.equal=e.prototype.equal=function(o){return s(this,o)}};var n=t.prototype.equal,r=e.prototype.equal;return s.restore=function(){t.prototype.equal=n,e.prototype.equal=r},Cm}var Qo=il.Buffer,Qs=oe,_P=QJ,dS=oe,HJ=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,Bl="secret must be a string or buffer",za="key must be a string or a buffer",GJ="key must be a string, a buffer or an object",f0=typeof Qs.createPublicKey=="function";f0&&(za+=" or a KeyObject",Bl+="or a KeyObject");function EP(t){if(!Qo.isBuffer(t)&&typeof t!="string"&&(!f0||typeof t!="object"||typeof t.type!="string"||typeof t.asymmetricKeyType!="string"||typeof t.export!="function"))throw rn(za)}function NP(t){if(!Qo.isBuffer(t)&&typeof t!="string"&&typeof t!="object")throw rn(GJ)}function WJ(t){if(!Qo.isBuffer(t)){if(typeof t=="string")return t;if(!f0||typeof t!="object"||t.type!=="secret"||typeof t.export!="function")throw rn(Bl)}}function h0(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kP(t){t=t.toString();var e=4-t.length%4;if(e!==4)for(var s=0;s<e;++s)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}function rn(t){var e=[].slice.call(arguments,1),s=dS.format.bind(dS,t).apply(null,e);return new TypeError(s)}function KJ(t){return Qo.isBuffer(t)||typeof t=="string"}function mu(t){return KJ(t)||(t=JSON.stringify(t)),t}function CP(t){return function(s,n){WJ(n),s=mu(s);var r=Qs.createHmac("sha"+t,n),i=(r.update(s),r.digest("base64"));return h0(i)}}var jm,YJ="timingSafeEqual"in Qs?function(e,s){return e.byteLength!==s.byteLength?!1:Qs.timingSafeEqual(e,s)}:function(e,s){return jm||(jm=VJ()),jm(e,s)};function JJ(t){return function(s,n,r){var i=CP(t)(s,r);return YJ(Qo.from(n),Qo.from(i))}}function jP(t){return function(s,n){NP(n),s=mu(s);var r=Qs.createSign("RSA-SHA"+t),i=(r.update(s),r.sign(n,"base64"));return h0(i)}}function AP(t){return function(s,n,r){EP(r),s=mu(s),n=kP(n);var i=Qs.createVerify("RSA-SHA"+t);return i.update(s),i.verify(r,n,"base64")}}function XJ(t){return function(s,n){NP(n),s=mu(s);var r=Qs.createSign("RSA-SHA"+t),i=(r.update(s),r.sign({key:n,padding:Qs.constants.RSA_PKCS1_PSS_PADDING,saltLength:Qs.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return h0(i)}}function ZJ(t){return function(s,n,r){EP(r),s=mu(s),n=kP(n);var i=Qs.createVerify("RSA-SHA"+t);return i.update(s),i.verify({key:r,padding:Qs.constants.RSA_PKCS1_PSS_PADDING,saltLength:Qs.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function eX(t){var e=jP(t);return function(){var n=e.apply(null,arguments);return n=_P.derToJose(n,"ES"+t),n}}function tX(t){var e=AP(t);return function(n,r,i){r=_P.joseToDer(r,"ES"+t).toString("base64");var o=e(n,r,i);return o}}function sX(){return function(){return""}}function nX(){return function(e,s){return s===""}}var TP=function(e){var s={hs:CP,rs:jP,ps:XJ,es:eX,none:sX},n={hs:JJ,rs:AP,ps:ZJ,es:tX,none:nX},r=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!r)throw rn(HJ,e);var i=(r[1]||r[3]).toLowerCase(),o=r[2];return{sign:s[i](o),verify:n[i](o)}},rX=Fo.Buffer,RP=function(e){return typeof e=="string"?e:typeof e=="number"||rX.isBuffer(e)?e.toString():JSON.stringify(e)},iX=il.Buffer,pS=vP,aX=TP,oX=oe,fS=RP,m0=oe;function hS(t,e){return iX.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lX(t,e,s){s=s||"utf8";var n=hS(fS(t),"binary"),r=hS(fS(e),s);return m0.format("%s.%s",n,r)}function IP(t){var e=t.header,s=t.payload,n=t.secret||t.privateKey,r=t.encoding,i=aX(e.alg),o=lX(e,s,r),l=i.sign(o,n);return m0.format("%s.%s",o,l)}function Xf(t){var e=t.secret||t.privateKey||t.key,s=new pS(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=s,this.payload=new pS(t.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}m0.inherits(Xf,oX);Xf.prototype.sign=function(){try{var e=IP({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(s){this.readable=!1,this.emit("error",s),this.emit("close")}};Xf.sign=IP;var cX=Xf,OP=il.Buffer,mS=vP,uX=TP,dX=oe,PP=RP,pX=oe,fX=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function hX(t){return Object.prototype.toString.call(t)==="[object Object]"}function mX(t){if(hX(t))return t;try{return JSON.parse(t)}catch{return}}function DP(t){var e=t.split(".",1)[0];return mX(OP.from(e,"base64").toString("binary"))}function gX(t){return t.split(".",2).join(".")}function MP(t){return t.split(".")[2]}function yX(t,e){e=e||"utf8";var s=t.split(".")[1];return OP.from(s,"base64").toString(e)}function LP(t){return fX.test(t)&&!!DP(t)}function FP(t,e,s){if(!e){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}t=PP(t);var r=MP(t),i=gX(t),o=uX(e);return o.verify(i,r,s)}function BP(t,e){if(e=e||{},t=PP(t),!LP(t))return null;var s=DP(t);if(!s)return null;var n=yX(t);return(s.typ==="JWT"||e.json)&&(n=JSON.parse(n,e.encoding)),{header:s,payload:n,signature:MP(t)}}function ll(t){t=t||{};var e=t.secret||t.publicKey||t.key,s=new mS(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=s,this.signature=new mS(t.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}pX.inherits(ll,dX);ll.prototype.verify=function(){try{var e=FP(this.signature.buffer,this.algorithm,this.key.buffer),s=BP(this.signature.buffer,this.encoding);return this.emit("done",e,s),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};ll.decode=BP;ll.isValid=LP;ll.verify=FP;var vX=ll,xX=cX,g0=vX;xX.sign;g0.verify;g0.decode;g0.isValid;var Dp=function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e)};Dp.prototype=Object.create(Error.prototype);Dp.prototype.constructor=Dp;var $P=Dp,UP=$P,By=function(t,e){UP.call(this,t),this.name="NotBeforeError",this.date=e};By.prototype=Object.create(UP.prototype);By.prototype.constructor=By;var zP=$P,$y=function(t,e){zP.call(this,t),this.name="TokenExpiredError",this.expiredAt=e};$y.prototype=Object.create(zP.prototype);$y.prototype.constructor=$y;var Uy={exports:{}};const bX="2.0.0",qP=256,wX=Number.MAX_SAFE_INTEGER||9007199254740991,SX=16,_X=qP-6,EX=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Zf={MAX_LENGTH:qP,MAX_SAFE_COMPONENT_LENGTH:SX,MAX_SAFE_BUILD_LENGTH:_X,MAX_SAFE_INTEGER:wX,RELEASE_TYPES:EX,SEMVER_SPEC_VERSION:bX,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Am={};const NX=typeof process=="object"&&Am&&Am.NODE_DEBUG&&/\bsemver\b/i.test(Am.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var eh=NX;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:r}=Zf,i=eh;e=t.exports={};const o=e.re=[],l=e.safeRe=[],c=e.src=[],d=e.safeSrc=[],u=e.t={};let p=0;const f="[a-zA-Z0-9-]",y=[["\\s",1],["\\d",r],[f,n]],g=b=>{for(const[m,x]of y)b=b.split(`${m}*`).join(`${m}{0,${x}}`).split(`${m}+`).join(`${m}{1,${x}}`);return b},h=(b,m,x)=>{const k=g(m),E=p++;i(b,E,m),u[b]=E,c[E]=m,d[E]=k,o[E]=new RegExp(m,x?"g":void 0),l[E]=new RegExp(k,x?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","\\d+"),h("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),h("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NONNUMERICIDENTIFIER]}|${c[u.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER",`${f}+`),h("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),h("FULL",`^${c[u.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),h("LOOSE",`^${c[u.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),h("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),h("COERCEPLAIN",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?`),h("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),h("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),h("COERCERTL",c[u.COERCE],!0),h("COERCERTLFULL",c[u.COERCEFULL],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",h("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",h("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Uy,Uy.exports);var gu=Uy.exports;const kX=Object.freeze({loose:!0}),CX=Object.freeze({}),jX=t=>t?typeof t!="object"?kX:t:CX;var y0=jX;const gS=/^[0-9]+$/,QP=(t,e)=>{const s=gS.test(t),n=gS.test(e);return s&&n&&(t=+t,e=+e),t===e?0:s&&!n?-1:n&&!s?1:t<e?-1:1},AX=(t,e)=>QP(e,t);var VP={compareIdentifiers:QP,rcompareIdentifiers:AX};const Zu=eh,{MAX_LENGTH:yS,MAX_SAFE_INTEGER:ed}=Zf,{safeRe:td,t:sd}=gu,TX=y0,{compareIdentifiers:Pa}=VP;let RX=class Sn{constructor(e,s){if(s=TX(s),e instanceof Sn){if(e.loose===!!s.loose&&e.includePrerelease===!!s.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>yS)throw new TypeError(`version is longer than ${yS} characters`);Zu("SemVer",e,s),this.options=s,this.loose=!!s.loose,this.includePrerelease=!!s.includePrerelease;const n=e.trim().match(s.loose?td[sd.LOOSE]:td[sd.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ed||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ed||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ed||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){const i=+r;if(i>=0&&i<ed)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Zu("SemVer.compare",this.version,this.options,e),!(e instanceof Sn)){if(typeof e=="string"&&e===this.version)return 0;e=new Sn(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Sn||(e=new Sn(e,this.options)),Pa(this.major,e.major)||Pa(this.minor,e.minor)||Pa(this.patch,e.patch)}comparePre(e){if(e instanceof Sn||(e=new Sn(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let s=0;do{const n=this.prerelease[s],r=e.prerelease[s];if(Zu("prerelease compare",s,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Pa(n,r)}while(++s)}compareBuild(e){e instanceof Sn||(e=new Sn(e,this.options));let s=0;do{const n=this.build[s],r=e.build[s];if(Zu("build compare",s,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Pa(n,r)}while(++s)}inc(e,s,n){if(e.startsWith("pre")){if(!s&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(s){const r=`-${s}`.match(this.options.loose?td[sd.PRERELEASELOOSE]:td[sd.PRERELEASE]);if(!r||r[1]!==s)throw new Error(`invalid identifier: ${s}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",s,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",s,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",s,n),this.inc("pre",s,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",s,n),this.inc("pre",s,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const r=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[r];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(s===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(r)}}if(s){let i=[s,r];n===!1&&(i=[s]),Pa(this.prerelease[0],s)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var os=RX;const vS=os,IX=(t,e,s=!1)=>{if(t instanceof vS)return t;try{return new vS(t,e)}catch(n){if(!s)return null;throw n}};var cl=IX;const OX=cl,PX=(t,e)=>{const s=OX(t,e);return s?s.version:null};var DX=PX;const MX=cl,LX=(t,e)=>{const s=MX(t.trim().replace(/^[=v]+/,""),e);return s?s.version:null};var FX=LX;const xS=os,BX=(t,e,s,n,r)=>{typeof s=="string"&&(r=n,n=s,s=void 0);try{return new xS(t instanceof xS?t.version:t,s).inc(e,n,r).version}catch{return null}};var $X=BX;const bS=cl,UX=(t,e)=>{const s=bS(t,null,!0),n=bS(e,null,!0),r=s.compare(n);if(r===0)return null;const i=r>0,o=i?s:n,l=i?n:s,c=!!o.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(o)===0)return l.minor&&!l.patch?"minor":"patch"}const u=c?"pre":"";return s.major!==n.major?u+"major":s.minor!==n.minor?u+"minor":s.patch!==n.patch?u+"patch":"prerelease"};var zX=UX;const qX=os,QX=(t,e)=>new qX(t,e).major;var VX=QX;const HX=os,GX=(t,e)=>new HX(t,e).minor;var WX=GX;const KX=os,YX=(t,e)=>new KX(t,e).patch;var JX=YX;const XX=cl,ZX=(t,e)=>{const s=XX(t,e);return s&&s.prerelease.length?s.prerelease:null};var eZ=ZX;const wS=os,tZ=(t,e,s)=>new wS(t,s).compare(new wS(e,s));var hn=tZ;const sZ=hn,nZ=(t,e,s)=>sZ(e,t,s);var rZ=nZ;const iZ=hn,aZ=(t,e)=>iZ(t,e,!0);var oZ=aZ;const SS=os,lZ=(t,e,s)=>{const n=new SS(t,s),r=new SS(e,s);return n.compare(r)||n.compareBuild(r)};var v0=lZ;const cZ=v0,uZ=(t,e)=>t.sort((s,n)=>cZ(s,n,e));var dZ=uZ;const pZ=v0,fZ=(t,e)=>t.sort((s,n)=>pZ(n,s,e));var hZ=fZ;const mZ=hn,gZ=(t,e,s)=>mZ(t,e,s)>0;var th=gZ;const yZ=hn,vZ=(t,e,s)=>yZ(t,e,s)<0;var x0=vZ;const xZ=hn,bZ=(t,e,s)=>xZ(t,e,s)===0;var HP=bZ;const wZ=hn,SZ=(t,e,s)=>wZ(t,e,s)!==0;var GP=SZ;const _Z=hn,EZ=(t,e,s)=>_Z(t,e,s)>=0;var b0=EZ;const NZ=hn,kZ=(t,e,s)=>NZ(t,e,s)<=0;var w0=kZ;const CZ=HP,jZ=GP,AZ=th,TZ=b0,RZ=x0,IZ=w0,OZ=(t,e,s,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof s=="object"&&(s=s.version),t===s;case"!==":return typeof t=="object"&&(t=t.version),typeof s=="object"&&(s=s.version),t!==s;case"":case"=":case"==":return CZ(t,s,n);case"!=":return jZ(t,s,n);case">":return AZ(t,s,n);case">=":return TZ(t,s,n);case"<":return RZ(t,s,n);case"<=":return IZ(t,s,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var WP=OZ;const PZ=os,DZ=cl,{safeRe:nd,t:rd}=gu,MZ=(t,e)=>{if(t instanceof PZ)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let s=null;if(!e.rtl)s=t.match(e.includePrerelease?nd[rd.COERCEFULL]:nd[rd.COERCE]);else{const c=e.includePrerelease?nd[rd.COERCERTLFULL]:nd[rd.COERCERTL];let d;for(;(d=c.exec(t))&&(!s||s.index+s[0].length!==t.length);)(!s||d.index+d[0].length!==s.index+s[0].length)&&(s=d),c.lastIndex=d.index+d[1].length+d[2].length;c.lastIndex=-1}if(s===null)return null;const n=s[2],r=s[3]||"0",i=s[4]||"0",o=e.includePrerelease&&s[5]?`-${s[5]}`:"",l=e.includePrerelease&&s[6]?`+${s[6]}`:"";return DZ(`${n}.${r}.${i}${o}${l}`,e)};var LZ=MZ;class FZ{constructor(){this.max=1e3,this.map=new Map}get(e){const s=this.map.get(e);if(s!==void 0)return this.map.delete(e),this.map.set(e,s),s}delete(e){return this.map.delete(e)}set(e,s){if(!this.delete(e)&&s!==void 0){if(this.map.size>=this.max){const r=this.map.keys().next().value;this.delete(r)}this.map.set(e,s)}return this}}var BZ=FZ,Tm,_S;function mn(){if(_S)return Tm;_S=1;const t=/\s+/g;class e{constructor(I,B){if(B=r(B),I instanceof e)return I.loose===!!B.loose&&I.includePrerelease===!!B.includePrerelease?I:new e(I.raw,B);if(I instanceof i)return this.raw=I.value,this.set=[[I]],this.formatted=void 0,this;if(this.options=B,this.loose=!!B.loose,this.includePrerelease=!!B.includePrerelease,this.raw=I.trim().replace(t," "),this.set=this.raw.split("||").map(F=>this.parseRange(F.trim())).filter(F=>F.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const F=this.set[0];if(this.set=this.set.filter(U=>!h(U[0])),this.set.length===0)this.set=[F];else if(this.set.length>1){for(const U of this.set)if(U.length===1&&b(U[0])){this.set=[U];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let I=0;I<this.set.length;I++){I>0&&(this.formatted+="||");const B=this.set[I];for(let F=0;F<B.length;F++)F>0&&(this.formatted+=" "),this.formatted+=B[F].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(I){const F=((this.options.includePrerelease&&y)|(this.options.loose&&g))+":"+I,U=n.get(F);if(U)return U;const H=this.options.loose,Y=H?c[d.HYPHENRANGELOOSE]:c[d.HYPHENRANGE];I=I.replace(Y,V(this.options.includePrerelease)),o("hyphen replace",I),I=I.replace(c[d.COMPARATORTRIM],u),o("comparator trim",I),I=I.replace(c[d.TILDETRIM],p),o("tilde trim",I),I=I.replace(c[d.CARETTRIM],f),o("caret trim",I);let G=I.split(" ").map($e=>x($e,this.options)).join(" ").split(/\s+/).map($e=>D($e,this.options));H&&(G=G.filter($e=>(o("loose invalid filter",$e,this.options),!!$e.match(c[d.COMPARATORLOOSE])))),o("range list",G);const te=new Map,we=G.map($e=>new i($e,this.options));for(const $e of we){if(h($e))return[$e];te.set($e.value,$e)}te.size>1&&te.has("")&&te.delete("");const Re=[...te.values()];return n.set(F,Re),Re}intersects(I,B){if(!(I instanceof e))throw new TypeError("a Range is required");return this.set.some(F=>m(F,B)&&I.set.some(U=>m(U,B)&&F.every(H=>U.every(Y=>H.intersects(Y,B)))))}test(I){if(!I)return!1;if(typeof I=="string")try{I=new l(I,this.options)}catch{return!1}for(let B=0;B<this.set.length;B++)if(L(this.set[B],I,this.options))return!0;return!1}}Tm=e;const s=BZ,n=new s,r=y0,i=sh(),o=eh,l=os,{safeRe:c,t:d,comparatorTrimReplace:u,tildeTrimReplace:p,caretTrimReplace:f}=gu,{FLAG_INCLUDE_PRERELEASE:y,FLAG_LOOSE:g}=Zf,h=w=>w.value==="<0.0.0-0",b=w=>w.value==="",m=(w,I)=>{let B=!0;const F=w.slice();let U=F.pop();for(;B&&F.length;)B=F.every(H=>U.intersects(H,I)),U=F.pop();return B},x=(w,I)=>(o("comp",w,I),w=R(w,I),o("caret",w),w=E(w,I),o("tildes",w),w=_(w,I),o("xrange",w),w=T(w,I),o("stars",w),w),k=w=>!w||w.toLowerCase()==="x"||w==="*",E=(w,I)=>w.trim().split(/\s+/).map(B=>C(B,I)).join(" "),C=(w,I)=>{const B=I.loose?c[d.TILDELOOSE]:c[d.TILDE];return w.replace(B,(F,U,H,Y,G)=>{o("tilde",w,F,U,H,Y,G);let te;return k(U)?te="":k(H)?te=`>=${U}.0.0 <${+U+1}.0.0-0`:k(Y)?te=`>=${U}.${H}.0 <${U}.${+H+1}.0-0`:G?(o("replaceTilde pr",G),te=`>=${U}.${H}.${Y}-${G} <${U}.${+H+1}.0-0`):te=`>=${U}.${H}.${Y} <${U}.${+H+1}.0-0`,o("tilde return",te),te})},R=(w,I)=>w.trim().split(/\s+/).map(B=>N(B,I)).join(" "),N=(w,I)=>{o("caret",w,I);const B=I.loose?c[d.CARETLOOSE]:c[d.CARET],F=I.includePrerelease?"-0":"";return w.replace(B,(U,H,Y,G,te)=>{o("caret",w,U,H,Y,G,te);let we;return k(H)?we="":k(Y)?we=`>=${H}.0.0${F} <${+H+1}.0.0-0`:k(G)?H==="0"?we=`>=${H}.${Y}.0${F} <${H}.${+Y+1}.0-0`:we=`>=${H}.${Y}.0${F} <${+H+1}.0.0-0`:te?(o("replaceCaret pr",te),H==="0"?Y==="0"?we=`>=${H}.${Y}.${G}-${te} <${H}.${Y}.${+G+1}-0`:we=`>=${H}.${Y}.${G}-${te} <${H}.${+Y+1}.0-0`:we=`>=${H}.${Y}.${G}-${te} <${+H+1}.0.0-0`):(o("no pr"),H==="0"?Y==="0"?we=`>=${H}.${Y}.${G}${F} <${H}.${Y}.${+G+1}-0`:we=`>=${H}.${Y}.${G}${F} <${H}.${+Y+1}.0-0`:we=`>=${H}.${Y}.${G} <${+H+1}.0.0-0`),o("caret return",we),we})},_=(w,I)=>(o("replaceXRanges",w,I),w.split(/\s+/).map(B=>O(B,I)).join(" ")),O=(w,I)=>{w=w.trim();const B=I.loose?c[d.XRANGELOOSE]:c[d.XRANGE];return w.replace(B,(F,U,H,Y,G,te)=>{o("xRange",w,F,U,H,Y,G,te);const we=k(H),Re=we||k(Y),$e=Re||k(G),bt=$e;return U==="="&&bt&&(U=""),te=I.includePrerelease?"-0":"",we?U===">"||U==="<"?F="<0.0.0-0":F="*":U&&bt?(Re&&(Y=0),G=0,U===">"?(U=">=",Re?(H=+H+1,Y=0,G=0):(Y=+Y+1,G=0)):U==="<="&&(U="<",Re?H=+H+1:Y=+Y+1),U==="<"&&(te="-0"),F=`${U+H}.${Y}.${G}${te}`):Re?F=`>=${H}.0.0${te} <${+H+1}.0.0-0`:$e&&(F=`>=${H}.${Y}.0${te} <${H}.${+Y+1}.0-0`),o("xRange return",F),F})},T=(w,I)=>(o("replaceStars",w,I),w.trim().replace(c[d.STAR],"")),D=(w,I)=>(o("replaceGTE0",w,I),w.trim().replace(c[I.includePrerelease?d.GTE0PRE:d.GTE0],"")),V=w=>(I,B,F,U,H,Y,G,te,we,Re,$e,bt)=>(k(F)?B="":k(U)?B=`>=${F}.0.0${w?"-0":""}`:k(H)?B=`>=${F}.${U}.0${w?"-0":""}`:Y?B=`>=${B}`:B=`>=${B}${w?"-0":""}`,k(we)?te="":k(Re)?te=`<${+we+1}.0.0-0`:k($e)?te=`<${we}.${+Re+1}.0-0`:bt?te=`<=${we}.${Re}.${$e}-${bt}`:w?te=`<${we}.${Re}.${+$e+1}-0`:te=`<=${te}`,`${B} ${te}`.trim()),L=(w,I,B)=>{for(let F=0;F<w.length;F++)if(!w[F].test(I))return!1;if(I.prerelease.length&&!B.includePrerelease){for(let F=0;F<w.length;F++)if(o(w[F].semver),w[F].semver!==i.ANY&&w[F].semver.prerelease.length>0){const U=w[F].semver;if(U.major===I.major&&U.minor===I.minor&&U.patch===I.patch)return!0}return!1}return!0};return Tm}var Rm,ES;function sh(){if(ES)return Rm;ES=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,p){if(p=s(p),u instanceof e){if(u.loose===!!p.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),o("comparator",u,p),this.options=p,this.loose=!!p.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const p=this.options.loose?n[r.COMPARATORLOOSE]:n[r.COMPARATOR],f=u.match(p);if(!f)throw new TypeError(`Invalid comparator: ${u}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new l(f[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new l(u,this.options)}catch{return!1}return i(u,this.operator,this.semver,this.options)}intersects(u,p){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,p).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,p).test(u.semver):(p=s(p),p.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||i(this.semver,"<",u.semver,p)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||i(this.semver,">",u.semver,p)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Rm=e;const s=y0,{safeRe:n,t:r}=gu,i=WP,o=eh,l=os,c=mn();return Rm}const $Z=mn(),UZ=(t,e,s)=>{try{e=new $Z(e,s)}catch{return!1}return e.test(t)};var nh=UZ;const zZ=mn(),qZ=(t,e)=>new zZ(t,e).set.map(s=>s.map(n=>n.value).join(" ").trim().split(" "));var QZ=qZ;const VZ=os,HZ=mn(),GZ=(t,e,s)=>{let n=null,r=null,i=null;try{i=new HZ(e,s)}catch{return null}return t.forEach(o=>{i.test(o)&&(!n||r.compare(o)===-1)&&(n=o,r=new VZ(n,s))}),n};var WZ=GZ;const KZ=os,YZ=mn(),JZ=(t,e,s)=>{let n=null,r=null,i=null;try{i=new YZ(e,s)}catch{return null}return t.forEach(o=>{i.test(o)&&(!n||r.compare(o)===1)&&(n=o,r=new KZ(n,s))}),n};var XZ=JZ;const Im=os,ZZ=mn(),NS=th,eee=(t,e)=>{t=new ZZ(t,e);let s=new Im("0.0.0");if(t.test(s)||(s=new Im("0.0.0-0"),t.test(s)))return s;s=null;for(let n=0;n<t.set.length;++n){const r=t.set[n];let i=null;r.forEach(o=>{const l=new Im(o.semver.version);switch(o.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!i||NS(l,i))&&(i=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!s||NS(s,i))&&(s=i)}return s&&t.test(s)?s:null};var tee=eee;const see=mn(),nee=(t,e)=>{try{return new see(t,e).range||"*"}catch{return null}};var ree=nee;const iee=os,KP=sh(),{ANY:aee}=KP,oee=mn(),lee=nh,kS=th,CS=x0,cee=w0,uee=b0,dee=(t,e,s,n)=>{t=new iee(t,n),e=new oee(e,n);let r,i,o,l,c;switch(s){case">":r=kS,i=cee,o=CS,l=">",c=">=";break;case"<":r=CS,i=uee,o=kS,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(lee(t,e,n))return!1;for(let d=0;d<e.set.length;++d){const u=e.set[d];let p=null,f=null;if(u.forEach(y=>{y.semver===aee&&(y=new KP(">=0.0.0")),p=p||y,f=f||y,r(y.semver,p.semver,n)?p=y:o(y.semver,f.semver,n)&&(f=y)}),p.operator===l||p.operator===c||(!f.operator||f.operator===l)&&i(t,f.semver))return!1;if(f.operator===c&&o(t,f.semver))return!1}return!0};var S0=dee;const pee=S0,fee=(t,e,s)=>pee(t,e,">",s);var hee=fee;const mee=S0,gee=(t,e,s)=>mee(t,e,"<",s);var yee=gee;const jS=mn(),vee=(t,e,s)=>(t=new jS(t,s),e=new jS(e,s),t.intersects(e,s));var xee=vee;const bee=nh,wee=hn;var See=(t,e,s)=>{const n=[];let r=null,i=null;const o=t.sort((u,p)=>wee(u,p,s));for(const u of o)bee(u,e,s)?(i=u,r||(r=u)):(i&&n.push([r,i]),i=null,r=null);r&&n.push([r,null]);const l=[];for(const[u,p]of n)u===p?l.push(u):!p&&u===o[0]?l.push("*"):p?u===o[0]?l.push(`<=${p}`):l.push(`${u} - ${p}`):l.push(`>=${u}`);const c=l.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return c.length<d.length?c:e};const AS=mn(),_0=sh(),{ANY:Om}=_0,kl=nh,E0=hn,_ee=(t,e,s={})=>{if(t===e)return!0;t=new AS(t,s),e=new AS(e,s);let n=!1;e:for(const r of t.set){for(const i of e.set){const o=Nee(r,i,s);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Eee=[new _0(">=0.0.0-0")],TS=[new _0(">=0.0.0")],Nee=(t,e,s)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Om){if(e.length===1&&e[0].semver===Om)return!0;s.includePrerelease?t=Eee:t=TS}if(e.length===1&&e[0].semver===Om){if(s.includePrerelease)return!0;e=TS}const n=new Set;let r,i;for(const y of t)y.operator===">"||y.operator===">="?r=RS(r,y,s):y.operator==="<"||y.operator==="<="?i=IS(i,y,s):n.add(y.semver);if(n.size>1)return null;let o;if(r&&i){if(o=E0(r.semver,i.semver,s),o>0)return null;if(o===0&&(r.operator!==">="||i.operator!=="<="))return null}for(const y of n){if(r&&!kl(y,String(r),s)||i&&!kl(y,String(i),s))return null;for(const g of e)if(!kl(y,String(g),s))return!1;return!0}let l,c,d,u,p=i&&!s.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=r&&!s.includePrerelease&&r.semver.prerelease.length?r.semver:!1;p&&p.prerelease.length===1&&i.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(const y of e){if(u=u||y.operator===">"||y.operator===">=",d=d||y.operator==="<"||y.operator==="<=",r){if(f&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===f.major&&y.semver.minor===f.minor&&y.semver.patch===f.patch&&(f=!1),y.operator===">"||y.operator===">="){if(l=RS(r,y,s),l===y&&l!==r)return!1}else if(r.operator===">="&&!kl(r.semver,String(y),s))return!1}if(i){if(p&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===p.major&&y.semver.minor===p.minor&&y.semver.patch===p.patch&&(p=!1),y.operator==="<"||y.operator==="<="){if(c=IS(i,y,s),c===y&&c!==i)return!1}else if(i.operator==="<="&&!kl(i.semver,String(y),s))return!1}if(!y.operator&&(i||r)&&o!==0)return!1}return!(r&&d&&!i&&o!==0||i&&u&&!r&&o!==0||f||p)},RS=(t,e,s)=>{if(!t)return e;const n=E0(t.semver,e.semver,s);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},IS=(t,e,s)=>{if(!t)return e;const n=E0(t.semver,e.semver,s);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var kee=_ee;const Pm=gu,OS=Zf,Cee=os,PS=VP,jee=cl,Aee=DX,Tee=FX,Ree=$X,Iee=zX,Oee=VX,Pee=WX,Dee=JX,Mee=eZ,Lee=hn,Fee=rZ,Bee=oZ,$ee=v0,Uee=dZ,zee=hZ,qee=th,Qee=x0,Vee=HP,Hee=GP,Gee=b0,Wee=w0,Kee=WP,Yee=LZ,Jee=sh(),Xee=mn(),Zee=nh,ete=QZ,tte=WZ,ste=XZ,nte=tee,rte=ree,ite=S0,ate=hee,ote=yee,lte=xee,cte=See,ute=kee;var N0={parse:jee,valid:Aee,clean:Tee,inc:Ree,diff:Iee,major:Oee,minor:Pee,patch:Dee,prerelease:Mee,compare:Lee,rcompare:Fee,compareLoose:Bee,compareBuild:$ee,sort:Uee,rsort:zee,gt:qee,lt:Qee,eq:Vee,neq:Hee,gte:Gee,lte:Wee,cmp:Kee,coerce:Yee,Comparator:Jee,Range:Xee,satisfies:Zee,toComparators:ete,maxSatisfying:tte,minSatisfying:ste,minVersion:nte,validRange:rte,outside:ite,gtr:ate,ltr:ote,intersects:lte,simplifyRange:cte,subset:ute,SemVer:Cee,re:Pm.re,src:Pm.src,tokens:Pm.t,SEMVER_SPEC_VERSION:OS.SEMVER_SPEC_VERSION,RELEASE_TYPES:OS.RELEASE_TYPES,compareIdentifiers:PS.compareIdentifiers,rcompareIdentifiers:PS.rcompareIdentifiers};const dte=N0;dte.satisfies(process.version,">=15.7.0");const pte=N0;pte.satisfies(process.version,">=16.9.0");var fte=N0,hte=fte.satisfies(process.version,"^6.12.0 || >=8.0.0");const{KeyObject:pae,createSecretKey:fae,createPublicKey:hae}=oe;var DS=1/0,YP=9007199254740991,mte=17976931348623157e292,MS=NaN,gte="[object Arguments]",yte="[object Function]",vte="[object GeneratorFunction]",xte="[object String]",bte="[object Symbol]",wte=/^\s+|\s+$/g,Ste=/^[-+]0x[0-9a-f]+$/i,_te=/^0b[01]+$/i,Ete=/^0o[0-7]+$/i,Nte=/^(?:0|[1-9]\d*)$/,kte=parseInt;function Cte(t,e){for(var s=-1,n=t?t.length:0,r=Array(n);++s<n;)r[s]=e(t[s],s,t);return r}function jte(t,e,s,n){for(var r=t.length,i=s+-1;++i<r;)if(e(t[i],i,t))return i;return-1}function Ate(t,e,s){if(e!==e)return jte(t,Tte,s);for(var n=s-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}function Tte(t){return t!==t}function Rte(t,e){for(var s=-1,n=Array(t);++s<t;)n[s]=e(s);return n}function Ite(t,e){return Cte(e,function(s){return t[s]})}function Ote(t,e){return function(s){return t(e(s))}}var rh=Object.prototype,k0=rh.hasOwnProperty,ih=rh.toString,Pte=rh.propertyIsEnumerable,Dte=Ote(Object.keys,Object),Mte=Math.max;function Lte(t,e){var s=JP(t)||zte(t)?Rte(t.length,String):[],n=s.length,r=!!n;for(var i in t)k0.call(t,i)&&!(r&&(i=="length"||Bte(i,n)))&&s.push(i);return s}function Fte(t){if(!$te(t))return Dte(t);var e=[];for(var s in Object(t))k0.call(t,s)&&s!="constructor"&&e.push(s);return e}function Bte(t,e){return e=e??YP,!!e&&(typeof t=="number"||Nte.test(t))&&t>-1&&t%1==0&&t<e}function $te(t){var e=t&&t.constructor,s=typeof e=="function"&&e.prototype||rh;return t===s}function Ute(t,e,s,n){t=C0(t)?t:Xte(t),s=s&&!n?Kte(s):0;var r=t.length;return s<0&&(s=Mte(r+s,0)),Hte(t)?s<=r&&t.indexOf(e,s)>-1:!!r&&Ate(t,e,s)>-1}function zte(t){return qte(t)&&k0.call(t,"callee")&&(!Pte.call(t,"callee")||ih.call(t)==gte)}var JP=Array.isArray;function C0(t){return t!=null&&Vte(t.length)&&!Qte(t)}function qte(t){return j0(t)&&C0(t)}function Qte(t){var e=zy(t)?ih.call(t):"";return e==yte||e==vte}function Vte(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=YP}function zy(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function j0(t){return!!t&&typeof t=="object"}function Hte(t){return typeof t=="string"||!JP(t)&&j0(t)&&ih.call(t)==xte}function Gte(t){return typeof t=="symbol"||j0(t)&&ih.call(t)==bte}function Wte(t){if(!t)return t===0?t:0;if(t=Yte(t),t===DS||t===-DS){var e=t<0?-1:1;return e*mte}return t===t?t:0}function Kte(t){var e=Wte(t),s=e%1;return e===e?s?e-s:e:0}function Yte(t){if(typeof t=="number")return t;if(Gte(t))return MS;if(zy(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=zy(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(wte,"");var s=_te.test(t);return s||Ete.test(t)?kte(t.slice(2),s?2:8):Ste.test(t)?MS:+t}function Jte(t){return C0(t)?Lte(t):Fte(t)}function Xte(t){return t?Ite(t,Jte(t)):[]}var Zte=Ute,ese=Function.prototype,tse=ese.toString;tse.call(Object);const sse=hte,nse=Zte,{KeyObject:mae,createSecretKey:gae,createPrivateKey:yae}=oe,XP=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];sse&&XP.splice(3,0,"PS256","PS384","PS512");nse.bind(null,XP);var rse={};const Dm="redis://default:ob0XzfYSqIWm028JdW7JkBY8VWkhQp7A@redis-13241.c245.us-east-1-3.ec2.redns.redis-cloud.com:13241";let LS=null,FS=null,BS=null;if(rse.REDIS_DISABLED)console.log("WebSocket using memory store (Redis disabled)");else try{LS=new cm.Redis(Dm,{maxRetriesPerRequest:3,lazyConnect:!0}),FS=new cm.Redis(Dm,{maxRetriesPerRequest:3,lazyConnect:!0}),BS=new cm.Redis(Dm,{maxRetriesPerRequest:3,lazyConnect:!0}),console.log("WebSocket connected to Redis Cloud")}catch{console.log("WebSocket using memory store (Redis connection failed)"),LS=FS=BS=null}var Pd=(t=>(t.CONNECTION_ACK="CONNECTION_ACK",t.CHAT_MESSAGE="CHAT_MESSAGE",t.LOCATION_UPDATE="LOCATION_UPDATE",t.ORDER_STATUS_UPDATE="ORDER_STATUS_UPDATE",t.NOTIFICATION="NOTIFICATION",t.DELIVERY_STATUS="DELIVERY_STATUS",t.PAYMENT_CONFIRMATION="PAYMENT_CONFIRMATION",t.SYSTEM_ALERT="SYSTEM_ALERT",t.HEARTBEAT="HEARTBEAT",t.RECONNECT="RECONNECT",t.ERROR="ERROR",t.PING="PING",t.PONG="PONG",t))(Pd||{}),ise=(t=>(t.CONSUMER="CONSUMER",t.DRIVER="DRIVER",t.MERCHANT="MERCHANT",t.ADMIN="ADMIN",t))(ise||{});function ZP(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(s=ZP(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function ase(){for(var t,e,s=0,n="",r=arguments.length;s<r;s++)(t=arguments[s])&&(e=ZP(t))&&(n&&(n+=" "),n+=e);return n}const A0="-",ose=t=>{const e=cse(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(A0);return l[0]===""&&l.length!==1&&l.shift(),e3(l,e)||lse(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},e3=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const s=t[0],n=e.nextPart.get(s),r=n?e3(t.slice(1),n):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(A0);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},$S=/^\[(.+)\]$/,lse=t=>{if($S.test(t)){const e=$S.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},cse=t=>{const{theme:e,prefix:s}=t,n={nextPart:new Map,validators:[]};return dse(Object.entries(t.classGroups),s).forEach(([i,o])=>{qy(o,n,i,e)}),n},qy=(t,e,s,n)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:US(e,r);i.classGroupId=s;return}if(typeof r=="function"){if(use(r)){qy(r(n),e,s,n);return}e.validators.push({validator:r,classGroupId:s});return}Object.entries(r).forEach(([i,o])=>{qy(o,US(e,i),s,n)})})},US=(t,e)=>{let s=t;return e.split(A0).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},use=t=>t.isThemeGetter,dse=(t,e)=>e?t.map(([s,n])=>{const r=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[s,r]}):t,pse=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,n=new Map;const r=(i,o)=>{s.set(i,o),e++,e>t&&(e=0,n=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return r(i,o),o},set(i,o){s.has(i)?s.set(i,o):r(i,o)}}},t3="!",fse=t=>{const{separator:e,experimentalParseClassName:s}=t,n=e.length===1,r=e[0],i=e.length,o=l=>{const c=[];let d=0,u=0,p;for(let b=0;b<l.length;b++){let m=l[b];if(d===0){if(m===r&&(n||l.slice(b,b+i)===e)){c.push(l.slice(u,b)),u=b+i;continue}if(m==="/"){p=b;continue}}m==="["?d++:m==="]"&&d--}const f=c.length===0?l:l.substring(u),y=f.startsWith(t3),g=y?f.substring(1):f,h=p&&p>u?p-u:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:h}};return s?l=>s({className:l,parseClassName:o}):o},hse=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(n=>{n[0]==="["?(e.push(...s.sort(),n),s=[]):s.push(n)}),e.push(...s.sort()),e},mse=t=>({cache:pse(t.cacheSize),parseClassName:fse(t),...ose(t)}),gse=/\s+/,yse=(t,e)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:r}=e,i=[],o=t.trim().split(gse);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:y}=s(d);let g=!!y,h=n(g?f.substring(0,y):f);if(!h){if(!g){l=d+(l.length>0?" "+l:l);continue}if(h=n(f),!h){l=d+(l.length>0?" "+l:l);continue}g=!1}const b=hse(u).join(":"),m=p?b+t3:b,x=m+h;if(i.includes(x))continue;i.push(x);const k=r(h,g);for(let E=0;E<k.length;++E){const C=k[E];i.push(m+C)}l=d+(l.length>0?" "+l:l)}return l};function vse(){let t=0,e,s,n="";for(;t<arguments.length;)(e=arguments[t++])&&(s=s3(e))&&(n&&(n+=" "),n+=s);return n}const s3=t=>{if(typeof t=="string")return t;let e,s="";for(let n=0;n<t.length;n++)t[n]&&(e=s3(t[n]))&&(s&&(s+=" "),s+=e);return s};function xse(t,...e){let s,n,r,i=o;function o(c){const d=e.reduce((u,p)=>p(u),t());return s=mse(d),n=s.cache.get,r=s.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=yse(c,s);return r(c,u),u}return function(){return i(vse.apply(null,arguments))}}const Ke=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},n3=/^\[(?:([a-z-]+):)?(.+)\]$/i,bse=/^\d+\/\d+$/,wse=new Set(["px","full","screen"]),Sse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_se=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ese=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Nse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hn=t=>fo(t)||wse.has(t)||bse.test(t),Er=t=>ul(t,"length",Pse),fo=t=>!!t&&!Number.isNaN(Number(t)),Mm=t=>ul(t,"number",fo),Cl=t=>!!t&&Number.isInteger(Number(t)),Cse=t=>t.endsWith("%")&&fo(t.slice(0,-1)),Ce=t=>n3.test(t),Nr=t=>Sse.test(t),jse=new Set(["length","size","percentage"]),Ase=t=>ul(t,jse,r3),Tse=t=>ul(t,"position",r3),Rse=new Set(["image","url"]),Ise=t=>ul(t,Rse,Mse),Ose=t=>ul(t,"",Dse),jl=()=>!0,ul=(t,e,s)=>{const n=n3.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):s(n[2]):!1},Pse=t=>_se.test(t)&&!Ese.test(t),r3=()=>!1,Dse=t=>Nse.test(t),Mse=t=>kse.test(t),Lse=()=>{const t=Ke("colors"),e=Ke("spacing"),s=Ke("blur"),n=Ke("brightness"),r=Ke("borderColor"),i=Ke("borderRadius"),o=Ke("borderSpacing"),l=Ke("borderWidth"),c=Ke("contrast"),d=Ke("grayscale"),u=Ke("hueRotate"),p=Ke("invert"),f=Ke("gap"),y=Ke("gradientColorStops"),g=Ke("gradientColorStopPositions"),h=Ke("inset"),b=Ke("margin"),m=Ke("opacity"),x=Ke("padding"),k=Ke("saturate"),E=Ke("scale"),C=Ke("sepia"),R=Ke("skew"),N=Ke("space"),_=Ke("translate"),O=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ce,e],V=()=>[Ce,e],L=()=>["",Hn,Er],w=()=>["auto",fo,Ce],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Ce],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[fo,Ce];return{cacheSize:500,separator:":",theme:{colors:[jl],spacing:[Hn,Er],blur:["none","",Nr,Ce],brightness:G(),borderColor:[t],borderRadius:["none","","full",Nr,Ce],borderSpacing:V(),borderWidth:L(),contrast:G(),grayscale:H(),hueRotate:G(),invert:H(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[Cse,Er],inset:D(),margin:D(),opacity:G(),padding:V(),saturate:G(),scale:G(),sepia:H(),skew:G(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Nr]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Ce]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cl,Ce]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Cl,Ce]}],"grid-cols":[{"grid-cols":[jl]}],"col-start-end":[{col:["auto",{span:["full",Cl,Ce]},Ce]}],"col-start":[{"col-start":w()}],"col-end":[{"col-end":w()}],"grid-rows":[{"grid-rows":[jl]}],"row-start-end":[{row:["auto",{span:[Cl,Ce]},Ce]}],"row-start":[{"row-start":w()}],"row-end":[{"row-end":w()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,e]}],"min-w":[{"min-w":[Ce,e,"min","max","fit"]}],"max-w":[{"max-w":[Ce,e,"none","full","min","max","fit","prose",{screen:[Nr]},Nr]}],h:[{h:[Ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Nr,Er]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mm]}],"font-family":[{font:[jl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",fo,Mm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hn,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hn,Er]}],"underline-offset":[{"underline-offset":["auto",Hn,Ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),Tse]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ase]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ise]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:B()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Hn,Ce]}],"outline-w":[{outline:[Hn,Er]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Hn,Er]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Nr,Ose]}],"shadow-color":[{shadow:[jl]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Nr,Ce]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Cl,Ce]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Hn,Er,Mm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Fse=xse(Lse);function ht(...t){return Fse(ase(t))}const Oe=j.forwardRef(({className:t,...e},s)=>a.jsx("div",{ref:s,className:ht("curved-card border bg-card text-card-foreground shadow-sm",t),...e}));Oe.displayName="Card";const en=j.forwardRef(({className:t,...e},s)=>a.jsx("div",{ref:s,className:ht("flex flex-col space-y-1.5 p-6",t),...e}));en.displayName="CardHeader";const tn=j.forwardRef(({className:t,...e},s)=>a.jsx("h3",{ref:s,className:ht("text-2xl font-semibold leading-none tracking-tight",t),...e}));tn.displayName="CardTitle";const Bse=j.forwardRef(({className:t,...e},s)=>a.jsx("p",{ref:s,className:ht("text-sm text-muted-foreground",t),...e}));Bse.displayName="CardDescription";const yt=j.forwardRef(({className:t,...e},s)=>a.jsx("div",{ref:s,className:ht("p-6 pt-0",t),...e}));yt.displayName="CardContent";const $se=j.forwardRef(({className:t,...e},s)=>a.jsx("div",{ref:s,className:ht("flex items-center p-6 pt-0",t),...e}));$se.displayName="CardFooter";const me=j.forwardRef(({className:t,variant:e="default",size:s="default",...n},r)=>{const i={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},o={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return a.jsx("button",{className:ht("inline-flex items-center justify-center whitespace-nowrap curved-button text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",i[e],o[s],t),ref:r,...n})});me.displayName="Button";const Ve=j.forwardRef(({className:t,variant:e="default",...s},n)=>{const r={default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"};return a.jsx("div",{ref:n,className:ht("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",r[e],t),...s})});Ve.displayName="Badge";function Use(){const[t,e]=j.useState([]);return{notifications:t,markAsRead:o=>{e(l=>l.map(c=>c.id===o?{...c,read:!0}:c))},addNotification:o=>{const l={...o,id:Date.now(),timestamp:new Date,read:!1};e(c=>[l,...c])},removeNotification:o=>{e(l=>l.filter(c=>c.id!==o))},markAllAsRead:()=>{e(o=>o.map(l=>({...l,read:!0})))},unreadCount:t.filter(o=>!o.read).length}}function zse({notifications:t,unreadCount:e,onMarkAsRead:s,onMarkAllAsRead:n,onRemove:r}){const i=o=>{const c=new Date().getTime()-o.getTime(),d=Math.floor(c/6e4),u=Math.floor(c/36e5),p=Math.floor(c/864e5);return d<1?"Just now":d<60?`${d}m ago`:u<24?`${u}h ago`:`${p}d ago`};return a.jsxs("div",{className:"relative",children:[a.jsxs(me,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(LL,{className:"h-5 w-5"}),e>0&&a.jsx(Ve,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center text-xs",children:e>99?"99+":e})]}),a.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-h-96 overflow-y-auto bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:[a.jsx(en,{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(tn,{className:"text-lg",children:"Notifications"}),e>0&&a.jsx(me,{variant:"ghost",size:"sm",onClick:n,children:"Mark all read"})]})}),a.jsx(yt,{className:"p-0",children:t.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No notifications"}):t.map(o=>a.jsx("div",{className:`p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 ${o.read?"":"bg-blue-50 dark:bg-blue-900/20"}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 mr-2",children:[a.jsx("h4",{className:"font-medium text-sm",children:o.title}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:o.message}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:i(o.timestamp)})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[!o.read&&a.jsx(me,{variant:"ghost",size:"sm",onClick:()=>s(o.id),className:"h-6 w-6 p-0",children:a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),a.jsx(me,{variant:"ghost",size:"sm",onClick:()=>r(o.id),className:"h-6 w-6 p-0",children:a.jsx(Yi,{className:"h-3 w-3"})})]})]})},o.id))})]})]})}const qse="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJRSURBVHgB7d3hUepAFIbhg2MhlEAJoRJrsAJjBbYAlbB2QAnpJC4jPznLJtlN8pH3mXHuzJXFNa/EJZBoBgAAAAAApunraU3Mbc59JTlf/80ghWBiCCaGYGIIJoZgYggmhmBidjk3ynlSt4sMrlLbkEeYGIKJIZiYd6sk7rKb+E9j8whx9x9SN1jbfMaqFsz+N86XzSc8+Xxj65rPKOwSxRBMDMHEEEwMwcTUXCWmfMaPqw1ziB8/Vsfa5uNaKth16POUzPeojLW2+bhyg30bpiqyDbOCxZ++1jBJqW3IokMMwcQQTAzBxBBMDMHEEEwMwcQQTMxSxxIPI47FHayetc3HtVSw2Y9yP7G2+bjYJYohmBiCiSGYGIKJqblKDDafUOg2pQQDAAAAALyEatfWEDvH+RTHd8641hnTxTEnexU1r9z5QDtxPk1inOdiC+BYohiCiSGYGIKJIZiYLZ3jfDL/daqPuOrzrpJzdP5/n1gpnmst+TdzjvP9eVbn3PctVuOMOzpjGvOf1/1aJewSxRBMDMHEEEwMwcQstUqc3f0Asbt0T6wGveVpWOJK4jzCxBBMDMHEZP0Oy3mBkOtRpZXahrmLjpyrUbeGlCLbcEvnOHfmH/zdJ94mELz7S4zpvPeIzKLP8GDMqt7T8eT7u3h3nBjTDJlPn8EysOgQQzAxBBNDMDEEE7Olc5xTzjb8Zf3O/CtlB6uEv4E5k1LbkF2iGIKJIZiYYsH6cVoT04885GaF8AgTQzAxBBNDMDEEE0MwMQQTQzAAAAAAAPA6/gCyHUeUMx5TIwAAAABJRU5ErkJggg==",Qse="/assets/order_fuel_icon-iiOc8gxU.png",Vse="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA3ySURBVHgB7V17UBRHGu+FBQTkERIlETWip56vREHwmShqfFx8xMJXEisRSTTJnVaMnOSf1CXGxPIE9CyrvBMMIkdy0dLzoqRURFQM+ESDKCgoIArRCIIICCy79/uWmbVnRERY3d1hflVdTPf09PR83zdff4+ehTHzQiMehIeHexQUFKw0GAzlKCXnzp1bHhYW5sr1tWMqzAoT8Q8cONClqKjobzU1Nbkgvh6lobKy8kJ+fn74rl27nm/qGhWth4SI2dnZ/iD4DpR6A1G+ocFYBNSgxB49erR/c2OoaDlMhPvyyy/tsrKypoPAaSLhBeiFwrcdBBPGMynhVSY8ATSMIxjp9vT09CUgbL6M0DzkTLiwf//+hWBcB9m4Kh4DCfGxuPrU19evBUHvNEN8Cbg+t2tra1empKS88KjxVUghIcyZM2ce0veipD8Gevm6cOTIkX7N3au9QyKVpO8zMjJM+l6v10vUTAuhl12blJycPK6J+7Z7SIi/du1a1xMnTvzFIOh7joCtgZwJF5KSktR1gYPk4UnfQ3WY9P1TQinu8RWY/Hxzc2kPkDzw6dOn/QycviepbaP0S6BvhFg1rgt4G9R1gfT9yZMnp4Eg6YanDzlHk2Cqtqt1QfJw27Ztc4Wl82eDoO8tAbwVF1NTUxdGRUU5s/YCkvqLFy8OxPNvNjSqA0ujEmX9L7/80osp7A1o8mFgDgaOGzcuHA89EwsiNTVAEplG82yfHfdndnbGoKnW3t5eh/t/n5iYuHbq1KlZTCHQNtGmwUPWHzp0KKWioiId9XsoemZBgBH2YERHT0/PyvLycovO5WlDI/trjdAwhYYrbDFBYvNJHUk4eOzYsfbIYnXU6XR44+0MzAqBtUjToUMHXV5eXhVrVI1WOc+Wgl8DDCD8qzD3wrsA0P93mRXiOQBJn+w1a9Z8C0stjykJ8+bNm47Qcq3ByoGFuCwoKGgYUwAkOhSx+bp79+5VMysHGFABQdEx64amJe0SM5RsfpIwZuXAFPXwCax1niKBjfObMmWK0++//+6D+VafOnXqptCuEc9rmQpzwkRYQmxsbI8JEya8j/X0LSxd13Nzc/8OQyeVcUxQGWA+mIj/888/OwUEBLwBon8ID35y165dHdE82NvbW798+fJrkZGRhUJfTasYQCqALtaYOTYhqj/Ns455tA0i4Y1zT0hI6A21swCH81G6UwhHCKcwMONPn3zySUZlZeW3mzdvrqe2VjEA9LEjJly5ciX3+vXrxVqt1r61RMO6Q8zUd+vWzfdlwLZo/0DqKXL85ptvTvXy8voA1bGgj5aeRSS+wAhtz549Q5YsWXIGDNjL2qKCYIU0YJBNcXFx0W5ubi4ODg6tGgsMqHdxcdHNnz8//LPPPgtnthFi4KVeExMTM/idd95ZCAmfg3pnIraxk0ZTiz+5rFHQ++BZ7dDn5T59+ny0aNGiTNDvWqsZQG9AcXFx0c2bN6uosDZi4sSJJcw2YJL67du3e0yePHkWBHARqkNRSDOYpB5Cmg4t8RX8Wld3d/c1ODeA2h0dHScuXrx43sCBA//RagaQynF1dXVnZgLCC67MumGSesqX+Pj4BE6fPj3UyclpFto8qYOgZmgpI/JQdi+5X79+h+lcWVmZLxblr9DmhXMOfn5+c/r3739TtYJaBl7Xd541a9bbzs7OC1F9hdrEhVaQfHE5rD5+/PhlcQA4uMfBgBs45yX0HwSh+6vKgObBS70W5uQYEH8RiD8VbS7UQVA5dTgsR3FDMaZOQfCC6OjoS3SclZUVACOD1FRXqguMItO0l8qAh8E7U6Jp+TJMy/mQ4PdR7S0GC0jSUa7jcCtKJ0j2+6L+R/v50aNHu4SEhCwYMGDAMjQNokiucA11oazeXpUBUkg8WXKokJqdCD2/GNU3WKPUGlUOrBnK1R7Nz89fD4Ie6N69exiI7yhc2gDL7iVYOstwjnaBe1GjwJwGLM7H9u7duw4hiiSVAY2QOFMEWDh9R44cGQLiv8sE1SHqehC/vKioaGtaWtpGRJCvrFixwu3rr7/uC+tGDG6SpI9kjeanHeeMFeP437t37/5uzpw5RvWkMkAm9dD1LiDoNOh5kvrXUexliywh/datW9+A+LepUldX1wtM6cOPCTXlKDqVuE4HqT8KbDp27Nhe3OO+2LE9M0Ai9WQ6/vjjj6/AHwkF8eeiqTO1c9IrBtAYsoY5UCFl4kCQ5v5gQE+xLpihYvU6xoj76aef4rCA58rn0F4ZIJH6zz///DnEZ4Lnzp0bimogCGjHSW+tYNg7Cd3L09PTL0KK9bNnz7YPDw+f5u/v/xHaX+AXZ6AO9YNJSUn/RP/96F/XxP3bXTRUIvXkUMEh8n/ttdcWwZulMII7nw5B6OAw/uRAuifhr6/QfA3XZK9fv957yJAhH4L4H6Oti7hvSiB+IeqxWMRjp02bdu0RczCiPTFA8uBhYWGdUd6GN78A1VdJyLkwQkVhYeF26Ov1o0aN6tajR49J4nVgyv2+ffuOQlmK6lsojpyaIt2+D1IfDesoCeGG+ibuL0kktQcGyKVeGxgY+PqwYcMWg/hyh4oOz0Idbdq6dWsC+lafPXt2FNpMn1AJup7sem/WuNiK1+WCEVugbuKxjhTL7s3YI3ZvKJ0BEqn/9NNPX1q6dOl7cKhI1xsdKk7X05/KqqqqDQicbaXKiBEjnDt27EjhBjFORWMZmSFKPa4nqd8Dqf8XctWHsSA3cPd+LNoSDTVgsmbbulJdXV0l5HnNEY6WSD3i704zZsx4A/o61NPTczKajF/gyHMPtbW1+V988cUpsY7QgxdyHfRNs2TzAqdyLpHUI9e7DVJ/s6l7Pw5tioYixdYFk6TYhzMCS/asFcAD1OGVb+jUqVNnmfnW6qkx7uGPHDnSe9CgQSGQespQdeMsFTqgnRU0byM1EVbPOXjwoFF9QP+7YU7zUAZzc9UI/gDtl929b9++LZh7qkzqn2izQKsZAMnQhoaGfjxp0qQpOHRgrdwmCILQzmuDr6/vH1jbpF8iecuWLXMmh+rFF1/8ENUg3Mee09cUOEvBguqN+giB6fdRPxkcHFyJtOEQLL5L0DYDxUun09HzMmG3YGZNTc2W8+fPf4/4UCl3b8bauksP8e3JiFuXPW5jFAjWoDfn90kPxtW3ZFxYGFdgOvrJiG86pp9CgD6mb9l+o/78t8tQMxeQRl2MaCVZPgncsKV3795dgRBDKDzbM8J8+GvvQOXGQNcPJ/P1EfduG1rKAEtDxgATAbDIeubm5n6ALqkoOupLBBR4WgniJ6xatYpiNGzPnj3d0ZYijol+VfhzHqWE6ggdiKdonNTk5OQQBNc8ZIQ3b/rURhnAyCOF1AdCNdAXPfTzOA99sY9z0QgHmMzJ1atXz0RzYVPjcy9hCd6KiJSUlIEyUpmN8IowQ+/fv987ICBgNQwB4wd9/FYQAeU7d+5MQeL/ttgwePBg8my9+U6caUmL88ETJ05sQXwocd26dTVCF/Poeg5KYYA3Xlw/JL+NdRnxaaEvyMjIKBDr8fHxrwYFBVF8X4zv8EwrwPoRhyzWNrxlV7lhntjCaQkUwQDaImN4EMMhotFHfX8UA2g4zh4+fHgmYvyOY8aMmQ3T8mOcG07XGATLiIJu6JoIzzcG6il5x44dYvDM7FLPQxEMoEwUvFeyzQvz8vIifHx8BiCkLMbniXC34Cj1RcBtFvrSxqkXxL07gtTnlJaWxv3666/x48ePv8EN/VSkXjJ3pgB4eHjcgiRH/vDDD+9Bev+HhZPiO6J6qYe0+6FPFIi9nAlhY0HqK1GPz8nJ+Wjjxo0RHPFFC+epEp+ghDdAA5VyCQtlDuxz3dChQ3s6ODgYN0kJ52nbJAXUjJumuJDxueLi4pjs7Oz/TJgwoZQfjz0DwotQhAoSN7oSZs6c6Yt4Ty/utClEIhC+vKSkZCeiljHwZk9SYoXr+0yJT1BUNBT2uhaJ9JFQLcZdCNzCTMQnQqfduHFjy8qVK/8LplVwlz5RAM2cUAIDjBHUqKgo39GjR7+LmE0I6g4yX+A3ED4hLS2NdiNclF3/zKWehyLeAKT9ui1YsOAbEH8243YxsMZo5yGonM0xMTGJ/G4EZkGp56EUP6A7VAw5VkZ9LxD/GqQ+HmHlWNq7I7vEolLPQxEMQJDNHhFM8VnIodp3586dzYmJiS3Ky1oSimAA7UhDIXVTBqmPgK7fBl1/Q9bNaqSehyIYAK/3zuXLl7+DXX8a3uwu8ge401Yn9TwUwYCrV6/mbtiwYVVCQgJ5tjyhrVLqeSjCE87MzKxCMdWFv1Yr9TyU4gc0V7dqqP9EwcJQGWBhqAywMFQGWBgqAywMlQEWhsoAC0NlgIWhMsDCUBlgYagMsDBUBlgYKgMsDAkDkEvV2APMykFf5KDY1I/LPQoSBiCtp0V2qQOzcri6urogCW/1gtISSPIBly5duhodHb2pM1AJMCuEB0AfaBQUFPzGFICH/psp/YQ9aG/Vr7ebm5vh8OHD4peJNpWAUTJsck3QPOLYlmBTSXg5NJGRkUPq6+sDYfz0oo+mDQbr//V0gl3j9jetu7t7fl5e3v6IiIh8ZosAvRPFLwttFDXZ2dnf+vv7uzAbBEnRFBQPZrvoUFNTE4S315PZIIgBNu/Q0N5Q+l1mZoNQRCiCvuu14v+o0SwUwQBaCJiNQg3GWRgqAywMpTDAZp9DKWuAoy1bQedRKpjtQg+nOBNW0D1mgyAG7EYpYrYL+nGOQ8HBwTYpRP8HHJydKbCL0ScAAAAASUVORK5CYII=",Hse="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAwlSURBVHgB7Z17TFTZHcfPzPCSlzxErMhDBJ+Lur6a1d0Ndhof3bW1tpY/JI3RBlP0r26aNGaTkm27iTVRkopmqWujNbGBZI0xG9QFoazSB6LRikRQRHm/YRhmxhmY2+8PBnYc7+g87mWYO+eTHM/MHIc55/7O73d+53fOPZcxDofD4XA4HA6Hw+FwOBwOh8PhcDgcjhuoHF4LDp95i8A4kqKyy4WCggJ1Xl7eot7e3lSr1aoBVtf/FFPhO+rg4OCh8PDwhsWLF5vYd52AIxHT2nThwoWUffv2/U6tVr+Pt6HMc0hALUh/UalUXzMuNOmprKwMGx8f/7sAkAveYvsbt5uamlYxjuSoDQbD93GBu6UQlj03btw4xjiSokZSDQ4OJtJrwKRk5cqVWYwjKSQhITY2tg55H5wGJhXQVpaUlBQLRQthHMkggVnnzJnTgbwQGlZP75kHOAobHiZlET09PclM2qlCQBNE/8CbIy/ui7t37zaYTKaPoR2Jts/e6t2ZzWbj6tWrfxAfH79MpDhiaGhoMfKnjGOPx55zkP2bdevWVSOrZm5SVlb26Y4dOwrwUuNQFB0aGrpm7969tXq9PuBNIyzYGIYJfXFxsYV5KDRJTFV5eflBrVb7OV7Ot/8c45cFmloPc/lfvA3C+0A2jSq0fwjXowbDRTnyQeYBQUwaXiBRBV4RGCoVjGw1etY7jDPFQaSvILzDuD6jzE0k8eNh9p6zSYE5+40gnqZTFNJHo6OjW7Kzs91WGEkElpaW1opsiHFcJQzalck8sHCSCCw5OdmIbIDmXhyXEDyd80oW2qipqem0zb04b2cM43rzyMiI2z1cKqeDNTY2tm3evJk0bY5DkRUDrA4moJ8FzgSa1EcDi5OAThxpX4BrQc7YOJagHtXV1Y0xN5FMYIiWkKfYi5TiUGTt7++vO3z48O8XLlxIERDN2Jjb9fQrEEwYzc3NXYkO/AnerrEvg7AY5qS6oqIiGvN9t+x06dKlDeg9tSJBe6tOp/tnSUlJQNlLTI7Xou33RK7HeFdX1zeJiYkRzAMkG8Pg2k9p2CtgcFVFRkamItoRyQIIi8WyFlmaSJEJ41dDenq6R16HZALbs2dPD7IeR++HlmxgBmgFO1nK35vtbNy4kYaGGJEiElhjb2+vbwVGDA8PdzlZUwtG2fK8vLyAMYsQ2EInY7U5KCjo8aJFizyaA0kqsDNnznQ7KQqB5mXCkwwIgWGconYmQDBixS8xfDRWVVX5XmAxMTHtTGQcA8HQvCUwA5J5pbOZa9eukfmPFytDxzXC2vQxDz1ESQWGntWJrEukKARzkkyj0RgoGpbKnAisubm5dcGCBWbmIXIITMws0n6RNLiyASEwjF3kcMwTKSKH48n69euZp0gqsKioKGcaRuYysrKyMpYFQLQDLj2ZxDiRIgPSE0Q4pNs84y3QsuPoYWK73obRkB9iPqZkLZvojIh0FItv/BNanz179hPmhaJIPi9CxKPHSRCYYmuZbW1tSt4qMOFIBAcHJzqJxo+SSWReILnA6uvrySSKTUA0aEQGUjBTMA0NDeRsxDjOR20CNKWkpLQwD3emEZK72SEhIRTxoG1zKSK/tRRBYkVvxhkYGEhnIhEOEmB7e3vv2bNnjcwLJNcwTApJw9pEishOLocNV7SGgSVIsSKfW1+8eNFcUFDgVYRecoGZTCZy61tFilSY+S84duxYOFMwaL8zgQ3D+jSxWQht5zoOj/D1dRbM8pF9yBTs2re0tJxz4iE+u3fv3m7mZdvliJ4LnZ2dbWJxNBUttY6PL83Ozvbm/rNZC+27TE1NTXHiIergPXu9A1pqgU30nqNHjzoLAqvRqExMosOY8qC7gKKZcw9Rl5WV1cy8XGWWWmATlZk7dy7tUewXKSeBZvT3989hCgTtovHrtTGaBIjJ9JAnG0df+1tMBlBBEtZzsSKkDFRckRqGcZv2GkaJFVZUVLQyCZBFYDB7A0zctVdDWClJSUlKG8PIcqgwRn2APEGkXI8xvYVJgCzrUwaDgTTshVgZGhVx/vz5ucuWLVNjEc/vtwyMjIyosL6lrqmp2TRv3ryPmPgN/RSua2ASIJt7DS37LbI/i3xuhZadHhoaujM6OkqOo9+6+DD9dAN+KNqUBavxYzRlEXO4puRw4P9VI2Dwi/T09G7mJXKuALfR1m3HQDAaRVr1S3iKOUhMAZCAaMuaqCNFDsfNmzfrtFqt18IiZBPY6dOn+/Pz88ec/EY0Uz5WLDOpMXY9gNDO2T7z+swS2caQ6upqHRN3PAKBKWGZnj59emrr1q0PbZ97vdNXNoEhKk9bkZ+xwGJCIDZhmRsbGz+9ePHil7YyScZqOccwEhjN7LeywEFFexEhrP89efKk8NChQxfgCVOYY+K0BiYBMyEwUeCQjMMhmZi/MP+GBEERjIlgAYRVi1X1i5mZmQ9s5ZIJi5D1YsHdzYFb+w8nu4Erbt++Xd3c3GzCkrrf7leE14smWnVoa3t0dPS9Xbt22c8//etgtI6Ojg/QkDEnyw106oBSl1lka5eskYbc3FwyFRQIFutl7+7fvz+DKRPZtEpWgcXHx5PAaJeQWAPSoWWBMB+TFLljeXrm3PFIi4uLmwqU8rOoXERWgen1+hFkjWJlGKhDTpw48WFRURHd6Cf1WcOKRe6LRPs7PoZwLsNTfCWoiM8pMxiNxsLw8PATxcXFOsxbVKtW+d8hpmFhYQLdUVlaWjrlvss2hsneq48cObK8sLCwAnOu7zn+njB5Rz2ZzS5oo761tZXunfIbTaOFBlvH68P865uUlJQv8RlZFf8953jLli1RaNRn4284nxYaKPg51IBhpM8RlY9n/k5BQUHGy5cvGwTlY2xvb9/MZGSmzA+NZVpo0t9okc+2Zqk0R0Mwm82qkJCQn6F9XzGZmKklegGNKIfj8Wvkt+kDOg6CKQsSlvXy5csjTEmcPHlyLczjcWjcI7IhUh+97isQpadx7K/btm2bz2Rkpnv59PNdsCL9fk5OjhaT56Vsci86LbFrmP95V1Rf0qr6hw8fnsjKypJkK4AzfGGWXnN5KysrYwwGw1z00mDyGJkfgZUGITk5uXvNmjVebxLlcDgcDkfJzKojGOiBc8g0aWlpaixusqqqqtnggKizs7Md6xSwKwvTTwgsKSkJwTwms6OjY093d/dPBwcH38V7usvFF/vvVbY6aeC9Jnd1de1CysHrTVeuXIliASqw6UYj/ratr6+vAgJqReq0pedw8f/1+PHjI3gd6vgduevV1NT0Hib4pfjtZqQOW53aILQ7qNMnWFlQ5D1ubwUX4TBSF0ULnEQ9epHOQ+OmNuLLKTSVrU4Hke471sluVWGE6oSJchwLEKYuTC7S4NvCU7hQZmR/xFgSaf99GVBjQXUrfqvpTUs+tjL651x9fX1gPAQIJiUODf7W1VginUBQW1ubzWTk1q1bURBYteA6w4jO/MiTR3L4Hbg4vxImzZ1L2AT7h/z8fFkOeyYPFX9/EzrGsBsLqhaY6ssZGRkztvvLZ3dAYqmFznN3eQygm+eQbdDpdAuYDFy/fj0U2vUe3b/mxj2GpFlrsawyYxrmM4FBYyLc/H26ipH4niwXhxYf8bejmZvjI7Qsgu5WYTOEzwSGXkzn3lrc+xbrxve8OlzLGfPnzx8PCgqiQ83cunEBAhsIDQ2dsacE+Uxg4eHh/0HWLQiuBTOEyf94x2Kx9DAZKCsrM8Ps1uKlOx3CrNFovsWY527H8xifCQy98jpM0ANXxwt62A6EVV5aWiqLhgHBdnjXv5nrWtYPgV1KSEgwMYUzIaWrV6/+XJiMJLwR9OBRk8n0Gyy/e/S8EjfQ9PT00DNTHtl+903V0iMVCZPhs4BgavK8H5rWTp67MDkZtReUhdxseG9/2r1794wcOUBnEiNuqMXP07Y8i2OdbPWkPYhfCAF2M8d0gBUNXwsv7QydtQiPywwhIYz3sg+vS+hg5wMHDkSxGYQmwp2dnWnoSJ+hXs2ojwmvzajTMNLXqO9uJEWf++iM6Wj99u3b47KystJPnTq1Sq/Xr96wYUM67UDywSnc04Pqzp07o1esWJGKQPCq+/fvv4MJ8hKtVpuISXZAPOHCGf66VMHvtuFwOBwOh8PhcDgcDofD8Yr/AwAoazj1gHDnAAAAAElFTkSuQmCC",Gse="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAACACAYAAABDTVbYAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA76SURBVHgB7Z1LcxPZGYbfcyT5hgHBcMuYDJ0aKpPLwppKJZukCnk1q9TALxhr+AGGX4C9yhL4ARnZvwBTWWWFWMwmWeDZzCRVpEpMMMNwFYPBRpc+c76WZHyRrT6fbt3y91SB2pYssLrffr/vPed0KwwZL+GlK6h4GsgYKM/AnFMwadjt+iNA39/5cwqqBPglEzzCPqJov/fA/kzRfq+YRHLlGIolDDEm76U3UM3YLftZYdp+BvR5efR18LzR6eZnuA1lio2N4NH+7Irx1Sut/RX7GRZHcqsrGDIUYs4TTGXsL5G1O3law2RbiaJb2H/HisjYg0DdtX9WTuJhATHlvUj8C/b3yvhGZ1uKoksoZcVkBQUfdxMaK3EXU+yEQ45SQ+WiD1zQUBdND3d2SAr2gFhKIVWwjlREhCnnpzI1mM/tbs9a281isBTt0VewJ7vbIxgpqFy83DwWwiGxVFGZtZt2pw98h+8HnUWXkkgtR0VE6/mzWXIVuzkLozxEFKXMsi3vbo9fXl1EDIi0cJ6Cdjrm6qXYwJ3FlcCJTmF1EX2GyrB1vzKrtD3RDN5ZnKAek0SUAG5GuZyLnHAazf1F+x/7AtF2l1BQX+TDv5HC6O1eu1C9bynP2Sb+iorfiWY3tpSzPdFSFF0oMsKpl2Nl6y76SgzdJRT2w15MILXQbQGt5z0PqFyzp+tZDCdF+7stRElAkRDOc5yds2XN/LAKZjdmPomRpU4FRA7zzgrGGFzBwSAyAhqocOo9jLluNzM4YNRLOCxweqChK8kcoVhbqdSl8dzgApiBCMeWZV4N1evWYS7igEMCsuXbTFj3CVIyY/IIBiYPOAqLsKXvIATUd+EcvLIsLGb+JB4t7PnswSvLwjKQ8q1vwiGXsWMxdKbMQmjJXu4jLtMeo3Bj3LpPvwZS+yIc6mVsLZ43suND8t59NvJT18VlQlOESs30o3TruXCe48NrPtQ8BCeSH1QWx/+W8ExSZyE4YYx/deLyDzfQQ3omnPqcsrINANQsBCeSxys4MvMc6gRQnj4JM5aA4Igy8+O5vXvGjt8ePaDRz9zCAYyZO2X047eY/NMrqBE/+JpEU/n9B/AnUxAcUSiMIXWpF31P14VTj5ord6SfcWfst2uBaHaR1KicP4ra6QkIzvSk7+mqcF6Cpq3jlojGnYnp15jI/LTvayq/OSbi4dF18XRNOHXRqDsyPuNOGNE0qXpHUD13GIIzXRVPV4TTmAlwT0TjjotomojzsOmaeDQ65H1PI6JxhSMaIvWfl0j8+BaCMx5M5U59NnlndCQcCQL4UHrGEU2T1P1X0GsVCM54yia+NIUJHcAWTmPtv4iGAY3THP7LS3RE1cfIN8+gNmoQ3DAGmXco59EBbOFY0VwX0bijJ2vB4GZXCMTzFKpqILhhjLq4nv/wGpiwhEPTaAyGdrVhT0l/9jQQT7cgx0n9t0P3OqgYNV/+auoLMHBO1Sh2rgL3IDhz6I+vMP67NfSC6vk0qlOHILih6OKTKvWpa9Lm5Dj1MAC3IDgzdv5tz0RDJO+XoEvvILhBVyvlhAVOwqnRQirpa5yh0mximp+ghYVKNul33KGwYJ0uduJAaOE8wdSs9DU8SDTd7Gv2gvqdxIPeC3QYUQZX6hdvDEco4VCJZl/ITiAOMlSi0Z9+kXy4JiUbF2PyYUu2UMKREo1Hv0q0nUjKxsZ761dDrbZtKxy6G4CUaDz6VaLthEq25IPXENxJKDMXZkqODvECSdEYkGD6WaLthEo2CQrcqd8TqNJ2VsG+wmkEAh4EZwZRom2j6ktQwMUg2y4o0G2elECAQepMeaBu0yRwHZnLxsTse+zvKRxxGz4Dd5stJMV1eLRxHb3PE+I2DMhtUmeiEwcnHr+VXofN3q7TUjjiNnxGP36DqJFY7d1Un6FmH9dpKZzGTZ0ERwadpO2FJGx8FPy5Vt/fJZwn8OhaaFkIzkSpt9kGJWyy1JoFrdtpNZtA7/5GZQ4Ci5EI9TY70c/WIfBoNZtgl3AM1IG/Zw0HKtEGMUsgLDR/Teaw8VCKbnG/nW3CoVAAcrUaFqlfRv+Mnni+AcEd2/NndoYEevsL1OcQnCGnGf0o+gclRdMCD2O23z1wUzh01RrIrQVZRLm32YYNCaRc46F3JM2bwqmhloXAIg5lWhMp13jQ5M+t5dqWUs2XMo0JzRaIC5Ku8fH998M0W3ucLARnSDS6cS+bOECTPmXiJw+tzYXNbfqLlkbLFBseUZqXFhb9SvocDsog0xwMDYRTQSULgUXqdAyFIwEBC+pzNlAN7jKoG39dgMAicTx+Fz4X4fAxvnkvHAMl9+pkQKKJU3/TJOhzZNIni4TGND02wgEjwmGQmKwirkhAwMM39RBNN2ZDCwySx2MsnDfxidAjhkcBgdaoeRBYJI7F9+CTm1LxsWGapw18DwKLRIRnQ7dDSjU+NV9ntILyILCI8jKCtohw2FizSVvHwTkIziibpsUxUWuiN+Lbnw0cBbqWuqy/4aBGYh7nVuMr+kGTUDhqSzWZasMhzv1NE+lzePhQXke3axeEg4qWyZ081MgQOI7MHuBhjDgOFx33HoeoSqnGRYQjCAxEOILAQIQjCAyscFQJgjN+WSH2JBMQ3LHdbcmO4xgRDgNTjv9BZ5JDIP4BoJQqSanGZDgcR3Y/FxrHKUJwxpTjf9CJ4/DQMEUSzgMIzvhr8S7VzJj0N1x8Xz3QWsIBNn6MXceMJSHwMDYXsI5jihBYxNp1pL9ho7RasamaLkJgUX05grjiT6Yg8EiQ41RQWYHAIs6O4x8S4XAZya2u6F/gcVEGQXlUX8S4T5Aeh4UN0wKjaV5XTVyHQfVFnEs1EQ4PE6TQgXAU1DcQnKFSLY7Jmp8ehcDEqAI9iON0SOVx/FzHSDDAhhI1egyEk0BqGQKLyo/xO3vXjorjcFBAaTz3sEDbgXCOoVhSMvWGRe1F/M7eRko1FkapzcpsS4GubkNwpvJ4NFZ9jj85InPUuPhmqbm5ucdtzCblGpPy/8cRF/wTYxCY6Fphc7O5cRJUu8l4Dod392MknA/i83+NEjR+M56jMc8622oMa+BLEJyp2j4nDuUaTeyU8RsmZrs29PbnpFzjQGtz4lCuSZnGR+naNm1sE46Ua3ziUK5VpyYhMFCqsLVMI1rVFzchOBP1dI1mC8jiNSZb0rQmu/Z0EskbEFhsfBfdM3rt9AQEFsUxvXuCwC7h0GCofShAcGb920ORdB0KBWpnRDgctEJB5Yq72pc99rJagOAMhQTv/he9A7QmvQ0bH7WWWmgpnHpIIK7DYf3baB2kgdtImsbCus3izlBg87m9f0xchwMtNaCgICrUTo9LKMBkL7ch9hSOuA6f118fQxSo9zaHILizn9sEz2NfxHU4kOtsRKDXEbfhs5/bEPsKR1yHz5t/HR1owkZuU/WOQHCnndsEr0EbqqjlZDaBO5SwDXJcp3ruMAQWxXZuQ7QVTv0qODKbgEMwrrPW/0mVNEtAxm2YGCy0cxsiVC1Bswnk4uzukOu8/jqNflP5JBrhROygOWmXVxfDvDSUcOpLq1UOgjMUTa9/179ki0o0CQTcMUE7Ug19jIfuXikosOKRko3B25UjfSnZJBDoAGNClWhNnBefP8XUPfuQgeBE6sw7HP3sGXoFiaY8fULchgGlaKO51W1us54/m7XimFPwl6wbXRtFauYdyvmx3KNLwc/AEZuyXZKUzR0q2d78+yh6hZRobFqmaHQZKANzezT3aNk36u6Gqd5SW457Z+FQymbf8CoEZ2geW/n77s8bI9FIisajpnBprxKt1rhOtFJYrilz1YfaXJfDvk7QU5ydtwXCNQhOqBEfx/76FHqyim5A0TOVaII7xuDqxOVV1voz9tC2DQvmjVzcwxmKqEv/PNGVsID6Gomeedjya4ErGqKjOSEppK6gYWdCeGgu2093jnc0JUfCAD6+PeEfuvxwHh3Q8SUdX8JLV1C5Z9/Ig+DEyEfrODLzAq6YpEb5D6dENAzscboy9uXqp+iQjmch0uBoDbUZmVngTvn7caw5LkEIRCNOw4JEM6pSM+gCXbuI8A844yWQuCPO487Y+beY/PPLtq/bFI3cpsOZpmhaXT+A+X7dQ8TDp514RDR8ui0aoqsLRmiMh8o2SGDgzMb9CZT+caplYBAEAdTTiGicoSCg26IhenK/h0ZgcMO++RcQnNCTNaQ/e7Y5ziPpGR/bd9+c+HL1CnpAT2+UIoOkPEg8R2aeQ/06geonx+V+Ngw6GdwMQ8/3yBNMzSqo63QfMAih8aEWDn+FtIKZg+BCkabRTOZWe9ou9OVUJqFBeCjWp7VPjes9YD0/NWuMuq7kxNMepQpjSF7qdj/T8p9CH5HSbX+sYJZfI5n7Fbbv+PX8GU8hccuWH7KcowXBIjRjFnpZmu2k78WzuE8raLq6WTiJ/Xf8+t/PzhtFa0TEfTaxLkMrN10WoXXln8WAEPepQ8nPG6Tmd7rMXpD7+CYxrw94YjkIl9nKQOOahvvMH8zYms6UWGj2Mq5Q72OPHjrxeDhg0MlmXKXm+9HL7EUkck4SUBLJvP1IshhyqPmnhYCn8agrt408UAIaUFnWikgNENjyLWsfrg2pgFboTHkKq4voAUMtIFV3Z1rOjIgQyZG14SrhOivJXCEB2XRuzhgT6wSufrkms6RU7UYUHGYnkR6SbggoazevxSuFCy7qcNOWZMvWYQYyb28tP5VRBlesiD6PVQpn3cX45va4Ti0OsodpR2zmclAZZw/EWbt5IZoiUiV7lly2B+lSv9wlLMEgqhWQPY1nIykihSJ8tZTQZnkkN5gTjSuxnAT1BPZsCmRBB8NA+yFl+xZzlwYuoyaWvaDrhfnGzCaUmh5UOUdlmFK257POonRqeTxXLCJmDMXswXqoQAeBuoDAjbp/QKggDQuE8kBDF14jUQg79hJVgjEhpGxJ52dVICRkeuFI9r1Xgs/O97/xNQqTMXGV/Rjaabd1V1LphqDSdsedaxwUmweG/dqrN6FoCqBU/9p/pYI5Yyj5Ng2zA5TFuIskLCbvpTdQzfj2M9O+yRhl0krpo/YZb8cr7deq+P7rxrZvHkCbog9d0kisxNFNwvAzelL8ZR7DblMAAAAASUVORK5CYII=",kr={PRIMARY:"#4682b4",TEXT:"#131313"};function i3(){var I,B;const[,t]=fi(),[e]=fi(),{user:s}=Xo(),{notifications:n,markAsRead:r,markAllAsRead:i}=Use(),[o,l]=j.useState(!0),{data:c,isLoading:d,error:u}=Gi({queryKey:["/api/wallet/balance"],queryFn:async()=>{const F=await fetch("/api/wallet/balance",{credentials:"include"});if(!F.ok)throw new Error("Failed to fetch wallet balance");return F.json()}});c!=null&&c.balance,c!=null&&c.formattedBalance;const{connected:p,orderUpdates:f,connectionError:y}=G5(),{connected:g,notifications:h,connectionError:b}=W5(),{connected:m,chatMessages:x,connectionError:k}=K5(),[E,C]=j.useState({latitude:0,longitude:0,city:"Unknown",country:"Unknown",loading:!0,error:null}),{data:R}=Gi({queryKey:["/api/transactions"],queryFn:async()=>{const F=await fetch("/api/transactions?limit=5");if(!F.ok)throw new Error("Failed to fetch transactions");return F.json()}}),N=(R==null?void 0:R.transactions)||[];j.useEffect(()=>{(()=>{if(!navigator.geolocation){C(U=>({...U,loading:!1,error:"Geolocation not supported"}));return}navigator.geolocation.getCurrentPosition(async U=>{const{latitude:H,longitude:Y}=U.coords;try{const te=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${H}&longitude=${Y}&localityLanguage=en`)).json();C({latitude:H,longitude:Y,city:te.city||te.locality||"Unknown City",country:te.countryName||"Unknown Country",loading:!1,error:null})}catch{C({latitude:H,longitude:Y,city:"Unknown City",country:"Unknown Country",loading:!1,error:null})}},U=>{C(H=>({...H,loading:!1,error:U.message}))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})})()},[]);const _=()=>(E.loading||E.error||`${E.latitude}${E.longitude}`,"/attached_assets/image_1752989901533.png"),O=[{id:"scan",title:"Scan QR",icon:qse,route:"/qr-scanner",bgColor:"bg-[#4682b4]"},{id:"fuel",title:"Order Fuel",icon:Qse,route:"/fuel-ordering",bgColor:"bg-[#0b1a51]"},{id:"toll",title:"Toll Gates",icon:Vse,route:"/toll-payments",bgColor:"bg-[#010e42]"},{id:"cart",title:"Cart",icon:Hse,route:"/cart",bgColor:"bg-[#4682b4]"}],T=F=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(F),D=F=>new Date(F).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),V=F=>F==="credit"?"↗":"↙",L=F=>{switch(F){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=F=>{F.actionUrl&&t(F.actionUrl)};return j.useEffect(()=>{f.length>0&&f.forEach(F=>{F.type===Pd.ORDER_STATUS_UPDATE&&console.log(`Order status update: ${F.status} for order ${F.orderId}`)})},[f]),j.useEffect(()=>{h.length>0&&h.forEach(F=>{var U,H;F.type===Pd.NOTIFICATION&&console.log(`New notification: ${((U=F.payload)==null?void 0:U.title)||"New notification"} - ${((H=F.payload)==null?void 0:H.message)||"No message"}`)})},[h]),j.useEffect(()=>{x.length>0&&x.forEach(F=>{var U,H;F.type===Pd.PAYMENT_CONFIRMATION&&console.log(`Payment confirmed for order ${((U=F.payload)==null?void 0:U.orderId)||"unknown"}: ${((H=F.payload)==null?void 0:H.amount)||0}`)})},[x]),a.jsxs("div",{className:"min-h-screen bg-gray-50 w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl mx-auto px-2 sm:px-4",children:[a.jsx("div",{className:"bg-white shadow-sm border-b border-blue-100/50 animate-fade-in",children:a.jsxs("div",{className:"flex items-center justify-between p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:tx,alt:"Brillprime",className:"w-8 h-8 animate-pulse"}),a.jsxs("div",{className:"animate-slide-up",children:[a.jsxs("h1",{className:"text-lg font-semibold text-[#131313]",children:["Good morning, ",((I=s==null?void 0:s.fullName)==null?void 0:I.split(" ")[0])||"User"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Welcome back to Brillprime"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 animate-slide-in-right",children:[p||g||m?a.jsxs(Ve,{variant:"default",className:"rounded-full px-3 py-1",style:{backgroundColor:"#D1FAE5",color:"#059669"},children:[a.jsx(gT,{className:"w-3 h-3 mr-1"}),"Live"]}):y||b||k?a.jsxs(Ve,{variant:"default",className:"rounded-full px-3 py-1",style:{backgroundColor:"#FEE2E2",color:"#DC2626"},children:[a.jsx(e5,{className:"w-3 h-3 mr-1"}),"Offline"]}):null,a.jsx(zse,{notifications:[...n,...h.map(F=>{var U,H,Y,G,te,we;return{id:((U=F.payload)==null?void 0:U.id)||Math.random().toString(),title:((H=F.payload)==null?void 0:H.title)||"Notification",message:((Y=F.payload)==null?void 0:Y.message)||"",timestamp:new Date(F.timestamp||new Date),type:((G=F.payload)==null?void 0:G.type)||"system",isRead:!1,priority:((te=F.payload)==null?void 0:te.priority)||"low",actionUrl:(we=F.payload)==null?void 0:we.actionUrl}})].sort((F,U)=>new Date(U.timestamp).getTime()-new Date(F.timestamp).getTime()),onMarkAsRead:r,onMarkAllAsRead:i,onNotificationClick:w}),a.jsx(me,{variant:"ghost",size:"icon",onClick:()=>t("/profile"),className:"transition-all duration-300 hover:scale-110",children:a.jsx("div",{className:"w-8 h-8 bg-[#4682b4] rounded-full flex items-center justify-center border-2 border-blue-200/50",children:a.jsx("span",{className:"text-white text-sm font-medium",children:((B=s==null?void 0:s.fullName)==null?void 0:B.charAt(0))||"U"})})})]})]})}),a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsx(Oe,{className:"bg-gradient-to-r from-[#4682b4] to-[#0b1a51] text-white rounded-3xl border-2 border-blue-200/30 animate-fade-in-up",children:a.jsxs(yt,{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-end mb-4",children:a.jsx(me,{variant:"ghost",size:"icon",onClick:()=>t("/location-setup"),className:"text-white hover:bg-white/20 transition-all duration-300 hover:scale-110",children:a.jsx(to,{className:"w-5 h-5"})})}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"h-40 bg-white/10 rounded-3xl overflow-hidden relative mx-2 border border-blue-200/20",children:[E.loading?a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 border-3 border-[#4682b4] border-t-transparent rounded-full animate-spin mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-[#4682b4] font-medium",children:"Getting your location..."})]})}):E.error?a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(to,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Location unavailable"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Using default map"})]})}):a.jsx("img",{src:_(),alt:"Live Location Map",className:"w-full h-full object-cover",onError:F=>{F.target.src="/attached_assets/image_1752989901533.png"}}),a.jsx("div",{className:"absolute bottom-3 left-3 bg-white/95 backdrop-blur-sm rounded-2xl px-3 py-2 shadow-sm border border-blue-200/50 animate-slide-in-left",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsxs("p",{className:"text-xs text-[#4682b4] font-semibold",children:["Live • ",E.loading?"Loading...":`${E.city}, ${E.country}`]})]})}),a.jsx("div",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm rounded-2xl p-1 shadow-sm border border-blue-200/50 animate-slide-in-right",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("button",{className:"w-6 h-6 flex items-center justify-center text-[#4682b4] hover:bg-blue-50 rounded text-sm font-bold",children:"+"}),a.jsx("button",{className:"w-6 h-6 flex items-center justify-center text-[#4682b4] hover:bg-blue-50 rounded text-sm font-bold",children:"−"})]})})]})}),a.jsx("div",{className:"flex space-x-3",children:a.jsxs(me,{className:"flex-1 bg-white text-[#4682b4] hover:bg-gray-100 rounded-2xl border border-blue-200/50 transition-all duration-300 hover:scale-105",onClick:()=>t("/location-setup"),children:[a.jsx(to,{className:"w-4 h-4 mr-2"}),"Where are you?"]})})]})}),a.jsxs("div",{className:"animate-fade-in-up",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#131313] mb-4",children:"Quick Actions"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:O.map((F,U)=>a.jsx(Oe,{className:"card-3d cursor-pointer rounded-3xl border-2 border-blue-100/50 animate-slide-up interactive-element",onClick:()=>t(F.route),style:{animationDelay:`${U*.1}s`},children:a.jsxs(yt,{className:"p-3 flex flex-col items-center text-center",children:[a.jsx("div",{className:`w-10 h-10 ${F.bgColor} rounded-full flex items-center justify-center mb-2 transition-all duration-300 hover:scale-110`,children:a.jsx("img",{src:F.icon,alt:F.title,className:"w-5 h-5"})}),a.jsx("h4",{className:"font-medium text-[#131313] text-sm",children:F.title})]})},F.id))}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[a.jsxs(me,{variant:"outline",className:"h-16 flex-col space-y-2 border-2 border-orange-200/50 text-orange-600 hover:bg-orange-50 rounded-3xl animate-slide-up",onClick:()=>t("/toll-payments-enhanced"),style:{animationDelay:"0.6s"},children:[a.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs",children:"🎫"})}),a.jsx("span",{className:"text-sm",children:"Pay Tolls"})]}),a.jsxs(me,{variant:"outline",className:"h-16 flex-col space-y-2 border-2 border-purple-200/50 text-purple-600 hover:bg-purple-50 rounded-3xl animate-slide-up",onClick:()=>t("/qr-scanner?type=delivery"),style:{animationDelay:"0.7s"},children:[a.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs",children:"✓"})}),a.jsx("span",{className:"text-sm",children:"Verify Delivery"})]})]})]}),a.jsxs("div",{className:"animate-fade-in-up",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#131313] mb-4",children:"Services"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(me,{variant:"outline",className:"service-item-3d h-20 flex-col space-y-2 border-2 border-blue-200/50 text-[#4682b4] hover:bg-[#4682b4]/10 rounded-3xl animate-slide-up",onClick:()=>t("/commodities"),style:{animationDelay:"0.2s"},children:[a.jsx(XL,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Marketplace"})]}),a.jsxs(me,{variant:"outline",className:"service-item-3d h-20 flex-col space-y-2 border-2 border-blue-200/50 text-[#4682b4] hover:bg-[#4682b4]/10 rounded-3xl animate-slide-up",onClick:()=>t("/order-history"),style:{animationDelay:"0.3s"},children:[a.jsx(oi,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Order History"})]}),a.jsxs(me,{variant:"outline",className:"service-item-3d h-20 flex-col space-y-2 border-2 border-blue-200/50 text-[#4682b4] hover:bg-[#4682b4]/10 rounded-3xl animate-slide-up",onClick:()=>t("/merchants"),style:{animationDelay:"0.4s"},children:[a.jsx(to,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Find Merchants"})]}),a.jsxs(me,{variant:"outline",className:"service-item-3d h-20 flex-col space-y-2 border-2 border-blue-200/50 text-[#4682b4] hover:bg-[#4682b4]/10 rounded-3xl animate-slide-up",onClick:()=>t("/payment-methods"),style:{animationDelay:"0.5s"},children:[a.jsx(FL,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Payment Cards"})]})]})]}),a.jsxs("div",{className:"animate-fade-in-up",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#131313]",children:"Recent Transactions"}),a.jsx(me,{variant:"ghost",className:"text-[#4682b4] hover:text-[#0b1a51] transition-all duration-300 hover:scale-105",onClick:()=>t("/transactions"),children:"View All"})]}),a.jsx("div",{className:"space-y-3",children:N.slice(0,4).map((F,U)=>a.jsx(Oe,{className:"card-3d rounded-3xl border-2 border-blue-100/50 animate-slide-up interactive-element",style:{animationDelay:`${U*.1}s`},children:a.jsx(yt,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${F.type==="credit"?"bg-green-100":"bg-red-100"}`,children:a.jsx("span",{className:`text-lg ${F.type==="credit"?"text-green-600":"text-red-600"}`,children:V(F.type)})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-[#131313] text-sm",children:F.description}),a.jsx("p",{className:"text-xs text-gray-600",children:D(F.date)})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-semibold ${F.type==="credit"?"text-green-600":"text-red-600"}`,children:[F.type==="credit"?"+":"-",T(F.amount)]}),a.jsx(Ve,{className:`text-xs ${L(F.status)}`,children:F.status})]})]})})},F.id))})]}),a.jsx(Oe,{className:"rounded-3xl border-2 border-blue-100/50 animate-fade-in-up transition-all duration-300 hover:shadow-lg",children:a.jsxs(yt,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-[#131313]",children:"Payment Methods"}),a.jsx(me,{variant:"ghost",size:"sm",className:"text-[#4682b4] transition-all duration-300 hover:scale-105",onClick:()=>t("/payment-methods"),children:"Manage"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-2xl p-3 flex-1 border border-blue-100/50 transition-all duration-300 hover:scale-105",children:[a.jsx("img",{src:Gse,alt:"Mastercard",className:"w-8 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"•••• 4532"})]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-2xl p-3 flex-1 border border-blue-100/50 transition-all duration-300 hover:scale-105",children:[a.jsx("div",{className:"w-8 h-5 bg-[#1A1F71] rounded flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-xs",children:"VISA"})}),a.jsx("span",{className:"text-sm font-medium",children:"•••• 8901"})]})]})]})})]}),a.jsx("div",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-md bg-white border-t-2 border-blue-100 shadow-lg z-50",children:a.jsxs("div",{className:"flex justify-around items-center py-2 px-4",children:[a.jsxs("button",{onClick:()=>t("/consumer-home"),className:"flex flex-col items-center p-2 rounded-lg transition-all duration-300 hover:bg-blue-50",style:{color:e==="/consumer-home"?kr.PRIMARY:kr.TEXT},children:[a.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})})}),a.jsx("span",{className:"text-xs font-medium mt-1",children:"Home"})]}),a.jsxs("button",{onClick:()=>t("/search-results"),className:"flex flex-col items-center p-2 rounded-lg transition-all duration-300 hover:bg-blue-50",style:{color:e==="/search-results"?kr.PRIMARY:kr.TEXT},children:[a.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})}),a.jsx("span",{className:"text-xs font-medium mt-1",children:"Search"})]}),a.jsxs("button",{onClick:()=>t("/messages"),className:"flex flex-col items-center p-2 rounded-lg transition-all duration-300 hover:bg-blue-50 relative",style:{color:e==="/messages"?kr.PRIMARY:kr.TEXT},children:[a.jsxs("div",{className:"w-8 h-8 flex items-center justify-center relative",children:[a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"})}),a.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-white font-bold",children:"3"})})]}),a.jsx("span",{className:"text-xs font-medium mt-1",children:"Messages"})]}),a.jsxs("button",{onClick:()=>t("/profile"),className:"flex flex-col items-center p-2 rounded-lg transition-all duration-300 hover:bg-blue-50",style:{color:e==="/profile"?kr.PRIMARY:kr.TEXT},children:[a.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),a.jsx("span",{className:"text-xs font-medium mt-1",children:"Profile"})]})]})})]})}const Wse=Object.freeze(Object.defineProperty({__proto__:null,default:i3},Symbol.toStringTag,{value:"Module"}));function a3(){const[t,e]=useState("overview"),[s,n]=useState([]),[r,i]=useState(!0),[o,l]=useState(!1),[c,d]=useState(null),[u,p]=useState(!1),[f,y]=useState(!1),[g,h]=useState(null),[b,m]=useState(null);return a.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Merchant Dashboard"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Manage your business and accept payments"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"View Sales"}),a.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Accept Payment"}),a.jsx("button",{className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Manage Inventory"})]})]})})}const Qy=Object.freeze(Object.defineProperty({__proto__:null,default:a3},Symbol.toStringTag,{value:"Module"}));function o3(){const[t,e]=j.useState("active"),[s,n]=j.useState(!1),[r,i]=j.useState(!1),[o,l]=j.useState("today"),[c,d]=j.useState(!1),[u,p]=j.useState(!1),[f,y]=j.useState("pickup");return a.jsx("div",{className:"w-full max-w-md mx-auto min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Driver Dashboard"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Manage deliveries and track earnings"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Available Orders"}),a.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Track Delivery"}),a.jsx("button",{className:"w-full bg-orange-600 text-white py-3 px-4 rounded-lg hover:bg-orange-700 transition-colors",children:"View Earnings"})]})]})})}const Vy=Object.freeze(Object.defineProperty({__proto__:null,default:o3},Symbol.toStringTag,{value:"Module"})),Kse=j.createContext(void 0);function Yse(){const t=j.useContext(Kse);if(t===void 0)throw new Error("useAdmin must be used within an AdminAuthProvider");return t}function Jse({children:t,currentPage:e,onPageChange:s}){const n=[{id:"dashboard",label:"Dashboard",icon:UL},{id:"users",label:"User Management",icon:Yc},{id:"kyc",label:"KYC Verification",icon:xc},{id:"transactions",label:"Transactions",icon:vc},{id:"escrow",label:"Escrow Management",icon:YL},{id:"monitoring",label:"System Monitoring",icon:GL},{id:"fraud",label:"Fraud Detection",icon:Ln},{id:"moderation",label:"Content Moderation",icon:hT},{id:"support",label:"Support Tickets",icon:cn},{id:"analytics",label:"Analytics",icon:oT},{id:"security",label:"Security Center",icon:JL}],r=()=>{localStorage.removeItem("adminToken"),window.location.href="/admin"};return a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsxs("div",{className:"w-64 bg-white shadow-lg",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Admin Panel"}),a.jsx("p",{className:"text-sm text-gray-600",children:"BrillPrime Management"})]}),a.jsx("nav",{className:"mt-6",children:n.map(i=>{const o=i.icon;return a.jsxs("button",{onClick:()=>s(i.id),className:`w-full flex items-center px-6 py-3 text-left hover:bg-gray-50 transition-colors ${e===i.id?"bg-blue-50 text-blue-600 border-r-2 border-blue-600":"text-gray-700"}`,"data-testid":`nav-${i.id}`,children:[a.jsx(o,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:i.label})]},i.id)})}),a.jsx("div",{className:"absolute bottom-0 w-64 p-6 border-t bg-white",children:a.jsxs("button",{onClick:r,className:"w-full flex items-center px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors","data-testid":"button-logout",children:[a.jsx(qL,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:"Logout"})]})})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx("div",{className:"h-full overflow-auto",children:t})})]})}function zS(){const[t,e]=j.useState({totalUsers:0,activeUsers:0,totalTransactions:0,totalRevenue:0,pendingKyc:0,fraudAlerts:0,systemUptime:99.9,responseTime:245}),[s,n]=j.useState(!0);j.useEffect(()=>{r()},[]);const r=async()=>{try{n(!0),setTimeout(()=>{e({totalUsers:15847,activeUsers:3421,totalTransactions:89234,totalRevenue:245e4,pendingKyc:127,fraudAlerts:8,systemUptime:99.9,responseTime:245}),n(!1)},1e3)}catch(o){console.error("Failed to fetch dashboard stats:",o),n(!1)}},i=[{title:"Total Users",value:t.totalUsers.toLocaleString(),icon:Yc,trend:"+12%",trendUp:!0,color:"bg-blue-500"},{title:"Active Users",value:t.activeUsers.toLocaleString(),icon:yc,trend:"+8%",trendUp:!0,color:"bg-green-500"},{title:"Total Transactions",value:t.totalTransactions.toLocaleString(),icon:vc,trend:"+15%",trendUp:!0,color:"bg-purple-500"},{title:"Total Revenue",value:`₦${(t.totalRevenue/1e6).toFixed(1)}M`,icon:uf,trend:"+22%",trendUp:!0,color:"bg-yellow-500"},{title:"Pending KYC",value:t.pendingKyc.toString(),icon:xc,trend:"-5%",trendUp:!1,color:"bg-orange-500"},{title:"Fraud Alerts",value:t.fraudAlerts.toString(),icon:Ln,trend:"-12%",trendUp:!1,color:"bg-red-500"}];return s?a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((o,l)=>a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},l))})]})}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Overview of platform metrics and system health"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:i.map((o,l)=>{const c=o.icon;return a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:o.title}),a.jsx("p",{className:"text-2xl font-bold text-gray-900","data-testid":`stat-${o.title.toLowerCase().replace(/\s+/g,"-")}`,children:o.value}),a.jsxs("div",{className:"flex items-center mt-2",children:[o.trendUp?a.jsx(aT,{className:"w-4 h-4 text-green-500"}):a.jsx(PL,{className:"w-4 h-4 text-red-500"}),a.jsx("span",{className:`text-sm ml-1 ${o.trendUp?"text-green-500":"text-red-500"}`,children:o.trend}),a.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs last month"})]})]}),a.jsx("div",{className:`p-3 rounded-full ${o.color}`,children:a.jsx(c,{className:"w-6 h-6 text-white"})})]})},l)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Health"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"System Uptime"}),a.jsxs("span",{className:"font-semibold text-green-600","data-testid":"stat-uptime",children:[t.systemUptime,"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"Average Response Time"}),a.jsxs("span",{className:"font-semibold text-blue-600","data-testid":"stat-response-time",children:[t.responseTime,"ms"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"Server Status"}),a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:"Healthy"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{className:"w-full text-left p-3 hover:bg-gray-50 rounded-lg transition-colors","data-testid":"button-review-kyc",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(xc,{className:"w-5 h-5 text-orange-500 mr-3"}),a.jsxs("span",{children:["Review Pending KYC (",t.pendingKyc,")"]})]})}),a.jsx("button",{className:"w-full text-left p-3 hover:bg-gray-50 rounded-lg transition-colors","data-testid":"button-fraud-alerts",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(cn,{className:"w-5 h-5 text-red-500 mr-3"}),a.jsxs("span",{children:["View Fraud Alerts (",t.fraudAlerts,")"]})]})}),a.jsx("button",{className:"w-full text-left p-3 hover:bg-gray-50 rounded-lg transition-colors","data-testid":"button-system-reports",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(oT,{className:"w-5 h-5 text-blue-500 mr-3"}),a.jsx("span",{children:"Generate System Reports"})]})})]})]})]})]})}const ah=j.forwardRef(({className:t,type:e,...s},n)=>a.jsx("input",{type:e,className:ht("flex h-10 w-full curved-input border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...s}));ah.displayName="Input";function l3(){const{toast:t}=Jo();Kc();const[e,s]=j.useState({role:"all",status:"all",search:"",page:1,limit:20}),[n,r]=j.useState([]),[i,o]=j.useState(null),[l,c]=j.useState(""),[d,u]=j.useState("all"),[p,f]=j.useState("all"),[y,g]=j.useState("all"),[h,b]=j.useState([]),[m,x]=j.useState(!0),[k,E]=j.useState({totalUsers:0,activeUsers:0,verifiedUsers:0,pendingKyc:0}),[C,R]=j.useState({page:1,limit:20,total:0,pages:0}),N=async()=>{try{x(!0);const w=new URLSearchParams({page:C.page.toString(),limit:C.limit.toString(),search:l,role:d,status:p,verificationStatus:y}),I=await fetch(`/api/admin/users?${w}`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!I.ok)throw new Error("Failed to fetch users");const B=await I.json();b(B.data.users),E(B.data.stats),R(B.data.pagination)}catch(w){console.error("Failed to fetch users:",w),t({title:"Error",description:w.message||"Network error occurred",variant:"destructive"})}finally{x(!1)}};j.useEffect(()=>{N()},[C.page,l,d,p,y]),j.useEffect(()=>{R(w=>({...w,page:1}))},[l,d,p,y]);const _=async w=>{if(n.length===0)return;const I=prompt(`Reason for ${w.toLowerCase()}:`);if(I)try{const B=await fetch("/api/admin/users/bulk-update",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIds:n,action:w,reason:I})});if(B.ok)t({title:"Success",description:`${w} applied to ${n.length} users`}),r([]),N();else{const F=await B.json();t({title:"Error",description:F.message||"Failed to perform bulk action",variant:"destructive"})}}catch(B){t({title:"Error",description:B.message||"Network error occurred",variant:"destructive"})}},O=async(w,I)=>{const B=prompt(`Reason for changing status to ${I}:`);if(B)try{const F=await fetch(`/api/admin/users/${w}/status`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:I,reason:B})});if(F.ok)t({title:"Success",description:`User status updated to ${I}`}),N();else{const U=await F.json();t({title:"Error",description:U.message||"Failed to update status",variant:"destructive"})}}catch(F){t({title:"Error",description:F.message||"Network error occurred",variant:"destructive"})}},T=async w=>{const I=prompt("Reason for verification:");if(I)try{const B=await fetch(`/api/admin/users/${w}/verify`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:I})});if(B.ok)t({title:"Success",description:"User verified successfully"}),N();else{const F=await B.json();t({title:"Error",description:F.message||"Failed to verify user",variant:"destructive"})}}catch(B){t({title:"Error",description:B.message||"Network error occurred",variant:"destructive"})}},D=w=>{R(I=>({...I,page:w}))},V=(w,I)=>{r(I?B=>[...B,w]:B=>B.filter(F=>F!==w))},L=w=>{r(w?h.map(I=>I.id):[])};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"User Management"}),a.jsxs("p",{className:"text-gray-600",children:[k.totalUsers," total users • ",k.activeUsers," active"]})]}),n.length>0&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(me,{size:"sm",variant:"outline",onClick:()=>_("activate"),disabled:m,children:[a.jsx(xc,{className:"h-4 w-4 mr-1"}),"Activate (",n.length,")"]}),a.jsxs(me,{size:"sm",variant:"outline",onClick:()=>_("deactivate"),disabled:m,children:[a.jsx(gw,{className:"h-4 w-4 mr-1"}),"Deactivate (",n.length,")"]}),a.jsxs(me,{size:"sm",variant:"outline",onClick:()=>_("verify"),disabled:m,children:[a.jsx(Ln,{className:"h-4 w-4 mr-1"}),"Verify (",n.length,")"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Total Users"}),a.jsx("div",{className:"text-2xl font-bold",children:k.totalUsers})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Verified Users"}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:k.verifiedUsers})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Merchants"}),a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:k.merchants})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Drivers"}),a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:k.drivers})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(cf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(ah,{placeholder:"Search users by name or email...",value:l,onChange:w=>c(w.target.value),className:"pl-10"})]}),a.jsxs("select",{value:d,onChange:w=>u(w.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Roles"}),a.jsx("option",{value:"CONSUMER",children:"Consumers"}),a.jsx("option",{value:"MERCHANT",children:"Merchants"}),a.jsx("option",{value:"DRIVER",children:"Drivers"}),a.jsx("option",{value:"ADMIN",children:"Admins"})]}),a.jsxs("select",{value:p,onChange:w=>f(w.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]}),a.jsxs("select",{value:y,onChange:w=>g(w.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Verification"}),a.jsx("option",{value:"verified",children:"Verified"}),a.jsx("option",{value:"unverified",children:"Unverified"})]})]}),a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:a.jsx("input",{type:"checkbox",checked:n.length===h.length&&h.length>0,onChange:w=>L(w.target.checked)})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m?a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"text-center py-8",children:a.jsxs("div",{className:"flex justify-center items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2",children:"Loading users..."})]})})}):h.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"text-center py-8 text-gray-500",children:"No users found"})}):h.map(w=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("input",{type:"checkbox",checked:n.includes(w.id),onChange:I=>V(w.id,I.target.checked)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.fullName}),a.jsx("div",{className:"text-sm text-gray-500",children:w.email}),w.phoneNumber&&a.jsx("div",{className:"text-xs text-gray-400",children:w.phoneNumber})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(Ve,{variant:w.role==="ADMIN"?"destructive":w.role==="MERCHANT"?"default":w.role==="DRIVER"?"secondary":"outline",children:w.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ve,{variant:w.isActive?"default":"secondary",className:w.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:w.isActive?"Active":"Inactive"}),w.isVerified&&a.jsx(Ve,{variant:"outline",className:"bg-blue-100 text-blue-800",children:"Verified"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(w.createdAt).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[a.jsx(me,{size:"sm",variant:"outline",onClick:()=>o(w),children:a.jsx(lf,{className:"h-4 w-4"})}),a.jsx(me,{size:"sm",variant:"outline",onClick:()=>O(w.id,w.isActive?"inactive":"active"),disabled:m,children:w.isActive?a.jsx(gw,{className:"h-4 w-4"}):a.jsx(xc,{className:"h-4 w-4"})}),!w.isVerified&&a.jsx(me,{size:"sm",variant:"outline",onClick:()=>T(w.id),disabled:m,children:a.jsx(Ln,{className:"h-4 w-4"})})]})]},w.id))})]})}),a.jsxs("div",{className:"flex justify-between items-center mt-6 px-6 py-4 bg-gray-50 border-t",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(C.page-1)*C.limit+1," to ",Math.min(C.page*C.limit,C.total)," of ",C.total," users"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>D(Math.max(1,C.page-1)),disabled:C.page===1||m,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Previous"}),a.jsxs("span",{className:"px-3 py-1",children:["Page ",C.page," of ",C.pages]}),a.jsx("button",{onClick:()=>D(Math.min(C.pages,C.page+1)),disabled:C.page===C.pages||m,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Next"})]})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"User Details"}),a.jsx(me,{variant:"ghost",size:"sm",onClick:()=>o(null),children:"×"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),a.jsx("div",{className:"text-sm",children:i.fullName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),a.jsx("div",{className:"text-sm",children:i.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),a.jsx("div",{className:"text-sm",children:i.phoneNumber||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role"}),a.jsx("div",{className:"text-sm",children:i.role})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),a.jsxs("div",{className:"text-sm",children:[i.isActive?"Active":"Inactive"," •",i.isVerified?" Verified":" Unverified"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Member Since"}),a.jsx("div",{className:"text-sm",children:new Date(i.createdAt).toLocaleDateString()})]})]})]})})]})}const qS=Object.freeze(Object.defineProperty({__proto__:null,AdminUserManagement:l3},Symbol.toStringTag,{value:"Module"}));function Ft(t,e,{checkForDefaultPrevented:s=!0}={}){return function(r){if(t==null||t(r),s===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function QS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function c3(...t){return e=>{let s=!1;const n=t.map(r=>{const i=QS(r,e);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let r=0;r<n.length;r++){const i=n[r];typeof i=="function"?i():QS(t[r],null)}}}}function zn(...t){return j.useCallback(c3(...t),t)}function Xse(t,e){const s=j.createContext(e),n=i=>{const{children:o,...l}=i,c=j.useMemo(()=>l,Object.values(l));return a.jsx(s.Provider,{value:c,children:o})};n.displayName=t+"Provider";function r(i){const o=j.useContext(s);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,r]}function oh(t,e=[]){let s=[];function n(i,o){const l=j.createContext(o),c=s.length;s=[...s,o];const d=p=>{var m;const{scope:f,children:y,...g}=p,h=((m=f==null?void 0:f[t])==null?void 0:m[c])||l,b=j.useMemo(()=>g,Object.values(g));return a.jsx(h.Provider,{value:b,children:y})};d.displayName=i+"Provider";function u(p,f){var h;const y=((h=f==null?void 0:f[t])==null?void 0:h[c])||l,g=j.useContext(y);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[d,u]}const r=()=>{const i=s.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[n,Zse(r,...e)]}function Zse(...t){const e=t[0];if(t.length===1)return e;const s=()=>{const n=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const p=c(i)[`__scope${d}`];return{...l,...p}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return s.scopeName=e.scopeName,s}var Lc=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},ene=sv[" useId ".trim().toString()]||(()=>{}),tne=0;function Jl(t){const[e,s]=j.useState(ene());return Lc(()=>{s(n=>n??String(tne++))},[t]),e?`radix-${e}`:""}var sne=sv[" useInsertionEffect ".trim().toString()]||Lc;function T0({prop:t,defaultProp:e,onChange:s=()=>{},caller:n}){const[r,i,o]=nne({defaultProp:e,onChange:s}),l=t!==void 0,c=l?t:r;{const u=j.useRef(t!==void 0);j.useEffect(()=>{const p=u.current;p!==l&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=j.useCallback(u=>{var p;if(l){const f=rne(u)?u(t):u;f!==t&&((p=o.current)==null||p.call(o,f))}else i(u)},[l,t,i,o]);return[c,d]}function nne({defaultProp:t,onChange:e}){const[s,n]=j.useState(t),r=j.useRef(s),i=j.useRef(e);return sne(()=>{i.current=e},[e]),j.useEffect(()=>{var o;r.current!==s&&((o=i.current)==null||o.call(i,s),r.current=s)},[s,r]),[s,n,i]}function rne(t){return typeof t=="function"}function Fc(t){const e=ine(t),s=j.forwardRef((n,r)=>{const{children:i,...o}=n,l=j.Children.toArray(i),c=l.find(one);if(c){const d=c.props.children,u=l.map(p=>p===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:p);return a.jsx(e,{...o,ref:r,children:j.isValidElement(d)?j.cloneElement(d,void 0,u):null})}return a.jsx(e,{...o,ref:r,children:i})});return s.displayName=`${t}.Slot`,s}var vae=Fc("Slot");function ine(t){const e=j.forwardRef((s,n)=>{const{children:r,...i}=s;if(j.isValidElement(r)){const o=cne(r),l=lne(i,r.props);return r.type!==j.Fragment&&(l.ref=n?c3(n,o):o),j.cloneElement(r,l)}return j.Children.count(r)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ane=Symbol("radix.slottable");function one(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ane}function lne(t,e){const s={...e};for(const n in e){const r=t[n],i=e[n];/^on[A-Z]/.test(n)?r&&i?s[n]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(s[n]=r):n==="style"?s[n]={...r,...i}:n==="className"&&(s[n]=[r,i].filter(Boolean).join(" "))}return{...t,...s}}function cne(t){var n,r;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var une=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ls=une.reduce((t,e)=>{const s=Fc(`Primitive.${e}`),n=j.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function dne(t,e){t&&Gv.flushSync(()=>t.dispatchEvent(e))}function Vo(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...s)=>{var n;return(n=e.current)==null?void 0:n.call(e,...s)},[])}function pne(t,e=globalThis==null?void 0:globalThis.document){const s=Vo(t);j.useEffect(()=>{const n=r=>{r.key==="Escape"&&s(r)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[s,e])}var fne="DismissableLayer",Hy="dismissableLayer.update",hne="dismissableLayer.pointerDownOutside",mne="dismissableLayer.focusOutside",VS,u3=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),d3=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=j.useContext(u3),[u,p]=j.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=j.useState({}),g=zn(e,N=>p(N)),h=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),m=h.indexOf(b),x=u?h.indexOf(u):-1,k=d.layersWithOutsidePointerEventsDisabled.size>0,E=x>=m,C=vne(N=>{const _=N.target,O=[...d.branches].some(T=>T.contains(_));!E||O||(r==null||r(N),o==null||o(N),N.defaultPrevented||l==null||l())},f),R=xne(N=>{const _=N.target;[...d.branches].some(T=>T.contains(_))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},f);return pne(N=>{x===d.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},f),j.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(VS=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),HS(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=VS)}},[u,f,s,d]),j.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),HS())},[u,d]),j.useEffect(()=>{const N=()=>y({});return document.addEventListener(Hy,N),()=>document.removeEventListener(Hy,N)},[]),a.jsx(ls.div,{...c,ref:g,style:{pointerEvents:k?E?"auto":"none":void 0,...t.style},onFocusCapture:Ft(t.onFocusCapture,R.onFocusCapture),onBlurCapture:Ft(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Ft(t.onPointerDownCapture,C.onPointerDownCapture)})});d3.displayName=fne;var gne="DismissableLayerBranch",yne=j.forwardRef((t,e)=>{const s=j.useContext(u3),n=j.useRef(null),r=zn(e,n);return j.useEffect(()=>{const i=n.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),a.jsx(ls.div,{...t,ref:r})});yne.displayName=gne;function vne(t,e=globalThis==null?void 0:globalThis.document){const s=Vo(t),n=j.useRef(!1),r=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){p3(hne,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,s]),{onPointerDownCapture:()=>n.current=!0}}function xne(t,e=globalThis==null?void 0:globalThis.document){const s=Vo(t),n=j.useRef(!1);return j.useEffect(()=>{const r=i=>{i.target&&!n.current&&p3(mne,s,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function HS(){const t=new CustomEvent(Hy);document.dispatchEvent(t)}function p3(t,e,s,{discrete:n}){const r=s.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});e&&r.addEventListener(t,e,{once:!0}),n?dne(r,i):r.dispatchEvent(i)}var Lm="focusScope.autoFocusOnMount",Fm="focusScope.autoFocusOnUnmount",GS={bubbles:!1,cancelable:!0},bne="FocusScope",f3=j.forwardRef((t,e)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...o}=t,[l,c]=j.useState(null),d=Vo(r),u=Vo(i),p=j.useRef(null),f=zn(e,h=>c(h)),y=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let h=function(k){if(y.paused||!l)return;const E=k.target;l.contains(E)?p.current=E:Ar(p.current,{select:!0})},b=function(k){if(y.paused||!l)return;const E=k.relatedTarget;E!==null&&(l.contains(E)||Ar(p.current,{select:!0}))},m=function(k){if(document.activeElement===document.body)for(const C of k)C.removedNodes.length>0&&Ar(l)};document.addEventListener("focusin",h),document.addEventListener("focusout",b);const x=new MutationObserver(m);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",b),x.disconnect()}}},[n,l,y.paused]),j.useEffect(()=>{if(l){KS.add(y);const h=document.activeElement;if(!l.contains(h)){const m=new CustomEvent(Lm,GS);l.addEventListener(Lm,d),l.dispatchEvent(m),m.defaultPrevented||(wne(kne(h3(l)),{select:!0}),document.activeElement===h&&Ar(l))}return()=>{l.removeEventListener(Lm,d),setTimeout(()=>{const m=new CustomEvent(Fm,GS);l.addEventListener(Fm,u),l.dispatchEvent(m),m.defaultPrevented||Ar(h??document.body,{select:!0}),l.removeEventListener(Fm,u),KS.remove(y)},0)}}},[l,d,u,y]);const g=j.useCallback(h=>{if(!s&&!n||y.paused)return;const b=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,m=document.activeElement;if(b&&m){const x=h.currentTarget,[k,E]=Sne(x);k&&E?!h.shiftKey&&m===E?(h.preventDefault(),s&&Ar(k,{select:!0})):h.shiftKey&&m===k&&(h.preventDefault(),s&&Ar(E,{select:!0})):m===x&&h.preventDefault()}},[s,n,y.paused]);return a.jsx(ls.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});f3.displayName=bne;function wne(t,{select:e=!1}={}){const s=document.activeElement;for(const n of t)if(Ar(n,{select:e}),document.activeElement!==s)return}function Sne(t){const e=h3(t),s=WS(e,t),n=WS(e.reverse(),t);return[s,n]}function h3(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function WS(t,e){for(const s of t)if(!_ne(s,{upTo:e}))return s}function _ne(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ene(t){return t instanceof HTMLInputElement&&"select"in t}function Ar(t,{select:e=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&Ene(t)&&e&&t.select()}}var KS=Nne();function Nne(){let t=[];return{add(e){const s=t[0];e!==s&&(s==null||s.pause()),t=YS(t,e),t.unshift(e)},remove(e){var s;t=YS(t,e),(s=t[0])==null||s.resume()}}}function YS(t,e){const s=[...t],n=s.indexOf(e);return n!==-1&&s.splice(n,1),s}function kne(t){return t.filter(e=>e.tagName!=="A")}var Cne="Portal",m3=j.forwardRef((t,e)=>{var l;const{container:s,...n}=t,[r,i]=j.useState(!1);Lc(()=>i(!0),[]);const o=s||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?a6.createPortal(a.jsx(ls.div,{...n,ref:e}),o):null});m3.displayName=Cne;function jne(t,e){return j.useReducer((s,n)=>e[s][n]??s,t)}var yu=t=>{const{present:e,children:s}=t,n=Ane(e),r=typeof s=="function"?s({present:n.isPresent}):j.Children.only(s),i=zn(n.ref,Tne(r));return typeof s=="function"||n.isPresent?j.cloneElement(r,{ref:i}):null};yu.displayName="Presence";function Ane(t){const[e,s]=j.useState(),n=j.useRef(null),r=j.useRef(t),i=j.useRef("none"),o=t?"mounted":"unmounted",[l,c]=jne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=id(n.current);i.current=l==="mounted"?d:"none"},[l]),Lc(()=>{const d=n.current,u=r.current;if(u!==t){const f=i.current,y=id(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==y?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),Lc(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,p=y=>{const h=id(n.current).includes(y.animationName);if(y.target===e&&h&&(c("ANIMATION_END"),!r.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=y=>{y.target===e&&(i.current=id(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(d=>{n.current=d?getComputedStyle(d):null,s(d)},[])}}function id(t){return(t==null?void 0:t.animationName)||"none"}function Tne(t){var n,r;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var Bm=0;function Rne(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??JS()),document.body.insertAdjacentElement("beforeend",t[1]??JS()),Bm++,()=>{Bm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Bm--}},[])}function JS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Tn=function(){return Tn=Object.assign||function(e){for(var s,n=1,r=arguments.length;n<r;n++){s=arguments[n];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},Tn.apply(this,arguments)};function g3(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s}function Ine(t,e,s){if(s||arguments.length===2)for(var n=0,r=e.length,i;n<r;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var Dd="right-scroll-bar-position",Md="width-before-scroll-bar",One="with-scroll-bars-hidden",Pne="--removed-body-scroll-bar-size";function $m(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Dne(t,e){var s=j.useState(function(){return{value:t,callback:e,facade:{get current(){return s.value},set current(n){var r=s.value;r!==n&&(s.value=n,s.callback(n,r))}}}})[0];return s.callback=e,s.facade}var Mne=typeof window<"u"?j.useLayoutEffect:j.useEffect,XS=new WeakMap;function Lne(t,e){var s=Dne(null,function(n){return t.forEach(function(r){return $m(r,n)})});return Mne(function(){var n=XS.get(s);if(n){var r=new Set(n),i=new Set(t),o=s.current;r.forEach(function(l){i.has(l)||$m(l,null)}),i.forEach(function(l){r.has(l)||$m(l,o)})}XS.set(s,t)},[t]),s}function Fne(t){return t}function Bne(t,e){e===void 0&&(e=Fne);var s=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(i){var o=e(i,n);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){n=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),s}}}};return r}function $ne(t){t===void 0&&(t={});var e=Bne(null);return e.options=Tn({async:!0,ssr:!1},t),e}var y3=function(t){var e=t.sideCar,s=g3(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,Tn({},s))};y3.isSideCarExport=!0;function Une(t,e){return t.useMedium(e),y3}var v3=$ne(),Um=function(){},lh=j.forwardRef(function(t,e){var s=j.useRef(null),n=j.useState({onScrollCapture:Um,onWheelCapture:Um,onTouchMoveCapture:Um}),r=n[0],i=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,p=t.shards,f=t.sideCar,y=t.noRelative,g=t.noIsolation,h=t.inert,b=t.allowPinchZoom,m=t.as,x=m===void 0?"div":m,k=t.gapMode,E=g3(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,R=Lne([s,e]),N=Tn(Tn({},E),r);return j.createElement(j.Fragment,null,u&&j.createElement(C,{sideCar:v3,removeScrollBar:d,shards:p,noRelative:y,noIsolation:g,inert:h,setCallbacks:i,allowPinchZoom:!!b,lockRef:s,gapMode:k}),o?j.cloneElement(j.Children.only(l),Tn(Tn({},N),{ref:R})):j.createElement(x,Tn({},N,{className:c,ref:R}),l))});lh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lh.classNames={fullWidth:Md,zeroRight:Dd};var zne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qne(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=zne();return e&&t.setAttribute("nonce",e),t}function Qne(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Vne(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Hne=function(){var t=0,e=null;return{add:function(s){t==0&&(e=qne())&&(Qne(e,s),Vne(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Gne=function(){var t=Hne();return function(e,s){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&s])}},x3=function(){var t=Gne(),e=function(s){var n=s.styles,r=s.dynamic;return t(n,r),null};return e},Wne={left:0,top:0,right:0,gap:0},zm=function(t){return parseInt(t||"",10)||0},Kne=function(t){var e=window.getComputedStyle(document.body),s=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[zm(s),zm(n),zm(r)]},Yne=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Wne;var e=Kne(t),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-s+e[2]-e[0])}},Jne=x3(),ho="data-scroll-locked",Xne=function(t,e,s,n){var r=t.left,i=t.top,o=t.right,l=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(One,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ho,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dd,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Md,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Dd," .").concat(Dd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Md," .").concat(Md,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ho,`] {
    `).concat(Pne,": ").concat(l,`px;
  }
`)},ZS=function(){var t=parseInt(document.body.getAttribute(ho)||"0",10);return isFinite(t)?t:0},Zne=function(){j.useEffect(function(){return document.body.setAttribute(ho,(ZS()+1).toString()),function(){var t=ZS()-1;t<=0?document.body.removeAttribute(ho):document.body.setAttribute(ho,t.toString())}},[])},ere=function(t){var e=t.noRelative,s=t.noImportant,n=t.gapMode,r=n===void 0?"margin":n;Zne();var i=j.useMemo(function(){return Yne(r)},[r]);return j.createElement(Jne,{styles:Xne(i,!e,r,s?"":"!important")})},Gy=!1;if(typeof window<"u")try{var ad=Object.defineProperty({},"passive",{get:function(){return Gy=!0,!0}});window.addEventListener("test",ad,ad),window.removeEventListener("test",ad,ad)}catch{Gy=!1}var Da=Gy?{passive:!1}:!1,tre=function(t){return t.tagName==="TEXTAREA"},b3=function(t,e){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[e]!=="hidden"&&!(s.overflowY===s.overflowX&&!tre(t)&&s[e]==="visible")},sre=function(t){return b3(t,"overflowY")},nre=function(t){return b3(t,"overflowX")},e_=function(t,e){var s=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=w3(t,n);if(r){var i=S3(t,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},rre=function(t){var e=t.scrollTop,s=t.scrollHeight,n=t.clientHeight;return[e,s,n]},ire=function(t){var e=t.scrollLeft,s=t.scrollWidth,n=t.clientWidth;return[e,s,n]},w3=function(t,e){return t==="v"?sre(e):nre(e)},S3=function(t,e){return t==="v"?rre(e):ire(e)},are=function(t,e){return t==="h"&&e==="rtl"?-1:1},ore=function(t,e,s,n,r){var i=are(t,window.getComputedStyle(e).direction),o=i*n,l=s.target,c=e.contains(l),d=!1,u=o>0,p=0,f=0;do{if(!l)break;var y=S3(t,l),g=y[0],h=y[1],b=y[2],m=h-b-i*g;(g||m)&&w3(t,l)&&(p+=m,f+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&Math.abs(p)<1||!u&&Math.abs(f)<1)&&(d=!0),d},od=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},t_=function(t){return[t.deltaX,t.deltaY]},s_=function(t){return t&&"current"in t?t.current:t},lre=function(t,e){return t[0]===e[0]&&t[1]===e[1]},cre=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ure=0,Ma=[];function dre(t){var e=j.useRef([]),s=j.useRef([0,0]),n=j.useRef(),r=j.useState(ure++)[0],i=j.useState(x3)[0],o=j.useRef(t);j.useEffect(function(){o.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var h=Ine([t.lockRef.current],(t.shards||[]).map(s_),!0).filter(Boolean);return h.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),h.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=j.useCallback(function(h,b){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!o.current.allowPinchZoom;var m=od(h),x=s.current,k="deltaX"in h?h.deltaX:x[0]-m[0],E="deltaY"in h?h.deltaY:x[1]-m[1],C,R=h.target,N=Math.abs(k)>Math.abs(E)?"h":"v";if("touches"in h&&N==="h"&&R.type==="range")return!1;var _=e_(N,R);if(!_)return!0;if(_?C=N:(C=N==="v"?"h":"v",_=e_(N,R)),!_)return!1;if(!n.current&&"changedTouches"in h&&(k||E)&&(n.current=C),!C)return!0;var O=n.current||C;return ore(O,b,h,O==="h"?k:E)},[]),c=j.useCallback(function(h){var b=h;if(!(!Ma.length||Ma[Ma.length-1]!==i)){var m="deltaY"in b?t_(b):od(b),x=e.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&lre(C.delta,m)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var k=(o.current.shards||[]).map(s_).filter(Boolean).filter(function(C){return C.contains(b.target)}),E=k.length>0?l(b,k[0]):!o.current.noIsolation;E&&b.cancelable&&b.preventDefault()}}},[]),d=j.useCallback(function(h,b,m,x){var k={name:h,delta:b,target:m,should:x,shadowParent:pre(m)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(E){return E!==k})},1)},[]),u=j.useCallback(function(h){s.current=od(h),n.current=void 0},[]),p=j.useCallback(function(h){d(h.type,t_(h),h.target,l(h,t.lockRef.current))},[]),f=j.useCallback(function(h){d(h.type,od(h),h.target,l(h,t.lockRef.current))},[]);j.useEffect(function(){return Ma.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Da),document.addEventListener("touchmove",c,Da),document.addEventListener("touchstart",u,Da),function(){Ma=Ma.filter(function(h){return h!==i}),document.removeEventListener("wheel",c,Da),document.removeEventListener("touchmove",c,Da),document.removeEventListener("touchstart",u,Da)}},[]);var y=t.removeScrollBar,g=t.inert;return j.createElement(j.Fragment,null,g?j.createElement(i,{styles:cre(r)}):null,y?j.createElement(ere,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function pre(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const fre=Une(v3,dre);var _3=j.forwardRef(function(t,e){return j.createElement(lh,Tn({},t,{ref:e,sideCar:fre}))});_3.classNames=lh.classNames;var hre=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},La=new WeakMap,ld=new WeakMap,cd={},qm=0,E3=function(t){return t&&(t.host||E3(t.parentNode))},mre=function(t,e){return e.map(function(s){if(t.contains(s))return s;var n=E3(s);return n&&t.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},gre=function(t,e,s,n){var r=mre(e,Array.isArray(t)?t:[t]);cd[s]||(cd[s]=new WeakMap);var i=cd[s],o=[],l=new Set,c=new Set(r),d=function(p){!p||l.has(p)||(l.add(p),d(p.parentNode))};r.forEach(d);var u=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(f){if(l.has(f))u(f);else try{var y=f.getAttribute(n),g=y!==null&&y!=="false",h=(La.get(f)||0)+1,b=(i.get(f)||0)+1;La.set(f,h),i.set(f,b),o.push(f),h===1&&g&&ld.set(f,!0),b===1&&f.setAttribute(s,"true"),g||f.setAttribute(n,"true")}catch(m){console.error("aria-hidden: cannot operate on ",f,m)}})};return u(e),l.clear(),qm++,function(){o.forEach(function(p){var f=La.get(p)-1,y=i.get(p)-1;La.set(p,f),i.set(p,y),f||(ld.has(p)||p.removeAttribute(n),ld.delete(p)),y||p.removeAttribute(s)}),qm--,qm||(La=new WeakMap,La=new WeakMap,ld=new WeakMap,cd={})}},yre=function(t,e,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),r=hre(t);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live], script"))),gre(n,r,s,"aria-hidden")):function(){return null}},ch="Dialog",[N3,xae]=oh(ch),[vre,gn]=N3(ch),k3=t=>{const{__scopeDialog:e,children:s,open:n,defaultOpen:r,onOpenChange:i,modal:o=!0}=t,l=j.useRef(null),c=j.useRef(null),[d,u]=T0({prop:n,defaultProp:r??!1,onChange:i,caller:ch});return a.jsx(vre,{scope:e,triggerRef:l,contentRef:c,contentId:Jl(),titleId:Jl(),descriptionId:Jl(),open:d,onOpenChange:u,onOpenToggle:j.useCallback(()=>u(p=>!p),[u]),modal:o,children:s})};k3.displayName=ch;var C3="DialogTrigger",j3=j.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=gn(C3,s),i=zn(e,r.triggerRef);return a.jsx(ls.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":O0(r.open),...n,ref:i,onClick:Ft(t.onClick,r.onOpenToggle)})});j3.displayName=C3;var R0="DialogPortal",[xre,A3]=N3(R0,{forceMount:void 0}),T3=t=>{const{__scopeDialog:e,forceMount:s,children:n,container:r}=t,i=gn(R0,e);return a.jsx(xre,{scope:e,forceMount:s,children:j.Children.map(n,o=>a.jsx(yu,{present:s||i.open,children:a.jsx(m3,{asChild:!0,container:r,children:o})}))})};T3.displayName=R0;var Mp="DialogOverlay",R3=j.forwardRef((t,e)=>{const s=A3(Mp,t.__scopeDialog),{forceMount:n=s.forceMount,...r}=t,i=gn(Mp,t.__scopeDialog);return i.modal?a.jsx(yu,{present:n||i.open,children:a.jsx(wre,{...r,ref:e})}):null});R3.displayName=Mp;var bre=Fc("DialogOverlay.RemoveScroll"),wre=j.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=gn(Mp,s);return a.jsx(_3,{as:bre,allowPinchZoom:!0,shards:[r.contentRef],children:a.jsx(ls.div,{"data-state":O0(r.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),ba="DialogContent",I3=j.forwardRef((t,e)=>{const s=A3(ba,t.__scopeDialog),{forceMount:n=s.forceMount,...r}=t,i=gn(ba,t.__scopeDialog);return a.jsx(yu,{present:n||i.open,children:i.modal?a.jsx(Sre,{...r,ref:e}):a.jsx(_re,{...r,ref:e})})});I3.displayName=ba;var Sre=j.forwardRef((t,e)=>{const s=gn(ba,t.__scopeDialog),n=j.useRef(null),r=zn(e,s.contentRef,n);return j.useEffect(()=>{const i=n.current;if(i)return yre(i)},[]),a.jsx(O3,{...t,ref:r,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ft(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ft(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ft(t.onFocusOutside,i=>i.preventDefault())})}),_re=j.forwardRef((t,e)=>{const s=gn(ba,t.__scopeDialog),n=j.useRef(!1),r=j.useRef(!1);return a.jsx(O3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=i.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),O3=j.forwardRef((t,e)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:i,...o}=t,l=gn(ba,s),c=j.useRef(null),d=zn(e,c);return Rne(),a.jsxs(a.Fragment,{children:[a.jsx(f3,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:i,children:a.jsx(d3,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":O0(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Ere,{titleId:l.titleId}),a.jsx(kre,{contentRef:c,descriptionId:l.descriptionId})]})]})}),I0="DialogTitle",P3=j.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=gn(I0,s);return a.jsx(ls.h2,{id:r.titleId,...n,ref:e})});P3.displayName=I0;var D3="DialogDescription",M3=j.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=gn(D3,s);return a.jsx(ls.p,{id:r.descriptionId,...n,ref:e})});M3.displayName=D3;var L3="DialogClose",F3=j.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,r=gn(L3,s);return a.jsx(ls.button,{type:"button",...n,ref:e,onClick:Ft(t.onClick,()=>r.onOpenChange(!1))})});F3.displayName=L3;function O0(t){return t?"open":"closed"}var B3="DialogTitleWarning",[bae,$3]=Xse(B3,{contentName:ba,titleName:I0,docsSlug:"dialog"}),Ere=({titleId:t})=>{const e=$3(B3),s=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},Nre="DialogDescriptionWarning",kre=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$3(Nre).contentName}}.`;return j.useEffect(()=>{var i;const r=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Cre=k3,jre=j3,Are=T3,U3=R3,z3=I3,q3=P3,Q3=M3,Tre=F3;const uh=Cre,wae=jre,Rre=Are,V3=j.forwardRef(({className:t,...e},s)=>a.jsx(U3,{ref:s,className:ht("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));V3.displayName=U3.displayName;const P0=j.forwardRef(({className:t,children:e,...s},n)=>a.jsxs(Rre,{children:[a.jsx(V3,{}),a.jsxs(z3,{ref:n,className:ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[e,a.jsxs(Tre,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Yi,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));P0.displayName=z3.displayName;const D0=({className:t,...e})=>a.jsx("div",{className:ht("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});D0.displayName="DialogHeader";const M0=j.forwardRef(({className:t,...e},s)=>a.jsx(q3,{ref:s,className:ht("text-lg font-semibold leading-none tracking-tight",t),...e}));M0.displayName=q3.displayName;const H3=j.forwardRef(({className:t,...e},s)=>a.jsx(Q3,{ref:s,className:ht("text-sm text-muted-foreground",t),...e}));H3.displayName=Q3.displayName;const wa=j.forwardRef(({className:t,...e},s)=>a.jsx("textarea",{className:ht("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...e}));wa.displayName="Textarea";function Ire({document:t,isOpen:e,onClose:s,onReview:n}){const[r,i]=j.useState(""),[o,l]=j.useState(!1),c=async d=>{l(!0);try{await n(t.id,d,r),s()}catch(u){console.error("Review failed:",u)}finally{l(!1)}};return a.jsx(uh,{open:e,onOpenChange:s,children:a.jsxs("div",{className:"p-6 max-w-2xl",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Review KYC Document"}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"User:"})," ",t.userName," (",t.userEmail,")"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Document Type:"})," ",t.documentType]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Submitted:"})," ",new Date(t.submittedAt).toLocaleDateString()]})]}),a.jsx("div",{className:"mb-4",children:a.jsx("img",{src:t.documentUrl,alt:"KYC Document",className:"max-w-full h-auto border rounded"})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Review Notes (required for rejection)"}),a.jsx(wa,{value:r,onChange:d=>i(d.target.value),placeholder:"Enter review notes...",rows:4})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(me,{onClick:()=>c("approve"),disabled:o,className:"bg-green-600 hover:bg-green-700",children:"Approve"}),a.jsx(me,{onClick:()=>c("reject"),disabled:o||!r.trim(),variant:"destructive",children:"Reject"}),a.jsx(me,{variant:"outline",onClick:s,children:"Cancel"})]})]})})}function Ore({selectedCount:t,onBatchAction:e}){const[s,n]=j.useState(!1),[r,i]=j.useState(""),[o,l]=j.useState(!1),c=async()=>{l(!0);try{await e("approve")}catch(u){console.error("Batch approve failed:",u)}finally{l(!1)}},d=async()=>{if(r.trim()){l(!0);try{await e("reject",r),n(!1),i("")}catch(u){console.error("Batch reject failed:",u)}finally{l(!1)}}};return t===0?null:a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium",children:[t," document(s) selected"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(me,{size:"sm",onClick:c,disabled:o,className:"bg-green-600 hover:bg-green-700",children:"Approve All"}),a.jsx(me,{size:"sm",variant:"destructive",onClick:()=>n(!0),disabled:o,children:"Reject All"})]})]}),a.jsx(uh,{open:s,onOpenChange:n,children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Reject Selected Documents"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rejection Reason (required)"}),a.jsx(wa,{value:r,onChange:u=>i(u.target.value),placeholder:"Enter reason for rejection...",rows:4})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(me,{onClick:d,disabled:!r.trim()||o,variant:"destructive",children:"Confirm Reject"}),a.jsx(me,{variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})})]})}function Wy(){const[t,e]=j.useState([]),[s,n]=j.useState(null),[r,i]=j.useState([]),[o,l]=j.useState(!0),[c,d]=j.useState("all"),[u,p]=j.useState([]),[f,y]=j.useState({total:0,pending:0,approved:0,rejected:0});j.useEffect(()=>{b(),g()},[]);const g=async()=>{var C,R;try{const N=await fetch("/api/admin/merchant-kyc/pending",{credentials:"include",headers:{"Content-Type":"application/json"}});if(N.ok){const _=await N.json();p(((C=_.data)==null?void 0:C.submissions)||[]),y(((R=_.data)==null?void 0:R.stats)||{total:0,pending:0,approved:0,rejected:0})}}catch(N){console.error("Failed to fetch merchant KYC submissions:",N)}},h=async(C,R,N)=>{try{(await fetch(`/api/admin/merchant-kyc/${C}/review`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:R,reason:N})})).ok&&await g()}catch(_){console.error("Failed to review merchant KYC:",_)}},b=async()=>{try{const C=await fetch("/api/admin/kyc/documents",{credentials:"include",headers:{"Content-Type":"application/json"}});if(C.ok){const R=await C.json();e(R.documents||[])}}catch(C){console.error("Failed to fetch KYC documents:",C)}finally{l(!1)}},m=t.filter(C=>c==="all"?!0:C.status===c),x=t.filter(C=>C.status==="PENDING").length,k=async(C,R,N)=>{try{(await fetch(`/api/admin/kyc/documents/${C}/review`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:R==="approve"?"APPROVED":"REJECTED",reason:N})})).ok&&(await b(),n(null))}catch(_){console.error("Failed to review document:",_)}},E=async(C,R)=>{try{(await fetch("/api/admin/kyc/batch-review",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({documentIds:r,action:C,reason:R})})).ok&&await b()}catch(N){console.error("Batch action failed:",N)}};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"KYC Verification"}),a.jsxs("p",{className:"text-gray-600",children:[x," consumer documents | ",f.pending||0," merchant submissions pending"]})]}),r.length>0&&a.jsx(Ore,{selectedCount:r.length,onBatchAction:E})]}),a.jsx("div",{className:"flex space-x-4",children:a.jsxs("select",{value:c,onChange:C=>d(C.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"APPROVED",children:"Approved"}),a.jsx("option",{value:"REJECTED",children:"Rejected"})]})}),a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:a.jsx("input",{type:"checkbox",checked:r.length===m.length,onChange:C=>{C.target.checked?i(m.map(R=>R.id)):i([])}})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(C=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("input",{type:"checkbox",checked:r.includes(C.id),onChange:R=>{R.target.checked?i([...r,C.id]):i(r.filter(N=>N!==C.id))}})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.userName}),a.jsx("div",{className:"text-sm text-gray-500",children:C.userEmail})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900",children:C.documentType.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.status==="PENDING"?"bg-yellow-100 text-yellow-800":C.status==="APPROVED"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.submittedAt).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("button",{onClick:()=>n(C),className:"text-blue-600 hover:text-blue-900",children:"Review"})})]},C.id))})]})}),a.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mt-8",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Merchant KYC Submissions"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[f.pending||0," pending submissions"]})]}),a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Business"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Business Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(C=>{var R;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.businessRegistrationNumber}),a.jsx("div",{className:"text-sm text-gray-500",children:C.businessEmail})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900",children:(R=C.businessType)==null?void 0:R.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.ownerFullName}),a.jsx("div",{className:"text-sm text-gray-500",children:C.ownerNationalId})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.status==="PENDING"?"bg-yellow-100 text-yellow-800":C.status==="APPROVED"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.submittedAt).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[a.jsx("button",{onClick:()=>h(C.id.toString(),"approve"),className:"text-green-600 hover:text-green-900",children:"Approve"}),a.jsx("button",{onClick:()=>h(C.id.toString(),"reject","Documents incomplete"),className:"text-red-600 hover:text-red-900",children:"Reject"})]})]},C.id)})})]})]}),s&&a.jsx(Ire,{document:s,isOpen:!!s,onClose:()=>n(null),onReview:k})]})}const Pre=Object.freeze(Object.defineProperty({__proto__:null,AdminKYCVerification:Wy,default:Wy},Symbol.toStringTag,{value:"Module"}));function Dre({transactionId:t,onClose:e}){return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Transaction Details"}),a.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:"×"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Transaction ID:"})," ",t]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," Processing"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Amount:"})," ₦1,000"]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",children:"Close"})})]})}):null}function Mre({isOpen:t,onClose:e,transaction:s,onRefundProcess:n}){if(!t)return null;const r=async()=>{await n({transactionId:s.id,amount:s.amount,reason:"Admin initiated refund"}),e()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Process Refund"}),a.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:"×"})]}),a.jsxs("div",{className:"space-y-2 mb-6",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Transaction ID:"})," ",s.id]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Refund Amount:"})," ₦",s.amount]})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",children:"Cancel"}),a.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Process Refund"})]})]})})}function G3(){const[t,e]=j.useState([]),[s,n]=j.useState({successTotal:0,successCount:0,failedCount:0,pendingCount:0}),[r,i]=j.useState(!0),[o,l]=j.useState(null),[c,d]=j.useState([]),[u,p]=j.useState({status:"",type:"",channel:"",minAmount:"",maxAmount:"",startDate:"",endDate:"",search:""}),[f,y]=j.useState({page:1,limit:20,total:0,totalPages:0}),[g,h]=j.useState(!1),[b,m]=j.useState(!1),[x,k]=j.useState(null),[E,C]=j.useState(null),[R,N]=j.useState(null),_=async()=>{try{i(!0);const w=new URLSearchParams({page:f.page.toString(),limit:f.limit.toString(),...Object.fromEntries(Object.entries(u).filter(([F,U])=>U))}),I=await fetch(`/api/admin/transactions?${w}`,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}});if(!I.ok)throw new Error("Failed to fetch transactions");const B=await I.json();e(B.data.items),n(B.data.statistics),y(F=>({...F,total:B.data.total,totalPages:B.data.totalPages})),l(null)}catch(w){l(w instanceof Error?w.message:"Failed to fetch transactions")}finally{i(!1)}};j.useEffect(()=>{_()},[f.page,u]);const O=async(w,I,B)=>{try{if(k(`${I}-${w}`),!(await fetch(`/api/admin/transactions/${w}/${I}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"},body:JSON.stringify(B||{})})).ok)throw new Error(`Failed to ${I} transaction`);_(),console.log(`Transaction ${I}ed successfully`)}catch(F){console.error(`Failed to ${I} transaction:`,F)}finally{k(null)}},T=async(w,I)=>{if(c.length!==0)try{if(k(`bulk-${w}`),!(await fetch("/api/admin/transactions/bulk-action",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"},body:JSON.stringify({transactionIds:c,action:w,reason:I})})).ok)throw new Error(`Failed to ${w} transactions`);d([]),m(!1),_(),console.log(`Bulk ${w} completed successfully`)}catch(B){console.error(`Failed to ${w} transactions:`,B)}finally{k(null)}},D=({status:w})=>{const B=(U=>{switch(U.toUpperCase()){case"SUCCESS":return{color:"bg-green-100 text-green-800",icon:On};case"PENDING":return{color:"bg-yellow-100 text-yellow-800",icon:oi};case"PROCESSING":return{color:"bg-blue-100 text-blue-800",icon:Ki};case"FAILED":return{color:"bg-red-100 text-red-800",icon:Yi};case"CANCELLED":return{color:"bg-gray-100 text-gray-800",icon:Yi};case"REVERSED":return{color:"bg-purple-100 text-purple-800",icon:mw};default:return{color:"bg-gray-100 text-gray-800",icon:cn}}})(w),F=B.icon;return a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${B.color}`,children:[a.jsx(F,{className:"h-3 w-3 mr-1"}),w]})},V=(w,I="NGN")=>{const B=parseFloat(w);return new Intl.NumberFormat("en-NG",{style:"currency",currency:I==="NGN"?"NGN":"USD",minimumFractionDigits:2}).format(B)},L=w=>new Date(w).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transaction Management"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor and manage all financial transactions"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>h(!g),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(pT,{className:"h-4 w-4 mr-2"}),"Filters"]}),a.jsxs("button",{onClick:_,disabled:r,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[a.jsx(Ki,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]}),a.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(BL,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(vc,{className:"h-6 w-6 text-green-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Success"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:V(s.successTotal.toString())})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(On,{className:"h-6 w-6 text-green-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Successful"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.successCount.toLocaleString()})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(oi,{className:"h-6 w-6 text-yellow-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.pendingCount.toLocaleString()})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(cn,{className:"h-6 w-6 text-red-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Failed"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:s.failedCount.toLocaleString()})]})})]})})})]}),g&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search transactions...",value:u.search,onChange:w=>p(I=>({...I,search:w.target.value})),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),a.jsx(cf,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:u.status,onChange:w=>p(I=>({...I,status:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"PROCESSING",children:"Processing"}),a.jsx("option",{value:"SUCCESS",children:"Success"}),a.jsx("option",{value:"FAILED",children:"Failed"}),a.jsx("option",{value:"CANCELLED",children:"Cancelled"}),a.jsx("option",{value:"REVERSED",children:"Reversed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:u.type,onChange:w=>p(I=>({...I,type:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"DEPOSIT",children:"Deposit"}),a.jsx("option",{value:"WITHDRAWAL",children:"Withdrawal"}),a.jsx("option",{value:"TRANSFER",children:"Transfer"}),a.jsx("option",{value:"PAYMENT",children:"Payment"}),a.jsx("option",{value:"REFUND",children:"Refund"}),a.jsx("option",{value:"COMMISSION",children:"Commission"}),a.jsx("option",{value:"ESCROW_HOLD",children:"Escrow Hold"}),a.jsx("option",{value:"ESCROW_RELEASE",children:"Escrow Release"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Channel"}),a.jsxs("select",{value:u.channel,onChange:w=>p(I=>({...I,channel:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[a.jsx("option",{value:"",children:"All Channels"}),a.jsx("option",{value:"card",children:"Card"}),a.jsx("option",{value:"bank",children:"Bank Transfer"}),a.jsx("option",{value:"ussd",children:"USSD"}),a.jsx("option",{value:"qr",children:"QR Code"}),a.jsx("option",{value:"wallet",children:"Wallet"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Amount"}),a.jsx("input",{type:"number",placeholder:"0",value:u.minAmount,onChange:w=>p(I=>({...I,minAmount:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Amount"}),a.jsx("input",{type:"number",placeholder:"999999999",value:u.maxAmount,onChange:w=>p(I=>({...I,maxAmount:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsx("input",{type:"date",value:u.startDate,onChange:w=>p(I=>({...I,startDate:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsx("input",{type:"date",value:u.endDate,onChange:w=>p(I=>({...I,endDate:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),a.jsx("div",{className:"mt-4 flex items-center justify-between",children:a.jsx("button",{onClick:()=>p({status:"",type:"",channel:"",minAmount:"",maxAmount:"",startDate:"",endDate:"",search:""}),className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all filters"})})]}),c.length>0&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[c.length," transaction(s) selected"]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:()=>T("hold","Bulk hold operation"),disabled:!!x,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-yellow-700 bg-yellow-100 hover:bg-yellow-200 disabled:opacity-50",children:[a.jsx(hw,{className:"h-4 w-4 mr-1"}),"Hold"]}),a.jsxs("button",{onClick:()=>T("release"),disabled:!!x,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-green-700 bg-green-100 hover:bg-green-200 disabled:opacity-50",children:[a.jsx(Nd,{className:"h-4 w-4 mr-1"}),"Release"]}),a.jsxs("button",{onClick:()=>T("cancel","Bulk cancellation"),disabled:!!x,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-red-700 bg-red-100 hover:bg-red-200 disabled:opacity-50",children:[a.jsx(Yi,{className:"h-4 w-4 mr-1"}),"Cancel"]}),a.jsx("button",{onClick:()=>d([]),className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear selection"})]})]})}),a.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Ki,{className:"h-8 w-8 animate-spin text-gray-400"})}):o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(cn,{className:"h-8 w-8 text-red-400 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-500",children:o}),a.jsx("button",{onClick:_,className:"mt-2 text-blue-600 hover:text-blue-500",children:"Try again"})]})}):t.length===0?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(vc,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-500",children:"No transactions found"})]})}):a.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(w=>{var I,B,F;return a.jsx("li",{className:"px-6 py-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:c.includes(w.id),onChange:U=>{U.target.checked?d(H=>[...H,w.id]):d(H=>H.filter(Y=>Y!==w.id))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-4"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((I=w.user)==null?void 0:I.fullName)||"Unknown User"}),a.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[(B=w.user)==null?void 0:B.email," • ",(F=w.user)==null?void 0:F.userId]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:V(w.amount,w.currency)}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Fee: ",V(w.fee,w.currency)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(D,{status:w.status}),a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:w.type})]})]})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{children:L(w.initiatedAt)}),w.channel&&a.jsxs("span",{className:"capitalize",children:["via ",w.channel]}),w.paystackReference&&a.jsxs("span",{className:"font-mono text-xs",children:["Ref: ",w.paystackReference]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>C(w.id),className:"p-1 text-gray-400 hover:text-gray-600",title:"View Details",children:a.jsx(lf,{className:"h-4 w-4"})}),w.status==="PENDING"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>O(w.id,"hold",{reason:"Manual hold"}),disabled:x===`hold-${w.id}`,className:"p-1 text-yellow-400 hover:text-yellow-600 disabled:opacity-50",title:"Hold Transaction",children:a.jsx(hw,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>O(w.id,"release"),disabled:x===`release-${w.id}`,className:"p-1 text-green-400 hover:text-green-600 disabled:opacity-50",title:"Release Transaction",children:a.jsx(Nd,{className:"h-4 w-4"})})]}),w.status==="PROCESSING"&&a.jsx("button",{onClick:()=>O(w.id,"release"),disabled:x===`release-${w.id}`,className:"p-1 text-green-400 hover:text-green-600 disabled:opacity-50",title:"Release Transaction",children:a.jsx(Nd,{className:"h-4 w-4"})}),(w.status==="SUCCESS"||w.status==="COMPLETED")&&a.jsx("button",{onClick:()=>N(w),disabled:x===`refund-${w.id}`,className:"p-1 text-purple-400 hover:text-purple-600 disabled:opacity-50",title:"Refund Transaction",children:a.jsx(mw,{className:"h-4 w-4"})}),a.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:a.jsx(sx,{className:"h-4 w-4"})})]})]}),w.description&&a.jsx("div",{className:"mt-1",children:a.jsx("p",{className:"text-xs text-gray-600",children:w.description})})]})]})})},w.id)})}),f.totalPages>1&&a.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx("button",{onClick:()=>y(w=>({...w,page:Math.max(1,w.page-1)})),disabled:f.page<=1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>y(w=>({...w,page:Math.min(w.totalPages,w.page+1)})),disabled:f.page>=f.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",a.jsx("span",{className:"font-medium",children:(f.page-1)*f.limit+1})," ","to"," ",a.jsx("span",{className:"font-medium",children:Math.min(f.page*f.limit,f.total)})," ","of"," ",a.jsx("span",{className:"font-medium",children:f.total})," ","results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[a.jsx("button",{onClick:()=>y(w=>({...w,page:Math.max(1,w.page-1)})),disabled:f.page<=1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:Math.min(5,f.totalPages)},(w,I)=>{const B=I+1;return a.jsx("button",{onClick:()=>y(F=>({...F,page:B})),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${f.page===B?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:B},B)}),a.jsx("button",{onClick:()=>y(w=>({...w,page:Math.min(w.totalPages,w.page+1)})),disabled:f.page>=f.totalPages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})})]}),a.jsx(Dre,{isOpen:!!E,onClose:()=>C(null),transactionId:E||""}),a.jsx(Mre,{isOpen:!!R,onClose:()=>N(null),transaction:R||{},onRefundProcess:async w=>{R&&await O(R.id,"refund",w)}})]})}const Lre=Object.freeze(Object.defineProperty({__proto__:null,AdminTransactions:G3},Symbol.toStringTag,{value:"Module"}));function W3(){const[t,e]=j.useState([]),[s,n]=j.useState({cpu:0,memory:0,database:0,activeConnections:0,requestsPerSecond:0,responseTime:0,uptime:0,errors:0}),[r,i]=j.useState({activeUsers:0,onlineDrivers:0,activeOrders:0,completedOrdersToday:0,totalRevenue:0,systemHealth:"HEALTHY"}),[o,l]=j.useState(null),[c,d]=j.useState(null),[u,p]=j.useState(!1),[f,y]=j.useState(!0),[g,h]=j.useState("roadmap"),[b,m]=j.useState({status:"",showBattery:!0,showSignal:!0}),x=j.useRef(null);j.useEffect(()=>{const _=uo("ws://localhost:5000",{path:"/ws",transports:["websocket"]});return _.on("connect",()=>{console.log("Monitoring dashboard connected"),p(!0),_.emit("join_admin_room","monitoring")}),_.on("disconnect",()=>{p(!1)}),_.on("driver_location_update",O=>{e(T=>{const D=T.findIndex(L=>L.driverId===O.driverId),V={driverId:O.driverId,driverName:O.driverName||`Driver ${O.driverId}`,latitude:O.latitude,longitude:O.longitude,status:O.status,lastUpdate:new Date(O.timestamp).toISOString(),orderId:O.orderId,batteryLevel:O.batteryLevel,signalStrength:O.signalStrength};if(D>=0){const L=[...T];return L[D]=V,L}else return[V,...T]})}),_.on("system_metric_update",O=>{n(O.metrics)}),d(_),()=>{_.disconnect()}},[]);const k=async()=>{try{y(!0);const[_,O,T]=await Promise.all([fetch("/api/admin/monitoring/drivers",{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}}),fetch("/api/admin/monitoring/system-metrics",{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}}),fetch("/api/admin/monitoring/live-metrics",{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}})]);if(_.ok){const D=await _.json();e(D.data)}if(O.ok){const D=await O.json();n(D.data)}if(T.ok){const D=await T.json();i(D.data)}}catch(_){console.error("Failed to fetch monitoring data:",_)}finally{y(!1)}};j.useEffect(()=>{k();const _=setInterval(k,3e4);return()=>clearInterval(_)},[]);const E=_=>{switch(_){case"ONLINE":return"bg-green-500";case"BUSY":return"bg-blue-500";case"IDLE":return"bg-yellow-500";case"OFFLINE":return"bg-gray-500";default:return"bg-gray-500"}},C=_=>{switch(_){case"HEALTHY":return"text-green-600 bg-green-100";case"WARNING":return"text-yellow-600 bg-yellow-100";case"CRITICAL":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},R=t.filter(_=>!(b.status&&_.status!==b.status)),N=_=>{const O=Math.floor(_/86400),T=Math.floor(_%86400/3600),D=Math.floor(_%3600/60);return`${O}d ${T}h ${D}m`};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(yc,{className:"h-6 w-6 mr-2 text-blue-600"}),"Real-time Monitoring"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Live system monitoring and driver tracking"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${u?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:"text-sm text-gray-500",children:u?"Connected":"Disconnected"})]}),a.jsxs("button",{onClick:k,disabled:f,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[a.jsx(Ki,{className:`h-4 w-4 mr-2 ${f?"animate-spin":""}`}),"Refresh"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-blue-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yc,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Users"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.activeUsers.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-green-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hh,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Online Drivers"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.onlineDrivers.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-orange-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(yc,{className:"h-8 w-8 text-orange-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Orders"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.activeOrders.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-purple-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(uf,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completed Today"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r.completedOrdersToday.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-indigo-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-indigo-500 text-2xl font-bold",children:"₦"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Revenue Today"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["₦",r.totalRevenue.toLocaleString()]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-red-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(cn,{className:"h-8 w-8 text-red-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"System Health"}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(r.systemHealth)}`,children:r.systemHealth})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(mT,{className:"h-5 w-5 mr-2 text-gray-500"}),"System Metrics"]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(uT,{className:"h-4 w-4 text-blue-500 mr-2"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"CPU Usage"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${s.cpu>80?"bg-red-500":s.cpu>60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${s.cpu}%`}})}),a.jsxs("span",{className:"text-sm text-gray-600",children:[s.cpu,"%"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(dT,{className:"h-4 w-4 text-green-500 mr-2"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Memory Usage"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${s.memory>80?"bg-red-500":s.memory>60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${s.memory}%`}})}),a.jsxs("span",{className:"text-sm text-gray-600",children:[s.memory,"%"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(gT,{className:"h-4 w-4 text-purple-500 mr-2"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Database"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${s.database>80?"bg-red-500":s.database>60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${s.database}%`}})}),a.jsxs("span",{className:"text-sm text-gray-600",children:[s.database,"%"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Active Connections"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.activeConnections})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Requests/sec"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.requestsPerSecond})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Response Time"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[s.responseTime,"ms"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Uptime"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:N(s.uptime)})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(Hh,{className:"h-5 w-5 mr-2 text-gray-500"}),"Driver Status Overview"]}),a.jsxs("select",{value:b.status,onChange:_=>m(O=>({...O,status:_.target.value})),className:"text-sm border border-gray-300 rounded-md px-3 py-1",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"ONLINE",children:"Online"}),a.jsx("option",{value:"BUSY",children:"Busy"}),a.jsx("option",{value:"IDLE",children:"Idle"}),a.jsx("option",{value:"OFFLINE",children:"Offline"})]})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center mb-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Online"})]}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.filter(_=>_.status==="ONLINE").length})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center mb-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Busy"})]}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.filter(_=>_.status==="BUSY").length})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center mb-2",children:[a.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Idle"})]}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.filter(_=>_.status==="IDLE").length})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center mb-2",children:[a.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full mr-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Offline"})]}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.filter(_=>_.status==="OFFLINE").length})]})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(to,{className:"h-5 w-5 mr-2 text-red-500"}),"Driver Location Tracking"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>h(g==="roadmap"?"satellite":"roadmap"),className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:g==="roadmap"?"Satellite":"Roadmap"}),a.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:a.jsx(VL,{className:"h-4 w-4"})})]})]})}),a.jsx("div",{className:"relative h-96",children:a.jsxs("div",{ref:x,className:"w-full h-full bg-gray-100 rounded-b-lg flex items-center justify-center",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(to,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsxs("p",{className:"text-gray-500",children:["Interactive map showing ",R.length," drivers"]}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Map integration would show real locations here"})]}),a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:R.slice(0,5).map((_,O)=>a.jsx("div",{className:"absolute",style:{left:`${20+O*15}%`,top:`${30+O*10}%`},children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-white shadow-md ${E(_.status)}`}),a.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-black text-white text-xs px-2 py-1 rounded opacity-90 whitespace-nowrap",children:_.driverName})]})},_.driverId))})]})})]})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(WL,{className:"h-5 w-5 mr-2 text-blue-500"}),"Active Drivers (",R.length,")"]})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:R.length===0?a.jsxs("div",{className:"p-6 text-center text-gray-500",children:[a.jsx(Hh,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),a.jsx("p",{children:"No drivers found"})]}):a.jsx("ul",{className:"divide-y divide-gray-200",children:R.map(_=>a.jsxs("li",{className:`p-4 cursor-pointer hover:bg-gray-50 ${(o==null?void 0:o.driverId)===_.driverId?"bg-blue-50":""}`,onClick:()=>l(_),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${E(_.status)}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.driverName}),a.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",_.driverId]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_.status==="ONLINE"?"bg-green-100 text-green-800":_.status==="BUSY"?"bg-blue-100 text-blue-800":_.status==="IDLE"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:_.status})})]}),b.showBattery&&_.batteryLevel&&a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx(ML,{className:"h-3 w-3 text-gray-400"}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1",children:a.jsx("div",{className:`h-1 rounded-full ${_.batteryLevel>50?"bg-green-500":_.batteryLevel>20?"bg-yellow-500":"bg-red-500"}`,style:{width:`${_.batteryLevel}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500",children:[_.batteryLevel,"%"]})]}),b.showSignal&&_.signalStrength&&a.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[a.jsx(ZL,{className:"h-3 w-3 text-gray-400"}),a.jsx("div",{className:"flex space-x-1",children:[1,2,3,4].map(O=>a.jsx("div",{className:`w-1 h-2 rounded-sm ${O<=(_.signalStrength||0)/25?"bg-green-500":"bg-gray-300"}`},O))}),a.jsxs("span",{className:"text-xs text-gray-500",children:[_.signalStrength,"%"]})]}),a.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[a.jsx(oi,{className:"h-3 w-3 mr-1"}),"Last update: ",new Date(_.lastUpdate).toLocaleTimeString()]})]},_.driverId))})})]})})]})]})}const n_=Object.freeze(Object.defineProperty({__proto__:null,AdminMonitoring:W3},Symbol.toStringTag,{value:"Module"}));function K3(){const[t,e]=j.useState([]),[s,n]=j.useState([]),[r,i]=j.useState({totalAlerts:0,criticalAlerts:0,resolvedToday:0,falsePositiveRate:0,avgResolutionTime:0,blockedTransactions:0,flaggedAccounts:0,totalRiskReduction:0}),[o,l]=j.useState(!0),[c,d]=j.useState(null),[u,p]=j.useState([]),[f,y]=j.useState({severity:"",status:"",type:"",search:"",startDate:"",endDate:""}),[g,h]=j.useState(!1),[b,m]=j.useState(null);j.useEffect(()=>{const T=uo("ws://localhost:5000",{path:"/ws",transports:["websocket"]});return T.on("connect",()=>{console.log("Fraud dashboard connected"),T.emit("join_admin_room","fraud")}),T.on("fraud_alert",D=>{D.type==="fraud_alert"&&(e(V=>[D.alert,...V]),k())}),T.on("suspicious_activity",D=>{D.type==="suspicious_activity"&&n(V=>[D.activity,...V.slice(0,49)])}),T.on("fraud_alert_updated",D=>{D.type==="fraud_alert_updated"&&x()}),()=>T.disconnect()},[]);const x=async()=>{try{l(!0);const T=new URLSearchParams({...Object.fromEntries(Object.entries(f).filter(([F,U])=>U))}),[D,V,L]=await Promise.all([fetch(`/api/admin/fraud/alerts?${T}`,{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}}),fetch("/api/admin/fraud/activities",{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}}),fetch("/api/admin/fraud/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}})]);if(!D.ok||!V.ok||!L.ok)throw new Error("Failed to fetch fraud data");const[w,I,B]=await Promise.all([D.json(),V.json(),L.json()]);e(w.data),n(I.data),i(B.data),d(null)}catch(T){d(T instanceof Error?T.message:"Failed to fetch fraud data")}finally{l(!1)}},k=async()=>{try{const T=await fetch("/api/admin/fraud/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}});if(T.ok){const D=await T.json();i(D.data)}}catch(T){console.error("Failed to fetch stats:",T)}};j.useEffect(()=>{x()},[f]);const E=async(T,D,V)=>{try{if(m(`${D}-${T}`),!(await fetch(`/api/admin/fraud/alerts/${T}/${D}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"},body:JSON.stringify({reason:V})})).ok)throw new Error(`Failed to ${D} alert`);x(),console.log(`Alert ${D}ed successfully`)}catch(L){console.error(`Failed to ${D} alert:`,L)}finally{m(null)}},C=async(T,D)=>{if(u.length!==0)try{if(m(`bulk-${T}`),!(await fetch("/api/admin/fraud/alerts/bulk-action",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"},body:JSON.stringify({alertIds:u,action:T,reason:D})})).ok)throw new Error(`Failed to ${T} alerts`);p([]),x(),console.log(`Bulk ${T} completed successfully`)}catch(V){console.error(`Failed to ${T} alerts:`,V)}finally{m(null)}},R=async(T,D,V)=>{try{if(!(await fetch(`/api/admin/fraud/users/${T}/${D}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"},body:JSON.stringify({reason:V})})).ok)throw new Error(`Failed to ${D} user`);x(),console.log(`User ${D}ged successfully`)}catch(L){console.error(`Failed to ${D} user:`,L)}},N=T=>{switch(T){case"CRITICAL":return"bg-red-100 text-red-800 border-red-200";case"HIGH":return"bg-orange-100 text-orange-800 border-orange-200";case"MEDIUM":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"LOW":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},_=T=>{switch(T){case"ACTIVE":return"bg-red-100 text-red-800";case"INVESTIGATING":return"bg-blue-100 text-blue-800";case"RESOLVED":return"bg-green-100 text-green-800";case"FALSE_POSITIVE":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},O=T=>new Date(T).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(Ln,{className:"h-6 w-6 mr-2 text-red-600"}),"Fraud Detection Dashboard"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor and manage suspicious activities in real-time"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>h(!g),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(pT,{className:"h-4 w-4 mr-2"}),"Filters"]}),a.jsxs("button",{onClick:x,disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 disabled:opacity-50",children:[a.jsx(Ki,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg border-l-4 border-red-500",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(cn,{className:"h-6 w-6 text-red-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Alerts"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:r.totalAlerts.toLocaleString()})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg border-l-4 border-orange-500",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(uf,{className:"h-6 w-6 text-orange-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Critical Alerts"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:r.criticalAlerts.toLocaleString()})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg border-l-4 border-green-500",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(On,{className:"h-6 w-6 text-green-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Resolved Today"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:r.resolvedToday.toLocaleString()})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg border-l-4 border-blue-500",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Yc,{className:"h-6 w-6 text-blue-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Flagged Accounts"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:r.flaggedAccounts.toLocaleString()})]})})]})})})]}),g&&a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search alerts...",value:f.search,onChange:T=>y(D=>({...D,search:T.target.value})),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm"}),a.jsx(cf,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Severity"}),a.jsxs("select",{value:f.severity,onChange:T=>y(D=>({...D,severity:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm",children:[a.jsx("option",{value:"",children:"All Severities"}),a.jsx("option",{value:"CRITICAL",children:"Critical"}),a.jsx("option",{value:"HIGH",children:"High"}),a.jsx("option",{value:"MEDIUM",children:"Medium"}),a.jsx("option",{value:"LOW",children:"Low"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:f.status,onChange:T=>y(D=>({...D,status:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"ACTIVE",children:"Active"}),a.jsx("option",{value:"INVESTIGATING",children:"Investigating"}),a.jsx("option",{value:"RESOLVED",children:"Resolved"}),a.jsx("option",{value:"FALSE_POSITIVE",children:"False Positive"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{value:f.type,onChange:T=>y(D=>({...D,type:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"SUSPICIOUS_LOGIN",children:"Suspicious Login"}),a.jsx("option",{value:"UNUSUAL_TRANSACTION",children:"Unusual Transaction"}),a.jsx("option",{value:"VELOCITY_CHECK",children:"Velocity Check"}),a.jsx("option",{value:"DEVICE_MISMATCH",children:"Device Mismatch"}),a.jsx("option",{value:"LOCATION_ANOMALY",children:"Location Anomaly"}),a.jsx("option",{value:"PATTERN_MATCHING",children:"Pattern Matching"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsx("input",{type:"date",value:f.startDate,onChange:T=>y(D=>({...D,startDate:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsx("input",{type:"date",value:f.endDate,onChange:T=>y(D=>({...D,endDate:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm"})]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>y({severity:"",status:"",type:"",search:"",startDate:"",endDate:""}),className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all filters"})})]}),u.length>0&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("span",{className:"text-sm font-medium text-red-800",children:[u.length," alert(s) selected"]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:()=>C("investigate"),disabled:!!b,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200 disabled:opacity-50",children:[a.jsx(Nd,{className:"h-4 w-4 mr-1"}),"Investigate"]}),a.jsxs("button",{onClick:()=>C("resolve","Bulk resolution"),disabled:!!b,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-green-700 bg-green-100 hover:bg-green-200 disabled:opacity-50",children:[a.jsx(On,{className:"h-4 w-4 mr-1"}),"Resolve"]}),a.jsxs("button",{onClick:()=>C("false_positive","Marked as false positive"),disabled:!!b,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-gray-700 bg-gray-100 hover:bg-gray-200 disabled:opacity-50",children:[a.jsx(Yi,{className:"h-4 w-4 mr-1"}),"False Positive"]}),a.jsx("button",{onClick:()=>p([]),className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear selection"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Fraud Alerts"})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:o?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(Ki,{className:"h-6 w-6 animate-spin text-gray-400"})}):t.length===0?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ln,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-500",children:"No fraud alerts found"})]})}):a.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(T=>a.jsx("li",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("input",{type:"checkbox",checked:u.includes(T.id),onChange:D=>{D.target.checked?p(V=>[...V,T.id]):p(V=>V.filter(L=>L!==T.id))},className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded mt-1"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${N(T.severity)}`,children:T.severity}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_(T.status)}`,children:T.status}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Risk Score: ",T.riskScore,"%"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>E(T.id,"investigate"),disabled:b===`investigate-${T.id}`,className:"p-1 text-blue-400 hover:text-blue-600 disabled:opacity-50",title:"Investigate",children:a.jsx(lf,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>R(T.userId,"flag","Flagged due to fraud alert"),className:"p-1 text-orange-400 hover:text-orange-600",title:"Flag Account",children:a.jsx($L,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>E(T.id,"resolve","Manual resolution"),disabled:b===`resolve-${T.id}`,className:"p-1 text-green-400 hover:text-green-600 disabled:opacity-50",title:"Resolve",children:a.jsx(On,{className:"h-4 w-4"})}),a.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:a.jsx(sx,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.title}),a.jsx("p",{className:"text-sm text-gray-600",children:T.description})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{children:["User: ",T.user.fullName]}),a.jsxs("span",{children:["(",T.user.userId,")"]}),a.jsx("span",{children:O(T.detectedAt)})]}),T.metadata.relatedAlerts&&a.jsxs("span",{className:"text-red-600 font-medium",children:["+",T.metadata.relatedAlerts," related"]})]})]})]})},T.id))})})]})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(yc,{className:"h-5 w-5 mr-2 text-green-500"}),"Live Activity Monitor"]})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.length===0?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsxs("div",{className:"text-center",children:[a.jsx(yc,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activities"})]})}):a.jsx("ul",{className:"divide-y divide-gray-200",children:s.map(T=>a.jsx("li",{className:"px-6 py-3",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-2 w-2 bg-red-500 rounded-full mt-2 animate-pulse"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.activityType}),a.jsx("p",{className:"text-xs text-gray-600",children:T.description}),a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:T.riskIndicators.map((D,V)=>a.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:D},V))}),a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[a.jsx("div",{children:T.user.fullName}),a.jsx("div",{children:O(T.timestamp)})]})]})]})},T.id))})})]})})]})]})}const Fre=Object.freeze(Object.defineProperty({__proto__:null,AdminFraud:K3},Symbol.toStringTag,{value:"Module"}));function Bre(t){const e=t+"CollectionProvider",[s,n]=oh(e),[r,i]=s(e,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:b,children:m}=h,x=Yn.useRef(null),k=Yn.useRef(new Map).current;return a.jsx(r,{scope:b,itemMap:k,collectionRef:x,children:m})};o.displayName=e;const l=t+"CollectionSlot",c=Fc(l),d=Yn.forwardRef((h,b)=>{const{scope:m,children:x}=h,k=i(l,m),E=zn(b,k.collectionRef);return a.jsx(c,{ref:E,children:x})});d.displayName=l;const u=t+"CollectionItemSlot",p="data-radix-collection-item",f=Fc(u),y=Yn.forwardRef((h,b)=>{const{scope:m,children:x,...k}=h,E=Yn.useRef(null),C=zn(b,E),R=i(u,m);return Yn.useEffect(()=>(R.itemMap.set(E,{ref:E,...k}),()=>void R.itemMap.delete(E))),a.jsx(f,{[p]:"",ref:C,children:x})});y.displayName=u;function g(h){const b=i(t+"CollectionConsumer",h);return Yn.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const k=Array.from(x.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((R,N)=>k.indexOf(R.ref.current)-k.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},g,n]}var $re=j.createContext(void 0);function Y3(t){const e=j.useContext($re);return t||e||"ltr"}var Qm="rovingFocusGroup.onEntryFocus",Ure={bubbles:!1,cancelable:!0},vu="RovingFocusGroup",[Ky,J3,zre]=Bre(vu),[qre,X3]=oh(vu,[zre]),[Qre,Vre]=qre(vu),Z3=j.forwardRef((t,e)=>a.jsx(Ky.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Ky.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Hre,{...t,ref:e})})}));Z3.displayName=vu;var Hre=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:r=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...p}=t,f=j.useRef(null),y=zn(e,f),g=Y3(i),[h,b]=T0({prop:o,defaultProp:l??null,onChange:c,caller:vu}),[m,x]=j.useState(!1),k=Vo(d),E=J3(s),C=j.useRef(!1),[R,N]=j.useState(0);return j.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(Qm,k),()=>_.removeEventListener(Qm,k)},[k]),a.jsx(Qre,{scope:s,orientation:n,dir:g,loop:r,currentTabStopId:h,onItemFocus:j.useCallback(_=>b(_),[b]),onItemShiftTab:j.useCallback(()=>x(!0),[]),onFocusableItemAdd:j.useCallback(()=>N(_=>_+1),[]),onFocusableItemRemove:j.useCallback(()=>N(_=>_-1),[]),children:a.jsx(ls.div,{tabIndex:m||R===0?-1:0,"data-orientation":n,...p,ref:y,style:{outline:"none",...t.style},onMouseDown:Ft(t.onMouseDown,()=>{C.current=!0}),onFocus:Ft(t.onFocus,_=>{const O=!C.current;if(_.target===_.currentTarget&&O&&!m){const T=new CustomEvent(Qm,Ure);if(_.currentTarget.dispatchEvent(T),!T.defaultPrevented){const D=E().filter(B=>B.focusable),V=D.find(B=>B.active),L=D.find(B=>B.id===h),I=[V,L,...D].filter(Boolean).map(B=>B.ref.current);s4(I,u)}}C.current=!1}),onBlur:Ft(t.onBlur,()=>x(!1))})})}),e4="RovingFocusGroupItem",t4=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:r=!1,tabStopId:i,children:o,...l}=t,c=Jl(),d=i||c,u=Vre(e4,s),p=u.currentTabStopId===d,f=J3(s),{onFocusableItemAdd:y,onFocusableItemRemove:g,currentTabStopId:h}=u;return j.useEffect(()=>{if(n)return y(),()=>g()},[n,y,g]),a.jsx(Ky.ItemSlot,{scope:s,id:d,focusable:n,active:r,children:a.jsx(ls.span,{tabIndex:p?0:-1,"data-orientation":u.orientation,...l,ref:e,onMouseDown:Ft(t.onMouseDown,b=>{n?u.onItemFocus(d):b.preventDefault()}),onFocus:Ft(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:Ft(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const m=Kre(b,u.orientation,u.dir);if(m!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let k=f().filter(E=>E.focusable).map(E=>E.ref.current);if(m==="last")k.reverse();else if(m==="prev"||m==="next"){m==="prev"&&k.reverse();const E=k.indexOf(b.currentTarget);k=u.loop?Yre(k,E+1):k.slice(E+1)}setTimeout(()=>s4(k))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:h!=null}):o})})});t4.displayName=e4;var Gre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Wre(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Kre(t,e,s){const n=Wre(t.key,s);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Gre[n]}function s4(t,e=!1){const s=document.activeElement;for(const n of t)if(n===s||(n.focus({preventScroll:e}),document.activeElement!==s))return}function Yre(t,e){return t.map((s,n)=>t[(e+n)%t.length])}var Jre=Z3,Xre=t4,dh="Tabs",[Zre,Sae]=oh(dh,[X3]),n4=X3(),[eie,L0]=Zre(dh),r4=j.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,onValueChange:r,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=Y3(l),[p,f]=T0({prop:n,onChange:r,defaultProp:i??"",caller:dh});return a.jsx(eie,{scope:s,baseId:Jl(),value:p,onValueChange:f,orientation:o,dir:u,activationMode:c,children:a.jsx(ls.div,{dir:u,"data-orientation":o,...d,ref:e})})});r4.displayName=dh;var i4="TabsList",a4=j.forwardRef((t,e)=>{const{__scopeTabs:s,loop:n=!0,...r}=t,i=L0(i4,s),o=n4(s);return a.jsx(Jre,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(ls.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:e})})});a4.displayName=i4;var o4="TabsTrigger",l4=j.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,disabled:r=!1,...i}=t,o=L0(o4,s),l=n4(s),c=d4(o.baseId,n),d=p4(o.baseId,n),u=n===o.value;return a.jsx(Xre,{asChild:!0,...l,focusable:!r,active:u,children:a.jsx(ls.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...i,ref:e,onMouseDown:Ft(t.onMouseDown,p=>{!r&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:Ft(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:Ft(t.onFocus,()=>{const p=o.activationMode!=="manual";!u&&!r&&p&&o.onValueChange(n)})})})});l4.displayName=o4;var c4="TabsContent",u4=j.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,forceMount:r,children:i,...o}=t,l=L0(c4,s),c=d4(l.baseId,n),d=p4(l.baseId,n),u=n===l.value,p=j.useRef(u);return j.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(yu,{present:r||u,children:({present:f})=>a.jsx(ls.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&i})})});u4.displayName=c4;function d4(t,e){return`${t}-trigger-${e}`}function p4(t,e){return`${t}-content-${e}`}var tie=r4,f4=a4,h4=l4,m4=u4;const g4=tie,F0=j.forwardRef(({className:t,...e},s)=>a.jsx(f4,{ref:s,className:ht("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));F0.displayName=f4.displayName;const nr=j.forwardRef(({className:t,...e},s)=>a.jsx(h4,{ref:s,className:ht("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));nr.displayName=h4.displayName;const Ld=j.forwardRef(({className:t,...e},s)=>a.jsx(m4,{ref:s,className:ht("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ld.displayName=m4.displayName;const B0=()=>{const[t,e]=j.useState([]),[s,n]=j.useState({totalTickets:0,openTickets:0,inProgressTickets:0,resolvedTickets:0,urgentTickets:0,unassignedTickets:0}),[r,i]=j.useState([]),[o,l]=j.useState(!0),[c,d]=j.useState([]),[u,p]=j.useState(null),[f,y]=j.useState(null),[g,h]=j.useState({status:"",priority:"",search:"",page:1}),[b,m]=j.useState(""),[x,k]=j.useState(""),{toast:E}=Jo(),{socket:C}=qn();j.useEffect(()=>{R(),N()},[g]),j.useEffect(()=>{if(C)return C.on("new_support_ticket",w=>{n(I=>({...I,totalTickets:I.totalTickets+1,openTickets:I.openTickets+1})),N(),E({title:"New Support Ticket",description:`New ${w.priority} priority ticket: ${w.subject}`})}),C.on("ticket_response",w=>{u===w.ticketId&&_(w.ticketId),E({title:"New Response",description:`User responded to ticket ${w.ticketNumber}`})}),()=>{C.off("new_support_ticket"),C.off("ticket_response")}},[C,u,E]);const R=async()=>{try{const I=await(await fetch("/api/admin-support/dashboard/stats",{credentials:"include"})).json();I.success&&(n(I.stats),i(I.recentTickets))}catch(w){console.error("Failed to fetch dashboard stats:",w)}},N=async()=>{try{const w=new URLSearchParams;g.status&&w.append("status",g.status),g.priority&&w.append("priority",g.priority),g.search&&w.append("search",g.search),w.append("page",g.page.toString());const B=await(await fetch(`/api/admin-support/tickets?${w}`,{credentials:"include"})).json();B.success?e(B.tickets):E({title:"Error",description:B.message||"Failed to fetch tickets",variant:"destructive"})}catch{E({title:"Error",description:"Failed to fetch support tickets",variant:"destructive"})}finally{l(!1)}},_=async w=>{try{const B=await(await fetch(`/api/admin-support/tickets/${w}`,{credentials:"include"})).json();B.success&&y(B)}catch{E({title:"Error",description:"Failed to fetch ticket details",variant:"destructive"})}},O=async(w,I)=>{try{const F=await(await fetch(`/api/admin-support/tickets/${w}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(I)})).json();F.success?(N(),R(),u===w&&_(w),E({title:"Success",description:"Ticket updated successfully"})):E({title:"Error",description:F.message||"Failed to update ticket",variant:"destructive"})}catch{E({title:"Error",description:"Failed to update ticket",variant:"destructive"})}},T=async w=>{if(w.preventDefault(),!(!u||!b.trim()))try{const B=await(await fetch(`/api/admin-support/tickets/${u}/responses`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:b,changeStatus:x||void 0})})).json();B.success?(m(""),k(""),_(u),N(),R(),E({title:"Success",description:"Response added successfully"})):E({title:"Error",description:B.message||"Failed to add response",variant:"destructive"})}catch{E({title:"Error",description:"Failed to add response",variant:"destructive"})}},D=async(w,I)=>{if(c.length===0){E({title:"Warning",description:"Please select tickets to perform bulk actions",variant:"destructive"});return}try{const F=await(await fetch("/api/admin-support/tickets/bulk",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({ticketIds:c,action:w,value:I})})).json();F.success?(d([]),N(),R(),E({title:"Success",description:F.message})):E({title:"Error",description:F.message||"Failed to perform bulk action",variant:"destructive"})}catch{E({title:"Error",description:"Failed to perform bulk action",variant:"destructive"})}},V=w=>{switch(w){case"OPEN":return"bg-blue-100 text-blue-800";case"IN_PROGRESS":return"bg-yellow-100 text-yellow-800";case"RESOLVED":return"bg-green-100 text-green-800";case"CLOSED":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},L=w=>{switch(w){case"LOW":return"bg-gray-100 text-gray-800";case"NORMAL":return"bg-blue-100 text-blue-800";case"HIGH":return"bg-orange-100 text-orange-800";case"URGENT":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading support dashboard..."})]})}):a.jsx("div",{className:"flex-1 p-6 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Support Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage customer support tickets and responses"})]})}),a.jsxs(g4,{defaultValue:"dashboard",className:"w-full",children:[a.jsxs(F0,{className:"grid w-full grid-cols-3",children:[a.jsx(nr,{value:"dashboard",children:"Dashboard"}),a.jsx(nr,{value:"tickets",children:"All Tickets"}),a.jsx(nr,{value:"details",children:"Ticket Details"})]}),a.jsxs(Ld,{value:"dashboard",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[a.jsxs(Oe,{className:"p-4 rounded-brill",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.totalTickets})]}),a.jsxs(Oe,{className:"p-4 rounded-brill",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Open"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:s.openTickets})]}),a.jsxs(Oe,{className:"p-4 rounded-brill",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"In Progress"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:s.inProgressTickets})]}),a.jsxs(Oe,{className:"p-4 rounded-brill",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Resolved"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.resolvedTickets})]}),a.jsxs(Oe,{className:"p-4 rounded-brill",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Urgent"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:s.urgentTickets})]}),a.jsxs(Oe,{className:"p-4 rounded-brill",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Unassigned"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s.unassignedTickets})]})]}),a.jsx(Oe,{className:"rounded-brill",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Tickets"}),a.jsx("div",{className:"space-y-3",children:r.map(w=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900",children:["#",w.ticketNumber]}),a.jsx("p",{className:"text-sm text-gray-600",children:w.subject})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:L(w.priority),children:w.priority}),a.jsx(Ve,{className:V(w.status),children:w.status})]})]},w.id))})]})})]}),a.jsxs(Ld,{value:"tickets",className:"space-y-6",children:[a.jsx(Oe,{className:"p-4 rounded-brill",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsx(ah,{placeholder:"Search tickets...",value:g.search,onChange:w=>h({...g,search:w.target.value,page:1}),className:"max-w-xs rounded-brill"}),a.jsxs("select",{value:g.status,onChange:w=>h({...g,status:w.target.value,page:1}),className:"px-3 py-2 border border-gray-300 rounded-brill focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"OPEN",children:"Open"}),a.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),a.jsx("option",{value:"RESOLVED",children:"Resolved"}),a.jsx("option",{value:"CLOSED",children:"Closed"})]}),a.jsxs("select",{value:g.priority,onChange:w=>h({...g,priority:w.target.value,page:1}),className:"px-3 py-2 border border-gray-300 rounded-brill focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Priority"}),a.jsx("option",{value:"LOW",children:"Low"}),a.jsx("option",{value:"NORMAL",children:"Normal"}),a.jsx("option",{value:"HIGH",children:"High"}),a.jsx("option",{value:"URGENT",children:"Urgent"})]})]})}),c.length>0&&a.jsx(Oe,{className:"p-4 rounded-brill",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[c.length," ticket(s) selected"]}),a.jsx(me,{size:"sm",onClick:()=>D("status","IN_PROGRESS"),className:"rounded-brill",children:"Mark In Progress"}),a.jsx(me,{size:"sm",onClick:()=>D("status","RESOLVED"),className:"rounded-brill",children:"Mark Resolved"}),a.jsx(me,{size:"sm",variant:"outline",onClick:()=>d([]),className:"rounded-brill",children:"Clear Selection"})]})}),a.jsx(Oe,{className:"rounded-brill",children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:t.map(w=>a.jsxs("div",{className:"flex items-start gap-4 p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsx("input",{type:"checkbox",checked:c.includes(w.id),onChange:I=>{I.target.checked?d([...c,w.id]):d(c.filter(B=>B!==w.id))},className:"mt-1"}),a.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>{p(w.id),_(w.id)},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900",children:["#",w.ticketNumber," - ",w.subject]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[w.name," (",w.email,") - ",w.userRole]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Created: ",new Date(w.createdAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:L(w.priority),children:w.priority}),a.jsx(Ve,{className:V(w.status),children:w.status})]})]})})]},w.id))})})})]}),a.jsx(Ld,{value:"details",children:a.jsx(Oe,{className:"rounded-brill",children:a.jsx("div",{className:"p-6",children:u&&f?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-semibold",children:["#",f.ticket.ticketNumber]}),a.jsx("h4",{className:"text-lg text-gray-900 mt-1",children:f.ticket.subject}),a.jsxs("p",{className:"text-gray-600 mt-1",children:[f.ticket.name," (",f.ticket.email,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:L(f.ticket.priority),children:f.ticket.priority}),a.jsx(Ve,{className:V(f.ticket.status),children:f.ticket.status})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(me,{size:"sm",onClick:()=>O(u,{status:"IN_PROGRESS"}),disabled:f.ticket.status==="IN_PROGRESS",className:"rounded-brill",children:"In Progress"}),a.jsx(me,{size:"sm",onClick:()=>O(u,{status:"RESOLVED"}),disabled:f.ticket.status==="RESOLVED",className:"rounded-brill",children:"Resolve"})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Original Message"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsx("p",{className:"text-gray-700",children:f.ticket.message})})]}),f.responses.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Conversation"}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:f.responses.map(w=>a.jsxs("div",{className:`p-4 rounded-lg ${w.responderType==="ADMIN"?"bg-blue-50":"bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Ve,{variant:w.responderType==="ADMIN"?"default":"secondary",children:w.responderType==="ADMIN"?"Support Agent":"Customer"}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(w.createdAt).toLocaleString()})]}),a.jsx("p",{className:"text-gray-700",children:w.message})]},w.id))})]}),a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Response"}),a.jsx(wa,{value:b,onChange:w=>m(w.target.value),placeholder:"Type your response to the customer...",rows:4,className:"rounded-brill"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("select",{value:x,onChange:w=>k(w.target.value),className:"px-3 py-2 border border-gray-300 rounded-brill focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Keep current status"}),a.jsx("option",{value:"IN_PROGRESS",children:"Mark In Progress"}),a.jsx("option",{value:"RESOLVED",children:"Mark Resolved"}),a.jsx("option",{value:"CLOSED",children:"Mark Closed"})]}),a.jsx(me,{type:"submit",disabled:!b.trim(),className:"rounded-brill",children:"Send Response"})]})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-600",children:"Select a ticket from the tickets tab to view details"})})})})})]})]})})},sie=Object.freeze(Object.defineProperty({__proto__:null,default:B0},Symbol.toStringTag,{value:"Module"})),y4=()=>{var L,w,I,B,F,U,H,Y;const[t,e]=j.useState("all"),[s,n]=j.useState(null),[r,i]=j.useState(!1),[o,l]=j.useState(""),[c,d]=j.useState(""),[u,p]=j.useState(null),f=Kc();j.useEffect(()=>{const te=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}`,we=new WebSocket(te);return we.onopen=()=>{console.log("WebSocket connected for admin escrow management"),we.send(JSON.stringify({type:"join_room",room:"admin_dashboard"}))},we.onmessage=Re=>{switch(JSON.parse(Re.data).type){case"escrow_dispute_resolved":case"escrow_status_update":case"dispute_escalated":f.invalidateQueries({queryKey:["admin-escrow"]}),f.invalidateQueries({queryKey:["escrow-analytics"]}),toast({title:"Escrow Update",description:"Escrow transaction status has been updated"});break}},we.onclose=()=>{console.log("WebSocket disconnected")},p(we),()=>{we.close()}},[f]);const{data:y,isLoading:g}=Gi({queryKey:["admin-escrow",t],queryFn:async()=>{const G=await fetch(`/api/admin/escrow?status=${t}&limit=50&offset=0`,{credentials:"include"});if(!G.ok)throw new Error("Failed to fetch escrow transactions");return G.json()},refetchInterval:3e4}),{data:h}=Gi({queryKey:["escrow-analytics"],queryFn:async()=>{const G=await fetch("/api/admin/escrow/analytics",{credentials:"include"});if(!G.ok)throw new Error("Failed to fetch analytics");return G.json()},refetchInterval:6e4}),{data:b}=Gi({queryKey:["dispute-evidence",s==null?void 0:s.id],queryFn:async()=>{if(!s)return null;const G=await fetch(`/api/admin/escrow/${s.id}/evidence`,{credentials:"include"});if(!G.ok)throw new Error("Failed to fetch evidence");return G.json()},enabled:!!s&&s.status==="DISPUTED"}),m=Wi({mutationFn:async({action:G,notes:te,partialAmount:we})=>{const Re=await fetch("/api/admin/escrow/resolve-dispute",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({escrowId:s==null?void 0:s.id,action:G,notes:te,partialAmount:we})});if(!Re.ok)throw new Error("Failed to resolve dispute");return Re.json()},onSuccess:()=>{toast({title:"Dispute Resolved",description:"The dispute has been successfully resolved"}),i(!1),l(""),d(""),f.invalidateQueries({queryKey:["admin-escrow"]}),f.invalidateQueries({queryKey:["escrow-analytics"]})},onError:G=>{toast({title:"Error",description:G.message||"Failed to resolve dispute",variant:"destructive"})}}),x=Wi({mutationFn:async G=>{const te=await fetch("/api/admin/escrow/release",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({escrowId:G,reason:"Admin early release"})});if(!te.ok)throw new Error("Failed to release escrow");return te.json()},onSuccess:()=>{toast({title:"Escrow Released",description:"Escrow funds have been released successfully"}),f.invalidateQueries({queryKey:["admin-escrow"]}),f.invalidateQueries({queryKey:["escrow-analytics"]})},onError:G=>{toast({title:"Error",description:G.message||"Failed to release escrow",variant:"destructive"})}}),k=G=>{switch(G){case"HELD":return a.jsx(Ve,{className:"bg-green-100 text-green-800",children:"ACTIVE"});case"DISPUTED":return a.jsx(Ve,{className:"bg-red-100 text-red-800",children:"DISPUTED"});case"RELEASED_TO_SELLER":case"RELEASED_TO_DRIVER":return a.jsx(Ve,{className:"bg-gray-100 text-gray-800",children:"RELEASED"});case"REFUNDED":return a.jsx(Ve,{className:"bg-blue-100 text-blue-800",children:"REFUNDED"});default:return a.jsx(Ve,{className:"bg-yellow-100 text-yellow-800",children:"PENDING"})}},E=G=>{switch(G){case"DISPUTED":return"border-red-500";case"HELD":return"border-green-500";default:return"border-gray-200"}},C=G=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(parseFloat(G)),R=G=>{const te=new Date(G),Re=new Date().getTime()-te.getTime(),$e=Math.round(Re/6e4),bt=Math.round(Re/36e5),yn=Math.round(Re/864e5);return $e<60?`${$e} min ago`:bt<24?`${bt} hour${bt>1?"s":""} ago`:`${yn} day${yn>1?"s":""} ago`},N=G=>{if(!o.trim()){toast({title:"Error",description:"Please enter resolution notes",variant:"destructive"});return}if(G==="partial"&&(!c||parseFloat(c)<=0)){toast({title:"Error",description:"Please enter a valid partial refund amount",variant:"destructive"});return}m.mutate({action:G,notes:o,partialAmount:G==="partial"?parseFloat(c):void 0})},_=G=>{window.confirm("Are you sure you want to release this escrow?")&&x.mutate(G)};if(g)return a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});const O=((L=y==null?void 0:y.data)==null?void 0:L.transactions)||[],T=((w=y==null?void 0:y.data)==null?void 0:w.totalCount)||0,D=((I=y==null?void 0:y.data)==null?void 0:I.escrowBalance)||"0",V=((B=y==null?void 0:y.data)==null?void 0:B.disputedCount)||0;return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsxs("div",{className:"w-16 bg-white shadow-lg flex flex-col items-center py-4 space-y-4",children:[a.jsx(me,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),children:a.jsx(DL,{className:"w-6 h-6"})}),a.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center",children:a.jsx(Ln,{className:"w-5 h-5 text-white"})})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white shadow-sm border-b p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-blue-900",children:"Escrow Management"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Monitor and manage payment escrow transactions"})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-bold text-black",children:C(D)}),a.jsx("p",{className:"text-xs text-gray-600",children:"Total Escrow Balance"})]}),a.jsx("div",{className:"w-px h-8 bg-gray-300"}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-bold text-red-600",children:V}),a.jsx("p",{className:"text-xs text-gray-600",children:"Pending Disputes"})]})]})]})}),a.jsx("div",{className:"p-6 bg-white border-b",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsx(Oe,{children:a.jsx(yt,{className:"p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vc,{className:"w-8 h-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Escrow"}),a.jsx("p",{className:"text-2xl font-bold",children:((F=h==null?void 0:h.data)==null?void 0:F.activeEscrowing)||0})]})]})})}),a.jsx(Oe,{children:a.jsx(yt,{className:"p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(cn,{className:"w-8 h-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Disputed"}),a.jsx("p",{className:"text-2xl font-bold",children:((U=h==null?void 0:h.data)==null?void 0:U.disputedCount)||0})]})]})})}),a.jsx(Oe,{children:a.jsx(yt,{className:"p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(oi,{className:"w-8 h-8 text-yellow-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Release"}),a.jsx("p",{className:"text-2xl font-bold",children:((H=h==null?void 0:h.data)==null?void 0:H.pendingReleaseCount)||0})]})]})})}),a.jsx(Oe,{children:a.jsx(yt,{className:"p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(On,{className:"w-8 h-8 text-gray-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Released"}),a.jsx("p",{className:"text-2xl font-bold",children:((Y=h==null?void 0:h.data)==null?void 0:Y.releasedCount)||0})]})]})})})]})}),a.jsx("div",{className:"bg-white px-6 py-4 border-b",children:a.jsx(g4,{value:t,onValueChange:G=>e(G),children:a.jsxs(F0,{children:[a.jsxs(nr,{value:"all",children:["All Escrow (",T,")"]}),a.jsx(nr,{value:"active",children:"Active"}),a.jsx(nr,{value:"disputed",children:"Disputed"}),a.jsx(nr,{value:"pending",children:"Pending Release"}),a.jsx(nr,{value:"released",children:"Released"})]})})}),a.jsxs("main",{className:"flex-1 overflow-auto p-6",children:[a.jsx("div",{className:"space-y-4",children:O.map(G=>a.jsx(Oe,{className:`${E(G.status)} border-l-4 ${G.status==="DISPUTED"?"shadow-lg":"shadow-sm"}`,children:a.jsxs(yt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsxs("h3",{className:"text-lg font-bold mr-3",children:["ESC-",G.id]}),k(G.status),G.status==="DISPUTED"&&a.jsx(Ve,{className:"ml-2 bg-red-100 text-red-800 font-bold",children:"CRITICAL"})]}),a.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[a.jsx("strong",{children:"Customer:"})," ",G.buyerName," → ",a.jsx("strong",{children:"Merchant:"})," ",G.sellerName]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Order #",G.orderId.slice(-4)," • ",G.orderTitle," • Created ",R(G.createdAt)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xl font-bold",children:C(G.totalAmount)}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Held since ",R(G.createdAt)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[G.status==="DISPUTED"&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"📁 Evidence available"}),a.jsxs("span",{children:["🔄 Last activity: ",R(G.updatedAt)]})]}),G.status==="HELD"&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"✅ Transaction active"}),G.autoReleaseAt&&a.jsxs("span",{children:["⏰ Auto-release: ",R(G.autoReleaseAt)]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[G.status==="DISPUTED"&&a.jsx(me,{onClick:()=>{n(G),i(!0)},className:"bg-red-500 hover:bg-red-600",size:"sm",children:"Resolve Dispute"}),G.status==="HELD"&&a.jsx(me,{onClick:()=>_(G.id),className:"bg-green-600 hover:bg-green-700",size:"sm",children:"Release Early"}),a.jsxs(me,{variant:"outline",size:"sm",onClick:()=>n(G),children:[a.jsx(lf,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]})]})},G.id))}),O.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ln,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No escrow transactions"}),a.jsx("p",{className:"text-gray-600",children:"No escrow transactions found for the selected filter."})]})]})]}),a.jsx(uh,{open:r,onOpenChange:i,children:a.jsxs(P0,{className:"max-w-2xl max-h-screen overflow-y-auto",children:[a.jsx(D0,{children:a.jsxs(M0,{children:["Dispute Resolution - ESC-",s==null?void 0:s.id]})}),s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Escrow ID"}),a.jsxs("p",{className:"text-lg font-bold",children:["ESC-",s.id]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Amount"}),a.jsx("p",{className:"text-lg font-bold",children:C(s.totalAmount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Customer"}),a.jsx("p",{className:"font-medium",children:s.buyerName}),a.jsx("p",{className:"text-xs text-gray-600",children:s.buyerEmail})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Merchant"}),a.jsx("p",{className:"font-medium",children:s.sellerName}),a.jsx("p",{className:"text-xs text-gray-600",children:s.sellerEmail})]})]}),(b==null?void 0:b.data)&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Evidence"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(Oe,{children:[a.jsx(en,{children:a.jsx(tn,{className:"text-sm",children:"Customer Evidence"})}),a.jsx(yt,{children:a.jsx("div",{className:"space-y-2",children:b.data.customerEvidence.map((G,te)=>a.jsxs("div",{className:"flex items-center p-2 bg-gray-50 rounded",children:[a.jsx(up,{className:"w-4 h-4 mr-2 text-gray-600"}),a.jsx("span",{className:"text-xs",children:G.filename})]},te))})})]}),a.jsxs(Oe,{children:[a.jsx(en,{children:a.jsx(tn,{className:"text-sm",children:"Merchant Evidence"})}),a.jsx(yt,{children:a.jsx("div",{className:"space-y-2",children:b.data.merchantEvidence.map((G,te)=>a.jsxs("div",{className:"flex items-center p-2 bg-gray-50 rounded",children:[a.jsx(up,{className:"w-4 h-4 mr-2 text-gray-600"}),a.jsx("span",{className:"text-xs",children:G.filename})]},te))})})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Resolution Actions"}),a.jsx(wa,{value:o,onChange:G=>l(G.target.value),placeholder:"Enter admin notes and resolution details...",className:"mb-4",rows:4}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(me,{onClick:()=>N("refund"),className:"bg-red-500 hover:bg-red-600",disabled:m.isPending,children:"Refund Customer"}),a.jsx(me,{onClick:()=>N("release"),className:"bg-green-600 hover:bg-green-700",disabled:m.isPending,children:"Release to Merchant"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{type:"number",value:c,onChange:G=>d(G.target.value),placeholder:"Partial refund amount",className:"flex-1 px-3 py-2 border rounded-md"}),a.jsx(me,{onClick:()=>N("partial"),className:"bg-blue-500 hover:bg-blue-600",disabled:m.isPending,children:"Partial Refund"})]})]})]})]})]})})]})},nie=Object.freeze(Object.defineProperty({__proto__:null,default:y4},Symbol.toStringTag,{value:"Module"})),rie="http://localhost:5000/api/admin";async function Al(t,e,s){const n=localStorage.getItem("adminToken"),r=await fetch(`${rie}${e}`,{method:t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:s?JSON.stringify(s):void 0});if(!r.ok)throw new Error(`Request failed: ${r.statusText}`);return r.json()}function v4(){var V;const t=Kc(),[e,s]=j.useState([]),[n,r]=j.useState(null),[i,o]=j.useState(!1),[l,c]=j.useState({status:"",contentType:"",priority:"",search:"",startDate:"",endDate:""});j.useEffect(()=>{const L=new WebSocket("ws://localhost:5000/ws");return L.onopen=()=>{console.log("Connected to moderation WebSocket"),L.send(JSON.stringify({type:"join_admin_room",roomType:"moderation"}))},L.onmessage=w=>{const I=JSON.parse(w.data);(I.type==="new_content_report"||I.type==="content_action_taken"||I.type==="bulk_content_action"||I.type==="report_escalated")&&(t.invalidateQueries({queryKey:["moderation-reports"]}),t.invalidateQueries({queryKey:["moderation-stats"]}),I.type==="new_content_report"&&h(`New content report: ${I.contentType}`,"info"))},()=>L.close()},[t]);const{data:d,isLoading:u}=Gi({queryKey:["moderation-reports",l],queryFn:()=>{const L=new URLSearchParams;return Object.entries(l).forEach(([w,I])=>{I&&L.append(w,I)}),Al("GET",`/moderation/reports?${L.toString()}`)},refetchInterval:3e4}),{data:p}=Gi({queryKey:["moderation-stats"],queryFn:()=>Al("GET","/moderation/stats"),refetchInterval:6e4}),f=Wi({mutationFn:({reportId:L,action:w,reason:I})=>Al("POST",`/moderation/reports/${L}/action`,{action:w,reason:I}),onSuccess:()=>{t.invalidateQueries({queryKey:["moderation-reports"]}),t.invalidateQueries({queryKey:["moderation-stats"]}),h("Action completed successfully","success"),r(null),o(!1)},onError:()=>{h("Failed to complete action","error")}}),y=Wi({mutationFn:({reportIds:L,action:w,reason:I})=>Al("POST","/moderation/reports/bulk-action",{reportIds:L,action:w,reason:I}),onSuccess:()=>{t.invalidateQueries({queryKey:["moderation-reports"]}),t.invalidateQueries({queryKey:["moderation-stats"]}),s([]),h("Bulk action completed successfully","success")},onError:()=>{h("Failed to complete bulk action","error")}}),g=Wi({mutationFn:({reportId:L,reason:w,priority:I})=>Al("POST",`/moderation/reports/${L}/escalate`,{reason:w,priority:I}),onSuccess:()=>{t.invalidateQueries({queryKey:["moderation-reports"]}),h("Report escalated successfully","success")},onError:()=>{h("Failed to escalate report","error")}}),h=(L,w)=>{const I=document.createElement("div");I.className=`fixed top-4 right-4 px-4 py-2 rounded-md text-white z-50 ${w==="success"?"bg-green-500":w==="error"?"bg-red-500":"bg-blue-500"}`,I.textContent=L,document.body.appendChild(I),setTimeout(()=>document.body.removeChild(I),3e3)},b=(L,w)=>{c(I=>({...I,[L]:w}))},m=L=>{r(L),o(!0)},x=L=>{s(w=>w.includes(L)?w.filter(I=>I!==L):[...w,L])},k=(L,w)=>{n&&f.mutate({reportId:n.id,action:L,reason:w})},E=(L,w)=>{e.length!==0&&y.mutate({reportIds:e,action:L,reason:w})},C=(L,w="HIGH")=>{n&&g.mutate({reportId:n.id,reason:L,priority:w})},R=L=>{switch(L){case"POST":return a.jsx(up,{className:"h-4 w-4"});case"COMMENT":return a.jsx(hT,{className:"h-4 w-4"});case"PRODUCT":return a.jsx(KL,{className:"h-4 w-4"});case"USER":return a.jsx(yw,{className:"h-4 w-4"});default:return a.jsx(up,{className:"h-4 w-4"})}},N=L=>{switch(L){case"PENDING":return"bg-yellow-100 text-yellow-800";case"REVIEWED":return"bg-blue-100 text-blue-800";case"RESOLVED":return"bg-green-100 text-green-800";case"DISMISSED":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},_=L=>{switch(L){case"CRITICAL":return"bg-red-100 text-red-800 border-red-200";case"HIGH":return"bg-orange-100 text-orange-800 border-orange-200";case"MEDIUM":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"LOW":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},O=L=>{const w=new Date(L),B=Math.floor((new Date().getTime()-w.getTime())/(1e3*60*60));return B<1?"Just now":B<24?`${B}h ago`:`${Math.floor(B/24)}d ago`},T=((V=d==null?void 0:d.data)==null?void 0:V.reports)||[],D=(p==null?void 0:p.data)||{overview:{pending:0,resolved:0},performance:{avgResolutionTime:0,moderatorEfficiency:0}};return a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Content Moderation"}),a.jsx("p",{className:"text-gray-600",children:"Review and manage reported content"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:D.overview.pending}),a.jsx("div",{className:"text-sm text-gray-600",children:"Pending Reports"})]}),a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(oi,{className:"h-6 w-6 text-yellow-600"})})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:D.overview.resolved}),a.jsx("div",{className:"text-sm text-gray-600",children:"Resolved Today"})]}),a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(On,{className:"h-6 w-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[D.performance.avgResolutionTime,"h"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Avg Resolution"})]}),a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(oi,{className:"h-6 w-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[D.performance.moderatorEfficiency,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Efficiency Rate"})]}),a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Ln,{className:"h-6 w-6 text-purple-600"})})]})})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(cf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",value:l.search,onChange:L=>b("search",L.target.value),placeholder:"Search reports...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:l.status,onChange:L=>b("status",L.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"REVIEWED",children:"Reviewed"}),a.jsx("option",{value:"RESOLVED",children:"Resolved"}),a.jsx("option",{value:"DISMISSED",children:"Dismissed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content Type"}),a.jsxs("select",{value:l.contentType,onChange:L=>b("contentType",L.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"POST",children:"Posts"}),a.jsx("option",{value:"COMMENT",children:"Comments"}),a.jsx("option",{value:"PRODUCT",children:"Products"}),a.jsx("option",{value:"USER",children:"Users"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("select",{value:l.priority,onChange:L=>b("priority",L.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Priorities"}),a.jsx("option",{value:"CRITICAL",children:"Critical"}),a.jsx("option",{value:"HIGH",children:"High"}),a.jsx("option",{value:"MEDIUM",children:"Medium"}),a.jsx("option",{value:"LOW",children:"Low"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsx("input",{type:"date",value:l.startDate,onChange:L=>b("startDate",L.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsx("input",{type:"date",value:l.endDate,onChange:L=>b("endDate",L.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}),e.length>0&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[e.length," reports selected"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>E("REMOVE","Bulk content removal"),className:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700",children:"Remove All"}),a.jsx("button",{onClick:()=>E("WARNING","Bulk warning issued"),className:"px-3 py-1 bg-orange-600 text-white text-sm rounded-md hover:bg-orange-700",children:"Warn All"}),a.jsx("button",{onClick:()=>E("NO_ACTION","Bulk dismissal"),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700",children:"Dismiss All"}),a.jsx("button",{onClick:()=>s([]),className:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded-md hover:bg-gray-400",children:"Clear Selection"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Content Reports"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>t.invalidateQueries({queryKey:["moderation-reports"]}),className:"p-2 text-gray-500 hover:text-gray-700",title:"Refresh",children:a.jsx(Ki,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm text-gray-500",children:[T.length," reports"]})]})]})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:u?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading reports..."}):T.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No reports found"}):T.map(L=>a.jsx("div",{onClick:()=>m(L),className:`p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${(n==null?void 0:n.id)===L.id?"bg-blue-50 border-blue-200":""} ${_(L.priority).includes("red")?"border-l-4 border-l-red-500":""}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[a.jsx("input",{type:"checkbox",checked:e.includes(L.id),onChange:w=>{w.stopPropagation(),x(L.id)},className:"mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[R(L.contentType),a.jsxs("span",{className:"font-medium text-sm text-gray-900",children:[L.contentType," Report #",L.id]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(L.status)}`,children:L.status}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${_(L.priority)}`,children:L.priority}),L.reportCount>1&&a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs bg-purple-100 text-purple-800",children:[L.reportCount," reports"]})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-2 line-clamp-2",children:L.reason}),a.jsxs("div",{className:"flex items-center text-xs text-gray-500 space-x-3",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(yw,{className:"h-3 w-3 mr-1"}),L.reporter.fullName]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(oi,{className:"h-3 w-3 mr-1"}),O(L.createdAt)]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[L.status==="PENDING"&&a.jsxs("button",{onClick:w=>{w.stopPropagation(),C("Urgent escalation required","HIGH")},className:"text-xs text-orange-600 hover:text-orange-800 flex items-center",children:[a.jsx(aT,{className:"h-3 w-3 mr-1"}),"Escalate"]}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:a.jsx(sx,{className:"h-4 w-4"})})]})]})},L.id))})]}),a.jsx("div",{className:"bg-white rounded-lg shadow",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Report Details"}),a.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]})}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Report Information"}),a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Type:"})," ",n.contentType]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Content ID:"})," ",n.contentId]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Priority:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium border ${_(n.priority)}`,children:n.priority})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${N(n.status)}`,children:n.status})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Reporter"}),a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",n.reporter.fullName]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",n.reporter.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",n.reporter.role]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Reason"}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-md border text-sm",children:n.reason})]}),n.status==="PENDING"&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Take Action"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>k("REMOVE","Content removed for policy violation"),disabled:f.isPending,className:"w-full bg-red-600 text-white px-4 py-2 rounded-md text-sm hover:bg-red-700 disabled:bg-gray-300",children:"Remove Content"}),a.jsx("button",{onClick:()=>k("WARNING","Warning issued to user"),disabled:f.isPending,className:"w-full bg-orange-600 text-white px-4 py-2 rounded-md text-sm hover:bg-orange-700 disabled:bg-gray-300",children:"Issue Warning"}),a.jsx("button",{onClick:()=>k("BAN","User banned for repeated violations"),disabled:f.isPending,className:"w-full bg-gray-800 text-white px-4 py-2 rounded-md text-sm hover:bg-gray-900 disabled:bg-gray-300",children:"Ban User"}),a.jsx("button",{onClick:()=>k("NO_ACTION","No violation found"),disabled:f.isPending,className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md text-sm hover:bg-gray-700 disabled:bg-gray-300",children:"No Action Needed"})]})]}),n.status==="PENDING"&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Escalate Report"}),a.jsx("button",{onClick:()=>C("Requires senior review","HIGH"),disabled:g.isPending,className:"w-full bg-yellow-600 text-white px-4 py-2 rounded-md text-sm hover:bg-yellow-700 disabled:bg-gray-300",children:"Escalate to Senior Moderator"})]})]})]}):a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(Ln,{className:"w-8 h-8 text-gray-400"})}),a.jsx("p",{children:"Select a report to view details and take action"})]})})]})]})}const iie=Object.freeze(Object.defineProperty({__proto__:null,AdminModeration:v4},Symbol.toStringTag,{value:"Module"}));function x4(){const{isAuthenticated:t,isLoading:e}=Yse(),[s,n]=j.useState("dashboard");if(e)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading admin dashboard..."})]})});if(!t)return window.location.href="/admin",null;const r=()=>{switch(s){case"dashboard":return a.jsx(zS,{});case"users":return a.jsx(l3,{});case"kyc":return a.jsx(Wy,{});case"transactions":return a.jsx(G3,{});case"monitoring":return a.jsx(W3,{});case"fraud":return a.jsx(K3,{});case"support":return a.jsx(B0,{});case"escrow":return a.jsx(y4,{});case"moderation":return a.jsx(v4,{});case"analytics":return a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Platform Analytics"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Advanced analytics and reporting tools coming soon..."})]});case"security":return a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Security Center"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Security monitoring and threat detection tools coming soon..."})]});default:return a.jsx(zS,{})}},i=o=>{n(o)};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx(Jse,{currentPage:s,onPageChange:i,children:r()})})}const Yy=Object.freeze(Object.defineProperty({__proto__:null,default:x4},Symbol.toStringTag,{value:"Module"}));function aie({length:t,value:e,onChange:s,className:n}){const r=j.useRef([]);j.useEffect(()=>{r.current=r.current.slice(0,t)},[t]);const i=(c,d)=>{var f;const u=e.split("");u[c]=d.slice(-1);const p=u.join("");s(p),d&&c<t-1&&((f=r.current[c+1])==null||f.focus())},o=(c,d)=>{var u;d.key==="Backspace"&&!e[c]&&c>0&&((u=r.current[c-1])==null||u.focus())},l=c=>{var f;c.preventDefault();const u=c.clipboardData.getData("text/plain").replace(/\D/g,"").slice(0,t);s(u);const p=Math.min(u.length,t-1);(f=r.current[p])==null||f.focus()};return a.jsx("div",{className:ht("flex gap-2 justify-center",n),children:Array.from({length:t},(c,d)=>a.jsx("input",{ref:u=>r.current[d]=u,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:e[d]||"",onChange:u=>i(d,u.target.value),onKeyDown:u=>o(d,u),onPaste:l,className:ht("w-12 h-12 text-center border-2 rounded-lg font-semibold text-lg","focus:border-[var(--brill-secondary)] focus:outline-none","border-gray-300",e[d]&&"border-[var(--brill-secondary)] bg-blue-50")},d))})}function oie({loading:t=!1,loadingText:e,children:s,disabled:n,className:r,...i}){return a.jsxs(me,{disabled:t||n,className:ht("relative",r),...i,children:[t&&a.jsx(zL,{className:"mr-2 h-4 w-4 animate-spin"}),t?e||"Loading...":s]})}class Fa{constructor(){P(this,"baseURL","/api/auth")}async signUp(e){const s=await fetch(`${this.baseURL}/register`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...e,fullName:e.fullName||e.email.split("@")[0]})});if(!s.ok){const r=await s.json().catch(()=>({message:"Sign up failed"}));throw new Error(r.message||"Sign up failed")}const n=await s.json();return n.success&&n.user&&localStorage.setItem("user",JSON.stringify(n.user)),n}async signIn(e){const s=await fetch(`${this.baseURL}/signin`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!s.ok){const r=await s.json().catch(()=>({message:"Sign in failed"}));throw new Error(r.message||"Sign in failed")}const n=await s.json();return n.success&&n.user&&localStorage.setItem("user",JSON.stringify(n.user)),n}async verifyOTP(e){const s=await fetch(`${this.baseURL}/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){const n=await s.json();throw new Error(n.message||"OTP verification failed")}return s.json()}async signOut(){try{await fetch(`${this.baseURL}/logout`,{method:"POST",credentials:"include"})}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/signin"}}async validateSession(){try{const e=await fetch(`${this.baseURL}/validate-session`,{method:"GET",credentials:"include"});if(e.ok){const s=await e.json();if(s.success&&s.user)return localStorage.setItem("user",JSON.stringify(s.user)),s.user}return localStorage.removeItem("user"),null}catch(e){return console.error("Session validation error:",e),null}}getCurrentUser(){const e=localStorage.getItem("user");return e?JSON.parse(e):null}getToken(){return localStorage.getItem("token")}isAuthenticated(){return!!this.getCurrentUser()}}const lie=async t=>{const e=await fetch("/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const s=await e.json();throw new Error(s.message||"OTP verification failed")}return e.json()},cie=async t=>{const e=await fetch("/api/auth/resend-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});if(!e.ok){const s=await e.json();throw new Error(s.message||"Failed to resend OTP")}return e.json()},uie=async(t,e)=>{const s=await fetch("/api/auth/social-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:t,profile:e})});if(!s.ok){const n=await s.json();throw new Error(n.message||"Social login failed")}return s.json()},r_={signUp:new Fa().signUp,signIn:new Fa().signIn,verifyOTP:new Fa().verifyOTP,signOut:new Fa().signOut,getToken:new Fa().getToken,isAuthenticated:new Fa().isAuthenticated,verifyOtp:lie,resendOtp:cie,socialLogin:uie};function i_({isOpen:t,onClose:e,type:s,title:n,message:r,confirmText:i="OK",onConfirm:o}){const l=()=>{switch(s){case"success":return a.jsx(On,{className:"h-6 w-6 text-green-600"});case"error":return a.jsx(cT,{className:"h-6 w-6 text-red-600"});case"warning":return a.jsx(lT,{className:"h-6 w-6 text-yellow-600"});case"info":return a.jsx(fT,{className:"h-6 w-6 text-blue-600"})}},c=()=>{switch(s){case"success":return"text-green-800";case"error":return"text-red-800";case"warning":return"text-yellow-800";case"info":return"text-blue-800"}};return a.jsx(uh,{open:t,onOpenChange:e,children:a.jsxs(P0,{className:"sm:max-w-md",children:[a.jsxs(D0,{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[l(),a.jsx(M0,{className:c(),children:n})]}),a.jsx(H3,{className:"mt-2",children:r})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[a.jsx(me,{variant:"outline",onClick:e,children:"Cancel"}),a.jsx(me,{onClick:o||e,children:i})]})]})})}function _ae({notification:t,onClose:e,onAction:s}){const[n,r]=j.useState(!1);j.useEffect(()=>{t&&r(!0)},[t]);const i=()=>{r(!1),setTimeout(e,200)};if(!t)return null;const o=()=>{switch(t.type){case"success":return a.jsx(On,{className:"h-6 w-6 text-green-500"});case"warning":return a.jsx(cn,{className:"h-6 w-6 text-yellow-500"});case"error":return a.jsx(lT,{className:"h-6 w-6 text-red-500"});default:return a.jsx(fT,{className:"h-6 w-6 text-blue-500"})}},l=()=>{switch(t.type){case"success":return"border-l-green-500";case"warning":return"border-l-yellow-500";case"error":return"border-l-red-500";default:return"border-l-blue-500"}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-50 transition-opacity duration-200 ${n?"opacity-100":"opacity-0"}`,onClick:i}),a.jsx("div",{className:`fixed top-4 right-4 left-4 z-50 max-w-sm mx-auto transition-all duration-200 ${n?"translate-y-0 opacity-100 scale-100":"translate-y-[-20px] opacity-0 scale-95"}`,children:a.jsx(Oe,{className:`border-l-4 ${l()} shadow-lg`,children:a.jsx(yt,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[o(),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:t.title}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.message}),t.orderId&&a.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Order: ",t.orderId]}),a.jsx("p",{className:"text-xs text-gray-400",children:new Date(t.timestamp).toLocaleTimeString()})]}),a.jsx(me,{variant:"ghost",size:"sm",onClick:i,className:"h-6 w-6 p-0 ml-2 flex-shrink-0",children:a.jsx(Yi,{className:"h-4 w-4"})})]}),t.actions&&t.actions.length>0&&a.jsx("div",{className:"flex gap-2 mt-3",children:t.actions.map((c,d)=>a.jsx(me,{size:"sm",variant:c.variant||"default",onClick:()=>{c.action(),s==null||s(c.label),i()},className:"text-xs",children:c.label},d))})]})]})})})})]})}function b4(){const[t,e]=j.useState(""),[s,n]=j.useState(0),[r,i]=j.useState(!1),[o,l]=j.useState(!1),[c,d]=j.useState(""),[,u]=fi(),{toast:p}=Jo(),{setUser:f}=Xo(),y=localStorage.getItem("verification-email")||"";j.useEffect(()=>{y||u("/signup")},[y,u]),j.useEffect(()=>{if(s>0){const x=setTimeout(()=>n(s-1),1e3);return()=>clearTimeout(x)}},[s]);const g=Wi({mutationFn:r_.verifyOtp,onSuccess:x=>{localStorage.removeItem("verification-email"),x.user?(f(x.user),i(!0)):(p({title:"Account Verified!",description:"Your account has been successfully verified. Please sign in to continue."}),u("/signin"))},onError:x=>{d(x.message||"Invalid verification code. Please try again."),l(!0),e("")}}),h=Wi({mutationFn:()=>r_.resendOtp(y),onSuccess:()=>{n(60),p({title:"OTP Sent",description:"A new verification code has been sent to your email."})},onError:x=>{p({title:"Failed to Send OTP",description:x.message})}}),b=()=>{t.length===5&&g.mutate({email:y,otp:t})},m=()=>{s===0&&h.mutate()};return a.jsxs("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white",children:[a.jsxs("div",{className:"px-4 sm:px-6 py-6 sm:py-8 pt-12 sm:pt-16",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg",children:a.jsx("img",{src:tx,alt:"Brillprime Logo",className:"w-12 h-12 sm:w-16 sm:h-16 object-contain"})}),a.jsx("h1",{className:"text-lg sm:text-xl font-extrabold text-[var(--brill-primary)] mb-2",children:"Verify it's you"}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[a.jsx(QL,{className:"h-4 w-4 text-[var(--brill-secondary)]"}),a.jsx("p",{className:"text-[var(--brill-text-light)] font-light text-sm",children:"A 5-digit verification code has been sent to"})]}),a.jsx("p",{className:"text-[var(--brill-secondary)] font-medium text-sm",children:y}),a.jsx("p",{className:"text-[var(--brill-text-light)] text-xs mt-2 text-center",children:"Please check your inbox and spam folder"})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx(aie,{length:5,value:t,onChange:e,className:"mb-6"}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("p",{className:"text-[var(--brill-text-light)] text-sm mb-2",children:"Didn't receive the code?"}),a.jsx(me,{variant:"link",onClick:m,disabled:s>0||h.isPending,className:"text-[var(--brill-secondary)] font-medium p-0 h-auto",children:s>0?a.jsxs("span",{children:["Resend in ",s,"s"]}):h.isPending?a.jsx("span",{children:"Sending..."}):a.jsx("span",{children:"Resend Code"})})]})]}),a.jsx(oie,{onClick:b,loading:g.isPending,loadingText:"Verifying...",disabled:t.length!==5,className:"w-full h-14",children:"Verify Code"})]}),a.jsx(i_,{isOpen:r,onClose:()=>i(!1),type:"success",title:"Registration Complete!",message:"Your account has been successfully verified. Welcome to Brillprime!",confirmText:"Continue to Dashboard",onConfirm:()=>{const x=JSON.parse(localStorage.getItem("user")||"{}");x?x.role==="CONSUMER"?u("/dashboard"):x.role==="MERCHANT"?u("/merchant-dashboard"):x.role==="DRIVER"?u("/driver-dashboard"):x.role==="ADMIN"?u("/admin-dashboard"):u("/dashboard"):u("/dashboard")}}),a.jsx(i_,{isOpen:o,onClose:()=>l(!1),type:"error",title:"Verification Failed",message:c,confirmText:"Try Again",onConfirm:()=>l(!1)})]})}const die=Object.freeze(Object.defineProperty({__proto__:null,default:b4},Symbol.toStringTag,{value:"Module"}));function w4(){return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Page not found"}),a.jsx(D6,{href:"/",children:a.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Go Home"})})]})})}const pie=Object.freeze(Object.defineProperty({__proto__:null,default:w4},Symbol.toStringTag,{value:"Module"})),S4=()=>{const[t,e]=j.useState([]),[s,n]=j.useState({totalTickets:0,openTickets:0,resolvedTickets:0}),[r,i]=j.useState(!0),[o,l]=j.useState(!1),[c,d]=j.useState(!1),[u,p]=j.useState(null),[f,y]=j.useState(null),[g,h]=j.useState({subject:"",message:"",priority:"NORMAL"}),[b,m]=j.useState(""),{toast:x}=Jo(),{socket:k}=qn();j.useEffect(()=>{E(),C()},[]),j.useEffect(()=>{if(k)return k.on("ticket_updated",D=>{e(V=>V.map(L=>L.id===D.ticketId?{...L,status:D.status,updatedAt:D.updatedAt}:L)),u===D.ticketId&&R(D.ticketId)}),k.on("ticket_response",D=>{u===D.ticketId&&R(D.ticketId),x({title:"New Response",description:`You received a response to ticket ${D.ticketNumber}`})}),()=>{k.off("ticket_updated"),k.off("ticket_response")}},[k,u,x]);const E=async()=>{try{const V=await(await fetch("/api/support/tickets",{credentials:"include"})).json();V.success?e(V.tickets):x({title:"Error",description:V.message||"Failed to fetch tickets",variant:"destructive"})}catch{x({title:"Error",description:"Failed to fetch support tickets",variant:"destructive"})}finally{i(!1)}},C=async()=>{try{const V=await(await fetch("/api/support/stats",{credentials:"include"})).json();V.success&&n(V.stats)}catch(D){console.error("Failed to fetch stats:",D)}},R=async D=>{try{const L=await(await fetch(`/api/support/tickets/${D}`,{credentials:"include"})).json();L.success&&y(L)}catch{x({title:"Error",description:"Failed to fetch ticket details",variant:"destructive"})}},N=async D=>{D.preventDefault(),l(!0);try{const L=await(await fetch("/api/support/tickets",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(g)})).json();L.success?(x({title:"Success",description:`Ticket ${L.ticket.ticketNumber} created successfully`}),h({subject:"",message:"",priority:"NORMAL"}),d(!1),E(),C()):x({title:"Error",description:L.message||"Failed to create ticket",variant:"destructive"})}catch{x({title:"Error",description:"Failed to create support ticket",variant:"destructive"})}finally{l(!1)}},_=async D=>{if(D.preventDefault(),!(!u||!b.trim()))try{const L=await(await fetch(`/api/support/tickets/${u}/responses`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:b})})).json();L.success?(m(""),R(u),x({title:"Success",description:"Response added successfully"})):x({title:"Error",description:L.message||"Failed to add response",variant:"destructive"})}catch{x({title:"Error",description:"Failed to add response",variant:"destructive"})}},O=D=>{switch(D){case"OPEN":return"bg-blue-100 text-blue-800";case"IN_PROGRESS":return"bg-yellow-100 text-yellow-800";case"RESOLVED":return"bg-green-100 text-green-800";case"CLOSED":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},T=D=>{switch(D){case"LOW":return"bg-gray-100 text-gray-800";case"NORMAL":return"bg-blue-100 text-blue-800";case"HIGH":return"bg-orange-100 text-orange-800";case"URGENT":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading support tickets..."})]})}):a.jsx("div",{className:"flex-1 p-6 bg-gray-50",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Support Center"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Get help with your account and orders"})]}),a.jsx(me,{onClick:()=>d(!c),className:"rounded-brill",children:c?"Cancel":"Create New Ticket"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsxs(Oe,{className:"p-6 rounded-brill",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Tickets"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:s.totalTickets})]}),a.jsxs(Oe,{className:"p-6 rounded-brill",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Open Tickets"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:s.openTickets})]}),a.jsxs(Oe,{className:"p-6 rounded-brill",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resolved"}),a.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:s.resolvedTickets})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[c&&a.jsxs(Oe,{className:"p-6 mb-6 rounded-brill",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Support Ticket"}),a.jsx("form",{onSubmit:N,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),a.jsx(ah,{type:"text",value:g.subject,onChange:D=>h({...g,subject:D.target.value}),placeholder:"Brief description of your issue",required:!0,className:"rounded-brill"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),a.jsxs("select",{value:g.priority,onChange:D=>h({...g,priority:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-brill focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"LOW",children:"Low"}),a.jsx("option",{value:"NORMAL",children:"Normal"}),a.jsx("option",{value:"HIGH",children:"High"}),a.jsx("option",{value:"URGENT",children:"Urgent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),a.jsx(wa,{value:g.message,onChange:D=>h({...g,message:D.target.value}),placeholder:"Please describe your issue in detail...",rows:6,required:!0,className:"rounded-brill"})]}),a.jsx(me,{type:"submit",disabled:o,className:"rounded-brill",children:o?"Creating...":"Create Ticket"})]})})]}),a.jsx(Oe,{className:"rounded-brill",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Support Tickets"}),t.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-600",children:"No support tickets found."}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Create your first ticket to get help."})]}):a.jsx("div",{className:"space-y-4",children:t.map(D=>a.jsxs("div",{onClick:()=>{p(D.id),R(D.id)},className:`p-4 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors ${u===D.id?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:D.subject}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["#",D.ticketNumber]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:T(D.priority),children:D.priority}),a.jsx(Ve,{className:O(D.status),children:D.status})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(D.createdAt).toLocaleDateString()]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Updated: ",new Date(D.updatedAt).toLocaleDateString()]})]})]},D.id))})]})})]}),a.jsx("div",{children:a.jsx(Oe,{className:"rounded-brill",children:a.jsx("div",{className:"p-6",children:u&&f?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Ticket Details"}),a.jsx(Ve,{className:O(f.ticket.status),children:f.ticket.status})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:f.ticket.subject}),a.jsxs("p",{className:"text-sm text-gray-600",children:["#",f.ticket.ticketNumber]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Original Message"}),a.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:f.ticket.message})]}),f.ticket.resolution&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Resolution"}),a.jsx("p",{className:"text-sm text-green-600 bg-green-50 p-3 rounded-lg",children:f.ticket.resolution})]}),f.responses.length>0&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Responses"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:f.responses.map(D=>a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Ve,{variant:D.responderType==="ADMIN"?"default":"secondary",children:D.responderType==="ADMIN"?"Support Agent":"You"}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(D.createdAt).toLocaleString()})]}),a.jsx("p",{className:"text-sm text-gray-700",children:D.message})]},D.id))})]}),f.ticket.status!=="RESOLVED"&&a.jsxs("form",{onSubmit:_,children:[a.jsx(wa,{value:b,onChange:D=>m(D.target.value),placeholder:"Add a response...",rows:3,className:"mb-3 rounded-brill"}),a.jsx(me,{type:"submit",size:"sm",disabled:!b.trim(),className:"rounded-brill",children:"Send Response"})]})]})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-600",children:"Select a ticket to view details"})})})})})]})]})})},fie=Object.freeze(Object.defineProperty({__proto__:null,default:S4},Symbol.toStringTag,{value:"Module"})),Jy=j.forwardRef(({value:t=0,className:e,...s},n)=>a.jsx("div",{ref:n,className:ht("relative h-2 w-full overflow-hidden rounded-full bg-gray-200",e),...s,children:a.jsx("div",{className:"h-full w-full flex-1 bg-blue-600 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Jy.displayName="Progress";const wt={SECONDARY:"#131313",SUCCESS:"#10b981",WARNING:"#f59e0b",ERROR:"#ef4444",INFO:"#3b82f6"};function _4(){const{toast:t}=Jo(),[e,s]=j.useState(null),[n,r]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(!0),[d,u]=j.useState("");j.useEffect(()=>{p();const h=setInterval(p,3e4);return()=>clearInterval(h)},[]);const p=async()=>{try{c(!0);const[h,b,m]=await Promise.all([fetch("/api/system-health/metrics",{credentials:"include"}),fetch("/api/system-health/alerts",{credentials:"include"}),fetch("/api/system-health/services",{credentials:"include"})]);if(h.ok){const x=await h.json();s(x.metrics),u(new Date().toLocaleTimeString())}if(b.ok){const x=await b.json();r(x.alerts),x.alerts.filter(k=>k.severity==="critical").forEach(k=>{t({title:"Critical System Alert",description:k.message,variant:"destructive"})})}if(m.ok){const x=await m.json();o(x.services)}}catch(h){console.error("Failed to fetch system health:",h),t({title:"Connection Error",description:"Failed to fetch system health data",variant:"destructive"})}finally{c(!1)}},f=h=>{const b=Math.floor(h/86400),m=Math.floor(h%86400/3600),x=Math.floor(h%3600/60);return b>0?`${b}d ${m}h ${x}m`:m>0?`${m}h ${x}m`:`${x}m`},y=h=>{switch(h){case"healthy":return wt.SUCCESS;case"degraded":return wt.WARNING;case"critical":return wt.ERROR;default:return wt.INFO}},g=h=>{switch(h){case"critical":return wt.ERROR;case"warning":return wt.WARNING;case"info":return wt.INFO;default:return wt.INFO}};return l&&!e?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white p-4 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white p-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",style:{color:wt.SECONDARY},children:"System Health Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Real-time monitoring of system performance and business metrics"}),d&&a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Last updated: ",d]})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx(Ve,{className:"px-4 py-2",style:{backgroundColor:n.filter(h=>h.severity==="critical").length>0?wt.ERROR:wt.SUCCESS,color:"white"},children:n.filter(h=>h.severity==="critical").length>0?"System Issues":"All Systems Normal"})})]}),e&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs(Oe,{children:[a.jsx(en,{className:"pb-3",children:a.jsxs(tn,{className:"flex items-center text-sm font-medium text-gray-600",children:[a.jsx(uT,{className:"h-4 w-4 mr-2"}),"CPU Usage"]})}),a.jsxs(yt,{children:[a.jsxs("div",{className:"text-2xl font-bold mb-2",children:[e.system.cpuUsage,"%"]}),a.jsx(Jy,{value:e.system.cpuUsage,className:"h-2",style:{backgroundColor:e.system.cpuUsage>80?wt.ERROR:e.system.cpuUsage>60?wt.WARNING:wt.SUCCESS}})]})]}),a.jsxs(Oe,{children:[a.jsx(en,{className:"pb-3",children:a.jsxs(tn,{className:"flex items-center text-sm font-medium text-gray-600",children:[a.jsx(HL,{className:"h-4 w-4 mr-2"}),"Memory Usage"]})}),a.jsxs(yt,{children:[a.jsxs("div",{className:"text-2xl font-bold mb-2",children:[e.system.memoryUsage,"%"]}),a.jsx(Jy,{value:e.system.memoryUsage,className:"h-2",style:{backgroundColor:e.system.memoryUsage>85?wt.ERROR:e.system.memoryUsage>70?wt.WARNING:wt.SUCCESS}})]})]}),a.jsxs(Oe,{children:[a.jsx(en,{className:"pb-3",children:a.jsxs(tn,{className:"flex items-center text-sm font-medium text-gray-600",children:[a.jsx(Yc,{className:"h-4 w-4 mr-2"}),"Active Users"]})}),a.jsxs(yt,{children:[a.jsx("div",{className:"text-2xl font-bold mb-2",children:e.business.activeUsers}),a.jsx("p",{className:"text-sm text-gray-500",children:"Last 30 minutes"})]})]}),a.jsxs(Oe,{children:[a.jsx(en,{className:"pb-3",children:a.jsxs(tn,{className:"flex items-center text-sm font-medium text-gray-600",children:[a.jsx(uf,{className:"h-4 w-4 mr-2"}),"Today's Revenue"]})}),a.jsxs(yt,{children:[a.jsxs("div",{className:"text-2xl font-bold mb-2",children:["₦",e.business.todayRevenue.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[e.business.transactionVolume," transactions"]})]})]})]}),n.length>0&&a.jsxs(Oe,{className:"mb-8",children:[a.jsx(en,{children:a.jsxs(tn,{className:"flex items-center",style:{color:wt.SECONDARY},children:[a.jsx(cn,{className:"h-6 w-6 mr-3"}),"System Alerts (",n.length,")"]})}),a.jsx(yt,{children:a.jsx("div",{className:"space-y-4",children:n.map(h=>a.jsxs("div",{className:"flex items-start p-4 border rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0 w-3 h-3 rounded-full mt-1 mr-4",style:{backgroundColor:g(h.severity)}}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"font-semibold capitalize",children:[h.type," Alert"]}),a.jsx(Ve,{style:{backgroundColor:`${g(h.severity)}20`,color:g(h.severity)},children:h.severity.toUpperCase()})]}),a.jsx("p",{className:"text-gray-600 mt-1",children:h.message}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(h.timestamp).toLocaleString()})]})]},h.id))})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(Oe,{children:[a.jsx(en,{children:a.jsxs(tn,{className:"flex items-center",style:{color:wt.SECONDARY},children:[a.jsx(mT,{className:"h-6 w-6 mr-3"}),"Service Health"]})}),a.jsx(yt,{children:a.jsx("div",{className:"space-y-4",children:i.map(h=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[h.status==="healthy"?a.jsx(On,{className:"h-5 w-5 text-green-500 mr-3"}):h.status==="degraded"?a.jsx(cn,{className:"h-5 w-5 text-yellow-500 mr-3"}):a.jsx(cT,{className:"h-5 w-5 text-red-500 mr-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:h.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[h.responseTime,"ms • ",h.uptime,"% uptime"]})]})]}),a.jsx(Ve,{style:{backgroundColor:`${y(h.status)}20`,color:y(h.status)},children:h.status.toUpperCase()})]},h.name))})})]}),e&&a.jsxs(Oe,{children:[a.jsx(en,{children:a.jsxs(tn,{className:"flex items-center",style:{color:wt.SECONDARY},children:[a.jsx(dT,{className:"h-6 w-6 mr-3"}),"System Information"]})}),a.jsx(yt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"System Uptime:"}),a.jsx("span",{className:"font-medium",children:f(e.system.uptime)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Node.js Version:"}),a.jsx("span",{className:"font-medium",children:e.system.nodeVersion})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Load Average:"}),a.jsx("span",{className:"font-medium",children:e.system.loadAverage.map(h=>h.toFixed(2)).join(", ")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"DB Response Time:"}),a.jsxs("span",{className:"font-medium",children:[e.database.queryResponseTime,"ms"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Online Drivers:"}),a.jsx("span",{className:"font-medium",children:e.business.onlineDrivers})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Pending Orders:"}),a.jsx("span",{className:"font-medium",children:e.business.pendingOrders})]})]})})]})]})]})})}const hie=Object.freeze(Object.defineProperty({__proto__:null,default:_4},Symbol.toStringTag,{value:"Module"})),mie=new WA({defaultOptions:{queries:{staleTime:5*60*1e3,retry:3}}});function gie(){return a.jsx(JA,{client:mie,children:a.jsx(xL,{children:a.jsxs(MA,{children:[a.jsx("div",{className:"min-h-screen bg-white",children:a.jsxs(M6,{children:[a.jsx(cs,{path:"/",component:eT}),a.jsx(cs,{path:"/onboarding",component:tT}),a.jsx(cs,{path:"/role-selection",component:sT}),a.jsx(cs,{path:"/signup",component:nT}),a.jsx(cs,{path:"/signin",component:rT}),a.jsx(cs,{path:"/otp-verification",component:b4}),a.jsx(cs,{path:"/consumer-home",component:i3}),a.jsx(cs,{path:"/merchant-dashboard",component:a3}),a.jsx(cs,{path:"/driver-dashboard",component:o3}),a.jsx(cs,{path:"/admin-dashboard",component:x4}),a.jsx(cs,{path:"/admin-support",element:a.jsx(B0,{})}),a.jsx(cs,{path:"/support",element:a.jsx(S4,{})}),a.jsx(cs,{path:"/system-health-dashboard",element:a.jsx(_4,{})}),a.jsx(cs,{component:w4})]})}),a.jsx(vL,{})]})})})}const yie="modulepreload",vie=function(t){return"/"+t},a_={},se=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(s.map(c=>{if(c=vie(c),c in a_)return;a_[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":yie,d||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((f,y)=>{p.addEventListener("load",f),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},xie=(t,e,s)=>{const n=t[e];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((r,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==s?". Note that variables only represent file names one level deep.":""))))})};j.lazy(()=>se(()=>import("./dashboard-DBTAmfK4.js"),[]));j.lazy(()=>se(()=>Promise.resolve().then(()=>Qy),void 0));j.lazy(()=>se(()=>Promise.resolve().then(()=>Vy),void 0));j.lazy(()=>se(()=>Promise.resolve().then(()=>Yy),void 0));j.lazy(()=>se(()=>import("./chat-BChPrQyM.js"),__vite__mapDeps([0,1,2,3,4,5])));j.lazy(()=>se(()=>import("./map-home-BpbvAQIK.js"),__vite__mapDeps([6,7,8])));j.lazy(()=>se(()=>import("./merchant-analytics-DKlVoyw-.js"),__vite__mapDeps([9,10,11])));const bie=()=>{var t;if(typeof window<"u"){const e=localStorage.getItem("userRole"),s={merchant:[()=>se(()=>Promise.resolve().then(()=>Qy),void 0),()=>se(()=>import("./order-management-gHxpsocG.js"),__vite__mapDeps([12,13,14,15,4,10])),()=>se(()=>import("./merchant-analytics-DKlVoyw-.js"),__vite__mapDeps([9,10,11]))],driver:[()=>se(()=>Promise.resolve().then(()=>Vy),void 0),()=>se(()=>import("./real-time-tracking-WrAjjF7u.js"),__vite__mapDeps([16,3,17,15,4])),()=>se(()=>import("./driver-withdrawal-DK3M9ep-.js"),__vite__mapDeps([18,19,13,14,20,21,22,23,24,25]))],admin:[()=>se(()=>Promise.resolve().then(()=>Yy),void 0),()=>se(()=>Promise.resolve().then(()=>qS),void 0),()=>se(()=>Promise.resolve().then(()=>n_),void 0)],consumer:[()=>se(()=>import("./dashboard-DBTAmfK4.js"),[]),()=>se(()=>import("./commodities-p0SF8Yf1.js"),__vite__mapDeps([26,27,15,11,28,29,30,31,8,32,25,10])),()=>se(()=>import("./cart-DalEchuO.js"),__vite__mapDeps([33,24,34]))]},n=s[e]||s.consumer;(t=n[0])==null||t.call(n),requestIdleCallback(()=>{n.slice(1).forEach((r,i)=>{setTimeout(r,i*500)})}),requestIdleCallback(()=>{setTimeout(()=>{se(()=>import("./chat-BChPrQyM.js"),__vite__mapDeps([0,1,2,3,4,5])),se(()=>import("./notifications-YHgJBiGY.js"),__vite__mapDeps([35,14])),se(()=>import("./profile-CbtjOuE3.js"),__vite__mapDeps([36,2,1,37]))},2e3),setTimeout(()=>{JSON.parse(localStorage.getItem("lastVisitedPages")||"[]").slice(0,3).forEach(i=>{xie(Object.assign({"../pages/account-settings.tsx":()=>se(()=>import("./account-settings-iJ2N3eVa.js"),__vite__mapDeps([38,19,20,39,40,41])),"../pages/add-payment-method.tsx":()=>se(()=>import("./add-payment-method-CfIS3lAm.js"),__vite__mapDeps([42,19,20,22,25])),"../pages/admin-control-center.tsx":()=>se(()=>import("./admin-control-center-BI-is-Mv.js"),__vite__mapDeps([43,34,13,14])),"../pages/admin-dashboard.tsx":()=>se(()=>Promise.resolve().then(()=>Yy),void 0),"../pages/admin-escrow-management.tsx":()=>se(()=>Promise.resolve().then(()=>nie),void 0),"../pages/admin-fraud.tsx":()=>se(()=>Promise.resolve().then(()=>Fre),void 0),"../pages/admin-kyc-verification.tsx":()=>se(()=>Promise.resolve().then(()=>Pre),void 0),"../pages/admin-moderation.tsx":()=>se(()=>Promise.resolve().then(()=>iie),void 0),"../pages/admin-monitoring.tsx":()=>se(()=>Promise.resolve().then(()=>n_),void 0),"../pages/admin-real-time-dashboard.tsx":()=>se(()=>import("./admin-real-time-dashboard-DC8PE9xW.js"),[]),"../pages/admin-support.tsx":()=>se(()=>Promise.resolve().then(()=>sie),void 0),"../pages/admin-transactions.tsx":()=>se(()=>Promise.resolve().then(()=>Lre),void 0),"../pages/admin-user-management.tsx":()=>se(()=>Promise.resolve().then(()=>qS),void 0),"../pages/bills-payment.tsx":()=>se(()=>import("./bills-payment-DORwAYF9.js"),__vite__mapDeps([44,19,13,14,45])),"../pages/biometric-setup.tsx":()=>se(()=>import("./biometric-setup-DE2AAkmv.js"),__vite__mapDeps([46,47,48])),"../pages/cart.tsx":()=>se(()=>import("./cart-DalEchuO.js"),__vite__mapDeps([33,24,34])),"../pages/chat.tsx":()=>se(()=>import("./chat-BChPrQyM.js"),__vite__mapDeps([0,1,2,3,4,5])),"../pages/checkout.tsx":()=>se(()=>import("./checkout-D_6LZXPR.js"),__vite__mapDeps([49,19,34,25])),"../pages/commodities.tsx":()=>se(()=>import("./commodities-p0SF8Yf1.js"),__vite__mapDeps([26,27,15,11,28,29,30,31,8,32,25,10])),"../pages/consumer-home.tsx":()=>se(()=>Promise.resolve().then(()=>Wse),void 0),"../pages/dashboard.tsx":()=>se(()=>import("./dashboard-DBTAmfK4.js"),[]),"../pages/delivery-detail.tsx":()=>se(()=>import("./delivery-detail-DKak5Ssz.js"),__vite__mapDeps([50,1,51,3,4,52])),"../pages/driver-dashboard.tsx":()=>se(()=>Promise.resolve().then(()=>Vy),void 0),"../pages/driver-registration.tsx":()=>se(()=>import("./driver-registration-D58pUOx_.js"),__vite__mapDeps([53,19,13,14,34,39,54,41])),"../pages/driver-tier-selection.tsx":()=>se(()=>import("./driver-tier-selection-BeiJxeEZ.js"),__vite__mapDeps([55,11,41,39])),"../pages/driver-withdrawal.tsx":()=>se(()=>import("./driver-withdrawal-DK3M9ep-.js"),__vite__mapDeps([18,19,13,14,20,21,22,23,24,25])),"../pages/edit-profile.tsx":()=>se(()=>import("./edit-profile-DEjLJxEw.js"),__vite__mapDeps([56,19,1,2])),"../pages/enhanced-verification.tsx":()=>se(()=>import("./enhanced-verification-bF0LCv1a.js"),__vite__mapDeps([57,19,54,47,11])),"../pages/forgot-password.tsx":()=>se(()=>import("./forgot-password-Cd-0f-h2.js"),__vite__mapDeps([58,19])),"../pages/fuel-delivery-tracking.tsx":()=>se(()=>import("./fuel-delivery-tracking-zML9aBZv.js"),__vite__mapDeps([59,15,8,4])),"../pages/fuel-order-details.tsx":()=>se(()=>import("./fuel-order-details-BWuZw-Lh.js"),__vite__mapDeps([60,15,4,28,29])),"../pages/fuel-ordering.tsx":()=>se(()=>import("./fuel-ordering-C1OP4Aex.js"),[]),"../pages/identity-verification.tsx":()=>se(()=>import("./identity-verification-BepOhkwP.js"),__vite__mapDeps([61,19,13,14,34,54,30,5,4])),"../pages/legal-compliance.tsx":()=>se(()=>import("./legal-compliance-wz7mX3P1.js"),[]),"../pages/live-chat-enhanced.tsx":()=>se(()=>import("./live-chat-enhanced-DE-FPq0G.js"),__vite__mapDeps([62,27,4,17,14])),"../pages/location-setup.tsx":()=>se(()=>import("./location-setup-DcUV3Kmb.js"),__vite__mapDeps([63,19,51])),"../pages/map-home.tsx":()=>se(()=>import("./map-home-BpbvAQIK.js"),__vite__mapDeps([6,7,8])),"../pages/merchant-analytics.tsx":()=>se(()=>import("./merchant-analytics-DKlVoyw-.js"),__vite__mapDeps([9,10,11])),"../pages/merchant-dashboard.tsx":()=>se(()=>Promise.resolve().then(()=>Qy),void 0),"../pages/merchant-kyc-verification.tsx":()=>se(()=>import("./merchant-kyc-verification-CdqGV1Bn.js"),__vite__mapDeps([64,34,19,13,14,65,54])),"../pages/merchants.tsx":()=>se(()=>import("./merchants-bVEzPV9N.js"),__vite__mapDeps([66,27,11])),"../pages/messages.tsx":()=>se(()=>import("./messages-G24VY0hM.js"),__vite__mapDeps([67,27,1,29,3])),"../pages/mfa-setup.tsx":()=>se(()=>import("./mfa-setup-xyy6BdS8.js"),__vite__mapDeps([68,19,69,45])),"../pages/money-transfer.tsx":()=>se(()=>import("./money-transfer-CbyUuWf_.js"),__vite__mapDeps([70,19,13,14,65,17])),"../pages/not-found.tsx":()=>se(()=>Promise.resolve().then(()=>pie),void 0),"../pages/notifications.tsx":()=>se(()=>import("./notifications-YHgJBiGY.js"),__vite__mapDeps([35,14])),"../pages/onboarding.tsx":()=>se(()=>Promise.resolve().then(()=>EL),void 0),"../pages/order-confirmation.tsx":()=>se(()=>import("./order-confirmation-Di4XyR-s.js"),__vite__mapDeps([71,15,4])),"../pages/order-history-detail.tsx":()=>se(()=>import("./order-history-detail-C6oREqmO.js"),__vite__mapDeps([72,1,4,8])),"../pages/order-history.tsx":()=>se(()=>import("./order-history-IPiQBLCC.js"),__vite__mapDeps([73,1,52,8])),"../pages/order-management.tsx":()=>se(()=>import("./order-management-gHxpsocG.js"),__vite__mapDeps([12,13,14,15,4,10])),"../pages/otp-verification.tsx":()=>se(()=>Promise.resolve().then(()=>die),void 0),"../pages/payment-methods.tsx":()=>se(()=>import("./payment-methods-C3qKK3ob.js"),__vite__mapDeps([74,22,23,24,25])),"../pages/profile.tsx":()=>se(()=>import("./profile-CbtjOuE3.js"),__vite__mapDeps([36,2,1,37])),"../pages/qr-scanner.tsx":()=>se(()=>import("./qr-scanner-DRnGlf9v.js"),__vite__mapDeps([75,48,14,5])),"../pages/real-time-tracking.tsx":()=>se(()=>import("./real-time-tracking-WrAjjF7u.js"),__vite__mapDeps([16,3,17,15,4])),"../pages/reset-password.tsx":()=>se(()=>import("./reset-password-CxroekFP.js"),__vite__mapDeps([76,19,39,40])),"../pages/role-selection.tsx":()=>se(()=>Promise.resolve().then(()=>kL),void 0),"../pages/search-results.tsx":()=>se(()=>import("./search-results-Dg6hlfK-.js"),__vite__mapDeps([77,7])),"../pages/side-menu.tsx":()=>se(()=>import("./side-menu-C59k4hFW.js"),__vite__mapDeps([78,27,41,37])),"../pages/signin.tsx":()=>se(()=>Promise.resolve().then(()=>TL),void 0),"../pages/signup.tsx":()=>se(()=>Promise.resolve().then(()=>jL),void 0),"../pages/splash.tsx":()=>se(()=>Promise.resolve().then(()=>bL),void 0),"../pages/support-ticket-submit.tsx":()=>se(()=>import("./support-ticket-submit-Dq8XTps4.js"),__vite__mapDeps([79,19,13,14,3,37])),"../pages/support.tsx":()=>se(()=>Promise.resolve().then(()=>fie),void 0),"../pages/system-health-dashboard.tsx":()=>se(()=>Promise.resolve().then(()=>hie),void 0),"../pages/toll-payment-success.tsx":()=>se(()=>import("./toll-payment-success-BTbHXFT_.js"),__vite__mapDeps([80,69])),"../pages/toll-payments.tsx":()=>se(()=>import("./toll-payments-C-HoAInm.js"),__vite__mapDeps([81,19,30,31])),"../pages/track-order.tsx":()=>se(()=>import("./track-order-CNbNMqCB.js"),__vite__mapDeps([82,15,4])),"../pages/vendor-feed.tsx":()=>se(()=>import("./vendor-feed-zHPfZ36b.js"),__vite__mapDeps([83,27,13,14,34,29,10,32])),"../pages/wallet-balance.tsx":()=>se(()=>import("./wallet-balance-CG0-yw3H.js"),__vite__mapDeps([84,40,17])),"../pages/wallet-fund-callback.tsx":()=>se(()=>import("./wallet-fund-callback-DrACGQD9.js"),[]),"../pages/wallet-fund.tsx":()=>se(()=>import("./wallet-fund-D4hTaRMM.js"),__vite__mapDeps([85,19,21,29])),"../pages/wallet-transactions.tsx":()=>se(()=>import("./wallet-transactions-C0UwxRpM.js"),[])}),`../pages/${i}.tsx`,3)})},3e3)})}},wie=()=>{const t=document.createElement("link");t.rel="preload",t.as="font",t.type="font/woff2",t.crossOrigin="anonymous",t.href="/fonts/inter-var.woff2",document.head.appendChild(t);const e=document.createElement("link");e.rel="preload",e.as="style",e.href="/src/index.css",document.head.appendChild(e)},Sie=()=>{document.readyState==="complete"?o_():window.addEventListener("load",o_)},o_=()=>{let t=!1;const e=()=>{t||(t=!0,console.log("Loading analytics after user interaction"))};["click","scroll","keydown","touchstart"].forEach(s=>{document.addEventListener(s,e,{once:!0,passive:!0})})},_ie=()=>{["api.paystack.co","fonts.googleapis.com"].forEach(s=>{const n=document.createElement("link");n.rel="dns-prefetch",n.href=`//${s}`,document.head.appendChild(n)}),["/api"].forEach(s=>{const n=document.createElement("link");n.rel="preconnect",n.href=s,document.head.appendChild(n)})};var Eie={};class Nie{constructor(){P(this,"deferredPrompt",null);P(this,"updateAvailable",!1);P(this,"registration",null);this.initializeServiceWorker(),this.setupInstallPrompt(),this.setupUpdateListener(),this.setupVisibilityHandler()}async initializeServiceWorker(){if("serviceWorker"in navigator)try{this.registration=await navigator.serviceWorker.register("/sw.js"),console.log("PWA: Service Worker registered"),this.registration.addEventListener("updatefound",()=>{console.log("PWA: Update found"),this.handleServiceWorkerUpdate()}),navigator.serviceWorker.addEventListener("message",this.handleServiceWorkerMessage.bind(this)),this.registration.update()}catch(e){console.error("PWA: Service Worker registration failed:",e)}}setupInstallPrompt(){window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),this.deferredPrompt=e,console.log("PWA: Install prompt available"),this.showInstallBanner()})}setupUpdateListener(){window.addEventListener("load",()=>{this.registration&&this.registration.addEventListener("updatefound",()=>{const e=this.registration.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(this.updateAvailable=!0,this.showUpdateBanner())})})})}setupVisibilityHandler(){document.addEventListener("visibilitychange",()=>{!document.hidden&&this.registration&&this.registration.update()})}handleServiceWorkerUpdate(){var e;if((e=this.registration)!=null&&e.installing){const s=this.registration.installing;s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&(this.updateAvailable=!0,this.showUpdateBanner())})}}handleServiceWorkerMessage(e){var s;((s=e.data)==null?void 0:s.type)==="APP_UPDATED"&&window.location.reload()}showInstallBanner(){var s,n;const e=document.createElement("div");e.id="pwa-install-banner",e.className="fixed top-0 left-0 right-0 bg-blue-600 text-white p-4 z-50 flex justify-between items-center",e.innerHTML=`
      <div class="flex items-center space-x-3">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"/>
        </svg>
        <span>Install BrillPrime app for better experience</span>
      </div>
      <div class="flex space-x-2">
        <button id="install-app" class="bg-white text-blue-600 px-4 py-2 rounded font-medium">Install</button>
        <button id="dismiss-install" class="text-white px-4 py-2">Dismiss</button>
      </div>
    `,document.body.appendChild(e),(s=e.querySelector("#install-app"))==null||s.addEventListener("click",()=>{this.installApp()}),(n=e.querySelector("#dismiss-install"))==null||n.addEventListener("click",()=>{e.remove(),localStorage.setItem("pwa-install-dismissed","true")}),setTimeout(()=>{document.getElementById("pwa-install-banner")&&e.remove()},1e4)}showUpdateBanner(){var s,n;const e=document.createElement("div");e.id="pwa-update-banner",e.className="fixed bottom-4 left-4 right-4 bg-green-600 text-white p-4 rounded-lg z-50 flex justify-between items-center",e.innerHTML=`
      <div class="flex items-center space-x-3">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"/>
        </svg>
        <span>App update available</span>
      </div>
      <div class="flex space-x-2">
        <button id="update-app" class="bg-white text-green-600 px-4 py-2 rounded font-medium">Update</button>
        <button id="dismiss-update" class="text-white px-4 py-2">Later</button>
      </div>
    `,document.body.appendChild(e),(s=e.querySelector("#update-app"))==null||s.addEventListener("click",()=>{this.updateApp()}),(n=e.querySelector("#dismiss-update"))==null||n.addEventListener("click",()=>{e.remove()})}async installApp(){var e;if(!this.deferredPrompt)return!1;try{this.deferredPrompt.prompt();const{outcome:s}=await this.deferredPrompt.userChoice;return s==="accepted"?(console.log("PWA: App installed"),(e=document.getElementById("pwa-install-banner"))==null||e.remove(),!0):(console.log("PWA: App installation dismissed"),!1)}catch(s){return console.error("PWA: Installation failed:",s),!1}finally{this.deferredPrompt=null}}updateApp(){var e,s;(e=this.registration)!=null&&e.waiting&&(this.registration.waiting.postMessage({type:"SKIP_WAITING"}),(s=document.getElementById("pwa-update-banner"))==null||s.remove())}async checkCapabilities(){return{installable:!!this.deferredPrompt||window.matchMedia("(display-mode: standalone)").matches,standalone:window.matchMedia("(display-mode: standalone)").matches,notificationsSupported:"Notification"in window,backgroundSyncSupported:"serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype,locationSupported:"geolocation"in navigator,biometricsSupported:"credentials"in navigator&&"PublicKeyCredential"in window}}async enableNotifications(){if(!("Notification"in window))return!1;try{return await Notification.requestPermission()==="granted"}catch(e){return console.error("PWA: Notification permission failed:",e),!1}}async registerForPushNotifications(){if(!this.registration)return null;try{const e=await this.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(Eie.VAPID_PUBLIC_KEY||"")});return await fetch("/api/notifications/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),JSON.stringify(e)}catch(e){return console.error("PWA: Push notification registration failed:",e),null}}urlBase64ToUint8Array(e){const s="=".repeat((4-e.length%4)%4),n=(e+s).replace(/\-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}async cacheOfflineAction(e){navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"CACHE_OFFLINE_ACTION",action:e})}isInstalled(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isUpdateAvailable(){return this.updateAvailable}}const kie=new Nie;_ie();wie();Sie();kie.checkCapabilities().then(t=>{t.installable&&console.log("PWA features available")});const Cie=new WA({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:(t,e)=>(e==null?void 0:e.status)>=400&&(e==null?void 0:e.status)<500&&![401,403].includes(e==null?void 0:e.status)?!1:t<2,refetchOnWindowFocus:!1}}});setTimeout(()=>{bie()},1e3);const jie=Vm.createRoot(document.getElementById("root"));jie.render(a.jsx(Yn.StrictMode,{children:a.jsx(JA,{client:Cie,children:a.jsx(gie,{})})}));export{hT as $,DL as A,me as B,On as C,BL as D,Bse as E,up as F,yc as G,G5 as H,ah as I,Fie as J,_ae as K,lT as L,Pd as M,WL as N,Hh as O,KL as P,lf as Q,oie as R,cf as S,g4 as T,Yc as U,oi as V,qn as W,Yi as X,Q5 as Y,Lie as Z,V5 as _,Xo as a,D6 as a0,FL as a1,LL as a2,Ln as a3,Ki as a4,qL as a5,Gse as a6,ht as a7,Jo as a8,cn as a9,f3 as aA,d3 as aB,y6 as aC,WA as aD,yu as aE,Yn as aF,vae as aG,Kf as aH,Wf as aI,dP as aJ,xa as aK,Dr as aL,Jy as aM,r_ as aN,yw as aO,$ie as aP,cT as aQ,pT as aR,Uie as aS,W5 as aT,Qse as aU,mw as aV,Tie as aW,fT as aX,H3 as aY,wae as aZ,zL as a_,JL as aa,uh as ab,P0 as ac,D0 as ad,M0 as ae,wa as af,gT as ag,yL as ah,Bie as ai,e5 as aj,Gv as ak,ls as al,Lc as am,oh as an,zn as ao,Vo as ap,Y3 as aq,T0 as ar,Jl as as,Bre as at,Ft as au,m3 as av,yre as aw,Rne as ax,_3 as ay,Fc as az,Kc as b,fe as c,K5 as d,Gi as e,Wi as f,Ve as g,QL as h,ise as i,a as j,to as k,tx as l,Oe as m,yt as n,F0 as o,nr as p,Ld as q,j as r,en as s,tn as t,fi as u,vc as v,aT as w,PL as x,XL as y,oT as z};
//# sourceMappingURL=index-CVqmz7v7.js.map

import{u as b,r,j as e,B as c,A as v,D as y,aR as w,m as L,n as T,g as A}from"./index-CVqmz7v7.js";function S(){const[,o]=b(),[i,h]=r.useState([]),[d,x]=r.useState(!0),[m,u]=r.useState(1),[n,g]=r.useState("");r.useEffect(()=>{(async()=>{x(!0);try{const t=new URLSearchParams({page:m.toString(),limit:"10",...n&&{type:n}}),a=await fetch(`/api/wallet/transactions?${t}`),l=await a.json();a.ok?h(l.transactions):console.error("Failed to fetch transactions")}catch(t){console.error("Error fetching transactions:",t)}finally{x(!1)}})()},[m,n]);const N=s=>{switch(s){case"WALLET_FUNDING":return"ðŸ’³";case"BILL_PAYMENT":return"âš¡";case"MONEY_TRANSFER":return"ðŸ’¸";default:return"ðŸ“Š"}},j=s=>{switch(s.toLowerCase()){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=(s,t)=>{const a=t==="NGN"?"â‚¦":t,l=Math.abs(s).toLocaleString();return s<0?`-${a}${l}`:`+${a}${l}`},p=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-md mx-auto bg-white min-h-screen",children:[e.jsx("div",{className:"bg-blue-600 text-white p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>o("/dashboard"),className:"text-white hover:bg-white/20 mr-2",children:e.jsx(v,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-xl font-semibold",children:"Transaction History"})]}),e.jsx(c,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",children:e.jsx(y,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"p-4 bg-white border-b",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(w,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:n,onChange:s=>g(s.target.value),className:"flex-1 p-2 border rounded-lg text-sm",children:[e.jsx("option",{value:"",children:"All Transactions"}),e.jsx("option",{value:"WALLET_FUNDING",children:"Wallet Funding"}),e.jsx("option",{value:"BILL_PAYMENT",children:"Bill Payments"}),e.jsx("option",{value:"MONEY_TRANSFER",children:"Money Transfers"})]})]})}),e.jsx("div",{className:"p-4",children:d?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}):i.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“Š"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No transactions yet"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Your transaction history will appear here"}),e.jsx(c,{onClick:()=>o("/wallet-fund"),children:"Fund Your Wallet"})]}):e.jsx("div",{className:"space-y-3",children:i.map(s=>e.jsx(L,{className:"border-l-4 border-l-blue-500",children:e.jsx(T,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-2xl",children:N(s.type)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.description}),e.jsx("p",{className:"text-sm text-gray-500",children:p(s.createdAt)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`font-bold text-lg ${s.amount<0?"text-red-600":"text-green-600"}`,children:f(s.amount,s.currency)}),e.jsx(A,{variant:"secondary",className:j(s.status),children:s.status})]})]})})},s.id))})}),!d&&i.length>0&&e.jsx("div",{className:"p-4",children:e.jsx(c,{variant:"outline",className:"w-full",onClick:()=>u(s=>s+1),children:"Load More Transactions"})})]})})}export{S as default};
//# sourceMappingURL=wallet-transactions-C0UwxRpM.js.map

import{u as B,r as o,aO as C,a1 as F,j as e,B as x,A,I as d,af as P,m as _,s as $,t as L,n as D}from"./index-CPIh2kaR.js";import{L as r}from"./label-HdyYSJzW.js";import{S as I,a as E,b as M,c as O,d as U}from"./select-DaEbXPmH.js";import{B as R}from"./building-Bn7Et3U8.js";import{S as q}from"./send-CBCYflFP.js";import"./check-D6cbRviz.js";const h=[{id:"brill_prime",name:"Brill Prime User",icon:C,description:"Transfer to another Brill Prime wallet",fee:0},{id:"bank_account",name:"Bank Account",icon:R,description:"Transfer to any Nigerian bank account",fee:25},{id:"debit_card",name:"Debit Card",icon:F,description:"Instant transfer to debit card",fee:50}],H=["Access Bank","Fidelity Bank","First Bank of Nigeria","Guaranty Trust Bank","United Bank for Africa","Zenith Bank","Ecobank","Union Bank","Wema Bank","Sterling Bank","Polaris Bank","Keystone Bank","Heritage Bank","Stanbic IBTC"];function Z(){const[,f]=B(),[n,g]=o.useState(""),[s,l]=o.useState({account:"",name:"",bank:"",email:"",phone:""}),[t,N]=o.useState(""),[j,v]=o.useState(""),[p,b]=o.useState(!1),y=async()=>{if(!n||!t||parseFloat(t)<=0){alert("Please fill in all required fields with a valid amount");return}const a=h.find(i=>i.id===n);if(!a)return;if(n==="brill_prime"&&!s.email&&!s.phone){alert("Please enter recipient email or phone number");return}if(n==="bank_account"&&(!s.account||!s.bank)){alert("Please enter account number and bank");return}if(n==="debit_card"&&!s.account){alert("Please enter debit card number");return}const c=parseFloat(t),w=c+a.fee,S=`
Transfer Details:
Amount: ₦${c.toLocaleString()}
Fee: ₦${a.fee}
Total: ₦${w.toLocaleString()}
To: ${n==="brill_prime"?s.email||s.phone:n==="bank_account"?`${s.account} (${s.bank})`:s.account}

Proceed with transfer?`;if(confirm(S)){b(!0);try{const i=await fetch("/api/transfer/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transferType:n,recipientAccount:s.account||s.email||s.phone,recipientBank:s.bank,amount:c,fee:a.fee,narration:j||`Transfer via ${a.name}`})}),T=await i.json();i.ok?(alert("Money transfer initiated successfully!"),f("/dashboard")):alert(`Error: ${T.message}`)}catch(i){alert("Failed to process transfer. Please try again."),console.error("Transfer error:",i)}finally{b(!1)}}},m=h.find(a=>a.id===n),u=(m==null?void 0:m.fee)||0,k=t?parseFloat(t)+u:0;return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-md mx-auto bg-white min-h-screen",children:[e.jsxs("div",{className:"bg-blue-600 text-white p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(x,{variant:"ghost",size:"icon",onClick:()=>f("/dashboard"),className:"text-white hover:bg-white/20",children:e.jsx(A,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-xl font-semibold",children:"Send Money"}),e.jsx("div",{})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(q,{className:"h-8 w-8"})}),e.jsx("p",{className:"text-blue-100",children:"Transfer money quickly and securely"})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(r,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Transfer To"}),e.jsx("div",{className:"space-y-3",children:h.map(a=>{const c=a.icon;return e.jsx(x,{variant:n===a.id?"default":"outline",onClick:()=>{g(a.id),l({account:"",name:"",bank:"",email:"",phone:""})},className:"w-full p-4 h-auto justify-start text-left",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(c,{className:"h-6 w-6"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500",children:a.description}),e.jsxs("p",{className:"text-xs font-medium text-green-600",children:["Fee: ",a.fee===0?"Free":`₦${a.fee}`]})]})]})},a.id)})})]}),n&&e.jsxs("div",{className:"space-y-4",children:[n==="brill_prime"&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{children:[e.jsx(r,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Recipient Email or Phone"}),e.jsx(d,{id:"email",value:s.email,onChange:a=>l({...s,email:a.target.value}),placeholder:"user@example.com or +2348123456789",className:"w-full"})]})}),n==="bank_account"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"account",className:"text-sm font-medium text-gray-700",children:"Account Number"}),e.jsx(d,{id:"account",value:s.account,onChange:a=>l({...s,account:a.target.value}),placeholder:"1234567890",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"bank",className:"text-sm font-medium text-gray-700",children:"Bank"}),e.jsxs(I,{value:s.bank,onValueChange:a=>l({...s,bank:a}),children:[e.jsx(E,{className:"w-full",children:e.jsx(M,{placeholder:"Select bank"})}),e.jsx(O,{children:H.map(a=>e.jsx(U,{value:a,children:a},a))})]})]})]}),n==="debit_card"&&e.jsxs("div",{children:[e.jsx(r,{htmlFor:"card",className:"text-sm font-medium text-gray-700",children:"Debit Card Number"}),e.jsx(d,{id:"card",value:s.account,onChange:a=>l({...s,account:a.target.value}),placeholder:"1234 5678 9012 3456",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"amount",className:"text-sm font-medium text-gray-700",children:"Amount (₦)"}),e.jsx(d,{id:"amount",type:"number",value:t,onChange:a=>N(a.target.value),placeholder:"0.00",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"narration",className:"text-sm font-medium text-gray-700",children:"Description (Optional)"}),e.jsx(P,{id:"narration",value:j,onChange:a=>v(a.target.value),placeholder:"What's this transfer for?",className:"w-full",rows:2})]}),t&&e.jsxs(_,{children:[e.jsx($,{children:e.jsx(L,{className:"text-lg",children:"Transfer Summary"})}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Amount"}),e.jsxs("span",{children:["₦",parseFloat(t).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Transfer Fee"}),e.jsx("span",{children:u===0?"Free":`₦${u}`})]}),e.jsx("div",{className:"border-t pt-2 font-medium",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Amount"}),e.jsxs("span",{children:["₦",k.toLocaleString()]})]})})]})})]}),e.jsx(x,{onClick:y,disabled:p||!t,className:"w-full bg-blue-600 hover:bg-blue-700 py-4",children:p?"Processing...":`Send ₦${t||"0"}`})]})]})]})})}export{Z as default};
//# sourceMappingURL=money-transfer-B0UnwXoh.js.map

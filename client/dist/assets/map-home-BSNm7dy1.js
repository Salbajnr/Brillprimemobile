import{u as p,a as w,r as i,j as e,B as t,l as y,N as C,k,m as h,n as u,S as b,I as S}from"./index-CPIh2kaR.js";import{M as L}from"./menu-9t_0VSEY.js";import{F as j}from"./fuel-BWMmnkaN.js";function O(){var m;const[,a]=p(),{user:c}=w(),[l,n]=i.useState(null),[o,N]=i.useState(""),[z,g]=i.useState(!1);i.useEffect(()=>{const s=localStorage.getItem("userLocation");s?n(JSON.parse(s)):a("/location-setup")},[a]);const d=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(s=>{const r={latitude:s.coords.latitude,longitude:s.coords.longitude,address:"Current Location",isAutomatic:!0};n(r),localStorage.setItem("userLocation",JSON.stringify(r))},s=>{console.error("Error getting location:",s)})},x=()=>{o.trim()&&a(`/search-results?q=${encodeURIComponent(o)}`)},v=()=>{a("/fuel-ordering")},f=()=>{g(!0),a("/side-menu")};return e.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-green-100",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",children:e.jsx("div",{className:"grid grid-cols-8 grid-rows-12 h-full w-full",children:Array.from({length:96}).map((s,r)=>e.jsx("div",{className:"border border-gray-300"},r))})}),e.jsx("div",{className:"absolute top-1/4 left-1/3 w-4 h-4 bg-red-500 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute top-1/2 right-1/4 w-4 h-4 bg-red-500 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-4 h-4 bg-red-500 rounded-full animate-pulse"}),l&&e.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[e.jsx("div",{className:"w-6 h-6 bg-[#4682b4] rounded-full border-4 border-white shadow-lg",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})}),e.jsx("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-black/75 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:"Your Location"})]})]}),e.jsxs("div",{className:"relative z-10 bg-white/95 backdrop-blur-sm shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsx(t,{variant:"ghost",size:"icon",onClick:f,className:"text-[#131313]",children:e.jsx(L,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:y,alt:"Brillprime",className:"w-8 h-8"}),e.jsx("span",{className:"font-semibold text-[#131313]",children:"Brillprime"})]}),e.jsx(t,{variant:"ghost",size:"icon",onClick:d,className:"text-[#4682b4]",children:e.jsx(C,{className:"w-5 h-5"})})]}),l&&e.jsx("div",{className:"px-4 pb-3",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(k,{className:"w-4 h-4 text-[#4682b4]"}),e.jsx("span",{className:"truncate",children:l.address}),e.jsx(t,{variant:"ghost",size:"sm",onClick:()=>a("/location-setup"),className:"text-[#4682b4] hover:text-[#0b1a51] text-xs",children:"Change"})]})})]}),e.jsx("div",{className:"relative z-10 p-4",children:e.jsx(h,{className:"shadow-lg",children:e.jsx(u,{className:"p-3",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(b,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(S,{placeholder:"Search for fuel stations, locations...",value:o,onChange:s=>N(s.target.value),onKeyPress:s=>s.key==="Enter"&&x(),className:"pl-10 border-[#4682b4]/30 focus:border-[#4682b4]"})]}),e.jsx(t,{onClick:x,className:"bg-[#4682b4] hover:bg-[#0b1a51]",children:e.jsx(b,{className:"w-4 h-4"})})]})})})}),e.jsx("div",{className:"relative z-10 px-4 mb-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(t,{onClick:v,className:"h-16 bg-[#4682b4] hover:bg-[#0b1a51] text-white rounded-xl shadow-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j,{className:"w-6 h-6"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Order Fuel"}),e.jsx("div",{className:"text-xs opacity-90",children:"Fast delivery"})]})]})}),e.jsx(t,{variant:"outline",onClick:()=>a("/qr-scanner"),className:"h-16 border-[#4682b4] text-[#4682b4] hover:bg-[#4682b4]/10 rounded-xl shadow-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-current rounded"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Scan QR"}),e.jsx("div",{className:"text-xs opacity-75",children:"Quick pay"})]})]})})]})}),e.jsx("div",{className:"relative z-10 px-4",children:e.jsx(h,{className:"bg-white/95 backdrop-blur-sm shadow-lg",children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-[#131313]",children:["Welcome, ",((m=c==null?void 0:c.fullName)==null?void 0:m.split(" ")[0])||"User"]}),e.jsx("p",{className:"text-sm text-gray-600",children:l!=null&&l.isAutomatic?"Location set automatically":"Location set manually"})]}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>a("/consumer-home"),className:"border-[#4682b4] text-[#4682b4] hover:bg-[#4682b4]/10",children:"Dashboard"})]})})})}),e.jsx("div",{className:"fixed bottom-6 right-6 z-20",children:e.jsx(t,{onClick:()=>a("/emergency-fuel"),className:"w-14 h-14 rounded-full bg-red-500 hover:bg-red-600 shadow-xl",children:e.jsx(j,{className:"w-6 h-6 text-white"})})}),!l&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-30 bg-white p-4 border-t shadow-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"font-semibold text-[#131313] mb-2",children:"Enable Location Access"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"We need your location to find nearby fuel stations"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(t,{onClick:d,className:"flex-1 bg-[#4682b4] hover:bg-[#0b1a51]",children:"Enable Location"}),e.jsx(t,{variant:"outline",onClick:()=>a("/location-setup"),className:"flex-1 border-[#4682b4] text-[#4682b4]",children:"Set Manually"})]})]})})]})}export{O as default};
//# sourceMappingURL=map-home-BSNm7dy1.js.map

import{c as Z,a as K,u as Q,r,f as z,j as e,B as n,A as Y,a3 as H,a2 as J,I as v,Q as g,R as W,K as L}from"./index-CPIh2kaR.js";import{L as w}from"./label-HdyYSJzW.js";import{S as j}from"./switch-Dq4sAGTk.js";import{L as N}from"./lock-DhTKWZNc.js";import{E as y}from"./eye-off-BsjH4uJ_.js";import{C as X}from"./chevron-right-CcMEeMkR.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);function oe(){const{user:ee}=K(),[,P]=Q(),[u,C]=r.useState(""),[s,S]=r.useState(""),[h,A]=r.useState(""),[p,T]=r.useState(!1),[f,$]=r.useState(!1),[b,O]=r.useState(!1),[E,R]=r.useState({pushNotifications:!0,emailNotifications:!0,transactionAlerts:!0,promotionalEmails:!1,securityAlerts:!0}),[c,V]=r.useState({profileVisibility:"private",allowDataSharing:!1,twoFactorAuth:!1}),[k,d]=r.useState(!1),[B,i]=r.useState(!1),[D,l]=r.useState(""),[x,I]=r.useState("security"),F=z({mutationFn:async t=>new Promise((a,o)=>{setTimeout(()=>{t.currentPassword==="wrongpassword"?o(new Error("Current password is incorrect")):a({success:!0})},1500)}),onSuccess:()=>{C(""),S(""),A(""),d(!0)},onError:t=>{l(t.message||"Failed to change password. Please try again."),i(!0)}}),M=z({mutationFn:async t=>new Promise(a=>{setTimeout(()=>a({success:!0}),1e3)}),onSuccess:()=>{d(!0)},onError:t=>{l(t.message||"Failed to update settings. Please try again."),i(!0)}}),q=t=>{if(t.preventDefault(),s!==h){l("New passwords do not match"),i(!0);return}if(s.length<8){l("Password must be at least 8 characters long"),i(!0);return}if(!/(?=.*[a-z])/.test(s)){l("Password must contain at least one lowercase letter"),i(!0);return}if(!/(?=.*[A-Z])/.test(s)){l("Password must contain at least one uppercase letter"),i(!0);return}if(!/(?=.*\d)/.test(s)){l("Password must contain at least one number"),i(!0);return}F.mutate({currentPassword:u,newPassword:s})},G=(t,a)=>{R(o=>({...o,[t]:a})),M.mutate({notifications:{...E,[t]:a}})},m=(t,a)=>{V(o=>({...o,[t]:a})),M.mutate({privacy:{...c,[t]:a}})},U=[{id:"security",label:"Security",icon:H},{id:"notifications",label:"Notifications",icon:J},{id:"privacy",label:"Privacy",icon:_}];return e.jsxs("div",{className:"w-full max-w-md mx-auto min-h-screen bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 pt-12 border-b border-gray-100",children:[e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>P("/profile"),className:"p-2",children:e.jsx(Y,{className:"h-5 w-5 text-[var(--brill-primary)]"})}),e.jsx("h1",{className:"text-lg font-bold text-[var(--brill-primary)]",children:"Settings"}),e.jsx("div",{className:"w-9"})]}),e.jsx("div",{className:"flex border-b border-gray-100",children:U.map(t=>{const a=t.icon;return e.jsxs("button",{onClick:()=>I(t.id),className:`flex-1 py-4 px-2 text-sm font-medium border-b-2 transition-colors ${x===t.id?"border-[var(--brill-primary)] text-[var(--brill-primary)]":"border-transparent text-[var(--brill-text-light)] hover:text-[var(--brill-text)]"}`,children:[e.jsx(a,{className:"w-4 h-4 mx-auto mb-1"}),t.label]},t.id)})}),e.jsxs("div",{className:"px-6 py-8",children:[x==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-lg font-bold text-[var(--brill-text)]",children:"Change Password"}),e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"currentPassword",className:"text-[var(--brill-text)] font-medium",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[var(--brill-text-light)] w-5 h-5"}),e.jsx(v,{id:"currentPassword",type:p?"text":"password",value:u,onChange:t=>C(t.target.value),placeholder:"Enter current password",className:"pl-12 pr-12 rounded-xl border-gray-300 focus:border-[var(--brill-primary)]",required:!0}),e.jsx(n,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>T(!p),children:p?e.jsx(y,{className:"h-4 w-4 text-[var(--brill-text-light)]"}):e.jsx(g,{className:"h-4 w-4 text-[var(--brill-text-light)]"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"newPassword",className:"text-[var(--brill-text)] font-medium",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[var(--brill-text-light)] w-5 h-5"}),e.jsx(v,{id:"newPassword",type:f?"text":"password",value:s,onChange:t=>S(t.target.value),placeholder:"Enter new password",className:"pl-12 pr-12 rounded-xl border-gray-300 focus:border-[var(--brill-primary)]",required:!0}),e.jsx(n,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>$(!f),children:f?e.jsx(y,{className:"h-4 w-4 text-[var(--brill-text-light)]"}):e.jsx(g,{className:"h-4 w-4 text-[var(--brill-text-light)]"})})]}),s&&e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{className:`flex items-center space-x-2 ${s.length>=8?"text-green-600":"text-red-500"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.length>=8?"bg-green-600":"bg-red-500"}`}),e.jsx("span",{children:"At least 8 characters"})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${/(?=.*[a-z])/.test(s)?"text-green-600":"text-red-500"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/(?=.*[a-z])/.test(s)?"bg-green-600":"bg-red-500"}`}),e.jsx("span",{children:"One lowercase letter"})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${/(?=.*[A-Z])/.test(s)?"text-green-600":"text-red-500"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/(?=.*[A-Z])/.test(s)?"bg-green-600":"bg-red-500"}`}),e.jsx("span",{children:"One uppercase letter"})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${/(?=.*\d)/.test(s)?"text-green-600":"text-red-500"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${/(?=.*\d)/.test(s)?"bg-green-600":"bg-red-500"}`}),e.jsx("span",{children:"One number"})]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"confirmPassword",className:"text-[var(--brill-text)] font-medium",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[var(--brill-text-light)] w-5 h-5"}),e.jsx(v,{id:"confirmPassword",type:b?"text":"password",value:h,onChange:t=>A(t.target.value),placeholder:"Confirm new password",className:"pl-12 pr-12 rounded-xl border-gray-300 focus:border-[var(--brill-primary)]",required:!0}),e.jsx(n,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>O(!b),children:b?e.jsx(y,{className:"h-4 w-4 text-[var(--brill-text-light)]"}):e.jsx(g,{className:"h-4 w-4 text-[var(--brill-text-light)]"})})]})]}),e.jsx(W,{type:"submit",loading:F.isPending,className:"w-full mt-6 py-3 rounded-xl bg-[var(--brill-primary)] hover:bg-[var(--brill-secondary)]",disabled:!u||!s||!h,children:"Change Password"})]})]}),x==="notifications"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-lg font-bold text-[var(--brill-text)]",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-4",children:Object.entries(E).map(([t,a])=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-[var(--brill-text)]",children:[t==="pushNotifications"&&"Push Notifications",t==="emailNotifications"&&"Email Notifications",t==="transactionAlerts"&&"Transaction Alerts",t==="promotionalEmails"&&"Promotional Emails",t==="securityAlerts"&&"Security Alerts"]}),e.jsxs("p",{className:"text-sm text-[var(--brill-text-light)]",children:[t==="pushNotifications"&&"Receive push notifications on your device",t==="emailNotifications"&&"Receive notifications via email",t==="transactionAlerts"&&"Get notified about transactions",t==="promotionalEmails"&&"Receive promotional offers and updates",t==="securityAlerts"&&"Important security notifications"]})]}),e.jsx(j,{checked:a,onCheckedChange:o=>G(t,o)})]},t))})]}),x==="privacy"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-lg font-bold text-[var(--brill-text)]",children:"Privacy Controls"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-[var(--brill-text)]",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-[var(--brill-text-light)]",children:"Add extra security to your account"})]}),e.jsx(j,{checked:c.twoFactorAuth,onCheckedChange:t=>m("twoFactorAuth",t)})]}),e.jsxs(n,{onClick:()=>P("/biometric-setup"),variant:"ghost",className:"w-full p-4 bg-gray-50 hover:bg-gray-100 rounded-xl flex items-center justify-between text-left",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-[var(--brill-text)]",children:"Biometric Authentication"}),e.jsx("p",{className:"text-sm text-[var(--brill-text-light)]",children:"Use fingerprint or face recognition to secure your account"})]}),e.jsx(X,{className:"w-5 h-5 text-[var(--brill-text-light)]"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-[var(--brill-text)]",children:"Data Sharing"}),e.jsx("p",{className:"text-sm text-[var(--brill-text-light)]",children:"Allow anonymous data sharing for service improvement"})]}),e.jsx(j,{checked:c.allowDataSharing,onCheckedChange:t=>m("allowDataSharing",t)})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-medium text-[var(--brill-text)]",children:"Profile Visibility"}),e.jsx("p",{className:"text-sm text-[var(--brill-text-light)]",children:"Control who can see your profile information"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(n,{type:"button",variant:c.profileVisibility==="public"?"default":"outline",size:"sm",onClick:()=>m("profileVisibility","public"),className:"rounded-xl",children:"Public"}),e.jsx(n,{type:"button",variant:c.profileVisibility==="private"?"default":"outline",size:"sm",onClick:()=>m("profileVisibility","private"),className:"rounded-xl",children:"Private"})]})]})]})]})]}),e.jsx(L,{isOpen:k,onClose:()=>d(!1),type:"success",title:"Settings Updated!",description:"Your account settings have been successfully updated.",actionText:"Continue",onAction:()=>d(!1)}),e.jsx(L,{isOpen:B,onClose:()=>i(!1),type:"error",title:"Update Failed",description:D,actionText:"Try Again",onAction:()=>i(!1)})]})}export{oe as default};
//# sourceMappingURL=account-settings-ClZLPEYa.js.map

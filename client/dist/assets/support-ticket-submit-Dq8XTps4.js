import{c as b,u as g,a8 as N,r as f,f as C,j as e,B as u,A as k,a1 as S,a9 as w,m,n as h,s as M,t as T,E as L,I as l,af as q}from"./index-CVqmz7v7.js";import{L as i}from"./label-FpSljPAT.js";import{S as E,a as F,b as I,c as P,d as n}from"./select-B0T04BLa.js";import{M as p}from"./message-circle-CqxJZh1m.js";import{C as A}from"./circle-help-DB4AYENj.js";import"./check-Bv_Y_Lo5.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=b("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]),U=()=>{const[,c]=g(),{toast:o}=N(),[a,x]=f.useState({subject:"",message:"",priority:"NORMAL",category:"",name:"",email:"",phone:""}),d=C({mutationFn:async s=>{const r=await fetch("/api/support/submit",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)});if(!r.ok)throw new Error("Failed to submit support ticket");return r.json()},onSuccess:s=>{o({title:"Support Ticket Submitted",description:`Your ticket #${s.ticketNumber} has been submitted successfully. We'll respond within 24 hours.`}),c("/dashboard")},onError:()=>{o({title:"Submission Failed",description:"Failed to submit your support ticket. Please try again.",variant:"destructive"})}}),j=s=>{if(s.preventDefault(),!a.subject||!a.message||!a.name||!a.email){o({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}d.mutate(a)},t=(s,r)=>{x(y=>({...y,[s]:r}))},v=[{value:"PAYMENT",label:"Payment Issues",icon:S},{value:"ACCOUNT",label:"Account Problems",icon:p},{value:"TECHNICAL",label:"Technical Support",icon:X},{value:"GENERAL",label:"General Inquiry",icon:A},{value:"URGENT",label:"Urgent Issue",icon:w}];return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs(u,{variant:"ghost",size:"sm",onClick:()=>c("/dashboard"),className:"mr-4",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contact Support"}),e.jsx("p",{className:"text-gray-600",children:"We're here to help with any issues or questions"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:v.map(s=>e.jsx(m,{className:`cursor-pointer transition-all hover:shadow-md ${a.category===s.value?"ring-2 ring-blue-500":""}`,onClick:()=>t("category",s.value),children:e.jsxs(h,{className:"flex flex-col items-center p-4",children:[e.jsx(s.icon,{className:"h-8 w-8 text-blue-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-center",children:s.label})]})},s.value))}),e.jsxs(m,{children:[e.jsxs(M,{children:[e.jsxs(T,{className:"flex items-center",children:[e.jsx(p,{className:"h-5 w-5 mr-2"}),"Submit Support Request"]}),e.jsx(L,{children:"Please provide detailed information about your issue so we can assist you better."})]}),e.jsx(h,{children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name",children:"Full Name *"}),e.jsx(l,{id:"name",value:a.name,onChange:s=>t("name",s.target.value),placeholder:"Your full name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"email",children:"Email Address *"}),e.jsx(l,{id:"email",type:"email",value:a.email,onChange:s=>t("email",s.target.value),placeholder:"your.email@example.com",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"phone",children:"Phone Number (Optional)"}),e.jsx(l,{id:"phone",value:a.phone,onChange:s=>t("phone",s.target.value),placeholder:"+234 XXX XXX XXXX"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"subject",children:"Subject *"}),e.jsx(l,{id:"subject",value:a.subject,onChange:s=>t("subject",s.target.value),placeholder:"Brief description of your issue",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"priority",children:"Priority Level"}),e.jsxs(E,{value:a.priority,onValueChange:s=>t("priority",s),children:[e.jsx(F,{children:e.jsx(I,{placeholder:"Select priority"})}),e.jsxs(P,{children:[e.jsx(n,{value:"LOW",children:"Low - General questions"}),e.jsx(n,{value:"NORMAL",children:"Normal - Standard support"}),e.jsx(n,{value:"HIGH",children:"High - Important issues"}),e.jsx(n,{value:"URGENT",children:"Urgent - Critical problems"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"message",children:"Detailed Description *"}),e.jsx(q,{id:"message",value:a.message,onChange:s=>t("message",s.target.value),placeholder:"Please provide a detailed description of your issue, including any error messages or steps to reproduce the problem",rows:6,required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(u,{type:"button",variant:"outline",onClick:()=>c("/dashboard"),children:"Cancel"}),e.jsx(u,{type:"submit",disabled:d.isPending,className:"min-w-32",children:d.isPending?"Submitting...":"Submit Ticket"})]})]})})]}),e.jsx(m,{className:"mt-6",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(p,{className:"h-6 w-6 text-blue-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"What happens next?"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• You'll receive a confirmation email with your ticket number"}),e.jsx("li",{children:"• Our support team will review your request within 24 hours"}),e.jsx("li",{children:"• We'll contact you via email or phone to resolve your issue"}),e.jsx("li",{children:"• You can track your ticket status in your dashboard"})]})]})]})})})]})})};export{U as default};
//# sourceMappingURL=support-ticket-submit-Dq8XTps4.js.map

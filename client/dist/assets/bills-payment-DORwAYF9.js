import{c as y,u as S,r as l,ag as C,j as e,B as o,A as w,I as p,m as P,s as A,t as T,E as B,n as E}from"./index-CVqmz7v7.js";import{L as n}from"./label-FpSljPAT.js";import{S as k,a as L,b as I,c as D,d as F}from"./select-B0T04BLa.js";import{S as M}from"./smartphone-Bz4ZH1hb.js";import"./check-Bv_Y_Lo5.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=y("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=y("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),j=[{id:"electricity",name:"Electricity",icon:g,providers:["PHCN","AEDC","IKEDC","EKEDC"]},{id:"water",name:"Water",icon:O,providers:["Lagos Water","Ogun State Water","FCT Water"]},{id:"internet",name:"Internet",icon:C,providers:["MTN","Airtel","GLO","9mobile"]},{id:"cable",name:"Cable TV",icon:M,providers:["DSTV","GOtv","Startimes"]}];function H(){const[,d]=S(),[a,f]=l.useState(""),[r,m]=l.useState(""),[i,v]=l.useState(""),[t,b]=l.useState(""),[u,h]=l.useState(!1),N=async()=>{if(!a||!r||!i||!t){alert("Please fill in all required fields");return}if(parseFloat(t)<=0){alert("Please enter a valid amount");return}h(!0);try{const s=await fetch("/api/bills/pay",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({billType:a,provider:r,accountNumber:i,amount:parseFloat(t)})}),c=await s.json();s.ok?(alert("Bill payment initiated successfully!"),d("/dashboard")):alert(`Error: ${c.message}`)}catch(s){alert("Failed to process bill payment. Please try again."),console.error("Bill payment error:",s)}finally{h(!1)}},x=j.find(s=>s.id===a);return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-md mx-auto bg-white min-h-screen",children:[e.jsxs("div",{className:"bg-orange-600 text-white p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>d("/dashboard"),className:"text-white hover:bg-white/20",children:e.jsx(w,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-xl font-semibold",children:"Pay Bills"}),e.jsx("div",{})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(g,{className:"h-8 w-8"})}),e.jsx("p",{className:"text-orange-100",children:"Pay your utility bills securely"})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(n,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Select Bill Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:j.map(s=>{const c=s.icon;return e.jsxs(o,{variant:a===s.id?"default":"outline",onClick:()=>{f(s.id),m("")},className:"p-4 h-auto flex flex-col items-center space-y-2",children:[e.jsx(c,{className:"h-6 w-6"}),e.jsx("span",{className:"text-sm font-medium",children:s.name})]},s.id)})})]}),a&&x&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"provider",className:"text-sm font-medium text-gray-700",children:"Provider"}),e.jsxs(k,{value:r,onValueChange:m,children:[e.jsx(L,{className:"w-full",children:e.jsx(I,{placeholder:"Select provider"})}),e.jsx(D,{children:x.providers.map(s=>e.jsx(F,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"account",className:"text-sm font-medium text-gray-700",children:"Account/Meter Number"}),e.jsx(p,{id:"account",value:i,onChange:s=>v(s.target.value),placeholder:"Enter account or meter number",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"amount",className:"text-sm font-medium text-gray-700",children:"Amount (₦)"}),e.jsx(p,{id:"amount",type:"number",value:t,onChange:s=>b(s.target.value),placeholder:"0.00",className:"w-full"})]}),e.jsx(o,{onClick:N,disabled:u||!r||!i||!t,className:"w-full bg-orange-600 hover:bg-orange-700 py-4",children:u?"Processing...":`Pay ₦${t||"0"} Bill`})]}),!a&&e.jsxs(P,{className:"mt-6",children:[e.jsxs(A,{children:[e.jsx(T,{className:"text-lg",children:"Quick Bill Payment"}),e.jsx(B,{children:"Pay your utility bills instantly and securely"})]}),e.jsx(E,{children:e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:"• Instant payment processing"}),e.jsx("li",{children:"• Support for major providers"}),e.jsx("li",{children:"• Secure transaction handling"}),e.jsx("li",{children:"• Transaction receipts via email"})]})})]})]})]})})}export{H as default};
//# sourceMappingURL=bills-payment-DORwAYF9.js.map
